(self.webpackChunkLogInsight_ALM=self.webpackChunkLogInsight_ALM||[]).push([[179],{6217:(nn,we,M)=>{"use strict";M.d(we,{nm:()=>vs});var a=M(2122);M(4650),M(259);var it=M(5861),Ke=M(9681),Xe=M(4859),Ct=M(2090),dt=M(1877);const Te=new Map,Ge={activated:!1,tokenObservers:[]},Qe={initialized:!1,enabled:!1};function At(ht){return Te.get(ht)||Object.assign({},Ge)}function Lt(){return Qe}class yn{constructor(at,yt,Kt,rn,Vn){if(this.operation=at,this.retryPolicy=yt,this.getWaitDuration=Kt,this.lowerBound=rn,this.upperBound=Vn,this.pending=null,this.nextErrorWaitInterval=rn,rn>Vn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(at){var yt=this;return(0,it.Z)(function*(){yt.stop();try{yt.pending=new Ct.BH,yield function Jt(ht){return new Promise(at=>{setTimeout(at,ht)})}(yt.getNextRun(at)),yt.pending.resolve(),yield yt.pending.promise,yt.pending=new Ct.BH,yield yt.operation(),yt.pending.resolve(),yield yt.pending.promise,yt.process(!0).catch(()=>{})}catch(Kt){yt.retryPolicy(Kt)?yt.process(!1).catch(()=>{}):yt.stop()}})()}getNextRun(at){if(at)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const yt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),yt}}}const Bt=new Ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xn(ht){if(!At(ht).activated)throw Bt.create("use-before-activation",{appName:ht.name})}function lr(ht,at){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,it.Z)(function*({url:ht,body:at},yt){const Kt={"Content-Type":"application/json"},rn=yt.getImmediate({optional:!0});if(rn){const Vs=yield rn.getHeartbeatsHeader();Vs&&(Kt["X-Firebase-Client"]=Vs)}const Vn={method:"POST",body:JSON.stringify(at),headers:Kt};let cr,Xr;try{cr=yield fetch(ht,Vn)}catch(Vs){throw Bt.create("fetch-network-error",{originalErrorMessage:Vs?.message})}if(200!==cr.status)throw Bt.create("fetch-status-error",{httpStatus:cr.status});try{Xr=yield cr.json()}catch(Vs){throw Bt.create("fetch-parse-error",{originalErrorMessage:Vs?.message})}const ni=Xr.ttl.match(/^([\d.]+)(s)$/);if(!ni||!ni[2]||isNaN(Number(ni[1])))throw Bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Xr.ttl}`});const Mo=1e3*Number(ni[1]),Bs=Date.now();return{token:Xr.token,expireTimeMillis:Bs+Mo,issuedAtTimeMillis:Bs}})).apply(this,arguments)}function Gr(ht,at){const{projectId:yt,appId:Kt,apiKey:rn}=ht.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${yt}/apps/${Kt}:exchangeDebugToken?key=${rn}`,body:{debug_token:at}}}const Nr="firebase-app-check-store";let Fr=null;function hr(){return Fr||(Fr=new Promise((ht,at)=>{try{const yt=indexedDB.open("firebase-app-check-database",1);yt.onsuccess=Kt=>{ht(Kt.target.result)},yt.onerror=Kt=>{var rn;at(Bt.create("storage-open",{originalErrorMessage:null===(rn=Kt.target.error)||void 0===rn?void 0:rn.message}))},yt.onupgradeneeded=Kt=>{0===Kt.oldVersion&&Kt.target.result.createObjectStore(Nr,{keyPath:"compositeKey"})}}catch(yt){at(Bt.create("storage-open",{originalErrorMessage:yt?.message}))}}),Fr)}function Ze(){return(Ze=(0,it.Z)(function*(ht,at){const Kt=(yield hr()).transaction(Nr,"readwrite"),Vn=Kt.objectStore(Nr).put({compositeKey:ht,value:at});return new Promise((cr,Xr)=>{Vn.onsuccess=ni=>{cr()},Kt.onerror=ni=>{var Mo;Xr(Bt.create("storage-set",{originalErrorMessage:null===(Mo=ni.target.error)||void 0===Mo?void 0:Mo.message}))}})})).apply(this,arguments)}const Wt=new dt.Yd("@firebase/app-check");function on(ht,at){return(0,Ct.hl)()?function ci(ht,at){return function Pt(ht,at){return Ze.apply(this,arguments)}(function Ot(ht){return`${ht.options.appId}-${ht.name}`}(ht),at)}(ht,at).catch(yt=>{Wt.warn(`Failed to write token to IndexedDB. Error: ${yt}`)}):Promise.resolve()}function Br(){return Lt().enabled}function er(){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,it.Z)(function*(){const ht=Lt();if(ht.enabled&&ht.token)return ht.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const en={error:"UNKNOWN_ERROR"};function Ht(ht){return Ct.US.encodeString(JSON.stringify(ht),!1)}function sn(ht){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,it.Z)(function*(ht,at=!1){const yt=ht.app;xn(yt);const Kt=At(yt);let Vn,rn=Kt.token;if(rn&&!Se(rn)&&(Kt.token=void 0,rn=void 0),!rn){const ni=yield Kt.cachedTokenPromise;ni&&(Se(ni)?rn=ni:yield on(yt,void 0))}if(!at&&rn&&Se(rn))return{token:rn.token};let Xr,cr=!1;if(Br()){Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=lr(Gr(yt,yield er()),ht.heartbeatServiceProvider).finally(()=>{Kt.exchangeTokenPromise=void 0}),cr=!0);const ni=yield Kt.exchangeTokenPromise;return yield on(yt,ni),Kt.token=ni,{token:ni.token}}try{Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=Kt.provider.getToken().finally(()=>{Kt.exchangeTokenPromise=void 0}),cr=!0),rn=yield At(yt).exchangeTokenPromise}catch(ni){"appCheck/throttled"===ni.code?Wt.warn(ni.message):Wt.error(ni),Vn=ni}return rn?Vn?Xr=Se(rn)?{token:rn.token,internalError:Vn}:F(Vn):(Xr={token:rn.token},Kt.token=rn,yield on(yt,rn)):Xr=F(Vn),cr&&Ve(yt,Xr),Xr})).apply(this,arguments)}function sr(ht,at){const yt=At(ht),Kt=yt.tokenObservers.filter(rn=>rn.next!==at);0===Kt.length&&yt.tokenRefresher&&yt.tokenRefresher.isRunning()&&yt.tokenRefresher.stop(),yt.tokenObservers=Kt}function vr(ht){const{app:at}=ht,yt=At(at);let Kt=yt.tokenRefresher;Kt||(Kt=function Ye(ht){const{app:at}=ht;return new yn((0,it.Z)(function*(){let Kt;if(Kt=At(at).token?yield sn(ht,!0):yield sn(ht),Kt.error)throw Kt.error;if(Kt.internalError)throw Kt.internalError}),()=>!0,()=>{const yt=At(at);if(yt.token){let Kt=yt.token.issuedAtTimeMillis+.5*(yt.token.expireTimeMillis-yt.token.issuedAtTimeMillis)+3e5;return Kt=Math.min(Kt,yt.token.expireTimeMillis-3e5),Math.max(0,Kt-Date.now())}return 0},3e4,96e4)}(ht),yt.tokenRefresher=Kt),!Kt.isRunning()&&yt.isTokenAutoRefreshEnabled&&Kt.start()}function Ve(ht,at){const yt=At(ht).tokenObservers;for(const Kt of yt)try{"EXTERNAL"===Kt.type&&null!=at.error?Kt.error(at.error):Kt.next(at)}catch{}}function Se(ht){return ht.expireTimeMillis-Date.now()>0}function F(ht){return{token:Ht(en),error:ht}}class V{constructor(at,yt){this.app=at,this.heartbeatServiceProvider=yt}_delete(){const{tokenObservers:at}=At(this.app);for(const yt of at)sr(this.app,yt.next);return Promise.resolve()}}const No="app-check-internal";!function oi(){(0,Ke._registerComponent)(new Xe.wA("app-check",ht=>function ne(ht,at){return new V(ht,at)}(ht.getProvider("app").getImmediate(),ht.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ht,at,yt)=>{ht.getProvider(No).initialize()})),(0,Ke._registerComponent)(new Xe.wA(No,ht=>function xe(ht){return{getToken:at=>sn(ht,at),addTokenListener:at=>function On(ht,at,yt,Kt){const{app:rn}=ht,Vn=At(rn);if(Vn.tokenObservers=[...Vn.tokenObservers,{next:yt,error:Kt,type:at}],Vn.token&&Se(Vn.token)){const Xr=Vn.token;Promise.resolve().then(()=>{yt({token:Xr.token}),vr(ht)}).catch(()=>{})}Vn.cachedTokenPromise.then(()=>vr(ht))}(ht,"INTERNAL",at),removeTokenListener:at=>sr(ht.app,at)}}(ht.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ke.registerVersion)("@firebase/app-check","0.6.5")}();class vs{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},3385:(nn,we,M)=>{"use strict";M.d(we,{zQ:()=>At,ww:()=>ln,rT:()=>dt,f7:()=>Ge,L6:()=>Xe,_Q:()=>Ct,lh:()=>Te,Qv:()=>Ke,nw:()=>Qe});var a=M(4650),E=M(7579),B=M(9646),ce=M(9751),de=M(8996),pe=M(6451),Ee=M(5363),oe=M(3900),Ie=M(4004),ae=M(3151),le=M(590),ye=M(576);function Be(Lt,pt){return(0,ye.m)(pt)?(0,oe.w)(()=>Lt,pt):(0,oe.w)(()=>Lt)}var Me=M(9468),Ne=M(9300),ot=M(2122),qe=M(2011),nt=M(6895),We=M(6217),Ft=M(9260);const Ke=new a.OlP("angularfire2.auth.use-emulator"),Xe=new a.OlP("angularfire2.auth.settings"),Ct=new a.OlP("angularfire2.auth.tenant-id"),dt=new a.OlP("angularfire2.auth.langugage-code"),Te=new a.OlP("angularfire2.auth.use-device-language"),Ge=new a.OlP("angularfire.auth.persistence"),Qe=(Lt,pt,bt,It,$t,jt,vt,yn)=>(0,qe.cc)(`${Lt.name}.auth`,"AngularFireAuth",Lt.name,()=>{const Jt=pt.runOutsideAngular(()=>Lt.auth());if(bt&&Jt.useEmulator(...bt),It&&(Jt.tenantId=It),Jt.languageCode=$t,jt&&Jt.useDeviceLanguage(),vt)for(const[Mn,Bt]of Object.entries(vt))Jt.settings[Mn]=Bt;return yn&&Jt.setPersistence(yn),Jt},[bt,It,$t,jt,vt,yn]);let At=(()=>{class Lt{constructor(bt,It,$t,jt,vt,yn,Jt,Mn,Bt,Pn,xn,Tn){const Wn=new E.x,lr=(0,B.of)(void 0).pipe((0,Ee.Q)(vt.outsideAngular),(0,oe.w)(()=>jt.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,9568)))),(0,Ie.U)(()=>(0,qe.on)(bt,jt,It)),(0,Ie.U)(Yn=>Qe(Yn,jt,yn,Mn,Bt,Pn,Jt,xn)),(0,ae.d)({bufferSize:1,refCount:!1}));if((0,nt.PM)($t))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,B.of)(null);else{lr.pipe((0,le.P)()).subscribe();const Cr=lr.pipe((0,oe.w)(Jn=>Jn.getRedirectResult().then(tr=>tr,()=>null)),ot.iC,(0,ae.d)({bufferSize:1,refCount:!1})),dr=lr.pipe((0,oe.w)(Jn=>new ce.y(tr=>({unsubscribe:jt.runOutsideAngular(()=>Jn.onAuthStateChanged(Nr=>tr.next(Nr),Nr=>tr.error(Nr),()=>tr.complete()))})))),Gr=lr.pipe((0,oe.w)(Jn=>new ce.y(tr=>({unsubscribe:jt.runOutsideAngular(()=>Jn.onIdTokenChanged(Nr=>tr.next(Nr),Nr=>tr.error(Nr),()=>tr.complete()))}))));this.authState=Cr.pipe(Be(dr),(0,Me.R)(vt.outsideAngular),(0,Ee.Q)(vt.insideAngular)),this.user=Cr.pipe(Be(Gr),(0,Me.R)(vt.outsideAngular),(0,Ee.Q)(vt.insideAngular)),this.idToken=this.user.pipe((0,oe.w)(Jn=>Jn?(0,de.D)(Jn.getIdToken()):(0,B.of)(null))),this.idTokenResult=this.user.pipe((0,oe.w)(Jn=>Jn?(0,de.D)(Jn.getIdTokenResult()):(0,B.of)(null))),this.credential=(0,pe.T)(Cr,Wn,this.authState.pipe((0,Ne.h)(Jn=>!Jn))).pipe((0,Ie.U)(Jn=>Jn?.user?Jn:null),(0,Me.R)(vt.outsideAngular),(0,Ee.Q)(vt.insideAngular))}return(0,qe.pX)(this,lr,jt,{spy:{apply:(Yn,Cr,dr)=>{(Yn.startsWith("signIn")||Yn.startsWith("createUser"))&&dr.then(Gr=>Wn.next(Gr))}}})}}return Lt.\u0275fac=function(bt){return new(bt||Lt)(a.LFG(qe.Dh),a.LFG(qe.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ot.HU),a.LFG(Ke,8),a.LFG(Xe,8),a.LFG(Ct,8),a.LFG(dt,8),a.LFG(Te,8),a.LFG(Ge,8),a.LFG(We.nm,8))},Lt.\u0275prov=a.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"any"}),Lt})(),ln=(()=>{class Lt{constructor(){Ft.Z.registerVersion("angularfire",ot.q4.full,"auth-compat")}}return Lt.\u0275fac=function(bt){return new(bt||Lt)},Lt.\u0275mod=a.oAB({type:Lt}),Lt.\u0275inj=a.cJS({providers:[At]}),Lt})()},3101:(nn,we,M)=>{"use strict";M.d(we,{ST:()=>kr,yb:()=>xi});var a=M(4650),E=M(4986),B=M(9751),ce=M(8996),de=M(9646),pe=M(2122),Ee=M(8675),oe=M(4482),Ie=M(5403);function ae(){return(0,oe.e)((o,e)=>{let t,l=!1;o.subscribe((0,Ie.x)(e,p=>{const v=t;t=p,l&&e.next([v,p]),l=!0}))})}var Te,le=M(4004),ye=M(2940),Be=M(1884),Me=M(9300),Ne=M(2011),ot=M(6895),nt=(M(9568),M(3942)),We=M(5861),Ft=M(9681),it=M(4859),Ke=M(1877),Xe=M(2090),Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dt={},Ge=Ge||{},Qe=Ct||self;function At(){}function ln(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function Lt(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var bt="closure_uid_"+(1e9*Math.random()>>>0),It=0;function $t(o,e,t){return o.call.apply(o.bind,arguments)}function jt(o,e,t){if(!o)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,l),o.apply(e,p)}}return function(){return o.apply(e,arguments)}}function vt(o,e,t){return(vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$t:jt).apply(null,arguments)}function yn(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),o.apply(this,l)}}function Jt(o,e){function t(){}t.prototype=e.prototype,o.X=e.prototype,o.prototype=new t,o.prototype.constructor=o,o.Wb=function(l,p,v){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return e.prototype[p].apply(l,C)}}function Mn(){this.s=this.s,this.o=this.o}Mn.prototype.s=!1,Mn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function pt(o){Object.prototype.hasOwnProperty.call(o,bt)&&o[bt]||(o[bt]=++It)}(this)},Mn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pn=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let t=0;t<o.length;t++)if(t in o&&o[t]===e)return t;return-1};function xn(o){const e=o.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=o[l];return t}return[]}function Tn(o,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(ln(l)){const p=o.length||0,v=l.length||0;o.length=p+v;for(let C=0;C<v;C++)o[p+C]=l[C]}else o.push(l)}}function Wn(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}Wn.prototype.h=function(){this.defaultPrevented=!0};var lr=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{Qe.addEventListener("test",At,e),Qe.removeEventListener("test",At,e)}catch{}return o}();function Yn(o){return/^[\s\xa0]*$/.test(o)}var Cr=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]};function dr(o,e){return o<e?-1:o>e?1:0}function Gr(){var o=Qe.navigator;return o&&(o=o.userAgent)?o:""}function Jn(o){return-1!=Gr().indexOf(o)}function tr(o){return tr[" "](o),o}tr[" "]=At;var Pt,o,hn=Jn("Opera"),Fr=Jn("Trident")||Jn("MSIE"),hr=Jn("Edge"),gr=hr||Fr,ci=Jn("Gecko")&&!(-1!=Gr().toLowerCase().indexOf("webkit")&&!Jn("Edge"))&&!(Jn("Trident")||Jn("MSIE"))&&!Jn("Edge"),xs=-1!=Gr().toLowerCase().indexOf("webkit")&&!Jn("Edge");function $r(){var o=Qe.document;return o?o.documentMode:void 0}e:{var Ze="",Le=(o=Gr(),ci?/rv:([^\);]+)(\)|;)/.exec(o):hr?/Edge\/([\d\.]+)/.exec(o):Fr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):xs?/WebKit\/(\S+)/.exec(o):hn?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(Le&&(Ze=Le?Le[1]:""),Fr){var wt=$r();if(null!=wt&&wt>parseFloat(Ze)){Pt=String(wt);break e}}Pt=Ze}var Ot={};var on=Qe.document&&Fr&&($r()||parseInt(Pt,10))||void 0;function fr(o,e){if(Wn.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var t=this.type=o.type,l=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(ci){e:{try{tr(e.nodeName);var p=!0;break e}catch{}p=!1}p||(e=null)}}else"mouseover"==t?e=o.fromElement:"mouseout"==t&&(e=o.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:kn[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&fr.X.h.call(this)}}Jt(fr,Wn);var kn={2:"touch",3:"pen",4:"mouse"};fr.prototype.h=function(){fr.X.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Br="closure_listenable_"+(1e6*Math.random()|0),er=0;function Qn(o,e,t,l,p){this.listener=o,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.ha=p,this.key=++er,this.ba=this.ea=!1}function Hn(o){o.ba=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function en(o,e,t){for(const l in o)e.call(t,o[l],l,o)}function Ht(o){const e={};for(const t in o)e[t]=o[t];return e}const sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fn(o,e){let t,l;for(let p=1;p<arguments.length;p++){for(t in l=arguments[p],l)o[t]=l[t];for(let v=0;v<sn.length;v++)t=sn[v],Object.prototype.hasOwnProperty.call(l,t)&&(o[t]=l[t])}}function On(o){this.src=o,this.g={},this.h=0}function sr(o,e){var t=e.type;if(t in o.g){var v,l=o.g[t],p=Pn(l,e);(v=0<=p)&&Array.prototype.splice.call(l,p,1),v&&(Hn(e),0==o.g[t].length&&(delete o.g[t],o.h--))}}function vr(o,e,t,l){for(var p=0;p<o.length;++p){var v=o[p];if(!v.ba&&v.listener==e&&v.capture==!!t&&v.ha==l)return p}return-1}On.prototype.add=function(o,e,t,l,p){var v=o.toString();(o=this.g[v])||(o=this.g[v]=[],this.h++);var C=vr(o,e,l,p);return-1<C?(e=o[C],t||(e.ea=!1)):((e=new Qn(e,this.src,v,!!l,p)).ea=t,o.push(e)),e};var Ye="closure_lm_"+(1e6*Math.random()|0),Ve={};function Se(o,e,t,l,p){if(l&&l.once)return ne(o,e,t,l,p);if(Array.isArray(e)){for(var v=0;v<e.length;v++)Se(o,e[v],t,l,p);return null}return t=$e(t),o&&o[Br]?o.N(e,t,Lt(l)?!!l.capture:!!l,p):F(o,e,t,!1,l,p)}function F(o,e,t,l,p,v){if(!e)throw Error("Invalid event type");var C=Lt(p)?!!p.capture:!!p,L=De(o);if(L||(o[Ye]=L=new On(o)),(t=L.add(e,t,l,C,v)).proxy)return t;if(l=function V(){const e=ve;return function o(t){return e.call(o.src,o.listener,t)}}(),t.proxy=l,l.src=o,l.listener=t,o.addEventListener)lr||(p=C),void 0===p&&(p=!1),o.addEventListener(e.toString(),l,p);else if(o.attachEvent)o.attachEvent(Nt(e.toString()),l);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(l)}return t}function ne(o,e,t,l,p){if(Array.isArray(e)){for(var v=0;v<e.length;v++)ne(o,e[v],t,l,p);return null}return t=$e(t),o&&o[Br]?o.O(e,t,Lt(l)?!!l.capture:!!l,p):F(o,e,t,!0,l,p)}function xe(o,e,t,l,p){if(Array.isArray(e))for(var v=0;v<e.length;v++)xe(o,e[v],t,l,p);else l=Lt(l)?!!l.capture:!!l,t=$e(t),o&&o[Br]?(o=o.i,(e=String(e).toString())in o.g&&-1<(t=vr(v=o.g[e],t,l,p))&&(Hn(v[t]),Array.prototype.splice.call(v,t,1),0==v.length&&(delete o.g[e],o.h--))):o&&(o=De(o))&&(e=o.g[e.toString()],o=-1,e&&(o=vr(e,t,l,p)),(t=-1<o?e[o]:null)&&tt(t))}function tt(o){if("number"!=typeof o&&o&&!o.ba){var e=o.src;if(e&&e[Br])sr(e.i,o);else{var t=o.type,l=o.proxy;e.removeEventListener?e.removeEventListener(t,l,o.capture):e.detachEvent?e.detachEvent(Nt(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=De(e))?(sr(t,o),0==t.h&&(t.src=null,e[Ye]=null)):Hn(o)}}}function Nt(o){return o in Ve?Ve[o]:Ve[o]="on"+o}function ve(o,e){if(o.ba)o=!0;else{e=new fr(e,this);var t=o.listener,l=o.ha||o.src;o.ea&&tt(o),o=t.call(l,e)}return o}function De(o){return(o=o[Ye])instanceof On?o:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(o){return"function"==typeof o?o:(o[ue]||(o[ue]=function(e){return o.handleEvent(e)}),o[ue])}function rt(){Mn.call(this),this.i=new On(this),this.P=this,this.I=null}function Zt(o,e){var t,l=o.I;if(l)for(t=[];l;l=l.I)t.push(l);if(o=o.P,l=e.type||e,"string"==typeof e)e=new Wn(e,o);else if(e instanceof Wn)e.target=e.target||o;else{var p=e;Fn(e=new Wn(l,o),p)}if(p=!0,t)for(var v=t.length-1;0<=v;v--){var C=e.g=t[v];p=Un(C,l,!0,e)&&p}if(p=Un(C=e.g=o,l,!0,e)&&p,p=Un(C,l,!1,e)&&p,t)for(v=0;v<t.length;v++)p=Un(C=e.g=t[v],l,!1,e)&&p}function Un(o,e,t,l){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var p=!0,v=0;v<e.length;++v){var C=e[v];if(C&&!C.ba&&C.capture==t){var L=C.listener,Q=C.ha||C.src;C.ea&&sr(o.i,C),p=!1!==L.call(Q,l)&&p}}return p&&!l.defaultPrevented}Jt(rt,Mn),rt.prototype[Br]=!0,rt.prototype.removeEventListener=function(o,e,t,l){xe(this,o,e,t,l)},rt.prototype.M=function(){if(rt.X.M.call(this),this.i){var e,o=this.i;for(e in o.g){for(var t=o.g[e],l=0;l<t.length;l++)Hn(t[l]);delete o.g[e],o.h--}}this.I=null},rt.prototype.N=function(o,e,t,l){return this.i.add(String(o),e,!1,t,l)},rt.prototype.O=function(o,e,t,l){return this.i.add(String(o),e,!0,t,l)};var qn=Qe.JSON.stringify;function Cn(){var o=hs;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var Gi,Rn=new class{constructor(o,e){this.i=o,this.j=e,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}(()=>new pr,o=>o.reset());class pr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Tr(o){Qe.setTimeout(()=>{throw o},0)}function Yi(o,e){Gi||function fi(){var o=Qe.Promise.resolve(void 0);Gi=function(){o.then(so)}}(),$o||(Gi(),$o=!0),hs.add(o,e)}var $o=!1,hs=new class Sr{constructor(){this.h=this.g=null}add(e,t){const l=Rn.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}};function so(){for(var o;o=Cn();){try{o.h.call(o.g)}catch(t){Tr(t)}var e=Rn;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}$o=!1}function Mi(o,e){rt.call(this),this.h=o||1,this.g=e||Qe,this.j=vt(this.lb,this),this.l=Date.now()}function Ds(o){o.ca=!1,o.R&&(o.g.clearTimeout(o.R),o.R=null)}function Mr(o,e,t){if("function"==typeof o)t&&(o=vt(o,t));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=vt(o.handleEvent,o)}return 2147483647<Number(e)?-1:Qe.setTimeout(o,e||0)}function ja(o){o.g=Mr(()=>{o.g=null,o.i&&(o.i=!1,ja(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}Jt(Mi,rt),(Te=Mi.prototype).ca=!1,Te.R=null,Te.lb=function(){if(this.ca){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-o):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zt(this,"tick"),this.ca&&(Ds(this),this.start()))}},Te.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Te.M=function(){Mi.X.M.call(this),Ds(this),delete this.g};class No extends Mn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ja(this)}M(){super.M(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(o){Mn.call(this),this.h=o,this.g={}}Jt(oi,Mn);var mo=[];function Ls(o,e,t,l){Array.isArray(t)||(t&&(mo[0]=t.toString()),t=mo);for(var p=0;p<t.length;p++){var v=Se(e,t[p],l||o.handleEvent,!1,o.h||o);if(!v)break;o.g[v.key]=v}}function vs(o){en(o.g,function(e,t){this.g.hasOwnProperty(t)&&tt(e)},o),o.g={}}function Us(){this.g=!0}function gi(o,e,t,l){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oo(o,e){if(!o.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(o=0;o<t.length;o++)if(Array.isArray(t[o])){var l=t[o];if(!(2>l.length)){var p=l[1];if(Array.isArray(p)&&!(1>p.length)){var v=p[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var C=1;C<p.length;C++)p[C]=""}}}return qn(t)}catch{return e}}(o,t)+(l?" "+l:"")})}oi.prototype.M=function(){oi.X.M.call(this),vs(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Us.prototype.Aa=function(){this.g=!1},Us.prototype.info=function(){};var Bi={},ga=null;function Zi(){return ga=ga||new rt}function _o(o){Wn.call(this,Bi.Pa,o)}function nl(o){const e=Zi();Zt(e,new _o(e))}function yl(o,e){Wn.call(this,Bi.STAT_EVENT,o),this.stat=e}function qi(o){const e=Zi();Zt(e,new yl(e,o))}function sc(o,e){Wn.call(this,Bi.Qa,o),this.size=e}function bs(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){o()},e)}Bi.Pa="serverreachability",Jt(_o,Wn),Bi.STAT_EVENT="statevent",Jt(yl,Wn),Bi.Qa="timingevent",Jt(sc,Wn);var ht={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},at={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function yt(){}function rn(){}yt.prototype.h=null;var ni,Vn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function cr(){Wn.call(this,"d")}function Xr(){Wn.call(this,"c")}function Mo(){}function Bs(o,e,t,l){this.l=o,this.j=e,this.m=t,this.U=l||1,this.S=new oi(this),this.O=vl,this.T=new Mi(o=gr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}Jt(cr,Wn),Jt(Xr,Wn),Jt(Mo,yt),Mo.prototype.g=function(){return new XMLHttpRequest},Mo.prototype.i=function(){return{}},ni=new Mo;var vl=45e3,ao={},fs={};function Oa(o,e,t){o.K=1,o.v=ws(Ro(e)),o.s=t,o.P=!0,bl(o,null)}function bl(o,e){o.F=Date.now(),yo(o),o.A=Ro(o.v);var t=o.A,l=o.U;Array.isArray(l)||(l=[String(l)]),Ks(t.i,"t",l),o.C=0,t=o.l.H,o.h=new Vs,o.g=Wl(o.l,t?e:null,!o.s),0<o.N&&(o.L=new No(vt(o.La,o,o.g),o.N)),Ls(o.S,o.g,"readystatechange",o.ib),e=o.H?Ht(o.H):{},o.s?(o.u||(o.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.da(o.A,o.u,o.s,e)):(o.u="GET",o.g.da(o.A,o.u,null,e)),nl(),function pi(o,e,t,l,p,v){o.info(function(){if(o.g)if(v)for(var C="",L=v.split("&"),Q=0;Q<L.length;Q++){var ie=L[Q].split("=");if(1<ie.length){var Ce=ie[0];ie=ie[1];var Je=Ce.split("_");C=2<=Je.length&&"type"==Je[1]?C+(Ce+"=")+ie+"&":C+(Ce+"=redacted&")}}else C=null;else C=v;return"XMLHTTP REQ ("+l+") [attempt "+p+"]: "+e+"\n"+t+"\n"+C})}(o.j,o.u,o.A,o.m,o.U,o.s)}function is(o){return!!o.g&&"GET"==o.u&&2!=o.K&&o.l.Da}function ma(o,e,t){let p,l=!0;for(;!o.I&&o.C<t.length;){if(p=Ra(o,t),p==fs){4==e&&(o.o=4,qi(14),l=!1),gi(o.j,o.m,null,"[Incomplete Response]");break}if(p==ao){o.o=4,qi(15),gi(o.j,o.m,t,"[Invalid Chunk]"),l=!1;break}gi(o.j,o.m,p,null),rl(o,p)}is(o)&&p!=fs&&p!=ao&&(o.h.g="",o.C=0),4!=e||0!=t.length||o.h.h||(o.o=1,qi(16),l=!1),o.i=o.i&&l,l?0<t.length&&!o.$&&(o.$=!0,(e=o.l).g==o&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),lc(e),e.K=!0,qi(11))):(gi(o.j,o.m,t,"[Invalid Chunked Response]"),ya(o),Ns(o))}function Ra(o,e){var t=o.C,l=e.indexOf("\n",t);return-1==l?fs:(t=Number(e.substring(t,l)),isNaN(t)?ao:(l+=1)+t>e.length?fs:(e=e.substr(l,t),o.C=l+t,e))}function yo(o){o.V=Date.now()+o.O,Pa(o,o.O)}function Pa(o,e){if(null!=o.B)throw Error("WatchDog timer not null");o.B=bs(vt(o.gb,o),e)}function _a(o){o.B&&(Qe.clearTimeout(o.B),o.B=null)}function Ns(o){0==o.l.G||o.I||cc(o.l,o)}function ya(o){_a(o);var e=o.L;e&&"function"==typeof e.na&&e.na(),o.L=null,Ds(o.T),vs(o.S),o.g&&(e=o.g,o.g=null,e.abort(),e.na())}function rl(o,e){try{var t=o.l;if(0!=t.G&&(t.g==o||Qt(t.h,o)))if(!o.J&&Qt(t.h,o)&&3==t.G){try{var l=t.Fa.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var p=l;if(0==p[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<o.F))break e;$l(t),aa(t)}ac(t),qi(18)}}else t.Ba=p[1],0<t.Ba-t.T&&37500>p[2]&&t.L&&0==t.A&&!t.v&&(t.v=bs(vt(t.cb,t),6e3));if(1>=sl(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Yo(t,11)}else if((o.J||t.g==o)&&$l(t),!Yn(e))for(p=t.Fa.g.parse(e),e=0;e<p.length;e++){let ie=p[e];if(t.T=ie[0],ie=ie[1],2==t.G)if("c"==ie[0]){t.I=ie[1],t.ka=ie[2];const Ce=ie[3];null!=Ce&&(t.ma=Ce,t.j.info("VER="+t.ma));const Je=ie[4];null!=Je&&(t.Ca=Je,t.j.info("SVER="+t.Ca));const Et=ie[5];null!=Et&&"number"==typeof Et&&0<Et&&(t.J=l=1.5*Et,t.j.info("backChannelRequestTimeoutMs_="+l)),l=t;const qt=o.g;if(qt){const mn=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mn){var v=l.h;v.g||-1==mn.indexOf("spdy")&&-1==mn.indexOf("quic")&&-1==mn.indexOf("h2")||(v.j=v.l,v.g=new Set,v.h&&(Dr(v,v.h),v.h=null))}if(l.D){const $n=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;$n&&(l.za=$n,Ci(l.F,l.D,$n))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-o.F,t.j.info("Handshake RTT: "+t.P+"ms"));var C=o;if((l=t).sa=eu(l,l.H?l.ka:null,l.V),C.J){ol(l.h,C);var L=C,Q=l.J;Q&&L.setTimeout(Q),L.B&&(_a(L),yo(L)),l.g=C}else Gl(l);0<t.i.length&&ll(t)}else"stop"!=ie[0]&&"close"!=ie[0]||Yo(t,7);else 3==t.G&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?Yo(t,7):wl(t):"noop"!=ie[0]&&t.l&&t.l.wa(ie),t.A=0)}nl()}catch{}}function js(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(ln(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var t=function Is(o){if(o.oa&&"function"==typeof o.oa)return o.oa();if(!o.W||"function"!=typeof o.W){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(ln(o)||"string"==typeof o){var e=[];o=o.length;for(var t=0;t<o;t++)e.push(t);return e}e=[],t=0;for(const l in o)e[t++]=l;return e}}}(o),l=function lo(o){if(o.W&&"function"==typeof o.W)return o.W();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(ln(o)){for(var e=[],t=o.length,l=0;l<t;l++)e.push(o[l]);return e}for(l in e=[],t=0,o)e[t++]=o[l];return e}(o),p=l.length,v=0;v<p;v++)e.call(void 0,l[v],t&&t[v],o)}(Te=Bs.prototype).setTimeout=function(o){this.O=o},Te.ib=function(o){o=o.target;const e=this.L;e&&3==Os(o)?e.l():this.La(o)},Te.La=function(o){try{if(o==this.g)e:{const Ce=Os(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Ce)&&(3!=Ce||gr||this.g&&(this.h.h||this.g.fa()||Xi(this.g)))){this.I||4!=Ce||7==e||nl(),_a(this);var t=this.g.aa();this.Y=t;t:if(is(this)){var l=Xi(this.g);o="";var p=l.length,v=4==Os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ya(this),Ns(this);var C="";break t}this.h.i=new Qe.TextDecoder}for(e=0;e<p;e++)this.h.h=!0,o+=this.h.i.decode(l[e],{stream:v&&e==p-1});l.splice(0,p),this.h.g+=o,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==t,function ta(o,e,t,l,p,v,C){o.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+p+"]: "+e+"\n"+t+"\n"+v+" "+C})}(this.j,this.u,this.A,this.m,this.U,Ce,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var L,Q=this.g;if((L=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yn(L)){var ie=L;break t}}ie=null}if(!(t=ie)){this.i=!1,this.o=3,qi(12),ya(this),Ns(this);break e}gi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rl(this,t)}this.P?(ma(this,Ce,C),gr&&this.i&&3==Ce&&(Ls(this.S,this.T,"tick",this.hb),this.T.start())):(gi(this.j,this.m,C,null),rl(this,C)),4==Ce&&ya(this),this.i&&!this.I&&(4==Ce?cc(this.l,this):(this.i=!1,yo(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,qi(12)):(this.o=0,qi(13)),ya(this),Ns(this)}}}catch{}},Te.hb=function(){if(this.g){var o=Os(this.g),e=this.g.fa();this.C<e.length&&(_a(this),ma(this,o,e),this.i&&4!=o&&yo(this))}},Te.cancel=function(){this.I=!0,ya(this)},Te.gb=function(){this.B=null;const o=Date.now();0<=o-this.V?(function Ws(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(nl(),qi(17)),ya(this),this.o=2,Ns(this)):Pa(this,this.V-o)};var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oo(o,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof Oo){this.h=void 0!==e?e:o.h,co(this,o.j),this.s=o.s,this.g=o.g,mi(this,o.m),this.l=o.l,e=o.i;var t=new ui;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ss(this,t),this.o=o.o}else o&&(t=String(o).match(vo))?(this.h=!!e,co(this,t[1]||"",!0),this.s=Qi(t[2]||""),this.g=Qi(t[3]||"",!0),mi(this,t[4]),this.l=Qi(t[5]||"",!0),ss(this,t[6]||"",!0),this.o=Qi(t[7]||"")):(this.h=!!e,this.i=new ui(null,this.h))}function Ro(o){return new Oo(o)}function co(o,e,t){o.j=t?Qi(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function mi(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function ss(o,e,t){e instanceof ui?(o.i=e,function Hl(o,e){e&&!o.j&&(ps(o),o.i=null,o.g.forEach(function(t,l){var p=l.toLowerCase();l!=p&&(Ji(this,l),Ks(this,p,t))},o)),o.j=e}(o.i,o.h)):(t||(e=Po(e,bo)),o.i=new ui(e,o.h))}function Ci(o,e,t){o.i.set(e,t)}function ws(o){return Ci(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Qi(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Po(o,e,t){return"string"==typeof o?(o=encodeURI(o).replace(e,ko),t&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ko(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}Oo.prototype.toString=function(){var o=[],e=this.j;e&&o.push(Po(e,Fo,!0),":");var t=this.g;return(t||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(Po(e,Fo,!0),"@"),o.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&o.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&o.push("/"),o.push(Po(t,"/"==t.charAt(0)?jl:os,!0))),(t=this.i.toString())&&o.push("?",t),(t=this.o)&&o.push("#",Po(t,Ms)),o.join("")};var Fo=/[#\/\?@]/g,os=/[#\?:]/g,jl=/[#\?]/g,bo=/[#\?@]/g,Ms=/#/g;function ui(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function ps(o){o.g||(o.g=new Map,o.h=0,o.i&&function na(o,e){if(o){o=o.split("&");for(var t=0;t<o.length;t++){var l=o[t].indexOf("="),p=null;if(0<=l){var v=o[t].substring(0,l);p=o[t].substring(l+1)}else v=o[t];e(v,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}(o.i,function(e,t){o.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ji(o,e){ps(o),e=Lo(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function zn(o,e){return ps(o),e=Lo(o,e),o.g.has(e)}function Ks(o,e,t){Ji(o,e),0<t.length&&(o.i=null,o.g.set(Lo(o,e),xn(t)),o.h+=t.length)}function Lo(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}function Uo(o){this.l=o||uo,o=Qe.PerformanceNavigationTiming?0<(o=Qe.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(Qe.g&&Qe.g.Ga&&Qe.g.Ga()&&Qe.g.Ga().$b),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Te=ui.prototype).add=function(o,e){ps(this),this.i=null,o=Lo(this,o);var t=this.g.get(o);return t||this.g.set(o,t=[]),t.push(e),this.h+=1,this},Te.forEach=function(o,e){ps(this),this.g.forEach(function(t,l){t.forEach(function(p){o.call(e,p,l,this)},this)},this)},Te.oa=function(){ps(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const p=o[l];for(let v=0;v<p.length;v++)t.push(e[l])}return t},Te.W=function(o){ps(this);let e=[];if("string"==typeof o)zn(this,o)&&(e=e.concat(this.g.get(Lo(this,o))));else{o=Array.from(this.g.values());for(let t=0;t<o.length;t++)e=e.concat(o[t])}return e},Te.set=function(o,e){return ps(this),this.i=null,zn(this,o=Lo(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},Te.get=function(o,e){return o&&0<(o=this.W(o)).length?String(o[0]):e},Te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const v=encodeURIComponent(String(l)),C=this.W(l);for(l=0;l<C.length;l++){var p=v;""!==C[l]&&(p+="="+encodeURIComponent(String(C[l]))),o.push(p)}}return this.i=o.join("&")};var uo=10;function va(o){return!!o.h||!!o.g&&o.g.size>=o.j}function sl(o){return o.h?1:o.g?o.g.size:0}function Qt(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function Dr(o,e){o.g?o.g.add(e):o.h=e}function ol(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function ra(o){if(null!=o.h)return o.i.concat(o.h.D);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const t of o.g.values())e=e.concat(t.D);return e}return xn(o.i)}function Oi(){}function Ys(){this.g=new Oi}function Ha(o,e,t){const l=t||"";try{js(o,function(p,v){let C=p;Lt(p)&&(C=qn(p)),e.push(l+v+"="+encodeURIComponent(C))})}catch(p){throw e.push(l+"type="+encodeURIComponent("_badmap")),p}}function ba(o,e,t,l,p){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,p(l)}catch{}}function ia(o){this.l=o.ac||null,this.j=o.jb||!1}function zo(o,e){rt.call(this),this.D=o,this.u=e,this.m=void 0,this.readyState=_i,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uo.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}},Oi.prototype.stringify=function(o){return Qe.JSON.stringify(o,void 0)},Oi.prototype.parse=function(o){return Qe.JSON.parse(o,void 0)},Jt(ia,yt),ia.prototype.g=function(){return new zo(this.l,this.j)},ia.prototype.i=function(o){return function(){return o}}({}),Jt(zo,rt);var _i=0;function J(o){o.j.read().then(o.Ta.bind(o)).catch(o.ga.bind(o))}function Y(o){o.readyState=4,o.l=null,o.j=null,o.A=null,H(o)}function H(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(Te=zo.prototype).open=function(o,e){if(this.readyState!=_i)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,H(this)},Te.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.D||Qe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Y(this)),this.readyState=_i},Te.Wa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,H(this)),this.g&&(this.readyState=3,H(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;J(this)}else o.text().then(this.Va.bind(this),this.ga.bind(this))},Te.Ta=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?Y(this):H(this),3==this.readyState&&J(this)}},Te.Va=function(o){this.g&&(this.response=this.responseText=o,Y(this))},Te.Ua=function(o){this.g&&(this.response=o,Y(this))},Te.ga=function(){this.g&&Y(this)},Te.setRequestHeader=function(o,e){this.v.append(o,e)},Te.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},Te.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var t=e.next();!t.done;)o.push((t=t.value)[0]+": "+t[1]),t=e.next();return o.join("\r\n")},Object.defineProperty(zo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var me=Qe.JSON.parse;function _t(o){rt.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=En,this.K=this.L=!1}Jt(_t,rt);var En="",Vr=/^https?$/i,Wo=["POST","PUT"];function Ko(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,Bo(o),sa(o)}function Bo(o){o.D||(o.D=!0,Zt(o,"complete"),Zt(o,"error"))}function wa(o){if(o.h&&typeof Ge<"u"&&(!o.C[1]||4!=Os(o)||2!=o.aa()))if(o.v&&4==Os(o))Mr(o.Ha,0,o);else if(Zt(o,"readystatechange"),4==Os(o)){o.h=!1;try{const L=o.aa();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===L){var p=String(o.H).match(vo)[1]||null;if(!p&&Qe.self&&Qe.self.location){var v=Qe.self.location.protocol;p=v.substr(0,v.length-1)}l=!Vr.test(p?p.toLowerCase():"")}t=l}if(t)Zt(o,"complete"),Zt(o,"success");else{o.m=6;try{var C=2<Os(o)?o.g.statusText:""}catch{C=""}o.j=C+" ["+o.aa()+"]",Bo(o)}}finally{sa(o)}}}function sa(o,e){if(o.g){Ga(o);const t=o.g,l=o.C[0]?At:null;o.g=null,o.C=null,e||Zt(o,"ready");try{t.onreadystatechange=l}catch{}}}function Ga(o){o.g&&o.K&&(o.g.ontimeout=null),o.A&&(Qe.clearTimeout(o.A),o.A=null)}function Os(o){return o.g?o.g.readyState:0}function Xi(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.J){case En:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function al(o){let e="";return en(o,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function oa(o,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=al(t),"string"==typeof o?null!=t&&encodeURIComponent(String(t)):Ci(o,e,t))}function ho(o,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[o]||e}function oc(o){this.Ca=0,this.i=[],this.j=new Us,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ho("failFast",!1,o),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ho("baseRetryDelayMs",5e3,o),this.bb=ho("retryDelaySeedMs",1e4,o),this.$a=ho("forwardChannelMaxRetries",2,o),this.ta=ho("forwardChannelRequestTimeoutMs",2e4,o),this.ra=o&&o.xmlHttpFactory||void 0,this.Da=o&&o.Zb||!1,this.J=void 0,this.H=o&&o.supportsCrossDomainXhr||!1,this.I="",this.h=new Uo(o&&o.concurrentRequestLimit),this.Fa=new Ys,this.O=o&&o.fastHandshake||!1,this.N=o&&o.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=o&&o.Xb||!1,o&&o.Aa&&this.j.Aa(),o&&o.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&o&&o.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wl(o){if(la(o),3==o.G){var e=o.U++,t=Ro(o.F);Ci(t,"SID",o.I),Ci(t,"RID",e),Ci(t,"TYPE","terminate"),Hs(o,t),(e=new Bs(o,o.j,e,void 0)).K=2,e.v=ws(Ro(t)),t=!1,Qe.navigator&&Qe.navigator.sendBeacon&&(t=Qe.navigator.sendBeacon(e.v.toString(),"")),!t&&Qe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Wl(e.l,null),e.g.da(e.v)),e.F=Date.now(),yo(e)}El(o)}function aa(o){o.g&&(lc(o),o.g.cancel(),o.g=null)}function la(o){aa(o),o.u&&(Qe.clearTimeout(o.u),o.u=null),$l(o),o.h.cancel(),o.m&&("number"==typeof o.m&&Qe.clearTimeout(o.m),o.m=null)}function ll(o){va(o.h)||o.m||(o.m=!0,Yi(o.Ja,o),o.C=0)}function qs(o,e){var t;t=e?e.m:o.U++;const l=Ro(o.F);Ci(l,"SID",o.I),Ci(l,"RID",t),Ci(l,"AID",o.T),Hs(o,l),o.o&&o.s&&oa(l,o.o,o.s),t=new Bs(o,o.j,t,o.C+1),null===o.o&&(t.H=o.s),e&&(o.i=e.D.concat(o.i)),e=$i(o,t,1e3),t.setTimeout(Math.round(.5*o.ta)+Math.round(.5*o.ta*Math.random())),Dr(o.h,t),Oa(t,l,e)}function Hs(o,e){o.ia&&en(o.ia,function(t,l){Ci(e,l,t)}),o.l&&js({},function(t,l){Ci(e,l,t)})}function $i(o,e,t){t=Math.min(o.i.length,t);var l=o.l?vt(o.l.Ra,o.l,o):null;e:{var p=o.i;let v=-1;for(;;){const C=["count="+t];-1==v?0<t?(v=p[0].h,C.push("ofs="+v)):v=0:C.push("ofs="+v);let L=!0;for(let Q=0;Q<t;Q++){let ie=p[Q].h;const Ce=p[Q].g;if(ie-=v,0>ie)v=Math.max(0,p[Q].h-100),L=!1;else try{Ha(Ce,C,"req"+ie+"_")}catch{l&&l(Ce)}}if(L){l=C.join("&");break e}}}return o=o.i.splice(0,t),e.D=o,l}function Gl(o){o.g||o.u||(o.Z=1,Yi(o.Ia,o),o.A=0)}function ac(o){return!(o.g||o.u||3<=o.A||(o.Z++,o.u=bs(vt(o.Ia,o),zl(o,o.A)),o.A++,0))}function lc(o){null!=o.B&&(Qe.clearTimeout(o.B),o.B=null)}function Oc(o){o.g=new Bs(o,o.j,"rpc",o.Z),null===o.o&&(o.g.H=o.s),o.g.N=0;var e=Ro(o.sa);Ci(e,"RID","rpc"),Ci(e,"SID",o.I),Ci(e,"CI",o.L?"0":"1"),Ci(e,"AID",o.T),Ci(e,"TYPE","xmlhttp"),Hs(o,e),o.o&&o.s&&oa(e,o.o,o.s),o.J&&o.g.setTimeout(o.J);var t=o.g;o=o.ka,t.K=1,t.v=ws(Ro(e)),t.s=null,t.P=!0,bl(t,o)}function $l(o){null!=o.v&&(Qe.clearTimeout(o.v),o.v=null)}function cc(o,e){var t=null;if(o.g==e){$l(o),lc(o),o.g=null;var l=2}else{if(!Qt(o.h,e))return;t=e.D,ol(o.h,e),l=1}if(0!=o.G)if(o.pa=e.Y,e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.F;var p=o.C;Zt(l=Zi(),new sc(l,t)),ll(o)}else Gl(o);else if(3==(p=e.o)||0==p&&0<o.pa||!(1==l&&function $a(o,e){return!(sl(o.h)>=o.h.j-(o.m?1:0)||(o.m?(o.i=e.D.concat(o.i),0):1==o.G||2==o.G||o.C>=(o.Za?0:o.$a)||(o.m=bs(vt(o.Ja,o,e),zl(o,o.C)),o.C++,0)))}(o,e)||2==l&&ac(o)))switch(t&&0<t.length&&(e=o.h,e.i=e.i.concat(t)),p){case 1:Yo(o,5);break;case 4:Yo(o,10);break;case 3:Yo(o,6);break;default:Yo(o,2)}}function zl(o,e){let t=o.Xa+Math.floor(Math.random()*o.bb);return o.l||(t*=2),t*e}function Yo(o,e){if(o.j.info("Error code "+e),2==e){var t=null;o.l&&(t=null);var l=vt(o.kb,o);t||(t=new Oo("//www.google.com/images/cleardot.gif"),Qe.location&&"http"==Qe.location.protocol||co(t,"https"),ws(t)),function Zs(o,e){const t=new Us;if(Qe.Image){const l=new Image;l.onload=yn(ba,t,l,"TestLoadImage: loaded",!0,e),l.onerror=yn(ba,t,l,"TestLoadImage: error",!1,e),l.onabort=yn(ba,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=yn(ba,t,l,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=o}else e(!1)}(t.toString(),l)}else qi(2);o.G=0,o.l&&o.l.va(e),El(o),la(o)}function El(o){if(o.G=0,o.la=[],o.l){const e=ra(o.h);(0!=e.length||0!=o.i.length)&&(Tn(o.la,e),Tn(o.la,o.i),o.h.i.length=0,xn(o.i),o.i.length=0),o.l.ua()}}function eu(o,e,t){var l=t instanceof Oo?Ro(t):new Oo(t,void 0);if(""!=l.g)e&&(l.g=e+"."+l.g),mi(l,l.m);else{var p=Qe.location;l=p.protocol,e=e?e+"."+p.hostname:p.hostname,p=+p.port;var v=new Oo(null,void 0);l&&co(v,l),e&&(v.g=e),p&&mi(v,p),t&&(v.l=t),l=v}return e=o.za,(t=o.D)&&e&&Ci(l,t,e),Ci(l,"VER",o.ma),Hs(o,l),l}function Wl(o,e,t){if(e&&!o.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _t(t&&o.Da&&!o.ra?new ia({jb:!0}):o.ra)).Ka(o.H),e}function Du(){}function Zo(){if(Fr&&!(10<=Number(on)))throw Error("Environmental error: no available transport.")}function Qs(o,e){rt.call(this),this.g=new oc(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(o?o["X-WebChannel-Client-Profile"]=e.ya:o={"X-WebChannel-Client-Profile":e.ya}),this.g.S=o,(o=e&&e.Yb)&&!Yn(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yn(e)&&(this.g.D=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new Si(this)}function Tl(o){cr.call(this);var e=o.__sm__;if(e){e:{for(const t in e){o=t;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function Kl(){Xr.call(this),this.status=1}function Si(o){this.g=o}(Te=_t.prototype).Ka=function(o){this.L=o},Te.da=function(o,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+o);e=e?e.toUpperCase():"GET",this.H=o,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ni.g(),this.C=function Kt(o){return o.h||(o.h=o.i())}(this.u?this.u:ni),this.g.onreadystatechange=vt(this.Ha,this);try{this.F=!0,this.g.open(e,String(o),!0),this.F=!1}catch(v){return void Ko(this,v)}if(o=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var p in l)t.set(p,l[p]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const v of l.keys())t.set(v,l.get(v))}l=Array.from(t.keys()).find(v=>"content-type"==v.toLowerCase()),p=Qe.FormData&&o instanceof Qe.FormData,!(0<=Pn(Wo,e))||l||p||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[v,C]of t)this.g.setRequestHeader(v,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ga(this),0<this.B&&((this.K=function wo(o){return Fr&&function Wt(){return function Nr(o){var e=Ot;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=o(9)}(function(){let o=0;const e=Cr(String(Pt)).split("."),t=Cr("9").split("."),l=Math.max(e.length,t.length);for(let C=0;0==o&&C<l;C++){var p=e[C]||"",v=t[C]||"";do{if(p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==p[0].length&&0==v[0].length)break;o=dr(0==p[1].length?0:parseInt(p[1],10),0==v[1].length?0:parseInt(v[1],10))||dr(0==p[2].length,0==v[2].length)||dr(p[2],v[2]),p=p[3],v=v[3]}while(0==o)}return 0<=o})}()&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vt(this.qa,this)):this.A=Mr(this.qa,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(v){Ko(this,v)}},Te.qa=function(){typeof Ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))},Te.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,Zt(this,"complete"),Zt(this,"abort"),sa(this))},Te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sa(this,!0)),_t.X.M.call(this)},Te.Ha=function(){this.s||(this.F||this.v||this.l?wa(this):this.fb())},Te.fb=function(){wa(this)},Te.aa=function(){try{return 2<Os(this)?this.g.status:-1}catch{return-1}},Te.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Te.Sa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),me(e)}},Te.Ea=function(){return this.m},Te.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Te=oc.prototype).ma=8,Te.G=1,Te.Ja=function(o){if(this.m)if(this.m=null,1==this.G){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const p=new Bs(this,this.j,o,void 0);let v=this.s;if(this.S&&(v?(v=Ht(v),Fn(v,this.S)):v=this.S),null!==this.o||this.N||(p.H=v,v=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var l=this.i[t];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$i(this,p,e),Ci(t=Ro(this.F),"RID",o),Ci(t,"CVER",22),this.D&&Ci(t,"X-HTTP-Session-Id",this.D),Hs(this,t),v&&(this.N?e="headers="+encodeURIComponent(String(al(v)))+"&"+e:this.o&&oa(t,this.o,v)),Dr(this.h,p),this.Ya&&Ci(t,"TYPE","init"),this.O?(Ci(t,"$req",e),Ci(t,"SID","null"),p.Z=!0,Oa(p,t,null)):Oa(p,t,e),this.G=2}}else 3==this.G&&(o?qs(this,o):0==this.i.length||va(this.h)||qs(this))},Te.Ia=function(){if(this.u=null,Oc(this),this.$&&!(this.K||null==this.g||0>=this.P)){var o=2*this.P;this.j.info("BP detection timer enabled: "+o),this.B=bs(vt(this.eb,this),o)}},Te.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qi(10),aa(this),Oc(this))},Te.cb=function(){null!=this.v&&(this.v=null,aa(this),ac(this),qi(19))},Te.kb=function(o){o?(this.j.info("Successfully pinged google.com"),qi(2)):(this.j.info("Failed to ping google.com"),qi(1))},(Te=Du.prototype).xa=function(){},Te.wa=function(){},Te.va=function(){},Te.ua=function(){},Te.Ra=function(){},Zo.prototype.g=function(o,e){return new Qs(o,e)},Jt(Qs,rt),Qs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var o=this.g,e=this.l,t=this.h||void 0;qi(0),o.V=e,o.ia=t||{},o.L=o.Y,o.F=eu(o,null,o.V),ll(o)},Qs.prototype.close=function(){wl(this.g)},Qs.prototype.u=function(o){var e=this.g;if("string"==typeof o){var t={};t.__data__=o,o=t}else this.v&&((t={}).__data__=qn(o),o=t);e.i.push(new class{constructor(o,e){this.h=o,this.g=e}}(e.ab++,o)),3==e.G&&ll(e)},Qs.prototype.M=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,Qs.X.M.call(this)},Jt(Tl,cr),Jt(Kl,Xr),Jt(Si,Du),Si.prototype.xa=function(){Zt(this.g,"a")},Si.prototype.wa=function(o){Zt(this.g,new Tl(o))},Si.prototype.va=function(o){Zt(this.g,new Kl)},Si.prototype.ua=function(){Zt(this.g,"b")},Zo.prototype.createWebChannel=Zo.prototype.g,Qs.prototype.send=Qs.prototype.u,Qs.prototype.open=Qs.prototype.m,Qs.prototype.close=Qs.prototype.close,ht.NO_ERROR=0,ht.TIMEOUT=8,ht.HTTP_ERROR=6,at.COMPLETE="complete",rn.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",rt.prototype.listen=rt.prototype.N,_t.prototype.listenOnce=_t.prototype.O,_t.prototype.getLastError=_t.prototype.Oa,_t.prototype.getLastErrorCode=_t.prototype.Ea,_t.prototype.getStatus=_t.prototype.aa,_t.prototype.getResponseJson=_t.prototype.Sa,_t.prototype.getResponseText=_t.prototype.fa,_t.prototype.send=_t.prototype.da,_t.prototype.setWithCredentials=_t.prototype.Ka;var Rc=dt.createWebChannelTransport=function(){return new Zo},Eo=dt.getStatEventTarget=function(){return Zi()},$=dt.ErrorCode=ht,re=dt.EventType=at,W=dt.Event=Bi,ge=dt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ze=dt.FetchXmlHttpFactory=ia,Dt=dt.WebChannel=rn,Mt=dt.XhrIo=_t;const pn="@firebase/firestore";class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let Or="9.20.0";const Lr=new Ke.Yd("@firebase/firestore");function xr(){return Lr.logLevel}function zt(o,...e){if(Lr.logLevel<=Ke.in.DEBUG){const t=e.map(Rs);Lr.debug(`Firestore (${Or}): ${o}`,...t)}}function mr(o,...e){if(Lr.logLevel<=Ke.in.ERROR){const t=e.map(Rs);Lr.error(`Firestore (${Or}): ${o}`,...t)}}function Ri(o,...e){if(Lr.logLevel<=Ke.in.WARN){const t=e.map(Rs);Lr.warn(`Firestore (${Or}): ${o}`,...t)}}function Rs(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function Sn(o="Unexpected state"){const e=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: `+o;throw mr(e),new Error(e)}function bn(o,e){o||Sn()}function cn(o,e){return o}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends Xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class za{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class Oe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Il{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var l=this;let p=this.i;const v=ie=>this.i!==p?(p=this.i,t(ie)):Promise.resolve();let C=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new zi,e.enqueueRetryable(()=>v(this.currentUser))};const L=()=>{const ie=C;e.enqueueRetryable((0,We.Z)(function*(){yield ie.promise,yield v(l.currentUser)}))},Q=ie=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(ie=>Q(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?Q(ie):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new zi)}},0),L()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(l=>this.i!==e?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(bn("string"==typeof l.accessToken),new za(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(null===e||"string"==typeof e),new nr(e)}}class Pc{constructor(e,t,l){this.h=e,this.l=t,this.m=l,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gs{constructor(e,t,l){this.h=e,this.l=t,this.m=l}getToken(){return Promise.resolve(new Pc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const l=v=>{null!=v.error&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const C=v.token!==this.T;return this.T=v.token,zt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(v.token):Promise.resolve()};this.o=v=>{e.enqueueRetryable(()=>l(v))};const p=v=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.I.onInit(v=>p(v)),setTimeout(()=>{if(!this.appCheck){const v=this.I.getImmediate({optional:!0});v?p(v):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bn("string"==typeof t.token),this.T=t.token,new kc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wi(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<o;l++)t[l]=Math.floor(256*Math.random());return t}class ei{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const p=Wi(40);for(let v=0;v<p.length;++v)l.length<20&&p[v]<t&&(l+=e.charAt(p[v]%e.length))}return l}}function br(o,e){return o<e?-1:o>e?1:0}function di(o,e,t){return o.length===e.length&&o.every((l,p)=>t(l,e[p]))}function Fc(o){return o+"\0"}class Vi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ut(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new Vi(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?br(this.nanoseconds,e.nanoseconds):br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rr(e)}static min(){return new rr(new Vi(0,0))}static max(){return new rr(new Vi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ul{constructor(e,t,l){void 0===t?t=0:t>e.length&&Sn(),void 0===l?l=e.length-t:l>e.length-t&&Sn(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===ul.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ul?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let p=0;p<l;p++){const v=e.get(p),C=t.get(p);if(v<C)return-1;if(v>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wr extends ul{construct(e,t,l){return new Wr(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new Ut(Tt.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(p=>p.length>0))}return new Wr(t)}static emptyPath(){return new Wr([])}}const qo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends ul{construct(e,t,l){return new wi(e,t,l)}static isValidIdentifier(e){return qo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wi(["__name__"])}static fromServerFormat(e){const t=[];let l="",p=0;const v=()=>{if(0===l.length)throw new Ut(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let C=!1;for(;p<e.length;){const L=e[p];if("\\"===L){if(p+1===e.length)throw new Ut(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Q=e[p+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new Ut(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=Q,p+=2}else"`"===L?(C=!C,p++):"."!==L||C?(l+=L,p++):(v(),p++)}if(v(),C)throw new Ut(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(t)}static emptyPath(){return new wi([])}}class gn{constructor(e){this.path=e}static fromPath(e){return new gn(Wr.fromString(e))}static fromName(e){return new gn(Wr.fromString(e).popFirst(5))}static empty(){return new gn(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gn(new Wr(e.slice()))}}class Pi{constructor(e,t,l,p){this.indexId=e,this.collectionGroup=t,this.fields=l,this.indexState=p}}function Cl(o){return o.fields.find(e=>2===e.kind)}function Qo(o){return o.fields.filter(e=>2!==e.kind)}Pi.UNKNOWN_ID=-1;class uc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ar{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ar(0,Ps.min())}}function Ea(o,e){const t=o.toTimestamp().seconds,l=o.toTimestamp().nanoseconds+1,p=rr.fromTimestamp(1e9===l?new Vi(t+1,0):new Vi(t,l));return new Ps(p,gn.empty(),e)}function eh(o){return new Ps(o.readTime,o.key,-1)}class Ps{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new Ps(rr.min(),gn.empty(),-1)}static max(){return new Ps(rr.max(),gn.empty(),-1)}}function Yl(o,e){let t=o.readTime.compareTo(e.readTime);return 0!==t?t:(t=gn.comparator(o.documentKey,e.documentKey),0!==t?t:br(o.largestBatchId,e.largestBatchId))}const Jo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function as(o){return To.apply(this,arguments)}function To(){return To=(0,We.Z)(function*(o){if(o.code!==Tt.FAILED_PRECONDITION||o.message!==Jo)throw o;zt("LocalStore","Unexpectedly lost primary lease")}),To.apply(this,arguments)}class Rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rt((l,p)=>{this.nextCallback=v=>{this.wrapSuccess(e,v).next(l,p)},this.catchCallback=v=>{this.wrapFailure(t,v).next(l,p)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rt?t:Rt.resolve(t)}catch(t){return Rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.reject(t)}static resolve(e){return new Rt((t,l)=>{t(e)})}static reject(e){return new Rt((t,l)=>{l(e)})}static waitFor(e){return new Rt((t,l)=>{let p=0,v=0,C=!1;e.forEach(L=>{++p,L.next(()=>{++v,C&&v===p&&t()},Q=>l(Q))}),C=!0,v===p&&t()})}static or(e){let t=Rt.resolve(!1);for(const l of e)t=t.next(p=>p?Rt.resolve(p):l());return t}static forEach(e,t){const l=[];return e.forEach((p,v)=>{l.push(t.call(this,p,v))}),this.waitFor(l)}static mapArray(e,t){return new Rt((l,p)=>{const v=e.length,C=new Array(v);let L=0;for(let Q=0;Q<v;Q++){const ie=Q;t(e[ie]).next(Ce=>{C[ie]=Ce,++L,L===v&&l(C)},Ce=>p(Ce))}})}static doWhile(e,t){return new Rt((l,p)=>{const v=()=>{!0===e()?t().next(()=>{v()},p):l()};v()})}}class ed{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new zi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Fa(e,t.error)):this.R.resolve()},this.transaction.onerror=l=>{const p=da(l.target.error);this.R.reject(new Fa(e,p))}}static open(e,t,l,p){try{return new ed(t,e.transaction(p,l))}catch(v){throw new Fa(t,v)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(zt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new td(t)}}class ki{constructor(e,t,l){this.name=e,this.version=t,this.V=l,12.2===ki.S((0,Xe.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return zt("SimpleDb","Removing database:",e),Fi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Xe.hl)())return!1;if(ki.C())return!0;const e=(0,Xe.z$)(),t=ki.S(e),l=0<t&&t<10,p=ki.N(e),v=0<p&&p<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||v)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(e){const t=e.match(/Android ([\d.]+)/i),l=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(l)}$(e){var t=this;return(0,We.Z)(function*(){return t.db||(zt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((l,p)=>{const v=indexedDB.open(t.name,t.version);v.onsuccess=C=>{l(C.target.result)},v.onblocked=()=>{p(new Fa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=C=>{const L=C.target.error;p("VersionError"===L.name?new Ut(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===L.name?new Ut(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+L):new Fa(e,L))},v.onupgradeneeded=C=>{zt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.V.M(C.target.result,v.transaction,C.oldVersion,t.version).next(()=>{zt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=l=>t.F(l)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,l,p){var v=this;return(0,We.Z)(function*(){const C="readonly"===t;let L=0;for(;;){++L;try{v.db=yield v.$(e);const Q=ed.open(v.db,e,C?"readonly":"readwrite",l),ie=p(Q).next(Ce=>(Q.P(),Ce)).catch(Ce=>(Q.abort(Ce),Rt.reject(Ce))).toPromise();return ie.catch(()=>{}),yield Q.v,ie}catch(Q){const ie=Q,Ce="FirebaseError"!==ie.name&&L<3;if(zt("SimpleDb","Transaction failed with error:",ie.message,"Retrying:",Ce),v.close(),!Ce)return Promise.reject(ie)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Al{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Fi(this.L.delete())}}class Fa extends Ut{constructor(e,t){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ta(o){return"IndexedDbTransactionError"===o.name}class td{constructor(e){this.store=e}put(e,t){let l;return void 0!==t?(zt("SimpleDb","PUT",this.store.name,e,t),l=this.store.put(t,e)):(zt("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Fi(l)}add(e){return zt("SimpleDb","ADD",this.store.name,e,e),Fi(this.store.add(e))}get(e){return Fi(this.store.get(e)).next(t=>(void 0===t&&(t=null),zt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return zt("SimpleDb","DELETE",this.store.name,e),Fi(this.store.delete(e))}count(){return zt("SimpleDb","COUNT",this.store.name),Fi(this.store.count())}j(e,t){const l=this.options(e,t);if(l.index||"function"!=typeof this.store.getAll){const p=this.cursor(l),v=[];return this.W(p,(C,L)=>{v.push(L)}).next(()=>v)}{const p=this.store.getAll(l.range);return new Rt((v,C)=>{p.onerror=L=>{C(L.target.error)},p.onsuccess=L=>{v(L.target.result)}})}}H(e,t){const l=this.store.getAll(e,null===t?void 0:t);return new Rt((p,v)=>{l.onerror=C=>{v(C.target.error)},l.onsuccess=C=>{p(C.target.result)}})}J(e,t){zt("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,t);l.Y=!1;const p=this.cursor(l);return this.W(p,(v,C,L)=>L.delete())}Z(e,t){let l;t?l=e:(l={},t=e);const p=this.cursor(l);return this.W(p,t)}X(e){const t=this.cursor({});return new Rt((l,p)=>{t.onerror=v=>{const C=da(v.target.error);p(C)},t.onsuccess=v=>{const C=v.target.result;C?e(C.primaryKey,C.value).next(L=>{L?C.continue():l()}):l()}})}W(e,t){const l=[];return new Rt((p,v)=>{e.onerror=C=>{v(C.target.error)},e.onsuccess=C=>{const L=C.target.result;if(!L)return void p();const Q=new Al(L),ie=t(L.primaryKey,L.value,Q);if(ie instanceof Rt){const Ce=ie.catch(Je=>(Q.done(),Rt.reject(Je)));l.push(Ce)}Q.isDone?p():null===Q.K?L.continue():L.continue(Q.K)}}).next(()=>Rt.waitFor(l))}options(e,t){let l;return void 0!==e&&("string"==typeof e?l=e:t=e),{index:l,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const l=this.store.index(e.index);return e.Y?l.openKeyCursor(e.range,t):l.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fi(o){return new Rt((e,t)=>{o.onsuccess=l=>{e(l.target.result)},o.onerror=l=>{const p=da(l.target.error);t(p)}})}let ua=!1;function da(o){const e=ki.S((0,Xe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(t)>=0){const l=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ua||(ua=!0,setTimeout(()=>{throw l},0)),l}}return o}class tu{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;zt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,We.Z)(function*(){t.task=null;try{zt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(l){Ta(l)?zt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield as(l)}yield t.et(6e4)}))}}class R{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,We.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>t.st(l,e))})()}st(e,t){const l=new Set;let p=t,v=!0;return Rt.doWhile(()=>!0===v&&p>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!l.has(C))return zt("IndexBackiller",`Processing collection: ${C}`),this.it(e,C,p).next(L=>{p-=L,l.add(C)});v=!1})).next(()=>t-p)}it(e,t,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(p=>this.localStore.localDocuments.getNextDocuments(e,t,p,l).next(v=>{const C=v.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.rt(p,v)).next(L=>(zt("IndexBackiller",`Updating offset: ${L}`),this.localStore.indexManager.updateCollectionGroup(e,t,L))).next(()=>C.size)}))}rt(e,t){let l=e;return t.changes.forEach((p,v)=>{const C=eh(v);Yl(C,l)>0&&(l=C)}),new Ps(l.readTime,l.documentKey,Math.max(t.batchId,e.largestBatchId))}}let P=(()=>{class o{constructor(t,l){this.previousValue=t,l&&(l.sequenceNumberHandler=p=>this.ot(p),this.ut=p=>l.writeSequenceNumber(p))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return o.ct=-1,o})();function S(o){return null==o}function G(o){return 0===o&&1/o==-1/0}function q(o){return"number"==typeof o&&Number.isInteger(o)&&!G(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}function _e(o){let e="";for(let t=0;t<o.length;t++)e.length>0&&(e=Fe(e)),e=ke(o.get(t),e);return Fe(e)}function ke(o,e){let t=e;const l=o.length;for(let p=0;p<l;p++){const v=o.charAt(p);switch(v){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=v}}return t}function Fe(o){return o+"\x01\x01"}function mt(o){const e=o.length;if(bn(e>=2),2===e)return bn("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),Wr.emptyPath();const t=e-2,l=[];let p="";for(let v=0;v<e;){const C=o.indexOf("\x01",v);switch((C<0||C>t)&&Sn(),o.charAt(C+1)){case"\x01":const L=o.substring(v,C);let Q;0===p.length?Q=L:(p+=L,Q=p,p=""),l.push(Q);break;case"\x10":p+=o.substring(v,C),p+="\0";break;case"\x11":p+=o.substring(v,C+1);break;default:Sn()}v=C+2}return new Wr(l)}const an=["userId","batchId"];function Bn(o,e){return[o,_e(e)]}function un(o,e,t){return[o,_e(e),t]}const _r={},ti=["prefixPath","collectionGroup","readTime","documentId"],Es=["prefixPath","collectionGroup","documentId"],fo=["collectionGroup","readTime","prefixPath","documentId"],Do=["canonicalId","targetId"],dl=["targetId","path"],Ir=["path","targetId"],nu=["collectionId","parent"],Io=["indexId","uid"],Js=["uid","sequenceNumber"],xl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hc=["indexId","uid","orderedDocumentKey"],th=["userId","collectionPath","documentId"],nd=["userId","collectionPath","largestBatchId"],fc=["userId","collectionGroup","largestBatchId"],Gs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ha=[...Gs,"documentOverlays"],Nl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ru=Nl,Cs=[...ru,"indexConfiguration","indexState","indexEntries"];class rd extends dc{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function ks(o,e){const t=cn(o);return ki.O(t.at,e)}function Iu(o){let e=0;for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e++;return e}function K(o,e){for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e(t,o[t])}function X(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class fe{constructor(e,t){this.comparator=e,this.root=t||lt.EMPTY}insert(e,t){return new fe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const p=this.comparator(e,l.key);if(0===p)return t+l.left.size;p<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new He(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new He(this.root,e,this.comparator,!1)}getReverseIterator(){return new He(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new He(this.root,e,this.comparator,!0)}}class He{constructor(e,t,l,p){this.isReverse=p,this.nodeStack=[];let v=1;for(;!e.isEmpty();)if(v=t?l(e.key,t):1,t&&p&&(v*=-1),v<0)e=this.isReverse?e.left:e.right;else{if(0===v){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,t,l,p,v){this.key=e,this.value=t,this.color=l??lt.RED,this.left=p??lt.EMPTY,this.right=v??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,p,v){return new lt(e??this.key,t??this.value,l??this.color,p??this.left,v??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let p=this;const v=l(e,p.key);return p=v<0?p.copy(null,null,null,p.left.insert(e,t,l),null):0===v?p.copy(null,t,null,null,null):p.copy(null,null,null,null,p.right.insert(e,t,l)),p.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,p=this;if(t(e,p.key)<0)p.left.isEmpty()||p.left.isRed()||p.left.left.isRed()||(p=p.moveRedLeft()),p=p.copy(null,null,null,p.left.remove(e,t),null);else{if(p.left.isRed()&&(p=p.rotateRight()),p.right.isEmpty()||p.right.isRed()||p.right.left.isRed()||(p=p.moveRedRight()),0===t(e,p.key)){if(p.right.isEmpty())return lt.EMPTY;l=p.right.min(),p=p.copy(l.key,l.value,null,null,p.right.removeMin())}p=p.copy(null,null,null,null,p.right.remove(e,t))}return p.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Sn();const e=this.left.check();if(e!==this.right.check())throw Sn();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1,lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Sn()}get value(){throw Sn()}get color(){throw Sn()}get left(){throw Sn()}get right(){throw Sn()}copy(o,e,t,l,p){return this}insert(o,e,t){return new lt(o,e)}remove(o,e){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new fe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const p=l.getNext();if(this.comparator(p.key,e[1])>=0)return;t(p.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xt(this.data.getIterator())}getIteratorFrom(e){return new Xt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const p=t.getNext().key,v=l.getNext().key;if(0!==this.comparator(p,v))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class Xt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function An(o){return o.hasNext()?o.getNext():void 0}class Gn{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new ft(wi.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return di(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class or extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new or("Invalid base64 string: "+p):p}}(e);return new jn(t)}static fromUint8Array(e){const t=function(l){let p="";for(let v=0;v<l.length;++v)p+=String.fromCharCode(l[v]);return p}(e);return new jn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const Da=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(o){if(bn(!!o),"string"==typeof o){let e=0;const t=Da.exec(o);if(bn(!!t),t[1]){let p=t[1];p=(p+"000000000").substr(0,9),e=Number(p)}const l=new Date(o);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:ls(o.seconds),nanos:ls(o.nanos)}}function ls(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function La(o){return"string"==typeof o?jn.fromBase64String(o):jn.fromUint8Array(o)}function Ka(o){var e,t;return"server_timestamp"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hl(o){const e=o.mapValue.fields.__previous_value__;return Ka(e)?hl(e):e}function Ml(o){const e=Li(o.mapValue.fields.__local_write_time__.timestampValue);return new Vi(e.seconds,e.nanos)}class Cu{constructor(e,t,l,p,v,C,L,Q){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=p,this.ssl=v,this.forceLongPolling=C,this.autoDetectLongPolling=L,this.useFetchStreams=Q}}class iu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new iu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const Zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Su={nullValue:"NULL_VALUE"};function su(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?Ka(o)?4:Za(o)?9007199254740991:10:Sn()}function pc(o,e){if(o===e)return!0;const t=su(o);if(t!==su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Ml(o).isEqual(Ml(e));case 3:return function(l,p){if("string"==typeof l.timestampValue&&"string"==typeof p.timestampValue&&l.timestampValue.length===p.timestampValue.length)return l.timestampValue===p.timestampValue;const v=Li(l.timestampValue),C=Li(p.timestampValue);return v.seconds===C.seconds&&v.nanos===C.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return p=e,La(o.bytesValue).isEqual(La(p.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(l,p){return ls(l.geoPointValue.latitude)===ls(p.geoPointValue.latitude)&&ls(l.geoPointValue.longitude)===ls(p.geoPointValue.longitude)}(o,e);case 2:return function(l,p){if("integerValue"in l&&"integerValue"in p)return ls(l.integerValue)===ls(p.integerValue);if("doubleValue"in l&&"doubleValue"in p){const v=ls(l.doubleValue),C=ls(p.doubleValue);return v===C?G(v)===G(C):isNaN(v)&&isNaN(C)}return!1}(o,e);case 9:return di(o.arrayValue.values||[],e.arrayValue.values||[],pc);case 10:return function(l,p){const v=l.mapValue.fields||{},C=p.mapValue.fields||{};if(Iu(v)!==Iu(C))return!1;for(const L in v)if(v.hasOwnProperty(L)&&(void 0===C[L]||!pc(v[L],C[L])))return!1;return!0}(o,e);default:return Sn()}var p}function gc(o,e){return void 0!==(o.values||[]).find(t=>pc(t,e))}function ou(o,e){if(o===e)return 0;const t=su(o),l=su(e);if(t!==l)return br(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return br(o.booleanValue,e.booleanValue);case 2:return function(p,v){const C=ls(p.integerValue||p.doubleValue),L=ls(v.integerValue||v.doubleValue);return C<L?-1:C>L?1:C===L?0:isNaN(C)?isNaN(L)?0:-1:1}(o,e);case 3:return Zf(o.timestampValue,e.timestampValue);case 4:return Zf(Ml(o),Ml(e));case 5:return br(o.stringValue,e.stringValue);case 6:return function(p,v){const C=La(p),L=La(v);return C.compareTo(L)}(o.bytesValue,e.bytesValue);case 7:return function(p,v){const C=p.split("/"),L=v.split("/");for(let Q=0;Q<C.length&&Q<L.length;Q++){const ie=br(C[Q],L[Q]);if(0!==ie)return ie}return br(C.length,L.length)}(o.referenceValue,e.referenceValue);case 8:return function(p,v){const C=br(ls(p.latitude),ls(v.latitude));return 0!==C?C:br(ls(p.longitude),ls(v.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(p,v){const C=p.values||[],L=v.values||[];for(let Q=0;Q<C.length&&Q<L.length;++Q){const ie=ou(C[Q],L[Q]);if(ie)return ie}return br(C.length,L.length)}(o.arrayValue,e.arrayValue);case 10:return function(p,v){if(p===Zl.mapValue&&v===Zl.mapValue)return 0;if(p===Zl.mapValue)return 1;if(v===Zl.mapValue)return-1;const C=p.fields||{},L=Object.keys(C),Q=v.fields||{},ie=Object.keys(Q);L.sort(),ie.sort();for(let Ce=0;Ce<L.length&&Ce<ie.length;++Ce){const Je=br(L[Ce],ie[Ce]);if(0!==Je)return Je;const Et=ou(C[L[Ce]],Q[ie[Ce]]);if(0!==Et)return Et}return br(L.length,ie.length)}(o.mapValue,e.mapValue);default:throw Sn()}}function Zf(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return br(o,e);const t=Li(o),l=Li(e),p=br(t.seconds,l.seconds);return 0!==p?p:br(t.nanos,l.nanos)}function Xs(o){return nh(o)}function nh(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(l){const p=Li(l);return`time(${p.seconds},${p.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?La(o.bytesValue).toBase64():"referenceValue"in o?gn.fromName(o.referenceValue).toString():"geoPointValue"in o?`geo(${(e=o.geoPointValue).latitude},${e.longitude})`:"arrayValue"in o?function(l){let p="[",v=!0;for(const C of l.values||[])v?v=!1:p+=",",p+=nh(C);return p+"]"}(o.arrayValue):"mapValue"in o?function(l){const p=Object.keys(l.fields||{}).sort();let v="{",C=!0;for(const L of p)C?C=!1:v+=",",v+=`${L}:${nh(l.fields[L])}`;return v+"}"}(o.mapValue):Sn();var e}function Au(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function xu(o){return!!o&&"integerValue"in o}function Nu(o){return!!o&&"arrayValue"in o}function Fp(o){return!!o&&"nullValue"in o}function Gh(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Ya(o){return!!o&&"mapValue"in o}function Ed(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return K(o.mapValue.fields,(t,l)=>e.mapValue.fields[t]=Ed(l)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(o.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ed(o.arrayValue.values[t]);return e}return Object.assign({},o)}function Za(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function $s(o){return"nullValue"in o?Su:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?Au(iu.empty(),gn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:Sn()}function $h(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?Au(iu.empty(),gn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?Zl:Sn()}function zh(o,e){const t=ou(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function Ol(o,e){const t=ou(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class fa{constructor(e){this.value=e}static empty(){return new fa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!Ya(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ed(t)}setAll(e){let t=wi.emptyPath(),l={},p=[];e.forEach((C,L)=>{if(!t.isImmediateParentOf(L)){const Q=this.getFieldsMap(t);this.applyChanges(Q,l,p),l={},p=[],t=L.popLast()}C?l[L.lastSegment()]=Ed(C):p.push(L.lastSegment())});const v=this.getFieldsMap(t);this.applyChanges(v,l,p)}delete(e){const t=this.field(e.popLast());Ya(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let p=t.mapValue.fields[e.get(l)];Ya(p)&&p.mapValue.fields||(p={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=p),t=p}return t.mapValue.fields}applyChanges(e,t,l){K(t,(p,v)=>e[p]=v);for(const p of l)delete e[p]}clone(){return new fa(Ed(this.value))}}function qf(o){const e=[];return K(o.fields,(t,l)=>{const p=new wi([t]);if(Ya(l)){const v=qf(l.mapValue).fields;if(0===v.length)e.push(p);else for(const C of v)e.push(p.child(C))}else e.push(p)}),new Gn(e)}class es{constructor(e,t,l,p,v,C,L){this.key=e,this.documentType=t,this.version=l,this.readTime=p,this.createTime=v,this.data=C,this.documentState=L}static newInvalidDocument(e){return new es(e,0,rr.min(),rr.min(),rr.min(),fa.empty(),0)}static newFoundDocument(e,t,l,p){return new es(e,1,t,rr.min(),l,p,0)}static newNoDocument(e,t){return new es(e,2,t,rr.min(),rr.min(),fa.empty(),0)}static newUnknownDocument(e,t){return new es(e,3,t,rr.min(),rr.min(),fa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lc{constructor(e,t){this.position=e,this.inclusive=t}}function Mu(o,e,t){let l=0;for(let p=0;p<o.position.length;p++){const v=e[p],C=o.position[p];if(l=v.field.isKeyField()?gn.comparator(gn.fromName(C.referenceValue),t.key):ou(C,t.data.field(v.field)),"desc"===v.dir&&(l*=-1),0!==l)break}return l}function id(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let t=0;t<o.position.length;t++)if(!pc(o.position[t],e.position[t]))return!1;return!0}class Uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rl(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class Td{}class yi extends Td{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,l):new qa(e,t,l):"array-contains"===t?new Xo(e,l):"in"===t?new ah(e,l):"not-in"===t?new Lp(e,l):"array-contains-any"===t?new n_(e,l):new yi(e,t,l)}static createKeyFieldInFilter(e,t,l){return"in"===t?new od(e,l):new sh(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ou(t,this.value)):null!==t&&su(this.value)===su(t)&&this.matchesComparison(ou(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ts extends Td{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new ts(e,t)}matches(e){return Pl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pl(o){return"and"===o.op}function ql(o){return"or"===o.op}function au(o){return sd(o)&&Pl(o)}function sd(o){for(const e of o.filters)if(e instanceof ts)return!1;return!0}function rh(o){if(o instanceof yi)return o.field.canonicalString()+o.op.toString()+Xs(o.value);if(au(o))return o.filters.map(e=>rh(e)).join(",");{const e=o.filters.map(t=>rh(t)).join(",");return`${o.op}(${e})`}}function Ou(o,e){return o instanceof yi?(t=o,(l=e)instanceof yi&&t.op===l.op&&t.field.isEqual(l.field)&&pc(t.value,l.value)):o instanceof ts?function(t,l){return l instanceof ts&&t.op===l.op&&t.filters.length===l.filters.length&&t.filters.reduce((p,v,C)=>p&&Ou(v,l.filters[C]),!0)}(o,e):void Sn();var t,l}function lu(o,e){const t=o.filters.concat(e);return ts.create(t,o.op)}function ih(o){return o instanceof yi?`${(e=o).field.canonicalString()} ${e.op} ${Xs(e.value)}`:o instanceof ts?function(e){return e.op.toString()+" {"+e.getFilters().map(ih).join(" ,")+"}"}(o):"Filter";var e}class qa extends yi{constructor(e,t,l){super(e,t,l),this.key=gn.fromName(l.referenceValue)}matches(e){const t=gn.comparator(e.key,this.key);return this.matchesComparison(t)}}class od extends yi{constructor(e,t){super(e,"in",t),this.keys=oh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sh extends yi{constructor(e,t){super(e,"not-in",t),this.keys=oh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oh(o,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>gn.fromName(l.referenceValue))}class Xo extends yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nu(t)&&gc(t.arrayValue,this.value)}}class ah extends yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gc(this.value.arrayValue,t)}}class Lp extends yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gc(this.value.arrayValue,t)}}class n_ extends yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>gc(this.value.arrayValue,l))}}class Qf{constructor(e,t=null,l=[],p=[],v=null,C=null,L=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=p,this.limit=v,this.startAt=C,this.endAt=L,this.ft=null}}function Wh(o,e=null,t=[],l=[],p=null,v=null,C=null){return new Qf(o,e,t,l,p,v,C)}function Dd(o){const e=cn(o);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>rh(l)).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(p=l).field.canonicalString()+p.dir;var p}).join(","),S(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>Xs(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>Xs(l)).join(",")),e.ft=t}return e.ft}function Ru(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<o.orderBy.length;t++)if(!Rl(o.orderBy[t],e.orderBy[t]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let t=0;t<o.filters.length;t++)if(!Ou(o.filters[t],e.filters[t]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!id(o.startAt,e.startAt)&&id(o.endAt,e.endAt)}function lh(o){return gn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function Pu(o,e){return o.filters.filter(t=>t instanceof yi&&t.field.isEqual(e))}function Jf(o,e,t){let l=Su,p=!0;for(const v of Pu(o,e)){let C=Su,L=!0;switch(v.op){case"<":case"<=":C=$s(v.value);break;case"==":case"in":case">=":C=v.value;break;case">":C=v.value,L=!1;break;case"!=":case"not-in":C=Su}zh({value:l,inclusive:p},{value:C,inclusive:L})<0&&(l=C,p=L)}if(null!==t)for(let v=0;v<o.orderBy.length;++v)if(o.orderBy[v].field.isEqual(e)){const C=t.position[v];zh({value:l,inclusive:p},{value:C,inclusive:t.inclusive})<0&&(l=C,p=t.inclusive);break}return{value:l,inclusive:p}}function ad(o,e,t){let l=Zl,p=!0;for(const v of Pu(o,e)){let C=Zl,L=!0;switch(v.op){case">=":case">":C=$h(v.value),L=!1;break;case"==":case"in":case"<=":C=v.value;break;case"<":C=v.value,L=!1;break;case"!=":case"not-in":C=Zl}Ol({value:l,inclusive:p},{value:C,inclusive:L})>0&&(l=C,p=L)}if(null!==t)for(let v=0;v<o.orderBy.length;++v)if(o.orderBy[v].field.isEqual(e)){const C=t.position[v];Ol({value:l,inclusive:p},{value:C,inclusive:t.inclusive})>0&&(l=C,p=t.inclusive);break}return{value:l,inclusive:p}}class Ql{constructor(e,t=null,l=[],p=[],v=null,C="F",L=null,Q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=p,this.limit=v,this.limitType=C,this.startAt=L,this.endAt=Q,this.dt=null,this.wt=null}}function Id(o,e,t,l,p,v,C,L){return new Ql(o,e,t,l,p,v,C,L)}function Bc(o){return new Ql(o)}function ch(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function Cd(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function mc(o){for(const e of o.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ku(o){return null!==o.collectionGroup}function cu(o){const e=cn(o);if(null===e.dt){e.dt=[];const t=mc(e),l=Cd(e);if(null!==t&&null===l)t.isKeyField()||e.dt.push(new Uc(t)),e.dt.push(new Uc(wi.keyField(),"asc"));else{let p=!1;for(const v of e.explicitOrderBy)e.dt.push(v),v.field.isKeyField()&&(p=!0);if(!p){const v=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Uc(wi.keyField(),v))}}}return e.dt}function N(o){const e=cn(o);if(!e.wt)if("F"===e.limitType)e.wt=Wh(e.path,e.collectionGroup,cu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const v of cu(e))t.push(new Uc(v.field,"desc"===v.dir?"asc":"desc"));const l=e.endAt?new Lc(e.endAt.position,e.endAt.inclusive):null,p=e.startAt?new Lc(e.startAt.position,e.startAt.inclusive):null;e.wt=Wh(e.path,e.collectionGroup,t,e.filters,e.limit,l,p)}return e.wt}function b(o,e){e.getFirstInequalityField(),mc(o);const t=o.filters.concat([e]);return new Ql(o.path,o.collectionGroup,o.explicitOrderBy.slice(),t,o.limit,o.limitType,o.startAt,o.endAt)}function D(o,e,t){return new Ql(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,t,o.startAt,o.endAt)}function k(o,e){return Ru(N(o),N(e))&&o.limitType===e.limitType}function se(o){return`${Dd(N(o))}|lt:${o.limitType}`}function Ae(o){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(l=>ih(l)).join(", ")}]`),S(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(l=>{return`${(p=l).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>Xs(l)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>Xs(l)).join(",")),`Target(${t})`}(N(o))}; limitType=${o.limitType})`}function ct(o,e){return e.isFoundDocument()&&function(t,l){const p=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(p):gn.isDocumentKey(t.path)?t.path.isEqual(p):t.path.isImmediateParentOf(p)}(o,e)&&function(t,l){for(const p of cu(t))if(!p.field.isKeyField()&&null===l.data.field(p.field))return!1;return!0}(o,e)&&function(t,l){for(const p of t.filters)if(!p.matches(l))return!1;return!0}(o,e)&&(l=e,!((t=o).startAt&&!function(p,v,C){const L=Mu(p,v,C);return p.inclusive?L<=0:L<0}(t.startAt,cu(t),l)||t.endAt&&!function(p,v,C){const L=Mu(p,v,C);return p.inclusive?L>=0:L>0}(t.endAt,cu(t),l)));var t,l}function Vt(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function _n(o){return(e,t)=>{let l=!1;for(const p of cu(o)){const v=Ln(p,e,t);if(0!==v)return v;l=l||p.field.isKeyField()}return 0}}function Ln(o,e,t){const l=o.field.isKeyField()?gn.comparator(e.key,t.key):function(p,v,C){const L=v.data.field(p),Q=C.data.field(p);return null!==L&&null!==Q?ou(L,Q):Sn()}(o.field,e,t);switch(o.dir){case"asc":return l;case"desc":return-1*l;default:return Sn()}}class Xn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[p,v]of l)if(this.equalsFn(p,e))return v}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),p=this.inner[l];if(void 0===p)return this.inner[l]=[[e,t]],void this.innerSize++;for(let v=0;v<p.length;v++)if(this.equalsFn(p[v][0],e))return void(p[v]=[e,t]);p.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return 1===l.length?delete this.inner[t]:l.splice(p,1),this.innerSize--,!0;return!1}forEach(e){K(this.inner,(t,l)=>{for(const[p,v]of l)e(p,v)})}isEmpty(){return X(this.inner)}size(){return this.innerSize}}const Kr=new fe(gn.comparator);function cs(){return Kr}const _c=new fe(gn.comparator);function kl(...o){let e=_c;for(const t of o)e=e.insert(t.key,t);return e}function uh(o){let e=_c;return o.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function Ia(){return Jl()}function Fu(){return Jl()}function Jl(){return new Xn(o=>o.toString(),(o,e)=>o.isEqual(e))}const Sd=new fe(gn.comparator),Up=new ft(gn.comparator);function zr(...o){let e=Up;for(const t of o)e=e.add(t);return e}const ld=new ft(br);function Fl(){return ld}function Xf(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G(e)?"-0":e}}function uu(o){return{integerValue:""+o}}function ep(o,e){return q(e)?uu(e):Xf(o,e)}class Kh{constructor(){this._=void 0}}function Yh(o,e,t){return o instanceof Lu?function(l,p){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return p&&(v.fields.__previous_value__=p),{mapValue:v}}(t,e):o instanceof du?tp(o,e):o instanceof Vc?qh(o,e):function(l,p){const v=Zh(l,p),C=Qh(v)+Qh(l._t);return xu(v)&&xu(l._t)?uu(C):Xf(l.serializer,C)}(o,e)}function $g(o,e,t){return o instanceof du?tp(o,e):o instanceof Vc?qh(o,e):t}function Zh(o,e){return o instanceof jc?xu(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class Lu extends Kh{}class du extends Kh{constructor(e){super(),this.elements=e}}function tp(o,e){const t=Jh(e);for(const l of o.elements)t.some(p=>pc(p,l))||t.push(l);return{arrayValue:{values:t}}}class Vc extends Kh{constructor(e){super(),this.elements=e}}function qh(o,e){let t=Jh(e);for(const l of o.elements)t=t.filter(p=>!pc(p,l));return{arrayValue:{values:t}}}class jc extends Kh{constructor(e,t){super(),this.serializer=e,this._t=t}}function Qh(o){return ls(o.integerValue||o.doubleValue)}function Jh(o){return Nu(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class Ad{constructor(e,t){this.field=e,this.transform=t}}class xd{constructor(e,t){this.version=e,this.transformResults=t}}class us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class Uu{}function Vp(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new eo(o.key,us.none()):new Xl(o.key,o.data,us.none());{const t=o.data,l=fa.empty();let p=new ft(wi.comparator);for(let v of e.fields)if(!p.has(v)){let C=t.field(v);null===C&&v.length>1&&(v=v.popLast(),C=t.field(v)),null===C?l.delete(v):l.set(v,C),p=p.add(v)}return new Ss(o.key,l,new Gn(p.toArray()),us.none())}}function jp(o,e,t){o instanceof Xl?function(l,p,v){const C=l.value.clone(),L=Hp(l.fieldTransforms,p,v.transformResults);C.setAll(L),p.convertToFoundDocument(v.version,C).setHasCommittedMutations()}(o,e,t):o instanceof Ss?function(l,p,v){if(!cd(l.precondition,p))return void p.convertToUnknownDocument(v.version);const C=Hp(l.fieldTransforms,p,v.transformResults),L=p.data;L.setAll(dh(l)),L.setAll(C),p.convertToFoundDocument(v.version,L).setHasCommittedMutations()}(o,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hc(o,e,t,l){return o instanceof Xl?function(p,v,C,L){if(!cd(p.precondition,v))return C;const Q=p.value.clone(),ie=yc(p.fieldTransforms,L,v);return Q.setAll(ie),v.convertToFoundDocument(v.version,Q).setHasLocalMutations(),null}(o,e,t,l):o instanceof Ss?function(p,v,C,L){if(!cd(p.precondition,v))return C;const Q=yc(p.fieldTransforms,L,v),ie=v.data;return ie.setAll(dh(p)),ie.setAll(Q),v.convertToFoundDocument(v.version,ie).setHasLocalMutations(),null===C?null:C.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Ce=>Ce.field))}(o,e,t,l):(C=t,cd(o.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):C);var v,C}function Gc(o,e){let t=null;for(const l of o.fieldTransforms){const p=e.data.field(l.field),v=Zh(l.transform,p||null);null!=v&&(null===t&&(t=fa.empty()),t.set(l.field,v))}return t||null}function Xh(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=o.fieldTransforms)&&void 0===l||t&&l&&di(t,l,(p,v)=>function Bp(o,e){return o.field.isEqual(e.field)&&(l=e.transform,(t=o.transform)instanceof du&&l instanceof du||t instanceof Vc&&l instanceof Vc?di(t.elements,l.elements,pc):t instanceof jc&&l instanceof jc?pc(t._t,l._t):t instanceof Lu&&l instanceof Lu);var t,l}(p,v))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var t,l}class Xl extends Uu{constructor(e,t,l,p=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=p,this.type=0}getFieldMask(){return null}}class Ss extends Uu{constructor(e,t,l,p,v=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=p,this.fieldTransforms=v,this.type=1}getFieldMask(){return this.fieldMask}}function dh(o){const e=new Map;return o.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=o.data.field(t);e.set(t,l)}}),e}function Hp(o,e,t){const l=new Map;bn(o.length===t.length);for(let p=0;p<t.length;p++){const v=o[p],C=v.transform,L=e.data.field(v.field);l.set(v.field,$g(C,L,t[p]))}return l}function yc(o,e,t){const l=new Map;for(const p of o){const v=p.transform,C=t.data.field(p.field);l.set(p.field,Yh(v,C,e))}return l}class eo extends Uu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gp extends Uu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nd{constructor(e,t,l,p){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=p}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let p=0;p<this.mutations.length;p++){const v=this.mutations[p];v.key.isEqual(e.key)&&jp(v,e,l[p])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=Hc(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=Hc(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=Fu();return this.mutations.forEach(p=>{const v=e.get(p.key),C=v.overlayedDocument;let L=this.applyToLocalView(C,v.mutatedFields);L=t.has(p.key)?null:L;const Q=Vp(C,L);null!==Q&&l.set(p.key,Q),C.isValidDocument()||C.convertToNoDocument(rr.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zr())}isEqual(e){return this.batchId===e.batchId&&di(this.mutations,e.mutations,(t,l)=>Xh(t,l))&&di(this.baseMutations,e.baseMutations,(t,l)=>Xh(t,l))}}class Md{constructor(e,t,l,p){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=p}static from(e,t,l){bn(e.mutations.length===l.length);let p=Sd;const v=e.mutations;for(let C=0;C<v.length;C++)p=p.insert(v[C].key,l[C].version);return new Md(e,t,l,p)}}class vc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zc{constructor(e){this.count=e}}var Co,Ii;function Ca(o){switch(o){default:return Sn();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function Wg(o){if(void 0===o)return mr("GRPC error has no .code"),Tt.UNKNOWN;switch(o){case Co.OK:return Tt.OK;case Co.CANCELLED:return Tt.CANCELLED;case Co.UNKNOWN:return Tt.UNKNOWN;case Co.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case Co.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case Co.INTERNAL:return Tt.INTERNAL;case Co.UNAVAILABLE:return Tt.UNAVAILABLE;case Co.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case Co.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case Co.NOT_FOUND:return Tt.NOT_FOUND;case Co.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case Co.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case Co.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case Co.ABORTED:return Tt.ABORTED;case Co.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case Co.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case Co.DATA_LOSS:return Tt.DATA_LOSS;default:return Sn()}}(Ii=Co||(Co={}))[Ii.OK=0]="OK",Ii[Ii.CANCELLED=1]="CANCELLED",Ii[Ii.UNKNOWN=2]="UNKNOWN",Ii[Ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ii[Ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ii[Ii.NOT_FOUND=5]="NOT_FOUND",Ii[Ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ii[Ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ii[Ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ii[Ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ii[Ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ii[Ii.ABORTED=10]="ABORTED",Ii[Ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ii[Ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ii[Ii.INTERNAL=13]="INTERNAL",Ii[Ii.UNAVAILABLE=14]="UNAVAILABLE",Ii[Ii.DATA_LOSS=15]="DATA_LOSS";class Kg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Wc}static getOrCreateInstance(){return null===Wc&&(Wc=new Kg),Wc}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Wc=null;class Bu{constructor(e,t,l,p,v){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=p,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const p=new Map;return p.set(e,hh.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new Bu(rr.min(),p,Fl(),cs(),zr())}}class hh{constructor(e,t,l,p,v){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=p,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new hh(l,t,zr(),zr(),zr())}}class np{constructor(e,t,l,p){this.It=e,this.removedTargetIds=t,this.key=l,this.Tt=p}}class Yg{constructor(e,t){this.targetId=e,this.Et=t}}class $p{constructor(e,t,l=jn.EMPTY_BYTE_STRING,p=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=p}}class Od{constructor(){this.At=0,this.Rt=Zg(),this.vt=jn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=zr(),t=zr(),l=zr();return this.Rt.forEach((p,v)=>{switch(v){case 0:e=e.add(p);break;case 2:t=t.add(p);break;case 1:l=l.add(p);break;default:Sn()}}),new hh(this.vt,this.bt,e,t,l)}xt(){this.Pt=!1,this.Rt=Zg()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class zp{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=cs(),this.qt=ud(),this.Ut=new ft(br)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const l=this.jt(t);switch(e.state){case 0:this.Wt(t)&&l.Dt(e.resumeToken);break;case 1:l.$t(),l.Vt||l.xt(),l.Dt(e.resumeToken);break;case 2:l.$t(),l.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(l.Mt(),l.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),l.Dt(e.resumeToken));break;default:Sn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((l,p)=>{this.Wt(p)&&t(p)})}Jt(e){var t;const l=e.targetId,p=e.Et.count,v=this.Yt(l);if(v){const C=v.target;if(lh(C))if(0===p){const L=new gn(C.path);this.Qt(l,L,es.newNoDocument(L,rr.min()))}else bn(1===p);else{const L=this.Zt(l);L!==p&&(this.Ht(l),this.Ut=this.Ut.add(l),null===(t=Kg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:L,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((v,C)=>{const L=this.Yt(C);if(L){if(v.current&&lh(L.target)){const Q=new gn(L.target.path);null!==this.Lt.get(Q)||this.te(C,Q)||this.Qt(C,Q,es.newNoDocument(Q,e))}v.St&&(t.set(C,v.Ct()),v.xt())}});let l=zr();this.qt.forEach((v,C)=>{let L=!0;C.forEachWhile(Q=>{const ie=this.Yt(Q);return!ie||2===ie.purpose||(L=!1,!1)}),L&&(l=l.add(v))}),this.Lt.forEach((v,C)=>C.setReadTime(e));const p=new Bu(e,t,this.Ut,this.Lt,l);return this.Lt=cs(),this.qt=ud(),this.Ut=new ft(br),p}Gt(e,t){if(!this.Wt(e))return;const l=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,l),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,l){if(!this.Wt(e))return;const p=this.jt(e);this.te(e,t)?p.Nt(t,1):p.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),l&&(this.Lt=this.Lt.insert(t,l))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Od,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ft(br),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||zt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Od),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function ud(){return new fe(gn.comparator)}function Zg(){return new fe(gn.comparator)}const r_={asc:"ASCENDING",desc:"DESCENDING"},ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rp={and:"AND",or:"OR"};class fh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fl(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rd(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function Wp(o,e){return fl(o,e.toTimestamp())}function to(o){return bn(!!o),rr.fromTimestamp(function(e){const t=Li(e);return new Vi(t.seconds,t.nanos)}(o))}function ip(o,e){return(t=o,new Wr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(o){const e=Wr.fromString(o);return bn(Yr(e)),e}function tf(o,e){return ip(o.databaseId,e.path)}function Vu(o,e){const t=i_(e);if(t.get(1)!==o.databaseId.projectId)throw new Ut(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+o.databaseId.projectId);if(t.get(3)!==o.databaseId.database)throw new Ut(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+o.databaseId.database);return new gn(s_(t))}function nf(o,e){return ip(o.databaseId,e)}function rf(o){const e=i_(o);return 4===e.length?Wr.emptyPath():s_(e)}function Kp(o){return new Wr(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function s_(o){return bn(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function sp(o,e,t){return{name:tf(o,e),fields:t.value.mapValue.fields}}function op(o,e,t){const l=Vu(o,e.name),p=to(e.updateTime),v=e.createTime?to(e.createTime):rr.min(),C=new fa({mapValue:{fields:e.fields}}),L=es.newFoundDocument(l,p,v,C);return t&&L.setHasCommittedMutations(),t?L.setHasCommittedMutations():L}function I(o,e){let t;if(e instanceof Xl)t={update:sp(o,e.key,e.value)};else if(e instanceof eo)t={delete:tf(o,e.key)};else if(e instanceof Ss)t={update:sp(o,e.key,e.data),updateMask:wr(e.fieldMask)};else{if(!(e instanceof Gp))return Sn();t={verify:tf(o,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(p,v){const C=v.transform;if(C instanceof Lu)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof du)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Vc)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof jc)return{fieldPath:v.field.canonicalString(),increment:C._t};throw Sn()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:Wp(o,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Sn()),t;var p}function h(o,e){const t=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?us.updateTime(to(p.updateTime)):void 0!==p.exists?us.exists(p.exists):us.none():us.none(),l=e.updateTransforms?e.updateTransforms.map(p=>function(v,C){let L=null;"setToServerValue"in C?(bn("REQUEST_TIME"===C.setToServerValue),L=new Lu):"appendMissingElements"in C?L=new du(C.appendMissingElements.values||[]):"removeAllFromArray"in C?L=new Vc(C.removeAllFromArray.values||[]):"increment"in C?L=new jc(v,C.increment):Sn();const Q=wi.fromServerFormat(C.fieldPath);return new Ad(Q,L)}(o,p)):[];var p;if(e.update){const p=Vu(o,e.update.name),v=new fa({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new Gn((e.updateMask.fieldPaths||[]).map(ie=>wi.fromServerFormat(ie)));return new Ss(p,v,C,t,l)}return new Xl(p,v,t,l)}if(e.delete){const p=Vu(o,e.delete);return new eo(p,t)}if(e.verify){const p=Vu(o,e.verify);return new Gp(p,t)}return Sn()}function O(o,e){return{documents:[nf(o,e.path)]}}function Z(o,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=nf(o,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nf(o,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const p=function(Q){if(0!==Q.length)return ri(ts.create(Q,"and"))}(e.filters);p&&(t.structuredQuery.where=p);const v=function(Q){if(0!==Q.length)return Q.map(ie=>{return{field:fn((Ce=ie).field),direction:xt(Ce.dir)};var Ce})}(e.orderBy);v&&(t.structuredQuery.orderBy=v);const C=(ie=e.limit,o.useProto3Json||S(ie)?ie:{value:ie});var ie,L,Q;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(L=e.startAt).inclusive,values:L.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Q=e.endAt).inclusive,values:Q.position}),t}function Re(o){let e=rf(o.parent);const t=o.structuredQuery,l=t.from?t.from.length:0;let p=null;if(l>0){bn(1===l);const Ce=t.from[0];Ce.allDescendants?p=Ce.collectionId:e=e.child(Ce.collectionId)}let v=[];t.where&&(v=function(Ce){const Je=ut(Ce);return Je instanceof ts&&au(Je)?Je.getFilters():[Je]}(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(Ce=>{return new Uc(Nn((Je=Ce).field),function(Et){switch(Et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Je.direction));var Je}));let L=null;t.limit&&(L=function(Ce){let Je;return Je="object"==typeof Ce?Ce.value:Ce,S(Je)?null:Je}(t.limit));let Q=null;var Ce;t.startAt&&(Q=new Lc((Ce=t.startAt).values||[],!!Ce.before));let ie=null;return t.endAt&&(ie=function(Ce){return new Lc(Ce.values||[],!Ce.before)}(t.endAt)),Id(e,p,C,v,L,"F",Q,ie)}function ut(o){return void 0!==o.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nn(e.unaryFilter.field);return yi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const l=Nn(e.unaryFilter.field);return yi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Nn(e.unaryFilter.field);return yi.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Nn(e.unaryFilter.field);return yi.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Sn()}}(o):void 0!==o.fieldFilter?yi.create(Nn((e=o).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==o.compositeFilter?function(e){return ts.create(e.compositeFilter.filters.map(t=>ut(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Sn()}}(e.compositeFilter.op))}(o):Sn();var e}function xt(o){return r_[o]}function kt(o){return ef[o]}function Dn(o){return rp[o]}function fn(o){return{fieldPath:o.canonicalString()}}function Nn(o){return wi.fromServerFormat(o.fieldPath)}function ri(o){return o instanceof yi?function(e){if("=="===e.op){if(Gh(e.value))return{unaryFilter:{field:fn(e.field),op:"IS_NAN"}};if(Fp(e.value))return{unaryFilter:{field:fn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gh(e.value))return{unaryFilter:{field:fn(e.field),op:"IS_NOT_NAN"}};if(Fp(e.value))return{unaryFilter:{field:fn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fn(e.field),op:kt(e.op),value:e.value}}}(o):o instanceof ts?function(e){const t=e.getFilters().map(l=>ri(l));return 1===t.length?t[0]:{compositeFilter:{op:Dn(e.op),filters:t}}}(o):Sn()}function wr(o){const e=[];return o.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Yr(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class ii{constructor(e,t,l,p,v=rr.min(),C=rr.min(),L=jn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=p,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=L}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ei{constructor(e){this.se=e}}function qr(o,e){const t=e.key,l={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ai(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:tf(p=o.se,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:fl(p,v.version.toTimestamp()),createTime:fl(p,v.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:t.path.toArray(),readTime:hi(e.version)};else{if(!e.isUnknownDocument())return Sn();l.unknownDocument={path:t.path.toArray(),version:hi(e.version)}}var p,v;return l}function ai(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function hi(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ji(o){const e=new Vi(o.seconds,o.nanoseconds);return rr.fromTimestamp(e)}function Ti(o,e){const t=(e.baseMutations||[]).map(v=>h(o.se,v));for(let v=0;v<e.mutations.length-1;++v){const C=e.mutations[v];v+1<e.mutations.length&&void 0!==e.mutations[v+1].transform&&(C.updateTransforms=e.mutations[v+1].transform.fieldTransforms,e.mutations.splice(v+1,1),++v)}const l=e.mutations.map(v=>h(o.se,v)),p=Vi.fromMillis(e.localWriteTimeMs);return new Nd(e.batchId,p,t,l)}function _s(o){const e=ji(o.readTime),t=void 0!==o.lastLimboFreeSnapshotVersion?ji(o.lastLimboFreeSnapshotVersion):rr.min();let l;var p;return void 0!==o.query.documents?(bn(1===(p=o.query).documents.length),l=N(Bc(rf(p.documents[0])))):l=N(Re(o.query)),new ii(l,o.targetId,0,o.lastListenSequenceNumber,e,t,jn.fromBase64String(o.resumeToken))}function So(o,e){const t=hi(e.snapshotVersion),l=hi(e.lastLimboFreeSnapshotVersion);let p;p=lh(e.target)?O(o.se,e.target):Z(o.se,e.target);const v=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Dd(e.target),readTime:t,resumeToken:v,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:p}}function zs(o){const e=Re({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?D(e,e.limit,"L"):e}function bc(o,e){return new vc(e.largestBatchId,h(o.se,e.overlayMutation))}function Qa(o,e){const t=e.path.lastSegment();return[o,_e(e.path.popLast()),t]}function fu(o,e,t,l){return{indexId:o,uid:e.uid||"",sequenceNumber:t,readTime:hi(l.readTime),documentKey:_e(l.documentKey.path),largestBatchId:l.largestBatchId}}class pu{getBundleMetadata(e,t){return Ja(e).get(t).next(l=>{if(l)return{id:(p=l).bundleId,createTime:ji(p.createTime),version:p.version};var p})}saveBundleMetadata(e,t){return Ja(e).put({bundleId:(l=t).id,createTime:hi(to(l.createTime)),version:l.version});var l}getNamedQuery(e,t){return Sa(e).get(t).next(l=>{if(l)return{name:(p=l).name,query:zs(p.bundledQuery),readTime:ji(p.readTime)};var p})}saveNamedQuery(e,t){return Sa(e).put({name:(l=t).name,readTime:hi(to(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Ja(o){return ks(o,"bundles")}function Sa(o){return ks(o,"namedQueries")}class dd{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new dd(e,t.uid||"")}getOverlay(e,t){return ec(e).get(Qa(this.userId,t)).next(l=>l?bc(this.serializer,l):null)}getOverlays(e,t){const l=Ia();return Rt.forEach(t,p=>this.getOverlay(e,p).next(v=>{null!==v&&l.set(p,v)})).next(()=>l)}saveOverlays(e,t,l){const p=[];return l.forEach((v,C)=>{const L=new vc(t,C);p.push(this.re(e,L))}),Rt.waitFor(p)}removeOverlaysForBatchId(e,t,l){const p=new Set;t.forEach(C=>p.add(_e(C.getCollectionPath())));const v=[];return p.forEach(C=>{const L=IDBKeyRange.bound([this.userId,C,l],[this.userId,C,l+1],!1,!0);v.push(ec(e).J("collectionPathOverlayIndex",L))}),Rt.waitFor(v)}getOverlaysForCollection(e,t,l){const p=Ia(),v=_e(t),C=IDBKeyRange.bound([this.userId,v,l],[this.userId,v,Number.POSITIVE_INFINITY],!0);return ec(e).j("collectionPathOverlayIndex",C).next(L=>{for(const Q of L){const ie=bc(this.serializer,Q);p.set(ie.getKey(),ie)}return p})}getOverlaysForCollectionGroup(e,t,l,p){const v=Ia();let C;const L=IDBKeyRange.bound([this.userId,t,l],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ec(e).Z({index:"collectionGroupOverlayIndex",range:L},(Q,ie,Ce)=>{const Je=bc(this.serializer,ie);v.size()<p||Je.largestBatchId===C?(v.set(Je.getKey(),Je),C=Je.largestBatchId):Ce.done()}).next(()=>v)}re(e,t){return ec(e).put(function(l,p,v){const[C,L,Q]=Qa(p,v.mutation.key);return{userId:p,collectionPath:L,documentId:Q,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:I(l.se,v.mutation)}}(this.serializer,this.userId,t))}}function ec(o){return ks(o,"documentOverlays")}class Ll{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(ls(e.integerValue));else if("doubleValue"in e){const l=ls(e.doubleValue);isNaN(l)?this.ae(t,13):(this.ae(t,15),G(l)?t.he(0):t.he(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ae(t,20),"string"==typeof l?t.le(l):(t.le(`${l.seconds||""}`),t.he(l.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(La(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.ae(t,45),t.he(l.latitude||0),t.he(l.longitude||0)}else"mapValue"in e?Za(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Sn()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const l=e.fields||{};this.ae(t,55);for(const p of Object.keys(l))this.fe(p,t),this.ue(l[p],t)}ge(e,t){const l=e.values||[];this.ae(t,50);for(const p of l)this.ue(p,t)}_e(e,t){this.ae(t,37),gn.fromName(e).path.forEach(l=>{this.ae(t,60),this.ye(l,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function ap(o){if(0===o)return 8;let e=0;return o>>4==0&&(e+=4,o<<=4),o>>6==0&&(e+=2,o<<=2),o>>7==0&&(e+=1),e}function ju(o){const e=64-function(t){let l=0;for(let p=0;p<8;++p){const v=ap(255&t[p]);if(l+=v,8!==v)break}return l}(o);return Math.ceil(e/8)}Ll.pe=new Ll;class hd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Te(l.value),l=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Re(l.value),l=t.next();this.ve()}be(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Te(l);else if(l<2048)this.Te(960|l>>>6),this.Te(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Te(480|l>>>12),this.Te(128|63&l>>>6),this.Te(128|63&l);else{const p=t.codePointAt(0);this.Te(240|p>>>18),this.Te(128|63&p>>>12),this.Te(128|63&p>>>6),this.Te(128|63&p)}}this.Ee()}Pe(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Re(l);else if(l<2048)this.Re(960|l>>>6),this.Re(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Re(480|l>>>12),this.Re(128|63&l>>>6),this.Re(128|63&l);else{const p=t.codePointAt(0);this.Re(240|p>>>18),this.Re(128|63&p>>>12),this.Re(128|63&p>>>6),this.Re(128|63&p)}}this.ve()}Ve(e){const t=this.Se(e),l=ju(t);this.De(1+l),this.buffer[this.position++]=255&l;for(let p=t.length-l;p<t.length;++p)this.buffer[this.position++]=255&t[p]}Ce(e){const t=this.Se(e),l=ju(t);this.De(1+l),this.buffer[this.position++]=~(255&l);for(let p=t.length-l;p<t.length;++p)this.buffer[this.position++]=~(255&t[p])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(p){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,p,!1),new Uint8Array(v.buffer)}(e),l=0!=(128&t[0]);t[0]^=l?255:128;for(let p=1;p<t.length;++p)t[p]^=l?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let l=2*this.buffer.length;l<t&&(l=t);const p=new Uint8Array(l);p.set(this.buffer),this.buffer=p}}class wc{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class gu{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class Ec{constructor(){this.Me=new hd,this.Fe=new wc(this.Me),this.Be=new gu(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class Kc{constructor(e,t,l,p){this.indexId=e,this.documentKey=t,this.arrayValue=l,this.directionalValue=p}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(t);return l.set(this.directionalValue,0),t!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new Kc(this.indexId,this.documentKey,this.arrayValue,l)}}function Ua(o,e){let t=o.indexId-e.indexId;return 0!==t?t:(t=ph(o.arrayValue,e.arrayValue),0!==t?t:(t=ph(o.directionalValue,e.directionalValue),0!==t?t:gn.comparator(o.documentKey,e.documentKey)))}function ph(o,e){for(let t=0;t<o.length&&t<e.length;++t){const l=o[t]-e[t];if(0!==l)return l}return o.length-e.length}class Pd{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const l=t;l.isInequality()?this.Ge=l:this.Ke.push(l)}}Qe(e){bn(e.collectionGroup===this.collectionId);const t=Cl(e);if(void 0!==t&&!this.ze(t))return!1;const l=Qo(e);let p=0,v=0;for(;p<l.length&&this.ze(l[p]);++p);if(p===l.length)return!0;if(void 0!==this.Ge){const C=l[p];if(!this.je(this.Ge,C)||!this.We(this.Ue[v++],C))return!1;++p}for(;p<l.length;++p){const C=l[p];if(v>=this.Ue.length||!this.We(this.Ue[v++],C))return!1}return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Hi(o){var e,t;if(bn(o instanceof yi||o instanceof ts),o instanceof yi){if(o instanceof ah){const p=(null===(t=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(v=>yi.create(o.field,"==",v)))||[];return ts.create(p,"or")}return o}const l=o.filters.map(p=>Hi(p));return ts.create(l,o.op)}function Ki(o){if(0===o.getFilters().length)return[];const e=gh(Hi(o));return bn(ds(e)),si(e)||mu(e)?[e]:e.getFilters()}function si(o){return o instanceof yi}function mu(o){return o instanceof ts&&au(o)}function ds(o){return si(o)||mu(o)||function(e){if(e instanceof ts&&ql(e)){for(const t of e.getFilters())if(!si(t)&&!mu(t))return!1;return!0}return!1}(o)}function gh(o){if(bn(o instanceof yi||o instanceof ts),o instanceof yi)return o;if(1===o.filters.length)return gh(o.filters[0]);const e=o.filters.map(l=>gh(l));let t=ts.create(e,o.op);return t=_h(t),ds(t)?t:(bn(t instanceof ts),bn(Pl(t)),bn(t.filters.length>1),t.filters.reduce((l,p)=>sf(l,p)))}function sf(o,e){let t;return bn(o instanceof yi||o instanceof ts),bn(e instanceof yi||e instanceof ts),t=o instanceof yi?e instanceof yi?ts.create([o,e],"and"):mh(o,e):e instanceof yi?mh(e,o):function(l,p){if(bn(l.filters.length>0&&p.filters.length>0),Pl(l)&&Pl(p))return lu(l,p.getFilters());const v=ql(l)?l:p,C=ql(l)?p:l,L=v.filters.map(Q=>sf(Q,C));return ts.create(L,"or")}(o,e),_h(t)}function mh(o,e){if(Pl(e))return lu(e,o.getFilters());{const t=e.filters.map(l=>sf(o,l));return ts.create(t,"or")}}function _h(o){if(bn(o instanceof yi||o instanceof ts),o instanceof yi)return o;const e=o.getFilters();if(1===e.length)return _h(e[0]);if(sd(o))return o;const t=e.map(p=>_h(p)),l=[];return t.forEach(p=>{p instanceof yi?l.push(p):p instanceof ts&&(p.op===o.op?l.push(...p.filters):l.push(p))}),1===l.length?l[0]:ts.create(l,o.op)}class ys{constructor(){this.He=new Qr}addToCollectionParentIndex(e,t){return this.He.add(t),Rt.resolve()}getCollectionParents(e,t){return Rt.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return Rt.resolve()}deleteFieldIndex(e,t){return Rt.resolve()}getDocumentsMatchingTarget(e,t){return Rt.resolve(null)}getIndexType(e,t){return Rt.resolve(0)}getFieldIndexes(e,t){return Rt.resolve([])}getNextCollectionGroupToUpdate(e){return Rt.resolve(null)}getMinOffset(e,t){return Rt.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return Rt.resolve(Ps.min())}updateCollectionGroup(e,t,l){return Rt.resolve()}updateIndexEntries(e,t){return Rt.resolve()}}class Qr{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),p=this.index[t]||new ft(Wr.comparator),v=!p.has(l);return this.index[t]=p.add(l),v}has(e){const t=e.lastSegment(),l=e.popLast(),p=this.index[t];return p&&p.has(l)}getEntries(e){return(this.index[e]||new ft(Wr.comparator)).toArray()}}const po=new Uint8Array(0);class qg{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new Qr,this.Ye=new Xn(l=>Dd(l),(l,p)=>Ru(l,p)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const l=t.lastSegment(),p=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const v={collectionId:l,parent:_e(p)};return Yc(e).put(v)}return Rt.resolve()}getCollectionParents(e,t){const l=[],p=IDBKeyRange.bound([t,""],[Fc(t),""],!1,!0);return Yc(e).j(p).next(v=>{for(const C of v){if(C.collectionId!==t)break;l.push(mt(C.parent))}return l})}addFieldIndex(e,t){const l=af(e),p={indexId:(C=t).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var C;delete p.indexId;const v=l.add(p);if(t.indexState){const C=lf(e);return v.next(L=>{C.put(fu(L,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return v.next()}deleteFieldIndex(e,t){const l=af(e),p=lf(e),v=Vo(e);return l.delete(t.indexId).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>v.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const l=Vo(e);let p=!0;const v=new Map;return Rt.forEach(this.Ze(t),C=>this.Xe(e,C).next(L=>{p&&(p=!!L),v.set(C,L)})).next(()=>{if(p){let C=zr();const L=[];return Rt.forEach(v,(Q,ie)=>{var Ce;zt("IndexedDbIndexManager",`Using index ${Ce=Q,`id=${Ce.indexId}|cg=${Ce.collectionGroup}|f=${Ce.fields.map(Ni=>`${Ni.fieldPath}:${Ni.kind}`).join(",")}`} to execute ${Dd(t)}`);const Je=function(Ni,Vl){const go=Cl(Vl);if(void 0===go)return null;for(const xo of Pu(Ni,go.fieldPath))switch(xo.op){case"array-contains-any":return xo.value.arrayValue.values||[];case"array-contains":return[xo.value]}return null}(ie,Q),Et=function(Ni,Vl){const go=new Map;for(const xo of Qo(Vl))for(const Xc of Pu(Ni,xo.fieldPath))switch(Xc.op){case"==":case"in":go.set(xo.fieldPath.canonicalString(),Xc.value);break;case"not-in":case"!=":return go.set(xo.fieldPath.canonicalString(),Xc.value),Array.from(go.values())}return null}(ie,Q),qt=function(Ni,Vl){const go=[];let xo=!0;for(const Xc of Qo(Vl)){const Pp=0===Xc.kind?Jf(Ni,Xc.fieldPath,Ni.startAt):ad(Ni,Xc.fieldPath,Ni.startAt);go.push(Pp.value),xo&&(xo=Pp.inclusive)}return new Lc(go,xo)}(ie,Q),mn=function(Ni,Vl){const go=[];let xo=!0;for(const Xc of Qo(Vl)){const Pp=0===Xc.kind?ad(Ni,Xc.fieldPath,Ni.endAt):Jf(Ni,Xc.fieldPath,Ni.endAt);go.push(Pp.value),xo&&(xo=Pp.inclusive)}return new Lc(go,xo)}(ie,Q),$n=this.tn(Q,ie,qt),yr=this.tn(Q,ie,mn),ns=this.en(Q,ie,Et),Go=this.nn(Q.indexId,Je,$n,qt.inclusive,yr,mn.inclusive,ns);return Rt.forEach(Go,Ni=>l.H(Ni,t.limit).next(Vl=>{Vl.forEach(go=>{const xo=gn.fromSegments(go.documentKey);C.has(xo)||(C=C.add(xo),L.push(xo))})}))}).next(()=>L)}return Rt.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:Ki(ts.create(e.filters,"and")).map(l=>Wh(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,l,p,v,C,L){const Q=(null!=t?t.length:1)*Math.max(l.length,v.length),ie=Q/(null!=t?t.length:1),Ce=[];for(let Je=0;Je<Q;++Je){const Et=t?this.sn(t[Je/ie]):po,qt=this.rn(e,Et,l[Je%ie],p),mn=this.on(e,Et,v[Je%ie],C),$n=L.map(yr=>this.rn(e,Et,yr,!0));Ce.push(...this.createRange(qt,mn,$n))}return Ce}rn(e,t,l,p){const v=new Kc(e,gn.empty(),t,l);return p?v:v.qe()}on(e,t,l,p){const v=new Kc(e,gn.empty(),t,l);return p?v.qe():v}Xe(e,t){const l=new Pd(t),p=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,p).next(v=>{let C=null;for(const L of v)l.Qe(L)&&(!C||L.fields.length>C.fields.length)&&(C=L);return C})}getIndexType(e,t){let l=2;const p=this.Ze(t);return Rt.forEach(p,v=>this.Xe(e,v).next(C=>{C?0!==l&&C.fields.length<function(L){let Q=new ft(wi.comparator),ie=!1;for(const Ce of L.filters)for(const Je of Ce.getFlattenedFilters())Je.field.isKeyField()||("array-contains"===Je.op||"array-contains-any"===Je.op?ie=!0:Q=Q.add(Je.field));for(const Ce of L.orderBy)Ce.field.isKeyField()||(Q=Q.add(Ce.field));return Q.size+(ie?1:0)}(v)&&(l=1):l=0})).next(()=>null!==t.limit&&p.length>1&&2===l?1:l)}un(e,t){const l=new Ec;for(const p of Qo(e)){const v=t.data.field(p.fieldPath);if(null==v)return null;const C=l.Le(p.kind);Ll.pe.oe(v,C)}return l.$e()}sn(e){const t=new Ec;return Ll.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const l=new Ec;return Ll.pe.oe(Au(this.databaseId,t),l.Le(function(p){const v=Qo(p);return 0===v.length?0:v[v.length-1].kind}(e))),l.$e()}en(e,t,l){if(null===l)return[];let p=[];p.push(new Ec);let v=0;for(const C of Qo(e)){const L=l[v++];for(const Q of p)if(this.an(t,C.fieldPath)&&Nu(L))p=this.hn(p,C,L);else{const ie=Q.Le(C.kind);Ll.pe.oe(L,ie)}}return this.ln(p)}tn(e,t,l){return this.en(e,t,l.position)}ln(e){const t=[];for(let l=0;l<e.length;++l)t[l]=e[l].$e();return t}hn(e,t,l){const p=[...e],v=[];for(const C of l.arrayValue.values||[])for(const L of p){const Q=new Ec;Q.seed(L.$e()),Ll.pe.oe(C,Q.Le(t.kind)),v.push(Q)}return v}an(e,t){return!!e.filters.find(l=>l instanceof yi&&l.field.isEqual(t)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,t){const l=af(e),p=lf(e);return(t?l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):l.j()).next(v=>{const C=[];return Rt.forEach(v,L=>p.get([L.indexId,this.uid]).next(Q=>{C.push(function(ie,Ce){const Je=Ce?new Ar(Ce.sequenceNumber,new Ps(ji(Ce.readTime),new gn(mt(Ce.documentKey)),Ce.largestBatchId)):Ar.empty(),Et=ie.fields.map(([qt,mn])=>new uc(wi.fromServerFormat(qt),mn));return new Pi(ie.indexId,ie.collectionGroup,Et,Je)}(L,Q))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((l,p)=>{const v=l.indexState.sequenceNumber-p.indexState.sequenceNumber;return 0!==v?v:br(l.collectionGroup,p.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,l){const p=af(e),v=lf(e);return this.fn(e).next(C=>p.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(L=>Rt.forEach(L,Q=>v.put(fu(Q.indexId,this.user,C,l)))))}updateIndexEntries(e,t){const l=new Map;return Rt.forEach(t,(p,v)=>{const C=l.get(p.collectionGroup);return(C?Rt.resolve(C):this.getFieldIndexes(e,p.collectionGroup)).next(L=>(l.set(p.collectionGroup,L),Rt.forEach(L,Q=>this.dn(e,p,Q).next(ie=>{const Ce=this.wn(v,Q);return ie.isEqual(Ce)?Rt.resolve():this._n(e,v,Q,ie,Ce)}))))})}mn(e,t,l,p){return Vo(e).put({indexId:p.indexId,uid:this.uid,arrayValue:p.arrayValue,directionalValue:p.directionalValue,orderedDocumentKey:this.cn(l,t.key),documentKey:t.key.path.toArray()})}gn(e,t,l,p){return Vo(e).delete([p.indexId,this.uid,p.arrayValue,p.directionalValue,this.cn(l,t.key),t.key.path.toArray()])}dn(e,t,l){const p=Vo(e);let v=new ft(Ua);return p.Z({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.cn(l,t)])},(C,L)=>{v=v.add(new Kc(l.indexId,t,L.arrayValue,L.directionalValue))}).next(()=>v)}wn(e,t){let l=new ft(Ua);const p=this.un(t,e);if(null==p)return l;const v=Cl(t);if(null!=v){const C=e.data.field(v.fieldPath);if(Nu(C))for(const L of C.arrayValue.values||[])l=l.add(new Kc(t.indexId,e.key,this.sn(L),p))}else l=l.add(new Kc(t.indexId,e.key,po,p));return l}_n(e,t,l,p,v){zt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(L,Q,ie,Ce,Je){const Et=L.getIterator(),qt=Q.getIterator();let mn=An(Et),$n=An(qt);for(;mn||$n;){let yr=!1,ns=!1;if(mn&&$n){const Go=ie(mn,$n);Go<0?ns=!0:Go>0&&(yr=!0)}else null!=mn?ns=!0:yr=!0;yr?(Ce($n),$n=An(qt)):ns?(Je(mn),mn=An(Et)):(mn=An(Et),$n=An(qt))}}(p,v,Ua,L=>{C.push(this.mn(e,t,l,L))},L=>{C.push(this.gn(e,t,l,L))}),Rt.waitFor(C)}fn(e){let t=1;return lf(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,p,v)=>{v.done(),t=p.sequenceNumber+1}).next(()=>t)}createRange(e,t,l){l=l.sort((C,L)=>Ua(C,L)).filter((C,L,Q)=>!L||0!==Ua(C,Q[L-1]));const p=[];p.push(e);for(const C of l){const L=Ua(C,e),Q=Ua(C,t);if(0===L)p[0]=e.qe();else if(L>0&&Q<0)p.push(C),p.push(C.qe());else if(Q>0)break}p.push(t);const v=[];for(let C=0;C<p.length;C+=2){if(this.yn(p[C],p[C+1]))return[];v.push(IDBKeyRange.bound([p[C].indexId,this.uid,p[C].arrayValue,p[C].directionalValue,po,[]],[p[C+1].indexId,this.uid,p[C+1].arrayValue,p[C+1].directionalValue,po,[]]))}return v}yn(e,t){return Ua(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(lp)}getMinOffset(e,t){return Rt.mapArray(this.Ze(t),l=>this.Xe(e,l).next(p=>p||Sn())).next(lp)}}function Yc(o){return ks(o,"collectionParents")}function Vo(o){return ks(o,"indexEntries")}function af(o){return ks(o,"indexConfiguration")}function lf(o){return ks(o,"indexState")}function lp(o){bn(0!==o.length);let e=o[0].indexState.offset,t=e.largestBatchId;for(let l=1;l<o.length;l++){const p=o[l].indexState.offset;Yl(p,e)<0&&(e=p),t<p.largestBatchId&&(t=p.largestBatchId)}return new Ps(e.readTime,e.documentKey,t)}const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Aa{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new Aa(e,Aa.DEFAULT_COLLECTION_PERCENTILE,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qg(o,e,t){const l=o.store("mutations"),p=o.store("documentMutations"),v=[],C=IDBKeyRange.only(t.batchId);let L=0;const Q=l.Z({range:C},(Ce,Je,Et)=>(L++,Et.delete()));v.push(Q.next(()=>{bn(1===L)}));const ie=[];for(const Ce of t.mutations){const Je=un(e,Ce.key.path,t.batchId);v.push(p.delete(Je)),ie.push(Ce.key)}return Rt.waitFor(v).next(()=>ie)}function kd(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw Sn();e=o.noDocument}return JSON.stringify(e).length}Aa.DEFAULT_COLLECTION_PERCENTILE=10,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Aa.DEFAULT=new Aa(41943040,Aa.DEFAULT_COLLECTION_PERCENTILE,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Aa.DISABLED=new Aa(-1,0,0);class Zp{constructor(e,t,l,p){this.userId=e,this.serializer=t,this.indexManager=l,this.referenceDelegate=p,this.pn={}}static ie(e,t,l,p){bn(""!==e.uid);const v=e.isAuthenticated()?e.uid:"";return new Zp(v,t,l,p)}checkEmpty(e){let t=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fd(e).Z({index:"userMutationsIndex",range:l},(p,v,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,l,p){const v=cp(e),C=fd(e);return C.add({}).next(L=>{bn("number"==typeof L);const Q=new Nd(L,t,l,p),ie=function(Et,qt,mn){const $n=mn.baseMutations.map(ns=>I(Et.se,ns)),yr=mn.mutations.map(ns=>I(Et.se,ns));return{userId:qt,batchId:mn.batchId,localWriteTimeMs:mn.localWriteTime.toMillis(),baseMutations:$n,mutations:yr}}(this.serializer,this.userId,Q),Ce=[];let Je=new ft((Et,qt)=>br(Et.canonicalString(),qt.canonicalString()));for(const Et of p){const qt=un(this.userId,Et.key.path,L);Je=Je.add(Et.key.path.popLast()),Ce.push(C.put(ie)),Ce.push(v.put(qt,_r))}return Je.forEach(Et=>{Ce.push(this.indexManager.addToCollectionParentIndex(e,Et))}),e.addOnCommittedListener(()=>{this.pn[L]=Q.keys()}),Rt.waitFor(Ce).next(()=>Q)})}lookupMutationBatch(e,t){return fd(e).get(t).next(l=>l?(bn(l.userId===this.userId),Ti(this.serializer,l)):null)}In(e,t){return this.pn[t]?Rt.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(l=>{if(l){const p=l.keys();return this.pn[t]=p,p}return null})}getNextMutationBatchAfterBatchId(e,t){const l=t+1,p=IDBKeyRange.lowerBound([this.userId,l]);let v=null;return fd(e).Z({index:"userMutationsIndex",range:p},(C,L,Q)=>{L.userId===this.userId&&(bn(L.batchId>=l),v=Ti(this.serializer,L)),Q.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return fd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(p,v,C)=>{l=v.batchId,C.done()}).next(()=>l)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fd(e).j("userMutationsIndex",t).next(l=>l.map(p=>Ti(this.serializer,p)))}getAllMutationBatchesAffectingDocumentKey(e,t){const l=Bn(this.userId,t.path),p=IDBKeyRange.lowerBound(l),v=[];return cp(e).Z({range:p},(C,L,Q)=>{const[ie,Ce,Je]=C,Et=mt(Ce);if(ie===this.userId&&t.path.isEqual(Et))return fd(e).get(Je).next(qt=>{if(!qt)throw Sn();bn(qt.userId===this.userId),v.push(Ti(this.serializer,qt))});Q.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new ft(br);const p=[];return t.forEach(v=>{const C=Bn(this.userId,v.path),L=IDBKeyRange.lowerBound(C),Q=cp(e).Z({range:L},(ie,Ce,Je)=>{const[Et,qt,mn]=ie,$n=mt(qt);Et===this.userId&&v.path.isEqual($n)?l=l.add(mn):Je.done()});p.push(Q)}),Rt.waitFor(p).next(()=>this.Tn(e,l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,p=l.length+1,v=Bn(this.userId,l),C=IDBKeyRange.lowerBound(v);let L=new ft(br);return cp(e).Z({range:C},(Q,ie,Ce)=>{const[Je,Et,qt]=Q,mn=mt(Et);Je===this.userId&&l.isPrefixOf(mn)?mn.length===p&&(L=L.add(qt)):Ce.done()}).next(()=>this.Tn(e,L))}Tn(e,t){const l=[],p=[];return t.forEach(v=>{p.push(fd(e).get(v).next(C=>{if(null===C)throw Sn();bn(C.userId===this.userId),l.push(Ti(this.serializer,C))}))}),Rt.waitFor(p).next(()=>l)}removeMutationBatch(e,t){return Qg(e.at,this.userId,t).next(l=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),Rt.forEach(l,p=>this.referenceDelegate.markPotentiallyOrphaned(e,p))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Rt.resolve();const l=IDBKeyRange.lowerBound([this.userId]),p=[];return cp(e).Z({range:l},(v,C,L)=>{if(v[0]===this.userId){const Q=mt(v[1]);p.push(Q)}else L.done()}).next(()=>{bn(0===p.length)})})}containsKey(e,t){return qp(e,this.userId,t)}An(e){return Jg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qp(o,e,t){const l=Bn(e,t.path),p=l[1],v=IDBKeyRange.lowerBound(l);let C=!1;return cp(o).Z({range:v,Y:!0},(L,Q,ie)=>{const[Ce,Je,Et]=L;Ce===e&&Je===p&&(C=!0),ie.done()}).next(()=>C)}function fd(o){return ks(o,"mutations")}function cp(o){return ks(o,"documentMutations")}function Jg(o){return ks(o,"mutationQueues")}class _u{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new _u(0)}static bn(){return new _u(-1)}}class cf{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const l=new _u(t.highestTargetId);return t.highestTargetId=l.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>rr.fromTimestamp(new Vi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,l){return this.Pn(e).next(p=>(p.highestListenSequenceNumber=t,l&&(p.lastRemoteSnapshotVersion=l.toTimestamp()),t>p.highestListenSequenceNumber&&(p.highestListenSequenceNumber=t),this.Vn(e,p)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(l=>(l.targetCount+=1,this.Dn(t,l),this.Vn(e,l))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>li(e).delete(t.targetId)).next(()=>this.Pn(e)).next(l=>(bn(l.targetCount>0),l.targetCount-=1,this.Vn(e,l)))}removeTargets(e,t,l){let p=0;const v=[];return li(e).Z((C,L)=>{const Q=_s(L);Q.sequenceNumber<=t&&null===l.get(Q.targetId)&&(p++,v.push(this.removeTargetData(e,Q)))}).next(()=>Rt.waitFor(v)).next(()=>p)}forEachTarget(e,t){return li(e).Z((l,p)=>{const v=_s(p);t(v)})}Pn(e){return Qp(e).get("targetGlobalKey").next(t=>(bn(null!==t),t))}Vn(e,t){return Qp(e).put("targetGlobalKey",t)}Sn(e,t){return li(e).put(So(this.serializer,t))}Dn(e,t){let l=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,l=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const l=Dd(t),p=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let v=null;return li(e).Z({range:p,index:"queryTargetsIndex"},(C,L,Q)=>{const ie=_s(L);Ru(t,ie.target)&&(v=ie,Q.done())}).next(()=>v)}addMatchingKeys(e,t,l){const p=[],v=Hu(e);return t.forEach(C=>{const L=_e(C.path);p.push(v.put({targetId:l,path:L})),p.push(this.referenceDelegate.addReference(e,l,C))}),Rt.waitFor(p)}removeMatchingKeys(e,t,l){const p=Hu(e);return Rt.forEach(t,v=>{const C=_e(v.path);return Rt.waitFor([p.delete([l,C]),this.referenceDelegate.removeReference(e,l,v)])})}removeMatchingKeysForTargetId(e,t){const l=Hu(e),p=IDBKeyRange.bound([t],[t+1],!1,!0);return l.delete(p)}getMatchingKeysForTargetId(e,t){const l=IDBKeyRange.bound([t],[t+1],!1,!0),p=Hu(e);let v=zr();return p.Z({range:l,Y:!0},(C,L,Q)=>{const ie=mt(C[1]),Ce=new gn(ie);v=v.add(Ce)}).next(()=>v)}containsKey(e,t){const l=_e(t.path),p=IDBKeyRange.bound([l],[Fc(l)],!1,!0);let v=0;return Hu(e).Z({index:"documentTargetsIndex",Y:!0,range:p},([C,L],Q,ie)=>{0!==C&&(v++,ie.done())}).next(()=>v>0)}ne(e,t){return li(e).get(t).next(l=>l?_s(l):null)}}function li(o){return ks(o,"targets")}function Qp(o){return ks(o,"targetGlobal")}function Hu(o){return ks(o,"targetDocuments")}function Xg([o,e],[t,l]){const p=br(o,t);return 0===p?br(e,l):p}class Gu{constructor(e){this.Cn=e,this.buffer=new ft(Xg),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const l=this.buffer.last();Xg(t,l)<0&&(this.buffer=this.buffer.delete(l).add(t))}}get maxValue(){return this.buffer.last()[0]}}class em{constructor(e,t,l){this.garbageCollector=e,this.asyncQueue=t,this.localStore=l,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;zt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,We.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(l){Ta(l)?zt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield as(l)}yield t.$n(3e5)}))}}class Ul{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(l=>Math.floor(t/100*l))}nthSequenceNumber(e,t){if(0===t)return Rt.resolve(P.ct);const l=new Gu(t);return this.Mn.forEachTarget(e,p=>l.kn(p.sequenceNumber)).next(()=>this.Mn.Bn(e,p=>l.kn(p))).next(()=>l.maxValue)}removeTargets(e,t,l){return this.Mn.removeTargets(e,t,l)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve(o_)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let l,p,v,C,L,Q,ie;const Ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Je=>(Je>this.params.maximumSequenceNumbersToCollect?(zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Je}`),p=this.params.maximumSequenceNumbersToCollect):p=Je,C=Date.now(),this.nthSequenceNumber(e,p))).next(Je=>(l=Je,L=Date.now(),this.removeTargets(e,l,t))).next(Je=>(v=Je,Q=Date.now(),this.removeOrphanedDocuments(e,l))).next(Je=>(ie=Date.now(),xr()<=Ke.in.DEBUG&&zt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-Ce}ms\n\tDetermined least recently used ${p} in `+(L-C)+`ms\n\tRemoved ${v} targets in `+(Q-L)+`ms\n\tRemoved ${Je} documents in `+(ie-Q)+`ms\nTotal Duration: ${ie-Ce}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:p,targetsRemoved:v,documentsRemoved:Je})))}}class Fd{constructor(e,t){this.db=e,this.garbageCollector=new Ul(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>t.next(p=>l+p))}qn(e){let t=0;return this.Bn(e,l=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(l,p)=>t(p))}addReference(e,t,l){return pl(e,l)}removeReference(e,t,l){return pl(e,l)}removeTargets(e,t,l){return this.db.getTargetCache().removeTargets(e,t,l)}markPotentiallyOrphaned(e,t){return pl(e,t)}Kn(e,t){return function(l,p){let v=!1;return Jg(l).X(C=>qp(l,C,p).next(L=>(L&&(v=!0),Rt.resolve(!L)))).next(()=>v)}(e,t)}removeOrphanedDocuments(e,t){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),p=[];let v=0;return this.Un(e,(C,L)=>{if(L<=t){const Q=this.Kn(e,C).next(ie=>{if(!ie)return v++,l.getEntry(e,C).next(()=>(l.removeEntry(C,rr.min()),Hu(e).delete([0,_e(C.path)])))});p.push(Q)}}).next(()=>Rt.waitFor(p)).next(()=>l.apply(e)).next(()=>v)}removeTarget(e,t){const l=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,t){return pl(e,t)}Un(e,t){const l=Hu(e);let p,v=P.ct;return l.Z({index:"documentTargetsIndex"},([C,L],{path:Q,sequenceNumber:ie})=>{0===C?(v!==P.ct&&t(new gn(mt(p)),v),v=ie,p=Q):v=P.ct}).next(()=>{v!==P.ct&&t(new gn(mt(p)),v)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pl(o,e){return Hu(o).put((l=o.currentSequenceNumber,{targetId:0,path:_e(e.path),sequenceNumber:l}));var l}class cy{constructor(){this.changes=new Xn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,es.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?Rt.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,l){return Ld(e).put(l)}removeEntry(e,t,l){return Ld(e).delete(function(p,v){const C=p.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],ai(v),C[C.length-1]]}(t,l))}updateMetadata(e,t){return this.getMetadata(e).next(l=>(l.byteSize+=t,this.Gn(e,l)))}getEntry(e,t){let l=es.newInvalidDocument(t);return Ld(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jp(t))},(p,v)=>{l=this.Qn(t,v)}).next(()=>l)}zn(e,t){let l={size:0,document:es.newInvalidDocument(t)};return Ld(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jp(t))},(p,v)=>{l={document:this.Qn(t,v),size:kd(v)}}).next(()=>l)}getEntries(e,t){let l=cs();return this.jn(e,t,(p,v)=>{const C=this.Qn(p,v);l=l.insert(p,C)}).next(()=>l)}Wn(e,t){let l=cs(),p=new fe(gn.comparator);return this.jn(e,t,(v,C)=>{const L=this.Qn(v,C);l=l.insert(v,L),p=p.insert(v,kd(C))}).next(()=>({documents:l,Hn:p}))}jn(e,t,l){if(t.isEmpty())return Rt.resolve();let p=new ft(l_);t.forEach(Q=>p=p.add(Q));const v=IDBKeyRange.bound(Jp(p.first()),Jp(p.last())),C=p.getIterator();let L=C.getNext();return Ld(e).Z({index:"documentKeyIndex",range:v},(Q,ie,Ce)=>{const Je=gn.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;L&&l_(L,Je)<0;)l(L,null),L=C.getNext();L&&L.isEqual(Je)&&(l(L,ie),L=C.hasNext()?C.getNext():null),L?Ce.G(Jp(L)):Ce.done()}).next(()=>{for(;L;)l(L,null),L=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(e,t,l,p){const v=t.path,C=[v.popLast().toArray(),v.lastSegment(),ai(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],L=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ld(e).j(IDBKeyRange.bound(C,L,!0)).next(Q=>{let ie=cs();for(const Ce of Q){const Je=this.Qn(gn.fromSegments(Ce.prefixPath.concat(Ce.collectionGroup,Ce.documentId)),Ce);Je.isFoundDocument()&&(ct(t,Je)||p.has(Je.key))&&(ie=ie.insert(Je.key,Je))}return ie})}getAllFromCollectionGroup(e,t,l,p){let v=cs();const C=yh(t,l),L=yh(t,Ps.max());return Ld(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,L,!0)},(Q,ie,Ce)=>{const Je=this.Qn(gn.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);v=v.insert(Je.key,Je),v.size===p&&Ce.done()}).next(()=>v)}newChangeBuffer(e){return new dy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hy(e).get("remoteDocumentGlobalKey").next(t=>(bn(!!t),t))}Gn(e,t){return hy(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const l=function ms(o,e){let t;if(e.document)t=op(o.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=gn.fromSegments(e.noDocument.path),p=ji(e.noDocument.readTime);t=es.newNoDocument(l,p),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Sn();{const l=gn.fromSegments(e.unknownDocument.path),p=ji(e.unknownDocument.version);t=es.newUnknownDocument(l,p)}}return e.readTime&&t.setReadTime(function(l){const p=new Vi(l[0],l[1]);return rr.fromTimestamp(p)}(e.readTime)),t}(this.serializer,t);if(!l.isNoDocument()||!l.version.isEqual(rr.min()))return l}return es.newInvalidDocument(e)}}function a_(o){return new uy(o)}class dy extends cy{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Xn(l=>l.toString(),(l,p)=>l.isEqual(p))}applyChanges(e){const t=[];let l=0,p=new ft((v,C)=>br(v.canonicalString(),C.canonicalString()));return this.changes.forEach((v,C)=>{const L=this.Yn.get(v);if(t.push(this.Jn.removeEntry(e,v,L.readTime)),C.isValidDocument()){const Q=qr(this.Jn.serializer,C);p=p.add(v.path.popLast()),l+=kd(Q)-L.size,t.push(this.Jn.addEntry(e,v,Q))}else if(l-=L.size,this.trackRemovals){const Q=qr(this.Jn.serializer,C.convertToNoDocument(rr.min()));t.push(this.Jn.addEntry(e,v,Q))}}),p.forEach(v=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,v))}),t.push(this.Jn.updateMetadata(e,l)),Rt.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(l=>(this.Yn.set(t,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:l,Hn:p})=>(p.forEach((v,C)=>{this.Yn.set(v,{size:C,readTime:l.get(v).readTime})}),l))}}function hy(o){return ks(o,"remoteDocumentGlobal")}function Ld(o){return ks(o,"remoteDocumentsV14")}function Jp(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yh(o,e){const t=e.documentKey.path.toArray();return[o,ai(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function l_(o,e){const t=o.path.toArray(),l=e.path.toArray();let p=0;for(let v=0;v<t.length-2&&v<l.length-2;++v)if(p=br(t[v],l[v]),p)return p;return p=br(t.length,l.length),p||(p=br(t[t.length-2],l[l.length-2]),p||br(t[t.length-1],l[l.length-1]))}class c_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fy{constructor(e,t,l,p){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=p}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(p=>(l=p,this.remoteDocumentCache.getEntry(e,t))).next(p=>(null!==l&&Hc(l.mutation,p,Gn.empty(),Vi.now()),p))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,zr()).next(()=>l))}getLocalViewOfDocuments(e,t,l=zr()){const p=Ia();return this.populateOverlays(e,p,t).next(()=>this.computeViews(e,t,p,l).next(v=>{let C=kl();return v.forEach((L,Q)=>{C=C.insert(L,Q.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const l=Ia();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,zr()))}populateOverlays(e,t,l){const p=[];return l.forEach(v=>{t.has(v)||p.push(v)}),this.documentOverlayCache.getOverlays(e,p).next(v=>{v.forEach((C,L)=>{t.set(C,L)})})}computeViews(e,t,l,p){let v=cs();const C=Jl(),L=Jl();return t.forEach((Q,ie)=>{const Ce=l.get(ie.key);p.has(ie.key)&&(void 0===Ce||Ce.mutation instanceof Ss)?v=v.insert(ie.key,ie):void 0!==Ce?(C.set(ie.key,Ce.mutation.getFieldMask()),Hc(Ce.mutation,ie,Ce.mutation.getFieldMask(),Vi.now())):C.set(ie.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,v).next(Q=>(Q.forEach((ie,Ce)=>C.set(ie,Ce)),t.forEach((ie,Ce)=>{var Je;return L.set(ie,new c_(Ce,null!==(Je=C.get(ie))&&void 0!==Je?Je:null))}),L))}recalculateAndSaveOverlays(e,t){const l=Jl();let p=new fe((C,L)=>C-L),v=zr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const L of C)L.keys().forEach(Q=>{const ie=t.get(Q);if(null===ie)return;let Ce=l.get(Q)||Gn.empty();Ce=L.applyToLocalView(ie,Ce),l.set(Q,Ce);const Je=(p.get(L.batchId)||zr()).add(Q);p=p.insert(L.batchId,Je)})}).next(()=>{const C=[],L=p.getReverseIterator();for(;L.hasNext();){const Q=L.getNext(),ie=Q.key,Ce=Q.value,Je=Fu();Ce.forEach(Et=>{if(!v.has(Et)){const qt=Vp(t.get(Et),l.get(Et));null!==qt&&Je.set(Et,qt),v=v.add(Et)}}),C.push(this.documentOverlayCache.saveOverlays(e,ie,Je))}return Rt.waitFor(C)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return gn.isDocumentKey((p=t).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var p}getNextDocuments(e,t,l,p){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,p).next(v=>{const C=p-v.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,p-v.size):Rt.resolve(Ia());let L=-1,Q=v;return C.next(ie=>Rt.forEach(ie,(Ce,Je)=>(L<Je.largestBatchId&&(L=Je.largestBatchId),v.get(Ce)?Rt.resolve():this.remoteDocumentCache.getEntry(e,Ce).next(Et=>{Q=Q.insert(Ce,Et)}))).next(()=>this.populateOverlays(e,ie,v)).next(()=>this.computeViews(e,Q,ie,zr())).next(Ce=>({batchId:L,changes:uh(Ce)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gn(t)).next(l=>{let p=kl();return l.isFoundDocument()&&(p=p.insert(l.key,l)),p})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const p=t.collectionGroup;let v=kl();return this.indexManager.getCollectionParents(e,p).next(C=>Rt.forEach(C,L=>{const Q=(ie=t,Ce=L.child(p),new Ql(Ce,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,Ce;return this.getDocumentsMatchingCollectionQuery(e,Q,l).next(ie=>{ie.forEach((Ce,Je)=>{v=v.insert(Ce,Je)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,t,l){let p;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId).next(v=>(p=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,l,p))).next(v=>{p.forEach((L,Q)=>{const ie=Q.getKey();null===v.get(ie)&&(v=v.insert(ie,es.newInvalidDocument(ie)))});let C=kl();return v.forEach((L,Q)=>{const ie=p.get(L);void 0!==ie&&Hc(ie.mutation,Q,Gn.empty(),Vi.now()),ct(t,Q)&&(C=C.insert(L,Q))}),C})}}class ov{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Rt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var l;return this.Zn.set(t.id,{id:(l=t).id,version:l.version,createTime:to(l.createTime)}),Rt.resolve()}getNamedQuery(e,t){return Rt.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(l=t).name,query:zs(l.bundledQuery),readTime:to(l.readTime)}),Rt.resolve();var l}}class $u{constructor(){this.overlays=new fe(gn.comparator),this.ts=new Map}getOverlay(e,t){return Rt.resolve(this.overlays.get(t))}getOverlays(e,t){const l=Ia();return Rt.forEach(t,p=>this.getOverlay(e,p).next(v=>{null!==v&&l.set(p,v)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((p,v)=>{this.re(e,t,v)}),Rt.resolve()}removeOverlaysForBatchId(e,t,l){const p=this.ts.get(l);return void 0!==p&&(p.forEach(v=>this.overlays=this.overlays.remove(v)),this.ts.delete(l)),Rt.resolve()}getOverlaysForCollection(e,t,l){const p=Ia(),v=t.length+1,C=new gn(t.child("")),L=this.overlays.getIteratorFrom(C);for(;L.hasNext();){const Q=L.getNext().value,ie=Q.getKey();if(!t.isPrefixOf(ie.path))break;ie.path.length===v&&Q.largestBatchId>l&&p.set(Q.getKey(),Q)}return Rt.resolve(p)}getOverlaysForCollectionGroup(e,t,l,p){let v=new fe((ie,Ce)=>ie-Ce);const C=this.overlays.getIterator();for(;C.hasNext();){const ie=C.getNext().value;if(ie.getKey().getCollectionGroup()===t&&ie.largestBatchId>l){let Ce=v.get(ie.largestBatchId);null===Ce&&(Ce=Ia(),v=v.insert(ie.largestBatchId,Ce)),Ce.set(ie.getKey(),ie)}}const L=Ia(),Q=v.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((ie,Ce)=>L.set(ie,Ce)),!(L.size()>=p)););return Rt.resolve(L)}re(e,t,l){const p=this.overlays.get(l.key);if(null!==p){const C=this.ts.get(p.largestBatchId).delete(l.key);this.ts.set(p.largestBatchId,C)}this.overlays=this.overlays.insert(l.key,new vc(t,l));let v=this.ts.get(t);void 0===v&&(v=zr(),this.ts.set(t,v)),this.ts.set(t,v.add(l.key))}}class Fs{constructor(){this.es=new ft(Ba.ns),this.ss=new ft(Ba.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const l=new Ba(e,t);this.es=this.es.add(l),this.ss=this.ss.add(l)}os(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.us(new Ba(e,t))}cs(e,t){e.forEach(l=>this.removeReference(l,t))}hs(e){const t=new gn(new Wr([])),l=new Ba(t,e),p=new Ba(t,e+1),v=[];return this.ss.forEachInRange([l,p],C=>{this.us(C),v.push(C.key)}),v}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new gn(new Wr([])),l=new Ba(t,e),p=new Ba(t,e+1);let v=zr();return this.ss.forEachInRange([l,p],C=>{v=v.add(C.key)}),v}containsKey(e){const t=new Ba(e,0),l=this.es.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class Ba{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return gn.comparator(e.key,t.key)||br(e.ds,t.ds)}static rs(e,t){return br(e.ds,t.ds)||gn.comparator(e.key,t.key)}}class av{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new ft(Ba.ns)}checkEmpty(e){return Rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,p){const v=this.ws;this.ws++;const C=new Nd(v,t,l,p);this.mutationQueue.push(C);for(const L of p)this._s=this._s.add(new Ba(L.key,v)),this.indexManager.addToCollectionParentIndex(e,L.key.path.popLast());return Rt.resolve(C)}lookupMutationBatch(e,t){return Rt.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const p=this.ys(t+1),v=p<0?0:p;return Rt.resolve(this.mutationQueue.length>v?this.mutationQueue[v]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new Ba(t,0),p=new Ba(t,Number.POSITIVE_INFINITY),v=[];return this._s.forEachInRange([l,p],C=>{const L=this.gs(C.ds);v.push(L)}),Rt.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new ft(br);return t.forEach(p=>{const v=new Ba(p,0),C=new Ba(p,Number.POSITIVE_INFINITY);this._s.forEachInRange([v,C],L=>{l=l.add(L.ds)})}),Rt.resolve(this.ps(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,p=l.length+1;let v=l;gn.isDocumentKey(v)||(v=v.child(""));const C=new Ba(new gn(v),0);let L=new ft(br);return this._s.forEachWhile(Q=>{const ie=Q.key.path;return!!l.isPrefixOf(ie)&&(ie.length===p&&(L=L.add(Q.ds)),!0)},C),Rt.resolve(this.ps(L))}ps(e){const t=[];return e.forEach(l=>{const p=this.gs(l);null!==p&&t.push(p)}),t}removeMutationBatch(e,t){bn(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let l=this._s;return Rt.forEach(t.mutations,p=>{const v=new Ba(p.key,t.batchId);return l=l.delete(v),this.referenceDelegate.markPotentiallyOrphaned(e,p.key)}).next(()=>{this._s=l})}En(e){}containsKey(e,t){const l=new Ba(t,0),p=this._s.firstAfterOrEqual(l);return Rt.resolve(t.isEqual(p&&p.key))}performConsistencyCheck(e){return Rt.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tm{constructor(e){this.Ts=e,this.docs=new fe(gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,p=this.docs.get(l),v=p?p.size:0,C=this.Ts(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:C}),this.size+=C-v,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return Rt.resolve(l?l.document.mutableCopy():es.newInvalidDocument(t))}getEntries(e,t){let l=cs();return t.forEach(p=>{const v=this.docs.get(p);l=l.insert(p,v?v.document.mutableCopy():es.newInvalidDocument(p))}),Rt.resolve(l)}getDocumentsMatchingQuery(e,t,l,p){let v=cs();const C=t.path,L=new gn(C.child("")),Q=this.docs.getIteratorFrom(L);for(;Q.hasNext();){const{key:ie,value:{document:Ce}}=Q.getNext();if(!C.isPrefixOf(ie.path))break;ie.path.length>C.length+1||Yl(eh(Ce),l)<=0||(p.has(Ce.key)||ct(t,Ce))&&(v=v.insert(Ce.key,Ce.mutableCopy()))}return Rt.resolve(v)}getAllFromCollectionGroup(e,t,l,p){Sn()}Es(e,t){return Rt.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new u_(this)}getSize(e){return Rt.resolve(this.size)}}class u_ extends cy{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((l,p)=>{p.isValidDocument()?t.push(this.Jn.addEntry(e,p)):this.Jn.removeEntry(l)}),Rt.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class up{constructor(e){this.persistence=e,this.As=new Xn(t=>Dd(t),Ru),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Fs,this.targetCount=0,this.bs=_u.vn()}forEachTarget(e,t){return this.As.forEach((l,p)=>t(p)),Rt.resolve()}getLastRemoteSnapshotVersion(e){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rt.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.Rs&&(this.Rs=t),Rt.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,Rt.resolve()}updateTargetData(e,t){return this.Sn(t),Rt.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(e,t,l){let p=0;const v=[];return this.As.forEach((C,L)=>{L.sequenceNumber<=t&&null===l.get(L.targetId)&&(this.As.delete(C),v.push(this.removeMatchingKeysForTargetId(e,L.targetId)),p++)}),Rt.waitFor(v).next(()=>p)}getTargetCount(e){return Rt.resolve(this.targetCount)}getTargetData(e,t){const l=this.As.get(t)||null;return Rt.resolve(l)}addMatchingKeys(e,t,l){return this.vs.os(t,l),Rt.resolve()}removeMatchingKeys(e,t,l){this.vs.cs(t,l);const p=this.persistence.referenceDelegate,v=[];return p&&t.forEach(C=>{v.push(p.markPotentiallyOrphaned(e,C))}),Rt.waitFor(v)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),Rt.resolve()}getMatchingKeysForTargetId(e,t){const l=this.vs.fs(t);return Rt.resolve(l)}containsKey(e,t){return Rt.resolve(this.vs.containsKey(t))}}class zu{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new P(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new up(this),this.indexManager=new ys,this.remoteDocumentCache=new tm(l=>this.referenceDelegate.Cs(l)),this.serializer=new Ei(t),this.xs=new ov(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $u,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.Ps[e.toKey()];return l||(l=new av(t,this.referenceDelegate),this.Ps[e.toKey()]=l),l}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,l){zt("MemoryPersistence","Starting transaction:",e);const p=new Xp(this.Vs.next());return this.referenceDelegate.Ns(),l(p).next(v=>this.referenceDelegate.ks(p).next(()=>v)).toPromise().then(v=>(p.raiseOnCommittedEvent(),v))}Os(e,t){return Rt.or(Object.values(this.Ps).map(l=>()=>l.containsKey(e,t)))}}class Xp extends dc{constructor(e){super(),this.currentSequenceNumber=e}}class Jr{constructor(e){this.persistence=e,this.$s=new Fs,this.Ms=null}static Fs(e){return new Jr(e)}get Bs(){if(this.Ms)return this.Ms;throw Sn()}addReference(e,t,l){return this.$s.addReference(l,t),this.Bs.delete(l.toString()),Rt.resolve()}removeReference(e,t,l){return this.$s.removeReference(l,t),this.Bs.add(l.toString()),Rt.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),Rt.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(p=>this.Bs.add(p.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(p=>{p.forEach(v=>this.Bs.add(v.toString()))}).next(()=>l.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.Bs,l=>{const p=gn.fromPath(l);return this.Ls(e,p).next(v=>{v||t.removeEntry(p,rr.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(l=>{l?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return Rt.or([()=>Rt.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class lv{constructor(e){this.serializer=e}M(e,t,l,p){const v=new ed("createOrUpgrade",t);var L;l<1&&p>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",an,{unique:!0}),L.createObjectStore("documentMutations"),jr(e),function(L){L.createObjectStore("remoteDocuments")}(e));let C=Rt.resolve();return l<3&&p>=3&&(0!==l&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),jr(e)),C=C.next(()=>function(L){const Q=L.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rr.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",ie)}(v))),l<4&&p>=4&&(0!==l&&(C=C.next(()=>function(L,Q){return Q.store("mutations").j().next(ie=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",an,{unique:!0});const Ce=Q.store("mutations"),Je=ie.map(Et=>Ce.put(Et));return Rt.waitFor(Je)})}(e,v))),C=C.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&p>=5&&(C=C.next(()=>this.qs(v))),l<6&&p>=6&&(C=C.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.Us(v)))),l<7&&p>=7&&(C=C.next(()=>this.Ks(v))),l<8&&p>=8&&(C=C.next(()=>this.Gs(e,v))),l<9&&p>=9&&(C=C.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&p>=10&&(C=C.next(()=>this.Qs(v))),l<11&&p>=11&&(C=C.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&p>=12&&(C=C.next(()=>{!function(L){const Q=L.createObjectStore("documentOverlays",{keyPath:th});Q.createIndex("collectionPathOverlayIndex",nd,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",fc,{unique:!1})}(e)})),l<13&&p>=13&&(C=C.next(()=>function(L){const Q=L.createObjectStore("remoteDocumentsV14",{keyPath:ti});Q.createIndex("documentKeyIndex",Es),Q.createIndex("collectionGroupIndex",fo)}(e)).next(()=>this.zs(e,v)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&p>=14&&(C=C.next(()=>this.js(e,v))),l<15&&p>=15&&(C=C.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:Io}).createIndex("sequenceNumberIndex",Js,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:xl}).createIndex("documentKeyIndex",hc,{unique:!1})}(e))),C}Us(e){let t=0;return e.store("remoteDocuments").Z((l,p)=>{t+=kd(p)}).next(()=>{const l={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}qs(e){const t=e.store("mutationQueues"),l=e.store("mutations");return t.j().next(p=>Rt.forEach(p,v=>{const C=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",C).next(L=>Rt.forEach(L,Q=>{bn(Q.userId===v.userId);const ie=Ti(this.serializer,Q);return Qg(e,v.userId,ie).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(p=>{const v=[];return l.Z((C,L)=>{const Q=new Wr(C),ie=[0,_e(Q)];v.push(t.get(ie).next(Ce=>Ce?Rt.resolve():t.put({targetId:0,path:_e(Q),sequenceNumber:p.highestListenSequenceNumber})))}).next(()=>Rt.waitFor(v))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:nu});const l=t.store("collectionParents"),p=new Qr,v=C=>{if(p.add(C)){const L=C.lastSegment(),Q=C.popLast();return l.put({collectionId:L,parent:_e(Q)})}};return t.store("remoteDocuments").Z({Y:!0},(C,L)=>{const Q=new Wr(C);return v(Q.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([C,L,Q],ie)=>{const Ce=mt(L);return v(Ce.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((l,p)=>{const v=_s(p),C=So(this.serializer,v);return t.put(C)})}zs(e,t){const l=t.store("remoteDocuments"),p=[];return l.Z((v,C)=>{const L=t.store("remoteDocumentsV14"),Q=(ie=C,ie.document?new gn(Wr.fromString(ie.document.name).popFirst(5)):ie.noDocument?gn.fromSegments(ie.noDocument.path):ie.unknownDocument?gn.fromSegments(ie.unknownDocument.path):Sn()).path.toArray();var ie;const Ce={prefixPath:Q.slice(0,Q.length-2),collectionGroup:Q[Q.length-2],documentId:Q[Q.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};p.push(L.put(Ce))}).next(()=>Rt.waitFor(p))}js(e,t){const l=t.store("mutations"),p=a_(this.serializer),v=new zu(Jr.Fs,this.serializer.se);return l.j().next(C=>{const L=new Map;return C.forEach(Q=>{var ie;let Ce=null!==(ie=L.get(Q.userId))&&void 0!==ie?ie:zr();Ti(this.serializer,Q).keys().forEach(Je=>Ce=Ce.add(Je)),L.set(Q.userId,Ce)}),Rt.forEach(L,(Q,ie)=>{const Ce=new nr(ie),Je=dd.ie(this.serializer,Ce),Et=v.getIndexManager(Ce),qt=Zp.ie(Ce,this.serializer,Et,v.referenceDelegate);return new fy(p,qt,Je,Et).recalculateAndSaveOverlaysForDocumentKeys(new rd(t,P.ct),Q).next()})})}}function jr(o){o.createObjectStore("targetDocuments",{keyPath:dl}).createIndex("documentTargetsIndex",Ir,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Do,{unique:!0}),o.createObjectStore("targetGlobal")}const nm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class no{constructor(e,t,l,p,v,C,L,Q,ie,Ce,Je=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=l,this.Ws=v,this.window=C,this.document=L,this.Hs=ie,this.Js=Ce,this.Ys=Je,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=Et=>Promise.resolve(),!no.D())throw new Ut(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fd(this,p),this.si=t+"main",this.serializer=new Ei(Q),this.ii=new ki(this.si,this.Ys,new lv(this.serializer)),this.Ds=new cf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=a_(this.serializer),this.xs=new pu,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===Ce&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(Tt.FAILED_PRECONDITION,nm);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new P(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var l=(0,We.Z)(function*(p){if(t.started)return e(p)});return function(p){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,We.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,We.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ta(e))return zt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return zt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return vh(e).get("owner").next(t=>Rt.resolve(this._i(t)))}mi(e){return rm(e).delete(this.clientId)}gi(){var e=this;return(0,We.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const p=ks(l,"clientMetadata");return p.j().next(v=>{const C=e.pi(v,18e5),L=v.filter(Q=>-1===C.indexOf(Q));return Rt.forEach(L,Q=>p.delete(Q.clientId)).next(()=>L)})}).catch(()=>[]);if(e.ri)for(const l of t)e.ri.removeItem(e.Ii(l.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?Rt.resolve(!0):vh(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Ut(Tt.FAILED_PRECONDITION,nm);return!1}}return!(!this.networkEnabled||!this.inForeground)||rm(e).j().next(l=>void 0===this.pi(l,5e3).find(p=>{if(this.clientId!==p.clientId){const C=!this.inForeground&&p.inForeground,L=this.networkEnabled===p.networkEnabled;if(!this.networkEnabled&&p.networkEnabled||C&&L)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&zt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,We.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const l=new rd(t,P.ct);return e.di(l).next(()=>e.mi(l))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(l=>this.yi(l.updateTimeMs,t)&&!this.Ti(l.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>rm(e).j().next(t=>this.pi(t,18e5).map(l=>l.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return Zp.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qg(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return dd.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,l){zt("IndexedDbPersistence","Starting transaction:",e);const p="readonly"===t?"readonly":"readwrite",v=15===(C=this.Ys)?Cs:14===C?ru:13===C?Nl:12===C?ha:11===C?Gs:void Sn();var C;let L;return this.ii.runTransaction(e,p,v,Q=>(L=new rd(Q,this.Vs?this.Vs.next():P.ct),"readwrite-primary"===t?this.li(L).next(ie=>!!ie||this.fi(L)).next(ie=>{if(!ie)throw mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Ut(Tt.FAILED_PRECONDITION,Jo);return l(L)}).next(ie=>this.wi(L).next(()=>ie)):this.Pi(L).next(()=>l(L)))).then(Q=>(L.raiseOnCommittedEvent(),Q))}Pi(e){return vh(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ut(Tt.FAILED_PRECONDITION,nm)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vh(e).put("owner",t)}static D(){return ki.D()}di(e){const t=vh(e);return t.get("owner").next(l=>this._i(l)?(zt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Rt.resolve())}yi(e,t){const l=Date.now();return!(e<l-t||e>l&&(mr(`Detected an update time that is in the future: ${e} > ${l}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,Xe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const l=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return zt("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return mr("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){mr("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vh(o){return ks(o,"owner")}function rm(o){return ks(o,"clientMetadata")}function eg(o,e){let t=o.projectId;return o.isDefaultDatabase||(t+="."+o.database),"firestore/"+e+"/"+t+"/"}class tg{constructor(e,t,l,p){this.targetId=e,this.fromCache=t,this.Vi=l,this.Si=p}static Di(e,t){let l=zr(),p=zr();for(const v of t.docChanges)switch(v.type){case 0:l=l.add(v.doc.key);break;case 1:p=p.add(v.doc.key)}return new tg(e,t.fromCache,l,p)}}class uf{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,l,p){return this.Ni(e,t).next(v=>v||this.ki(e,t,p,l)).next(v=>v||this.Oi(e,t))}Ni(e,t){if(ch(t))return Rt.resolve(null);let l=N(t);return this.indexManager.getIndexType(e,l).next(p=>0===p?null:(null!==t.limit&&1===p&&(t=D(t,null,"F"),l=N(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(v=>{const C=zr(...v);return this.xi.getDocuments(e,C).next(L=>this.indexManager.getMinOffset(e,l).next(Q=>{const ie=this.$i(t,L);return this.Mi(t,ie,C,Q.readTime)?this.Ni(e,D(t,null,"F")):this.Fi(e,ie,t,Q)}))})))}ki(e,t,l,p){return ch(t)||p.isEqual(rr.min())?this.Oi(e,t):this.xi.getDocuments(e,l).next(v=>{const C=this.$i(t,v);return this.Mi(t,C,l,p)?this.Oi(e,t):(xr()<=Ke.in.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),Ae(t)),this.Fi(e,C,t,Ea(p,-1)))})}$i(e,t){let l=new ft(_n(e));return t.forEach((p,v)=>{ct(e,v)&&(l=l.add(v))}),l}Mi(e,t,l,p){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const v="F"===e.limitType?t.last():t.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(p)>0)}Oi(e,t){return xr()<=Ke.in.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",Ae(t)),this.xi.getDocumentsMatchingQuery(e,t,Ps.min())}Fi(e,t,l,p){return this.xi.getDocumentsMatchingQuery(e,l,p).next(v=>(t.forEach(C=>{v=v.insert(C.key,C)}),v))}}class dp{constructor(e,t,l,p){this.persistence=e,this.Bi=t,this.serializer=p,this.Li=new fe(br),this.qi=new Xn(v=>Dd(v),Ru),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(l)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fy(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function hp(o,e,t,l){return new dp(o,e,t,l)}function py(o,e){return im.apply(this,arguments)}function im(){return im=(0,We.Z)(function*(o,e){const t=cn(o);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let p;return t.mutationQueue.getAllMutationBatches(l).next(v=>(p=v,t.Gi(e),t.mutationQueue.getAllMutationBatches(l))).next(v=>{const C=[],L=[];let Q=zr();for(const ie of p){C.push(ie.batchId);for(const Ce of ie.mutations)Q=Q.add(Ce.key)}for(const ie of v){L.push(ie.batchId);for(const Ce of ie.mutations)Q=Q.add(Ce.key)}return t.localDocuments.getDocuments(l,Q).next(ie=>({Qi:ie,removedBatchIds:C,addedBatchIds:L}))})})}),im.apply(this,arguments)}function fp(o,e){const t=cn(o);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const p=e.batch.keys(),v=t.Ki.newChangeBuffer({trackRemovals:!0});return function(C,L,Q,ie){const Ce=Q.batch,Je=Ce.keys();let Et=Rt.resolve();return Je.forEach(qt=>{Et=Et.next(()=>ie.getEntry(L,qt)).next(mn=>{const $n=Q.docVersions.get(qt);bn(null!==$n),mn.version.compareTo($n)<0&&(Ce.applyToRemoteDocument(mn,Q),mn.isValidDocument()&&(mn.setReadTime(Q.commitVersion),ie.addEntry(mn)))})}),Et.next(()=>C.mutationQueue.removeMutationBatch(L,Ce))}(t,l,e,v).next(()=>v.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,p,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(C){let L=zr();for(let Q=0;Q<C.mutationResults.length;++Q)C.mutationResults[Q].transformResults.length>0&&(L=L.add(C.batch.mutations[Q].key));return L}(e))).next(()=>t.localDocuments.getDocuments(l,p))})}function d_(o){const e=cn(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function pd(o,e){const t=cn(o),l=e.snapshotVersion;let p=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const C=t.Ki.newChangeBuffer({trackRemovals:!0});p=t.Li;const L=[];e.targetChanges.forEach((Ce,Je)=>{const Et=p.get(Je);if(!Et)return;L.push(t.Ds.removeMatchingKeys(v,Ce.removedDocuments,Je).next(()=>t.Ds.addMatchingKeys(v,Ce.addedDocuments,Je)));let qt=Et.withSequenceNumber(v.currentSequenceNumber);var mn,$n,yr;e.targetMismatches.has(Je)?qt=qt.withResumeToken(jn.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):Ce.resumeToken.approximateByteSize()>0&&(qt=qt.withResumeToken(Ce.resumeToken,l)),p=p.insert(Je,qt),$n=qt,yr=Ce,(0===(mn=Et).resumeToken.approximateByteSize()||$n.snapshotVersion.toMicroseconds()-mn.snapshotVersion.toMicroseconds()>=3e8||yr.addedDocuments.size+yr.modifiedDocuments.size+yr.removedDocuments.size>0)&&L.push(t.Ds.updateTargetData(v,qt))});let Q=cs(),ie=zr();if(e.documentUpdates.forEach(Ce=>{e.resolvedLimboDocuments.has(Ce)&&L.push(t.persistence.referenceDelegate.updateLimboDocument(v,Ce))}),L.push(gy(v,C,e.documentUpdates).next(Ce=>{Q=Ce.zi,ie=Ce.ji})),!l.isEqual(rr.min())){const Ce=t.Ds.getLastRemoteSnapshotVersion(v).next(Je=>t.Ds.setTargetsMetadata(v,v.currentSequenceNumber,l));L.push(Ce)}return Rt.waitFor(L).next(()=>C.apply(v)).next(()=>t.localDocuments.getLocalViewOfDocuments(v,Q,ie)).next(()=>Q)}).then(v=>(t.Li=p,v))}function gy(o,e,t){let l=zr(),p=zr();return t.forEach(v=>l=l.add(v)),e.getEntries(o,l).next(v=>{let C=cs();return t.forEach((L,Q)=>{const ie=v.get(L);Q.isFoundDocument()!==ie.isFoundDocument()&&(p=p.add(L)),Q.isNoDocument()&&Q.version.isEqual(rr.min())?(e.removeEntry(L,Q.readTime),C=C.insert(L,Q)):!ie.isValidDocument()||Q.version.compareTo(ie.version)>0||0===Q.version.compareTo(ie.version)&&ie.hasPendingWrites?(e.addEntry(Q),C=C.insert(L,Q)):zt("LocalStore","Ignoring outdated watch update for ",L,". Current version:",ie.version," Watch version:",Q.version)}),{zi:C,ji:p}})}function h_(o,e){const t=cn(o);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function bh(o,e){const t=cn(o);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let p;return t.Ds.getTargetData(l,e).next(v=>v?(p=v,Rt.resolve(p)):t.Ds.allocateTargetId(l).next(C=>(p=new ii(e,C,0,l.currentSequenceNumber),t.Ds.addTargetData(l,p).next(()=>p))))}).then(l=>{const p=t.Li.get(l.targetId);return(null===p||l.snapshotVersion.compareTo(p.snapshotVersion)>0)&&(t.Li=t.Li.insert(l.targetId,l),t.qi.set(e,l.targetId)),l})}function wh(o,e,t){return my.apply(this,arguments)}function my(){return my=(0,We.Z)(function*(o,e,t){const l=cn(o),p=l.Li.get(e),v=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",v,C=>l.persistence.referenceDelegate.removeTarget(C,p)))}catch(C){if(!Ta(C))throw C;zt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}l.Li=l.Li.remove(e),l.qi.delete(p.target)}),my.apply(this,arguments)}function ng(o,e,t){const l=cn(o);let p=rr.min(),v=zr();return l.persistence.runTransaction("Execute query","readonly",C=>function(L,Q,ie){const Ce=cn(L),Je=Ce.qi.get(ie);return void 0!==Je?Rt.resolve(Ce.Li.get(Je)):Ce.Ds.getTargetData(Q,ie)}(l,C,N(e)).next(L=>{if(L)return p=L.lastLimboFreeSnapshotVersion,l.Ds.getMatchingKeysForTargetId(C,L.targetId).next(Q=>{v=Q})}).next(()=>l.Bi.getDocumentsMatchingQuery(C,e,t?p:rr.min(),t?v:zr())).next(L=>(sm(l,Vt(e),L),{documents:L,Wi:v})))}function cv(o,e){const t=cn(o),l=cn(t.Ds),p=t.Li.get(e);return p?Promise.resolve(p.target):t.persistence.runTransaction("Get target data","readonly",v=>l.ne(v,e).next(C=>C?C.target:null))}function rg(o,e){const t=cn(o),l=t.Ui.get(e)||rr.min();return t.persistence.runTransaction("Get new document changes","readonly",p=>t.Ki.getAllFromCollectionGroup(p,e,Ea(l,-1),Number.MAX_SAFE_INTEGER)).then(p=>(sm(t,e,p),p))}function sm(o,e,t){let l=o.Ui.get(e)||rr.min();t.forEach((p,v)=>{v.readTime.compareTo(l)>0&&(l=v.readTime)}),o.Ui.set(e,l)}function pp(){return pp=(0,We.Z)(function*(o,e,t,l){const p=cn(o);let v=zr(),C=cs();for(const ie of t){const Ce=e.Hi(ie.metadata.name);ie.document&&(v=v.add(Ce));const Je=e.Ji(ie);Je.setReadTime(e.Yi(ie.metadata.readTime)),C=C.insert(Ce,Je)}const L=p.Ki.newChangeBuffer({trackRemovals:!0}),Q=yield bh(p,(ie=l,N(Bc(Wr.fromString(`__bundle__/docs/${ie}`)))));var ie;return p.persistence.runTransaction("Apply bundle documents","readwrite",ie=>gy(ie,L,C).next(Ce=>(L.apply(ie),Ce)).next(Ce=>p.Ds.removeMatchingKeysForTargetId(ie,Q.targetId).next(()=>p.Ds.addMatchingKeys(ie,v,Q.targetId)).next(()=>p.localDocuments.getLocalViewOfDocuments(ie,Ce.zi,Ce.ji)).next(()=>Ce.zi)))}),pp.apply(this,arguments)}function gp(o,e){return mp.apply(this,arguments)}function mp(){return mp=(0,We.Z)(function*(o,e,t=zr()){const l=yield bh(o,N(zs(e.bundledQuery))),p=cn(o);return p.persistence.runTransaction("Save named query","readwrite",v=>{const C=to(e.readTime);if(l.snapshotVersion.compareTo(C)>=0)return p.xs.saveNamedQuery(v,e);const L=l.withResumeToken(jn.EMPTY_BYTE_STRING,C);return p.Li=p.Li.insert(L.targetId,L),p.Ds.updateTargetData(v,L).next(()=>p.Ds.removeMatchingKeysForTargetId(v,l.targetId)).next(()=>p.Ds.addMatchingKeys(v,t,l.targetId)).next(()=>p.xs.saveNamedQuery(v,e))})}),mp.apply(this,arguments)}function Eh(o,e){return`firestore_clients_${o}_${e}`}function df(o,e,t){let l=`firestore_mutations_${o}_${t}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function ig(o,e){return`firestore_targets_${o}_${e}`}class sg{constructor(e,t,l,p){this.user=e,this.batchId=t,this.state=l,this.error=p}static Zi(e,t,l){const p=JSON.parse(l);let v,C="object"==typeof p&&-1!==["pending","acknowledged","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return C&&p.error&&(C="string"==typeof p.error.message&&"string"==typeof p.error.code,C&&(v=new Ut(p.error.code,p.error.message))),C?new sg(e,t,p.state,v):(mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${l}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class og{constructor(e,t,l){this.targetId=e,this.state=t,this.error=l}static Zi(e,t){const l=JSON.parse(t);let p,v="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(p=new Ut(l.error.code,l.error.message))),v?new og(e,l.state,p):(mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ag{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const l=JSON.parse(t);let p="object"==typeof l&&l.activeTargetIds instanceof Array,v=Fl();for(let C=0;p&&C<l.activeTargetIds.length;++C)p=q(l.activeTargetIds[C]),v=v.add(l.activeTargetIds[C]);return p?new ag(e,v):(mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class f_{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new f_(t.clientId,t.onlineState):(mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class p_{constructor(){this.activeTargetIds=Fl()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g_{constructor(e,t,l,p,v){this.window=e,this.Ws=t,this.persistenceKey=l,this.nr=p,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new fe(br),this.started=!1,this.ur=[];const C=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.cr=Eh(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new p_),this.hr=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,We.Z)(function*(){const t=yield e.syncEngine.bi();for(const p of t){if(p===e.nr)continue;const v=e.getItem(Eh(e.persistenceKey,p));if(v){const C=ag.Zi(p,v);C&&(e.rr=e.rr.insert(C.clientId,C))}}e.mr();const l=e.storage.getItem(e.wr);if(l){const p=e.gr(l);p&&e.yr(p)}for(const p of e.ur)e.ir(p);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((l,p)=>{p.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,l){this.Ir(e,t,l),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(ig(this.persistenceKey,e));if(l){const p=og.Zi(e,l);p&&(t=p.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ig(this.persistenceKey,e))}updateQueryState(e,t,l){this.Ar(e,t,l)}handleUserChange(e,t,l){t.forEach(p=>{this.Tr(p)}),this.currentUser=e,l.forEach(p=>{this.addPendingMutation(p)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return zt("SharedClientState","READ",e,t),t}setItem(e,t){zt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){zt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const l=e;if(l.storageArea===this.storage){if(zt("SharedClientState","EVENT",l.key,l.newValue),l.key===this.cr)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,We.Z)(function*(){if(t.started){if(null!==l.key)if(t.hr.test(l.key)){if(null==l.newValue){const p=t.br(l.key);return t.Pr(p,null)}{const p=t.Vr(l.key,l.newValue);if(p)return t.Pr(p.clientId,p)}}else if(t.lr.test(l.key)){if(null!==l.newValue){const p=t.Sr(l.key,l.newValue);if(p)return t.Dr(p)}}else if(t.dr.test(l.key)){if(null!==l.newValue){const p=t.Cr(l.key,l.newValue);if(p)return t.Nr(p)}}else if(l.key===t.wr){if(null!==l.newValue){const p=t.gr(l.newValue);if(p)return t.yr(p)}}else if(l.key===t.ar){const p=function(v){let C=P.ct;if(null!=v)try{const L=JSON.parse(v);bn("number"==typeof L),C=L}catch(L){mr("SharedClientState","Failed to read sequence number from WebStorage",L)}return C}(l.newValue);p!==P.ct&&t.sequenceNumberHandler(p)}else if(l.key===t._r){const p=t.kr(l.newValue);yield Promise.all(p.map(v=>t.syncEngine.Or(v)))}}else t.ur.push(l)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,l){const p=new sg(this.currentUser,e,t,l),v=df(this.persistenceKey,this.currentUser,e);this.setItem(v,p.Xi())}Tr(e){const t=df(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,l){const p=ig(this.persistenceKey,e),v=new og(e,t,l);this.setItem(p,v.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const l=this.br(e);return ag.Zi(l,t)}Sr(e,t){const l=this.lr.exec(e),p=Number(l[1]);return sg.Zi(new nr(void 0!==l[2]?l[2]:null),p,t)}Cr(e,t){const l=this.dr.exec(e),p=Number(l[1]);return og.Zi(p,t)}gr(e){return f_.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,We.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);zt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const l=t?this.rr.insert(e,t):this.rr.remove(e),p=this.pr(this.rr),v=this.pr(l),C=[],L=[];return v.forEach(Q=>{p.has(Q)||C.push(Q)}),p.forEach(Q=>{v.has(Q)||L.push(Q)}),this.syncEngine.Fr(C,L).then(()=>{this.rr=l})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=Fl();return e.forEach((l,p)=>{t=t.unionWith(p.activeTargetIds)}),t}}class Tc{constructor(){this.Br=new p_,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,l){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new p_,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class m_{qr(e){}shutdown(){}}class lg{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hf=null;function Th(){return null===hf?hf=268435456+Math.round(2147483648*Math.random()):hf++,"0x"+hf.toString(16)}const om={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ud{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const pa="WebChannelConnection";class ff extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,l,p,v){const C=Th(),L=this.ao(e,t);zt("RestConnection",`Sending RPC '${e}' ${C}:`,L,l);const Q={};return this.ho(Q,p,v),this.lo(e,L,Q,l).then(ie=>(zt("RestConnection",`Received RPC '${e}' ${C}: `,ie),ie),ie=>{throw Ri("RestConnection",`RPC '${e}' ${C} failed with error: `,ie,"url: ",L,"request:",l),ie})}fo(e,t,l,p,v,C){return this.co(e,t,l,p,v)}ho(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+Or,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((p,v)=>e[v]=p),l&&l.headers.forEach((p,v)=>e[v]=p)}ao(e,t){return`${this.ro}/v1/${t}:${om[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,l,p){const v=Th();return new Promise((C,L)=>{const Q=new Mt;Q.setWithCredentials(!0),Q.listenOnce(re.COMPLETE,()=>{try{switch(Q.getLastErrorCode()){case $.NO_ERROR:const Ce=Q.getResponseJson();zt(pa,`XHR for RPC '${e}' ${v} received:`,JSON.stringify(Ce)),C(Ce);break;case $.TIMEOUT:zt(pa,`RPC '${e}' ${v} timed out`),L(new Ut(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case $.HTTP_ERROR:const Je=Q.getStatus();if(zt(pa,`RPC '${e}' ${v} failed with status:`,Je,"response text:",Q.getResponseText()),Je>0){let Et=Q.getResponseJson();Array.isArray(Et)&&(Et=Et[0]);const qt=Et?.error;if(qt&&qt.status&&qt.message){const mn=function($n){const yr=$n.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(yr)>=0?yr:Tt.UNKNOWN}(qt.status);L(new Ut(mn,qt.message))}else L(new Ut(Tt.UNKNOWN,"Server responded with status "+Q.getStatus()))}else L(new Ut(Tt.UNAVAILABLE,"Connection failed."));break;default:Sn()}}finally{zt(pa,`RPC '${e}' ${v} completed.`)}});const ie=JSON.stringify(p);zt(pa,`RPC '${e}' ${v} sending request:`,p),Q.send(t,"POST",ie,l,15)})}wo(e,t,l){const p=Th(),v=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],C=Rc(),L=Eo(),Q={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(Q.xmlHttpFactory=new ze({})),this.ho(Q.initMessageHeaders,t,l),Q.encodeInitMessageHeaders=!0;const ie=v.join("");zt(pa,`Creating RPC '${e}' stream ${p}: ${ie}`,Q);const Ce=C.createWebChannel(ie,Q);let Je=!1,Et=!1;const qt=new Ud({Wr:$n=>{Et?zt(pa,`Not sending because RPC '${e}' stream ${p} is closed:`,$n):(Je||(zt(pa,`Opening RPC '${e}' stream ${p} transport.`),Ce.open(),Je=!0),zt(pa,`RPC '${e}' stream ${p} sending:`,$n),Ce.send($n))},Hr:()=>Ce.close()}),mn=($n,yr,ns)=>{$n.listen(yr,Go=>{try{ns(Go)}catch(Ni){setTimeout(()=>{throw Ni},0)}})};return mn(Ce,Dt.EventType.OPEN,()=>{Et||zt(pa,`RPC '${e}' stream ${p} transport opened.`)}),mn(Ce,Dt.EventType.CLOSE,()=>{Et||(Et=!0,zt(pa,`RPC '${e}' stream ${p} transport closed`),qt.so())}),mn(Ce,Dt.EventType.ERROR,$n=>{Et||(Et=!0,Ri(pa,`RPC '${e}' stream ${p} transport errored:`,$n),qt.so(new Ut(Tt.UNAVAILABLE,"The operation could not be completed")))}),mn(Ce,Dt.EventType.MESSAGE,$n=>{var yr;if(!Et){const ns=$n.data[0];bn(!!ns);const Go=ns,Ni=Go.error||(null===(yr=Go[0])||void 0===yr?void 0:yr.error);if(Ni){zt(pa,`RPC '${e}' stream ${p} received error:`,Ni);const Vl=Ni.status;let go=function(Xc){const Pp=Co[Xc];if(void 0!==Pp)return Wg(Pp)}(Vl),xo=Ni.message;void 0===go&&(go=Tt.INTERNAL,xo="Unknown error status: "+Vl+" with message "+Ni.message),Et=!0,qt.so(new Ut(go,xo)),Ce.close()}else zt(pa,`RPC '${e}' stream ${p} received:`,ns),qt.io(ns)}}),mn(L,W.STAT_EVENT,$n=>{$n.stat===ge.PROXY?zt(pa,`RPC '${e}' stream ${p} detected buffering proxy`):$n.stat===ge.NOPROXY&&zt(pa,`RPC '${e}' stream ${p} detected no buffering proxy`)}),setTimeout(()=>{qt.no()},0),qt}}function pf(){return typeof window<"u"?window:null}function cg(){return typeof document<"u"?document:null}function gd(o){return new fh(o,!0)}class _p{constructor(e,t,l=1e3,p=1.5,v=6e4){this.Ws=e,this.timerId=t,this._o=l,this.mo=p,this.yo=v,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),l=Math.max(0,Date.now()-this.To),p=Math.max(0,t-l);p>0&&zt("ExponentialBackoff",`Backing off for ${p} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,p,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class yu{constructor(e,t,l,p,v,C,L,Q){this.Ws=e,this.bo=l,this.Po=p,this.connection=v,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=L,this.listener=Q,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new _p(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,We.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,We.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var l=this;return(0,We.Z)(function*(){l.Bo(),l.Lo(),l.Co.cancel(),l.Vo++,4!==e?l.Co.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),l.Co.Eo()):t&&t.code===Tt.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.qo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,p])=>{this.Vo===t&&this.Ko(l,p)},l=>{e(()=>{const p=new Ut(Tt.UNKNOWN,"Fetching auth token failed: "+l.message);return this.Go(p)})})}Ko(e,t){const l=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{l(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(p=>{l(()=>this.Go(p))}),this.stream.onMessage(p=>{l(()=>this.onMessage(p))})}ko(){var e=this;this.state=5,this.Co.Ao((0,We.Z)(function*(){e.state=0,e.start()}))}Go(e){return zt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ug extends yu{constructor(e,t,l,p,v,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,p,C),this.serializer=v}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function g(o,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(Q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Sn(),p=e.targetChange.targetIds||[],v=function(Q,ie){return Q.useProto3Json?(bn(void 0===ie||"string"==typeof ie),jn.fromBase64String(ie||"")):(bn(void 0===ie||ie instanceof Uint8Array),jn.fromUint8Array(ie||new Uint8Array))}(o,e.targetChange.resumeToken),C=e.targetChange.cause,L=C&&function(Q){const ie=void 0===Q.code?Tt.UNKNOWN:Wg(Q.code);return new Ut(ie,Q.message||"")}(C);t=new $p(l,p,v,L||null)}else if("documentChange"in e){const l=e.documentChange,p=Vu(o,l.document.name),v=to(l.document.updateTime),C=l.document.createTime?to(l.document.createTime):rr.min(),L=new fa({mapValue:{fields:l.document.fields}}),Q=es.newFoundDocument(p,v,C,L);t=new np(l.targetIds||[],l.removedTargetIds||[],Q.key,Q)}else if("documentDelete"in e){const l=e.documentDelete,p=Vu(o,l.document),v=l.readTime?to(l.readTime):rr.min(),C=es.newNoDocument(p,v);t=new np([],l.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const l=e.documentRemove,p=Vu(o,l.document);t=new np([],l.removedTargetIds||[],p,null)}else{if(!("filter"in e))return Sn();{const l=e.filter,v=new zc(l.count||0);t=new Yg(l.targetId,v)}}var Q;return t}(this.serializer,e),l=function(p){if(!("targetChange"in p))return rr.min();const v=p.targetChange;return v.targetIds&&v.targetIds.length?rr.min():v.readTime?to(v.readTime):rr.min()}(e);return this.listener.zo(t,l)}jo(e){const t={};t.database=Kp(this.serializer),t.addTarget=function(p,v){let C;const L=v.target;return C=lh(L)?{documents:O(p,L)}:{query:Z(p,L)},C.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?C.resumeToken=Rd(p,v.resumeToken):v.snapshotVersion.compareTo(rr.min())>0&&(C.readTime=fl(p,v.snapshotVersion.toTimestamp())),C}(this.serializer,e);const l=function Ue(o,e){const t=function(l,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.Fo(t)}Wo(e){const t={};t.database=Kp(this.serializer),t.removeTarget=e,this.Fo(t)}}class dg extends yu{constructor(e,t,l,p,v,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,p,C),this.serializer=v,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function y(o,e){return o&&o.length>0?(bn(void 0!==e),o.map(t=>function(l,p){let v=to(l.updateTime?l.updateTime:p);return v.isEqual(rr.min())&&(v=to(p)),new xd(v,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=to(e.commitTime);return this.listener.Zo(l,t)}return bn(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Kp(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>I(this.serializer,l))};this.Fo(t)}}class am extends class{}{constructor(e,t,l,p){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.serializer=p,this.eu=!1}nu(){if(this.eu)throw new Ut(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,l){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,v])=>this.connection.co(e,t,l,p,v)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ut(Tt.UNKNOWN,p.toString())})}fo(e,t,l,p){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,C])=>this.connection.fo(e,t,l,v,C,p)).catch(v=>{throw"FirebaseError"===v.name?(v.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new Ut(Tt.UNKNOWN,v.toString())})}terminate(){this.eu=!0}}class lm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(mr(t),this.ru=!1):zt("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class __{constructor(e,t,l,p,v){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=v,this._u.qr(L=>{l.enqueueAndForget((0,We.Z)(function*(){var Q;Zc(C)&&(zt("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,We.Z)(function*(ie){const Ce=cn(ie);Ce.du.add(4),yield Bd(Ce),Ce.mu.set("Unknown"),Ce.du.delete(4),yield As(Ce)}),function(ie){return Q.apply(this,arguments)})(C))}))}),this.mu=new lm(l,p)}}function As(o){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,We.Z)(function*(o){if(Zc(o))for(const e of o.wu)yield e(!0)}),Dc.apply(this,arguments)}function Bd(o){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,We.Z)(function*(o){for(const e of o.wu)yield e(!1)}),Dh.apply(this,arguments)}function Ih(o,e){const t=cn(o);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),fg(t)?jd(t):tc(t).No()&&Ku(t,e))}function Vd(o,e){const t=cn(o),l=tc(t);t.fu.delete(e),l.No()&&hg(t,e),0===t.fu.size&&(l.No()?l.$o():Zc(t)&&t.mu.set("Unknown"))}function Ku(o,e){o.gu.Ot(e.targetId),tc(o).jo(e)}function hg(o,e){o.gu.Ot(e),tc(o).Wo(e)}function jd(o){o.gu=new zp({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>o.fu.get(e)||null}),tc(o).start(),o.mu.ou()}function fg(o){return Zc(o)&&!tc(o).xo()&&o.fu.size>0}function Zc(o){return 0===cn(o).du.size}function y_(o){o.gu=void 0}function cm(o){return um.apply(this,arguments)}function um(){return um=(0,We.Z)(function*(o){o.fu.forEach((e,t)=>{Ku(o,e)})}),um.apply(this,arguments)}function Wv(o,e){return v_.apply(this,arguments)}function v_(){return v_=(0,We.Z)(function*(o,e){y_(o),fg(o)?(o.mu.au(e),jd(o)):o.mu.set("Unknown")}),v_.apply(this,arguments)}function Kv(o,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,We.Z)(function*(o,e,t){if(o.mu.set("Online"),e instanceof $p&&2===e.state&&e.cause)try{yield(l=(0,We.Z)(function*(p,v){const C=v.cause;for(const L of v.targetIds)p.fu.has(L)&&(yield p.remoteSyncer.rejectListen(L,C),p.fu.delete(L),p.gu.removeTarget(L))}),function(p,v){return l.apply(this,arguments)})(o,e)}catch(l){zt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield pg(o,l)}else if(e instanceof np?o.gu.Kt(e):e instanceof Yg?o.gu.Jt(e):o.gu.zt(e),!t.isEqual(rr.min()))try{const l=yield d_(o.localStore);t.compareTo(l)>=0&&(yield function(p,v){const C=p.gu.Xt(v);return C.targetChanges.forEach((L,Q)=>{if(L.resumeToken.approximateByteSize()>0){const ie=p.fu.get(Q);ie&&p.fu.set(Q,ie.withResumeToken(L.resumeToken,v))}}),C.targetMismatches.forEach(L=>{const Q=p.fu.get(L);if(!Q)return;p.fu.set(L,Q.withResumeToken(jn.EMPTY_BYTE_STRING,Q.snapshotVersion)),hg(p,L);const ie=new ii(Q.target,L,1,Q.sequenceNumber);Ku(p,ie)}),p.remoteSyncer.applyRemoteEvent(C)}(o,t))}catch(l){zt("RemoteStore","Failed to raise snapshot:",l),yield pg(o,l)}var l}),dm.apply(this,arguments)}function pg(o,e,t){return b_.apply(this,arguments)}function b_(){return b_=(0,We.Z)(function*(o,e,t){if(!Ta(e))throw e;o.du.add(1),yield Bd(o),o.mu.set("Offline"),t||(t=()=>d_(o.localStore)),o.asyncQueue.enqueueRetryable((0,We.Z)(function*(){zt("RemoteStore","Retrying IndexedDB access"),yield t(),o.du.delete(1),yield As(o)}))}),b_.apply(this,arguments)}function gg(o,e){return e().catch(t=>pg(o,t,e))}function yp(o){return _y.apply(this,arguments)}function _y(){return _y=(0,We.Z)(function*(o){const e=cn(o),t=Hd(e);let l=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;Yv(e);)try{const p=yield h_(e.localStore,l);if(null===p){0===e.lu.length&&t.$o();break}l=p.batchId,Zv(e,p)}catch(p){yield pg(e,p)}dv(e)&&hv(e)}),_y.apply(this,arguments)}function Yv(o){return Zc(o)&&o.lu.length<10}function Zv(o,e){o.lu.push(e);const t=Hd(o);t.No()&&t.Jo&&t.Yo(e.mutations)}function dv(o){return Zc(o)&&!Hd(o).xo()&&o.lu.length>0}function hv(o){Hd(o).start()}function qv(o){return mg.apply(this,arguments)}function mg(){return mg=(0,We.Z)(function*(o){Hd(o).tu()}),mg.apply(this,arguments)}function yy(o){return w_.apply(this,arguments)}function w_(){return w_=(0,We.Z)(function*(o){const e=Hd(o);for(const t of o.lu)e.Yo(t.mutations)}),w_.apply(this,arguments)}function Yu(o,e,t){return _g.apply(this,arguments)}function _g(){return _g=(0,We.Z)(function*(o,e,t){const l=o.lu.shift(),p=Md.from(l,e,t);yield gg(o,()=>o.remoteSyncer.applySuccessfulWrite(p)),yield yp(o)}),_g.apply(this,arguments)}function E_(o,e){return yg.apply(this,arguments)}function yg(){return yg=(0,We.Z)(function*(o,e){var t;e&&Hd(o).Jo&&(yield(t=(0,We.Z)(function*(l,p){if(Ca(v=p.code)&&v!==Tt.ABORTED){const C=l.lu.shift();Hd(l).Oo(),yield gg(l,()=>l.remoteSyncer.rejectFailedWrite(C.batchId,p)),yield yp(l)}var v}),function(l,p){return t.apply(this,arguments)})(o,e)),dv(o)&&hv(o)}),yg.apply(this,arguments)}function vg(o,e){return hm.apply(this,arguments)}function hm(){return hm=(0,We.Z)(function*(o,e){const t=cn(o);t.asyncQueue.verifyOperationInProgress(),zt("RemoteStore","RemoteStore received new credentials");const l=Zc(t);t.du.add(3),yield Bd(t),l&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield As(t)}),hm.apply(this,arguments)}function bg(o,e){return fm.apply(this,arguments)}function fm(){return fm=(0,We.Z)(function*(o,e){const t=cn(o);e?(t.du.delete(2),yield As(t)):e||(t.du.add(2),yield Bd(t),t.mu.set("Unknown"))}),fm.apply(this,arguments)}function tc(o){return o.yu||(o.yu=function(e,t,l){const p=cn(e);return p.nu(),new ug(t,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,l)}(o.datastore,o.asyncQueue,{Jr:cm.bind(null,o),Zr:Wv.bind(null,o),zo:Kv.bind(null,o)}),o.wu.push(function(){var e=(0,We.Z)(function*(t){t?(o.yu.Oo(),fg(o)?jd(o):o.mu.set("Unknown")):(yield o.yu.stop(),y_(o))});return function(t){return e.apply(this,arguments)}}())),o.yu}function Hd(o){return o.pu||(o.pu=function(e,t,l){const p=cn(e);return p.nu(),new dg(t,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,l)}(o.datastore,o.asyncQueue,{Jr:qv.bind(null,o),Zr:E_.bind(null,o),Xo:yy.bind(null,o),Zo:Yu.bind(null,o)}),o.wu.push(function(){var e=(0,We.Z)(function*(t){t?(o.pu.Oo(),yield yp(o)):(yield o.pu.stop(),o.lu.length>0&&(zt("RemoteStore",`Stopping write stream with ${o.lu.length} pending writes`),o.lu=[]))});return function(t){return e.apply(this,arguments)}}())),o.pu}class T_{constructor(e,t,l,p,v){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=p,this.removalCallback=v,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,l,p,v){const C=Date.now()+l,L=new T_(e,t,C,p,v);return L.start(l),L}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(o,e){if(mr("AsyncQueue",`${e}: ${o}`),Ta(o))return new Ut(Tt.UNAVAILABLE,`${e}: ${o}`);throw o}class gf{constructor(e){this.comparator=e?(t,l)=>e(t,l)||gn.comparator(t.key,l.key):(t,l)=>gn.comparator(t.key,l.key),this.keyedMap=kl(),this.sortedSet=new fe(this.comparator)}static emptySet(e){return new gf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const p=t.getNext().key,v=l.getNext().key;if(!p.isEqual(v))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new gf;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class D_{constructor(){this.Iu=new fe(gn.comparator)}track(e){const t=e.doc.key,l=this.Iu.get(t);l?0!==e.type&&3===l.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==l.type?this.Iu=this.Iu.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Iu=this.Iu.remove(t):1===e.type&&2===l.type?this.Iu=this.Iu.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Sn():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,l)=>{e.push(l)}),e}}class Gd{constructor(e,t,l,p,v,C,L,Q,ie){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=p,this.mutatedKeys=v,this.fromCache=C,this.syncStateChanged=L,this.excludesMetadataChanges=Q,this.hasCachedResults=ie}static fromInitialDocuments(e,t,l,p,v){const C=[];return t.forEach(L=>{C.push({type:0,doc:L})}),new Gd(e,t,gf.emptySet(t),C,l,p,!0,!1,v)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&k(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let p=0;p<t.length;p++)if(t[p].type!==l[p].type||!t[p].doc.isEqual(l[p].doc))return!1;return!0}}class bp{constructor(){this.Eu=void 0,this.listeners=[]}}class mf{constructor(){this.queries=new Xn(e=>se(e),k),this.onlineState="Unknown",this.Au=new Set}}function wg(o,e){return $d.apply(this,arguments)}function $d(){return $d=(0,We.Z)(function*(o,e){const t=cn(o),l=e.query;let p=!1,v=t.queries.get(l);if(v||(p=!0,v=new bp),p)try{v.Eu=yield t.onListen(l)}catch(C){const L=vp(C,`Initialization of query '${Ae(e.query)}' failed`);return void e.onError(L)}t.queries.set(l,v),v.listeners.push(e),e.Ru(t.onlineState),v.Eu&&e.vu(v.Eu)&&Eg(t)}),$d.apply(this,arguments)}function _f(o,e){return wp.apply(this,arguments)}function wp(){return wp=(0,We.Z)(function*(o,e){const t=cn(o),l=e.query;let p=!1;const v=t.queries.get(l);if(v){const C=v.listeners.indexOf(e);C>=0&&(v.listeners.splice(C,1),p=0===v.listeners.length)}if(p)return t.queries.delete(l),t.onUnlisten(l)}),wp.apply(this,arguments)}function vy(o,e){const t=cn(o);let l=!1;for(const p of e){const C=t.queries.get(p.query);if(C){for(const L of C.listeners)L.vu(p)&&(l=!0);C.Eu=p}}l&&Eg(t)}function by(o,e,t){const l=cn(o),p=l.queries.get(e);if(p)for(const v of p.listeners)v.onError(t);l.queries.delete(e)}function Eg(o){o.Au.forEach(e=>{e.next()})}class Tg{constructor(e,t,l){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=l||{}}vu(e){if(!this.options.includeMetadataChanges){const l=[];for(const p of e.docChanges)3!==p.type&&l.push(p);e=new Gd(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class wy{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class pm{constructor(e){this.serializer=e}Hi(e){return Vu(this.serializer,e)}Ji(e){return e.metadata.exists?op(this.serializer,e.document,!1):es.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return to(e)}}class Ey{constructor(e,t,l){this.Ou=e,this.localStore=t,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fv(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const l=Wr.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,l=new pm(this.serializer);for(const p of e)if(p.metadata.queries){const v=l.Hi(p.metadata.name);for(const C of p.metadata.queries){const L=(t.get(C)||zr()).add(v);t.set(C,L)}}return t}complete(){var e=this;return(0,We.Z)(function*(){const t=yield function uv(o,e,t,l){return pp.apply(this,arguments)}(e.localStore,new pm(e.serializer),e.documents,e.Ou.id),l=e.Mu(e.documents);for(const p of e.queries)yield gp(e.localStore,p,l.get(p.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function fv(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class I_{constructor(e){this.key=e}}class gm{constructor(e){this.key=e}}class Ty{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=zr(),this.mutatedKeys=zr(),this.Ku=_n(e),this.Gu=new gf(this.Ku)}get Qu(){return this.Lu}zu(e,t){const l=t?t.ju:new D_,p=t?t.Gu:this.Gu;let v=t?t.mutatedKeys:this.mutatedKeys,C=p,L=!1;const Q="F"===this.query.limitType&&p.size===this.query.limit?p.last():null,ie="L"===this.query.limitType&&p.size===this.query.limit?p.first():null;if(e.inorderTraversal((Ce,Je)=>{const Et=p.get(Ce),qt=ct(this.query,Je)?Je:null,mn=!!Et&&this.mutatedKeys.has(Et.key),$n=!!qt&&(qt.hasLocalMutations||this.mutatedKeys.has(qt.key)&&qt.hasCommittedMutations);let yr=!1;Et&&qt?Et.data.isEqual(qt.data)?mn!==$n&&(l.track({type:3,doc:qt}),yr=!0):this.Wu(Et,qt)||(l.track({type:2,doc:qt}),yr=!0,(Q&&this.Ku(qt,Q)>0||ie&&this.Ku(qt,ie)<0)&&(L=!0)):!Et&&qt?(l.track({type:0,doc:qt}),yr=!0):Et&&!qt&&(l.track({type:1,doc:Et}),yr=!0,(Q||ie)&&(L=!0)),yr&&(qt?(C=C.add(qt),v=$n?v.add(Ce):v.delete(Ce)):(C=C.delete(Ce),v=v.delete(Ce)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const Ce="F"===this.query.limitType?C.last():C.first();C=C.delete(Ce.key),v=v.delete(Ce.key),l.track({type:1,doc:Ce})}return{Gu:C,ju:l,Mi:L,mutatedKeys:v}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const p=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const v=e.ju.Tu();v.sort((ie,Ce)=>function(Je,Et){const qt=mn=>{switch(mn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sn()}};return qt(Je)-qt(Et)}(ie.type,Ce.type)||this.Ku(ie.doc,Ce.doc)),this.Hu(l);const C=t?this.Ju():[],L=0===this.Uu.size&&this.current?1:0,Q=L!==this.qu;return this.qu=L,0!==v.length||Q?{snapshot:new Gd(this.query,e.Gu,p,v,e.mutatedKeys,0===L,Q,!1,!!l&&l.resumeToken.approximateByteSize()>0),Yu:C}:{Yu:C}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new D_,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=zr(),this.Gu.forEach(l=>{this.Zu(l.key)&&(this.Uu=this.Uu.add(l.key))});const t=[];return e.forEach(l=>{this.Uu.has(l)||t.push(new gm(l))}),this.Uu.forEach(l=>{e.has(l)||t.push(new I_(l))}),t}Xu(e){this.Lu=e.Wi,this.Uu=zr();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return Gd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class C_{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class Dg{constructor(e){this.key=e,this.ec=!1}}class Dy{constructor(e,t,l,p,v,C){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=p,this.currentUser=v,this.maxConcurrentLimboResolutions=C,this.nc={},this.sc=new Xn(L=>se(L),k),this.ic=new Map,this.rc=new Set,this.oc=new fe(gn.comparator),this.uc=new Map,this.cc=new Fs,this.ac={},this.hc=new Map,this.lc=_u.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function qc(o,e){return mm.apply(this,arguments)}function mm(){return mm=(0,We.Z)(function*(o,e){const t=xm(o);let l,p;const v=t.sc.get(e);if(v)l=v.targetId,t.sharedClientState.addLocalQueryTarget(l),p=v.view.tc();else{const C=yield bh(t.localStore,N(e));t.isPrimaryClient&&Ih(t.remoteStore,C);const L=t.sharedClientState.addLocalQueryTarget(C.targetId);l=C.targetId,p=yield S_(t,e,l,"current"===L,C.resumeToken)}return p}),mm.apply(this,arguments)}function S_(o,e,t,l,p){return _m.apply(this,arguments)}function _m(){return _m=(0,We.Z)(function*(o,e,t,l,p){o.dc=(Je,Et,qt)=>{return(mn=(0,We.Z)(function*($n,yr,ns,Go){let Ni=yr.view.zu(ns);Ni.Mi&&(Ni=yield ng($n.localStore,yr.query,!1).then(({documents:xo})=>yr.view.zu(xo,Ni)));const Vl=Go&&Go.targetChanges.get(yr.targetId),go=yr.view.applyChanges(Ni,$n.isPrimaryClient,Vl);return Tm($n,yr.targetId,go.Yu),go.snapshot}),function($n,yr,ns,Go){return mn.apply(this,arguments)})(o,Je,Et,qt);var mn};const v=yield ng(o.localStore,e,!0),C=new Ty(e,v.Wi),L=C.zu(v.documents),Q=hh.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==o.onlineState,p),ie=C.applyChanges(L,o.isPrimaryClient,Q);Tm(o,t,ie.Yu);const Ce=new C_(e,t,C);return o.sc.set(e,Ce),o.ic.has(t)?o.ic.get(t).push(e):o.ic.set(t,[e]),ie.snapshot}),_m.apply(this,arguments)}function Iy(o,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,We.Z)(function*(o,e){const t=cn(o),l=t.sc.get(e),p=t.ic.get(l.targetId);if(p.length>1)return t.ic.set(l.targetId,p.filter(v=>!k(v,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield wh(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),Vd(t.remoteStore,l.targetId),_d(t,l.targetId)}).catch(as))):(_d(t,l.targetId),yield wh(t.localStore,l.targetId,!0))}),Ig.apply(this,arguments)}function ym(){return ym=(0,We.Z)(function*(o,e,t){const l=Nm(o);try{const p=yield function(v,C){const L=cn(v),Q=Vi.now(),ie=C.reduce((Et,qt)=>Et.add(qt.key),zr());let Ce,Je;return L.persistence.runTransaction("Locally write mutations","readwrite",Et=>{let qt=cs(),mn=zr();return L.Ki.getEntries(Et,ie).next($n=>{qt=$n,qt.forEach((yr,ns)=>{ns.isValidDocument()||(mn=mn.add(yr))})}).next(()=>L.localDocuments.getOverlayedDocuments(Et,qt)).next($n=>{Ce=$n;const yr=[];for(const ns of C){const Go=Gc(ns,Ce.get(ns.key).overlayedDocument);null!=Go&&yr.push(new Ss(ns.key,Go,qf(Go.value.mapValue),us.exists(!0)))}return L.mutationQueue.addMutationBatch(Et,Q,yr,C)}).next($n=>{Je=$n;const yr=$n.applyToLocalDocumentSet(Ce,mn);return L.documentOverlayCache.saveOverlays(Et,$n.batchId,yr)})}).then(()=>({batchId:Je.batchId,changes:uh(Ce)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(p.batchId),function(v,C,L){let Q=v.ac[v.currentUser.toKey()];Q||(Q=new fe(br)),Q=Q.insert(C,L),v.ac[v.currentUser.toKey()]=Q}(l,p.batchId,t),yield yd(l,p.changes),yield yp(l.remoteStore)}catch(p){const v=vp(p,"Failed to persist write");t.reject(v)}}),ym.apply(this,arguments)}function zd(o,e){return vm.apply(this,arguments)}function vm(){return vm=(0,We.Z)(function*(o,e){const t=cn(o);try{const l=yield pd(t.localStore,e);e.targetChanges.forEach((p,v)=>{const C=t.uc.get(v);C&&(bn(p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size<=1),p.addedDocuments.size>0?C.ec=!0:p.modifiedDocuments.size>0?bn(C.ec):p.removedDocuments.size>0&&(bn(C.ec),C.ec=!1))}),yield yd(t,l,e)}catch(l){yield as(l)}}),vm.apply(this,arguments)}function bm(o,e,t){const l=cn(o);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const p=[];l.sc.forEach((v,C)=>{const L=C.view.Ru(e);L.snapshot&&p.push(L.snapshot)}),function(v,C){const L=cn(v);L.onlineState=C;let Q=!1;L.queries.forEach((ie,Ce)=>{for(const Je of Ce.listeners)Je.Ru(C)&&(Q=!0)}),Q&&Eg(L)}(l.eventManager,e),p.length&&l.nc.zo(p),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Ch(o,e,t){return yf.apply(this,arguments)}function yf(){return yf=(0,We.Z)(function*(o,e,t){const l=cn(o);l.sharedClientState.updateQueryState(e,"rejected",t);const p=l.uc.get(e),v=p&&p.key;if(v){let C=new fe(gn.comparator);C=C.insert(v,es.newNoDocument(v,rr.min()));const L=zr().add(v),Q=new Bu(rr.min(),new Map,new ft(br),C,L);yield zd(l,Q),l.oc=l.oc.remove(v),l.uc.delete(e),Ep(l)}else yield wh(l.localStore,e,!1).then(()=>_d(l,e,t)).catch(as)}),yf.apply(this,arguments)}function wm(o,e){return A_.apply(this,arguments)}function A_(){return A_=(0,We.Z)(function*(o,e){const t=cn(o),l=e.batch.batchId;try{const p=yield fp(t.localStore,e);md(t,l,null),Cg(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield yd(t,p)}catch(p){yield as(p)}}),A_.apply(this,arguments)}function Sy(o,e,t){return Em.apply(this,arguments)}function Em(){return Em=(0,We.Z)(function*(o,e,t){const l=cn(o);try{const p=yield function(v,C){const L=cn(v);return L.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let ie;return L.mutationQueue.lookupMutationBatch(Q,C).next(Ce=>(bn(null!==Ce),ie=Ce.keys(),L.mutationQueue.removeMutationBatch(Q,Ce))).next(()=>L.mutationQueue.performConsistencyCheck(Q)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(Q,ie,C)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,ie)).next(()=>L.localDocuments.getDocuments(Q,ie))})}(l.localStore,e);md(l,e,t),Cg(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield yd(l,p)}catch(p){yield as(p)}}),Em.apply(this,arguments)}function Ic(){return Ic=(0,We.Z)(function*(o,e){const t=cn(o);Zc(t.remoteStore)||zt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(v){const C=cn(v);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>C.mutationQueue.getHighestUnacknowledgedBatchId(L))}(t.localStore);if(-1===l)return void e.resolve();const p=t.hc.get(l)||[];p.push(e),t.hc.set(l,p)}catch(l){const p=vp(l,"Initialization of waitForPendingWrites() operation failed");e.reject(p)}}),Ic.apply(this,arguments)}function Cg(o,e){(o.hc.get(e)||[]).forEach(t=>{t.resolve()}),o.hc.delete(e)}function md(o,e,t){const l=cn(o);let p=l.ac[l.currentUser.toKey()];if(p){const v=p.get(e);v&&(t?v.reject(t):v.resolve(),p=p.remove(e)),l.ac[l.currentUser.toKey()]=p}}function _d(o,e,t=null){o.sharedClientState.removeLocalQueryTarget(e);for(const l of o.ic.get(e))o.sc.delete(l),t&&o.nc.wc(l,t);o.ic.delete(e),o.isPrimaryClient&&o.cc.hs(e).forEach(l=>{o.cc.containsKey(l)||pv(o,l)})}function pv(o,e){o.rc.delete(e.path.canonicalString());const t=o.oc.get(e);null!==t&&(Vd(o.remoteStore,t),o.oc=o.oc.remove(e),o.uc.delete(t),Ep(o))}function Tm(o,e,t){for(const l of t)l instanceof I_?(o.cc.addReference(l.key,e),gv(o,l)):l instanceof gm?(zt("SyncEngine","Document no longer in limbo: "+l.key),o.cc.removeReference(l.key,e),o.cc.containsKey(l.key)||pv(o,l.key)):Sn()}function gv(o,e){const t=e.key,l=t.path.canonicalString();o.oc.get(t)||o.rc.has(l)||(zt("SyncEngine","New document in limbo: "+t),o.rc.add(l),Ep(o))}function Ep(o){for(;o.rc.size>0&&o.oc.size<o.maxConcurrentLimboResolutions;){const e=o.rc.values().next().value;o.rc.delete(e);const t=new gn(Wr.fromString(e)),l=o.lc.next();o.uc.set(l,new Dg(t)),o.oc=o.oc.insert(t,l),Ih(o.remoteStore,new ii(N(Bc(t.path)),l,2,P.ct))}}function yd(o,e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,We.Z)(function*(o,e,t){const l=cn(o),p=[],v=[],C=[];var L;l.sc.isEmpty()||(l.sc.forEach((L,Q)=>{C.push(l.dc(Q,e,t).then(ie=>{if((ie||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(Q.targetId,ie?.fromCache?"not-current":"current"),ie){p.push(ie);const Ce=tg.Di(Q.targetId,ie);v.push(Ce)}}))}),yield Promise.all(C),l.nc.zo(p),yield(L=(0,We.Z)(function*(Q,ie){const Ce=cn(Q);try{yield Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Je=>Rt.forEach(ie,Et=>Rt.forEach(Et.Vi,qt=>Ce.persistence.referenceDelegate.addReference(Je,Et.targetId,qt)).next(()=>Rt.forEach(Et.Si,qt=>Ce.persistence.referenceDelegate.removeReference(Je,Et.targetId,qt)))))}catch(Je){if(!Ta(Je))throw Je;zt("LocalStore","Failed to update sequence numbers: "+Je)}for(const Je of ie){const Et=Je.targetId;if(!Je.fromCache){const qt=Ce.Li.get(Et),$n=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);Ce.Li=Ce.Li.insert(Et,$n)}}}),function(Q,ie){return L.apply(this,arguments)})(l.localStore,v))}),Sg.apply(this,arguments)}function x_(o,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,We.Z)(function*(o,e){const t=cn(o);if(!t.currentUser.isEqual(e)){zt("SyncEngine","User change. New user:",e.toKey());const l=yield py(t.localStore,e);t.currentUser=e,(p=t).hc.forEach(C=>{C.forEach(L=>{L.reject(new Ut(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.hc.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield yd(t,l.Qi)}var p}),Tp.apply(this,arguments)}function Dm(o,e){const t=cn(o),l=t.uc.get(e);if(l&&l.ec)return zr().add(l.key);{let p=zr();const v=t.ic.get(e);if(!v)return p;for(const C of v){const L=t.sc.get(C);p=p.unionWith(L.view.Qu)}return p}}function Sh(o,e){return vf.apply(this,arguments)}function vf(){return vf=(0,We.Z)(function*(o,e){const t=cn(o),l=yield ng(t.localStore,e.query,!0),p=e.view.Xu(l);return t.isPrimaryClient&&Tm(t,e.targetId,p.Yu),p}),vf.apply(this,arguments)}function mv(o,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,We.Z)(function*(o,e){const t=cn(o);return rg(t.localStore,e).then(l=>yd(t,l))}),Dp.apply(this,arguments)}function Im(o,e,t,l){return bf.apply(this,arguments)}function bf(){return bf=(0,We.Z)(function*(o,e,t,l){const p=cn(o),v=yield function(C,L){const Q=cn(C),ie=cn(Q.mutationQueue);return Q.persistence.runTransaction("Lookup mutation documents","readonly",Ce=>ie.In(Ce,L).next(Je=>Je?Q.localDocuments.getDocuments(Ce,Je):Rt.resolve(null)))}(p.localStore,e);var L;null!==v?("pending"===t?yield yp(p.remoteStore):"acknowledged"===t||"rejected"===t?(md(p,e,l||null),Cg(p,e),L=e,cn(cn(p.localStore).mutationQueue).En(L)):Sn(),yield yd(p,v)):zt("SyncEngine","Cannot apply mutation batch with id: "+e)}),bf.apply(this,arguments)}function Ip(){return Ip=(0,We.Z)(function*(o,e){const t=cn(o);if(xm(t),Nm(t),!0===e&&!0!==t.fc){const l=t.sharedClientState.getAllActiveQueryTargets(),p=yield Ag(t,l.toArray());t.fc=!0,yield bg(t.remoteStore,!0);for(const v of p)Ih(t.remoteStore,v)}else if(!1===e&&!1!==t.fc){const l=[];let p=Promise.resolve();t.ic.forEach((v,C)=>{t.sharedClientState.isLocalQueryTarget(C)?l.push(C):p=p.then(()=>(_d(t,C),wh(t.localStore,C,!0))),Vd(t.remoteStore,C)}),yield p,yield Ag(t,l),function(v){const C=cn(v);C.uc.forEach((L,Q)=>{Vd(C.remoteStore,Q)}),C.cc.ls(),C.uc=new Map,C.oc=new fe(gn.comparator)}(t),t.fc=!1,yield bg(t.remoteStore,!1)}}),Ip.apply(this,arguments)}function Ag(o,e,t){return xg.apply(this,arguments)}function xg(){return xg=(0,We.Z)(function*(o,e,t){const l=cn(o),p=[],v=[];for(const C of e){let L;const Q=l.ic.get(C);if(Q&&0!==Q.length){L=yield bh(l.localStore,N(Q[0]));for(const ie of Q){const Ce=l.sc.get(ie),Je=yield Sh(l,Ce);Je.snapshot&&v.push(Je.snapshot)}}else{const ie=yield cv(l.localStore,C);L=yield bh(l.localStore,ie),yield S_(l,Cc(ie),C,!1,L.resumeToken)}p.push(L)}return l.nc.zo(v),p}),xg.apply(this,arguments)}function Cc(o){return Id(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function Sm(o){const e=cn(o);return cn(cn(e.localStore).persistence).bi()}function Am(o,e,t,l){return wf.apply(this,arguments)}function wf(){return wf=(0,We.Z)(function*(o,e,t,l){const p=cn(o);if(p.fc)return void zt("SyncEngine","Ignoring unexpected query state notification.");const v=p.ic.get(e);if(v&&v.length>0)switch(t){case"current":case"not-current":{const C=yield rg(p.localStore,Vt(v[0])),L=Bu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,jn.EMPTY_BYTE_STRING);yield yd(p,C,L);break}case"rejected":yield wh(p.localStore,e,!0),_d(p,e,l);break;default:Sn()}}),wf.apply(this,arguments)}function N_(o,e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,We.Z)(function*(o,e,t){const l=xm(o);if(l.fc){for(const p of e){if(l.ic.has(p)){zt("SyncEngine","Adding an already active target "+p);continue}const v=yield cv(l.localStore,p),C=yield bh(l.localStore,v);yield S_(l,Cc(v),C.targetId,!1,C.resumeToken),Ih(l.remoteStore,C)}for(const p of t)l.ic.has(p)&&(yield wh(l.localStore,p,!1).then(()=>{Vd(l.remoteStore,p),_d(l,p)}).catch(as))}}),Ef.apply(this,arguments)}function xm(o){const e=cn(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=zd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ch.bind(null,e),e.nc.zo=vy.bind(null,e.eventManager),e.nc.wc=by.bind(null,e.eventManager),e}function Nm(o){const e=cn(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sy.bind(null,e),e}class Ah{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,We.Z)(function*(){t.serializer=gd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return hp(this.persistence,new uf,e.initialUser,this.serializer)}createPersistence(e){return new zu(Jr.Fs,this.serializer)}createSharedClientState(e){return new Tc}terminate(){var e=this;return(0,We.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mm extends Ah{constructor(e,t,l){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,l=this;return(0,We.Z)(function*(){yield t().call(l,e),yield l.mc.initialize(l,e),yield Nm(l.mc.syncEngine),yield yp(l.mc.remoteStore),yield l.persistence.hi(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return hp(this.persistence,new uf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new em(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const l=new R(t,this.persistence);return new tu(e.asyncQueue,l)}createPersistence(e){const t=eg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?Aa.withCacheSize(this.cacheSizeBytes):Aa.DEFAULT;return new no(this.synchronizeTabs,t,e.clientId,l,e.asyncQueue,pf(),cg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Tc}}class M_ extends Mm{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,l=this;return(0,We.Z)(function*(){yield t().call(l,e);const p=l.mc.syncEngine;l.sharedClientState instanceof g_&&(l.sharedClientState.syncEngine={$r:Im.bind(null,p),Mr:Am.bind(null,p),Fr:N_.bind(null,p),bi:Sm.bind(null,p),Or:mv.bind(null,p)},yield l.sharedClientState.start()),yield l.persistence.hi(function(){var v=(0,We.Z)(function*(C){yield function Cm(o,e){return Ip.apply(this,arguments)}(l.mc.syncEngine,C),l.gcScheduler&&(C&&!l.gcScheduler.started?l.gcScheduler.start():C||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(C&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():C||l.indexBackfillerScheduler.stop())});return function(C){return v.apply(this,arguments)}}())})()}createSharedClientState(e){const t=pf();if(!g_.D(t))throw new Ut(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=eg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new g_(t,e.asyncQueue,l,e.clientId,e.initialUser)}}class xh{initialize(e,t){var l=this;return(0,We.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=p=>bm(l.syncEngine,p,1),l.remoteStore.remoteSyncer.handleCredentialChange=x_.bind(null,l.syncEngine),yield bg(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mf}createDatastore(e){const t=gd(e.databaseInfo.databaseId),l=new ff(e.databaseInfo);return new am(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,p=e.asyncQueue,v=L=>bm(this.syncEngine,L,0),C=lg.D()?new lg:new m_,new __(t,l,p,v,C);var t,l,p,v,C}createSyncEngine(e,t){return function(l,p,v,C,L,Q,ie){const Ce=new Dy(l,p,v,C,L,Q);return ie&&(Ce.fc=!0),Ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,We.Z)(function*(t){const l=cn(t);zt("RemoteStore","RemoteStore shutting down."),l.du.add(5),yield Bd(l),l._u.shutdown(),l.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function O_(o,e=10240){let t=0;return{read:()=>(0,We.Z)(function*(){if(t<o.byteLength){const l={value:o.slice(t,t+e),done:!1};return t+=e,l}return{done:!0}})(),cancel:()=>(0,We.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Df{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new zi,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(l=>{l&&l.ku()?this.metadata.resolve(l.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(l?.Nu)}`))},l=>this.metadata.reject(l))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,We.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,We.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,We.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const l=e.Tc.decode(t),p=Number(l);isNaN(p)&&e.Rc(`length string (${l}) is not valid number`);const v=yield e.vc(p);return new wy(JSON.parse(v),t.length+p)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,We.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),l})()}vc(e){var t=this;return(0,We.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const l=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),l})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,We.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const l=new Uint8Array(e.buffer.length+t.value.length);l.set(e.buffer),l.set(t.value,e.buffer.length),e.buffer=l}return t.done})()}}class R_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,We.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ut(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(p=(0,We.Z)(function*(v,C){const L=cn(v),Q=Kp(L.serializer)+"/documents",ie={documents:C.map(qt=>tf(L.serializer,qt))},Ce=yield L.fo("BatchGetDocuments",Q,ie,C.length),Je=new Map;Ce.forEach(qt=>{const mn=function Yp(o,e){return"found"in e?function(t,l){bn(!!l.found);const p=Vu(t,l.found.name),v=to(l.found.updateTime),C=l.found.createTime?to(l.found.createTime):rr.min(),L=new fa({mapValue:{fields:l.found.fields}});return es.newFoundDocument(p,v,C,L)}(o,e):"missing"in e?function(t,l){bn(!!l.missing),bn(!!l.readTime);const p=Vu(t,l.missing),v=to(l.readTime);return es.newNoDocument(p,v)}(o,e):Sn()}(L.serializer,qt);Je.set(mn.key.toString(),mn)});const Et=[];return C.forEach(qt=>{const mn=Je.get(qt.toString());bn(!!mn),Et.push(mn)}),Et}),function(v,C){return p.apply(this,arguments)})(t.datastore,e);var p;return l.forEach(p=>t.recordVersion(p)),l})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new eo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,We.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var l;e.mutations.forEach(l=>{t.delete(l.key.toString())}),t.forEach((l,p)=>{const v=gn.fromPath(p);e.mutations.push(new Gp(v,e.precondition(v)))}),yield(l=(0,We.Z)(function*(p,v){const C=cn(p),L=Kp(C.serializer)+"/documents",Q={writes:v.map(ie=>I(C.serializer,ie))};yield C.co("Commit",L,Q)}),function(p,v){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sn();t=rr.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!t.isEqual(l))throw new Ut(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rr.min())?us.exists(!1):us.updateTime(t):us.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rr.min()))throw new Ut(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return us.updateTime(t)}return us.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class P_{constructor(e,t,l,p,v){this.asyncQueue=e,this.datastore=t,this.options=l,this.updateFunction=p,this.deferred=v,this.Vc=l.maxAttempts,this.Co=new _p(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,We.Z)(function*(){const t=new R_(e.datastore),l=e.Dc(t);l&&l.then(p=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(p)}).catch(v=>{e.Cc(v)}))}).catch(p=>{e.Cc(p)})}))}Dc(e){try{const t=this.updateFunction(e);return!S(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ca(t)}return!1}}class k_{constructor(e,t,l,p){var v=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=p,this.user=nr.UNAUTHENTICATED,this.clientId=ei.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var C=(0,We.Z)(function*(L){zt("FirestoreClient","Received user=",L.uid),yield v.authCredentialListener(L),v.user=L});return function(L){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(l,C=>(zt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,We.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,We.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const p=vp(l,"Failed to shutdown persistence");t.reject(p)}})),t.promise}}function If(o,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,We.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),zt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield o.getConfiguration();yield e.initialize(t);let l=t.initialUser;o.setCredentialChangeListener(function(){var p=(0,We.Z)(function*(v){l.isEqual(v)||(yield py(e.localStore,v),l=v)});return function(v){return p.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),Cp.apply(this,arguments)}function F_(o,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,We.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const t=yield L_(o);zt("FirestoreClient","Initializing OnlineComponentProvider");const l=yield o.getConfiguration();yield e.initialize(t,l),o.setCredentialChangeListener(p=>vg(e.remoteStore,p)),o.setAppCheckTokenChangeListener((p,v)=>vg(e.remoteStore,v)),o._onlineComponents=e}),Cf.apply(this,arguments)}function Om(o){return"FirebaseError"===o.name?o.code===Tt.FAILED_PRECONDITION||o.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function L_(o){return U_.apply(this,arguments)}function U_(){return U_=(0,We.Z)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){zt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield If(o,o._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Om(t))throw t;Ri("Error using user provided cache. Falling back to memory cache: "+t),yield If(o,new Ah)}}else zt("FirestoreClient","Using default OfflineComponentProvider"),yield If(o,new Ah);return o._offlineComponents}),U_.apply(this,arguments)}function Rm(o){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,We.Z)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(zt("FirestoreClient","Using user provided OnlineComponentProvider"),yield F_(o,o._uninitializedComponentsProvider._online)):(zt("FirestoreClient","Using default OnlineComponentProvider"),yield F_(o,new xh))),o._onlineComponents}),Nh.apply(this,arguments)}function Zu(o){return L_(o).then(e=>e.persistence)}function Pm(o){return L_(o).then(e=>e.localStore)}function Sp(o){return Rm(o).then(e=>e.remoteStore)}function Sf(o){return Rm(o).then(e=>e.syncEngine)}function bu(o){return B_.apply(this,arguments)}function B_(){return B_=(0,We.Z)(function*(o){const e=yield Rm(o),t=e.eventManager;return t.onListen=qc.bind(null,e.syncEngine),t.onUnlisten=Iy.bind(null,e.syncEngine),t}),B_.apply(this,arguments)}function wu(o,e,t={}){const l=new zi;return o.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return function(p,v,C,L,Q){const ie=new Tf({next:Je=>{v.enqueueAndForget(()=>_f(p,Ce));const Et=Je.docs.has(C);!Et&&Je.fromCache?Q.reject(new Ut(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):Et&&Je.fromCache&&L&&"server"===L.source?Q.reject(new Ut(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(Je)},error:Je=>Q.reject(Je)}),Ce=new Tg(Bc(C.path),ie,{includeMetadataChanges:!0,xu:!0});return wg(p,Ce)}(yield bu(o),o.asyncQueue,e,t,l)})),l.promise}function Ao(o,e,t={}){const l=new zi;return o.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return function(p,v,C,L,Q){const ie=new Tf({next:Je=>{v.enqueueAndForget(()=>_f(p,Ce)),Je.fromCache&&"server"===L.source?Q.reject(new Ut(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(Je)},error:Je=>Q.reject(Je)}),Ce=new Tg(C,ie,{includeMetadataChanges:!0,xu:!0});return wg(p,Ce)}(yield bu(o),o.asyncQueue,e,t,l)})),l.promise}const Va=new Map;function Kd(o,e,t){if(!t)throw new Ut(Tt.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function Nf(o,e,t,l){if(!0===e&&!0===l)throw new Ut(Tt.INVALID_ARGUMENT,`${o} and ${t} cannot be used together.`)}function Mh(o){if(!gn.isDocumentKey(o))throw new Ut(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Mf(o){if(gn.isDocumentKey(o))throw new Ut(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function Yd(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(t=o).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof o?"a function":Sn()}function Ai(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new Ut(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yd(o);throw new Ut(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return o}function Lm(o,e){if(e<=0)throw new Ut(Tt.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class Of{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ut(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Nf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,t,l,p){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=p,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Of({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Of(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Wa;switch(t.type){case"firstParty":return new gs(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ut(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Va.get(e);t&&(zt("ComponentProvider","Removing Datastore"),Va.delete(e),t.terminate())}(this),Promise.resolve()}}class ro{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}}class Na{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class Sc extends Na{constructor(e,t,l){super(e,t,Bc(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new gn(e))}withConverter(e){return new Sc(this.firestore,e,this._path)}}function V_(o,e,...t){if(o=(0,Xe.m9)(o),Kd("collection","path",e),o instanceof Rf){const l=Wr.fromString(e,...t);return Mf(l),new Sc(o,null,l)}{if(!(o instanceof ro||o instanceof Sc))throw new Ut(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(Wr.fromString(e,...t));return Mf(l),new Sc(o.firestore,null,l)}}function Bm(o,e,...t){if(o=(0,Xe.m9)(o),1===arguments.length&&(e=ei.A()),Kd("doc","path",e),o instanceof Rf){const l=Wr.fromString(e,...t);return Mh(l),new ro(o,null,new gn(l))}{if(!(o instanceof ro||o instanceof Sc))throw new Ut(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(Wr.fromString(e,...t));return Mh(l),new ro(o.firestore,o instanceof Sc?o.converter:null,new gn(l))}}function H_(o,e){return o=(0,Xe.m9)(o),e=(0,Xe.m9)(e),(o instanceof ro||o instanceof Sc)&&(e instanceof ro||e instanceof Sc)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function G_(o,e){return o=(0,Xe.m9)(o),e=(0,Xe.m9)(e),o instanceof Na&&e instanceof Na&&o.firestore===e.firestore&&k(o._query,e._query)&&o.converter===e.converter}class $_{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new _p(this,"async_queue_retry"),this.qc=()=>{const t=cg();t&&zt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=cg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=cg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new zi;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,We.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Ta(t))throw t;zt("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(l=>{throw this.Mc=l,this.Fc=!1,mr("INTERNAL UNHANDLED ERROR: ",function(v){let C=v.message||"";return v.stack&&(C=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),C}(l)),l}).then(l=>(this.Fc=!1,l))));return this.Nc=t,t}enqueueAfterDelay(e,t,l){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const p=T_.createAndSchedule(this,e,t,l,v=>this.Qc(v));return this.$c.push(p),p}Uc(){this.Mc&&Sn()}verifyOperationInProgress(){}zc(){var e=this;return(0,We.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Ng(o){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const p of["next","error","complete"])if(p in l&&"function"==typeof l[p])return!0;return!1}(o)}class z_{constructor(){this._progressObserver={},this._taskCompletionResolver=new zi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,l){this._progressObserver={next:e,error:t,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ts extends Rf{constructor(e,t,l,p){super(e,t,l,p),this.type="firestore",this._queue=new $_,this._persistenceKey=p?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Eu(this),this._firestoreClient.terminate()}}function io(o){return o._firestoreClient||Eu(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function Eu(o){var e,t,l;const p=o._freezeSettings(),v=(L=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new Cu(o._databaseId,L,o._persistenceKey,(ie=p).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,ie.useFetchStreams));var L,ie;o._firestoreClient=new k_(o._authCredentials,o._appCheckCredentials,o._queue,v),(null===(t=p.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(l=p.cache)||void 0===l?void 0:l._onlineComponentProvider)&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:p.cache.kind,_offline:p.cache._offlineComponentProvider,_online:p.cache._onlineComponentProvider})}function xp(o,e,t){const l=new zi;return o.asyncQueue.enqueue((0,We.Z)(function*(){try{yield If(o,t),yield F_(o,e),l.resolve()}catch(p){const v=p;if(!Om(v))throw v;Ri("Error enabling indexeddb cache. Falling back to memory cache: "+v),l.reject(v)}})).then(()=>l.promise)}function Rg(o){if(o._initialized||o._terminated)throw new Ut(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vd(jn.fromBase64String(e))}catch(t){throw new Ut(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vd(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ut(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bd{constructor(e){this._methodName=e}}class kf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return br(this._lat,e._lat)||br(this._long,e._long)}}const K_=/^__.*__$/;class Y_{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}class Pg{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gm(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sn()}}class Xa{constructor(e,t,l,p,v,C){this.settings=e,this.databaseId=t,this.serializer=l,this.ignoreUndefinedProperties=p,void 0===v&&this.Jc(),this.fieldTransforms=v||[],this.fieldMask=C||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Xa(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),p=this.Zc({path:l,ta:!1});return p.ea(e),p}na(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),p=this.Zc({path:l,ta:!1});return p.Jc(),p}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Lf(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Gm(this.Yc)&&K_.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class kg{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=l||gd(e)}ua(e,t,l,p=!1){return new Xa({Yc:e,methodName:t,oa:l,path:wi.emptyPath(),ta:!1,ra:p},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nc(o){const e=o._freezeSettings(),t=gd(o._databaseId);return new kg(o._databaseId,!!e.ignoreUndefinedProperties,t)}function Rh(o,e,t,l,p,v={}){const C=o.ua(v.merge||v.mergeFields?2:0,e,t,p);Km("Data must be an object, but it was:",C,l);const L=Py(l,C);let Q,ie;if(v.merge)Q=new Gn(C.fieldMask),ie=C.fieldTransforms;else if(v.mergeFields){const Ce=[];for(const Je of v.mergeFields){const Et=Ac(e,Je,t);if(!C.contains(Et))throw new Ut(Tt.INVALID_ARGUMENT,`Field '${Et}' is specified in your field mask but missing from your input data.`);J_(Ce,Et)||Ce.push(Et)}Q=new Gn(Ce),ie=C.fieldTransforms.filter(Je=>Q.covers(Je.field))}else Q=null,ie=C.fieldTransforms;return new Y_(new fa(L),Q,ie)}class rc extends bd{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rc}}function Ph(o,e,t){return new Xa({Yc:3,oa:e.settings.oa,methodName:o._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $m extends bd{_toFieldTransform(e){return new Ad(e.path,new Lu)}isEqual(e){return e instanceof $m}}class Z_ extends bd{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=Ph(this,e,!0),l=this.ca.map(v=>kh(v,t)),p=new du(l);return new Ad(e.path,p)}isEqual(e){return this===e}}class Ff extends bd{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=Ph(this,e,!0),l=this.ca.map(v=>kh(v,t)),p=new Vc(l);return new Ad(e.path,p)}isEqual(e){return this===e}}class el extends bd{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new jc(e.serializer,ep(e.serializer,this.aa));return new Ad(e.path,t)}isEqual(e){return this===e}}function zm(o,e,t,l){const p=o.ua(1,e,t);Km("Data must be an object, but it was:",p,l);const v=[],C=fa.empty();K(l,(Q,ie)=>{const Ce=Fh(e,Q,t);ie=(0,Xe.m9)(ie);const Je=p.na(Ce);if(ie instanceof rc)v.push(Ce);else{const Et=kh(ie,Je);null!=Et&&(v.push(Ce),C.set(Ce,Et))}});const L=new Gn(v);return new Pg(C,L,p.fieldTransforms)}function q_(o,e,t,l,p,v){const C=o.ua(1,e,t),L=[Ac(e,l,t)],Q=[p];if(v.length%2!=0)throw new Ut(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Et=0;Et<v.length;Et+=2)L.push(Ac(e,v[Et])),Q.push(v[Et+1]);const ie=[],Ce=fa.empty();for(let Et=L.length-1;Et>=0;--Et)if(!J_(ie,L[Et])){const qt=L[Et];let mn=Q[Et];mn=(0,Xe.m9)(mn);const $n=C.na(qt);if(mn instanceof rc)ie.push(qt);else{const yr=kh(mn,$n);null!=yr&&(ie.push(qt),Ce.set(qt,yr))}}const Je=new Gn(ie);return new Pg(Ce,Je,C.fieldTransforms)}function Wm(o,e,t,l=!1){return kh(t,o.ua(l?4:3,e))}function kh(o,e){if(Q_(o=(0,Xe.m9)(o)))return Km("Unsupported field value:",e,o),Py(o,e);if(o instanceof bd)return function(t,l){if(!Gm(l.Yc))throw l.ia(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l.ia(`${t._methodName}() is not currently supported inside arrays`);const p=t._toFieldTransform(l);p&&l.fieldTransforms.push(p)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,l){const p=[];let v=0;for(const C of t){let L=kh(C,l.sa(v));null==L&&(L={nullValue:"NULL_VALUE"}),p.push(L),v++}return{arrayValue:{values:p}}}(o,e)}return function(t,l){if(null===(t=(0,Xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ep(l.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const p=Vi.fromDate(t);return{timestampValue:fl(l.serializer,p)}}if(t instanceof Vi){const p=new Vi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fl(l.serializer,p)}}if(t instanceof kf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vd)return{bytesValue:Rd(l.serializer,t._byteString)};if(t instanceof ro){const p=l.databaseId,v=t.firestore._databaseId;if(!v.isEqual(p))throw l.ia(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:ip(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l.ia(`Unsupported field value: ${Yd(t)}`)}(o,e)}function Py(o,e){const t={};return X(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):K(o,(l,p)=>{const v=kh(p,e.Xc(l));null!=v&&(t[l]=v)}),{mapValue:{fields:t}}}function Q_(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof Vi||o instanceof kf||o instanceof vd||o instanceof ro||o instanceof bd)}function Km(o,e,t){if(!Q_(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Yd(t);throw e.ia("an object"===l?o+" a custom object":o+" "+l)}var l}function Ac(o,e,t){if((e=(0,Xe.m9)(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return Fh(o,e);throw Lf("Field path arguments must be of type string or ",o,!1,void 0,t)}const Ym=new RegExp("[~\\*/\\[\\]]");function Fh(o,e,t){if(e.search(Ym)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,t);try{return new Tu(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,t)}}function Lf(o,e,t,l,p){const v=l&&!l.isEmpty(),C=void 0!==p;let L=`Function ${e}() called with invalid data`;t&&(L+=" (via `toFirestore()`)"),L+=". ";let Q="";return(v||C)&&(Q+=" (found",v&&(Q+=` in field ${l}`),C&&(Q+=` in document ${p}`),Q+=")"),new Ut(Tt.INVALID_ARGUMENT,L+o+Q)}function J_(o,e){return o.some(t=>t.isEqual(e))}class Uf{constructor(e,t,l,p,v){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=p,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bv extends Uf{data(){return super.data()}}function Bf(o,e){return"string"==typeof e?Fh(o,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}function Fg(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new Ut(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ea{}class Np extends ea{}function Zd(o,e,...t){let l=[];e instanceof ea&&l.push(e),l=l.concat(t),function(p){const v=p.filter(L=>L instanceof gl).length,C=p.filter(L=>L instanceof xc).length;if(v>1||v>0&&C>0)throw new Ut(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const p of l)o=p._apply(o);return o}class xc extends Np{constructor(e,t,l){super(),this._field=e,this._op=t,this._value=l,this.type="where"}static _create(e,t,l){return new xc(e,t,l)}_apply(e){const t=this._parse(e);return ny(e._query,t),new Na(e.firestore,e.converter,b(e._query,t))}_parse(e){const t=nc(e.firestore);return function(p,v,C,L,Q,ie,Ce){let Je;if(Q.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Ut(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){ty(Ce,ie);const Et=[];for(const qt of Ce)Et.push(Uy(L,p,qt));Je={arrayValue:{values:Et}}}else Je=Uy(L,p,Ce)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||ty(Ce,ie),Je=Wm(C,"where",Ce,"in"===ie||"not-in"===ie);return yi.create(Q,ie,Je)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class gl extends ea{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gl(e,t)}_parse(e){const t=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===t.length?t[0]:ts.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(l,p){let v=l;const C=p.getFlattenedFilters();for(const L of C)ny(v,L),v=b(v,L)}(e._query,t),new Na(e.firestore,e.converter,b(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class X_ extends Np{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new X_(e,t)}_apply(e){const t=function(l,p,v){if(null!==l.startAt)throw new Ut(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Ut(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new Uc(p,v);return function(L,Q){if(null===Cd(L)){const ie=mc(L);null!==ie&&Nc(0,ie,Q.field)}}(l,C),C}(e._query,this._field,this._direction);return new Na(e.firestore,e.converter,function(l,p){const v=l.explicitOrderBy.concat([p]);return new Ql(l.path,l.collectionGroup,v,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}class Zm extends Np{constructor(e,t,l){super(),this.type=e,this._limit=t,this._limitType=l}static _create(e,t,l){return new Zm(e,t,l)}_apply(e){return new Na(e.firestore,e.converter,D(e._query,this._limit,this._limitType))}}class Lh extends Np{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new Lh(e,t,l)}_apply(e){const t=Lg(e,this.type,this._docOrFields,this._inclusive);return new Na(e.firestore,e.converter,(p=t,new Ql((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,p,l.endAt)));var l,p}}class qm extends Np{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new qm(e,t,l)}_apply(e){const t=Lg(e,this.type,this._docOrFields,this._inclusive);return new Na(e.firestore,e.converter,(p=t,new Ql((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,p)));var l,p}}function Lg(o,e,t,l){if(t[0]=(0,Xe.m9)(t[0]),t[0]instanceof Uf)return function(p,v,C,L,Q){if(!L)throw new Ut(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const ie=[];for(const Ce of cu(p))if(Ce.field.isKeyField())ie.push(Au(v,L.key));else{const Je=L.data.field(Ce.field);if(Ka(Je))throw new Ut(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Je){const Et=Ce.field.canonicalString();throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Et}' (used as the orderBy) does not exist.`)}ie.push(Je)}return new Lc(ie,Q)}(o._query,o.firestore._databaseId,e,t[0]._document,l);{const p=nc(o.firestore);return function(v,C,L,Q,ie,Ce){const Je=v.explicitOrderBy;if(ie.length>Je.length)throw new Ut(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Et=[];for(let qt=0;qt<ie.length;qt++){const mn=ie[qt];if(Je[qt].field.isKeyField()){if("string"!=typeof mn)throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof mn}`);if(!ku(v)&&-1!==mn.indexOf("/"))throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${mn}' contains a slash.`);const $n=v.path.child(Wr.fromString(mn));if(!gn.isDocumentKey($n))throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${$n}' is not because it contains an odd number of segments.`);const yr=new gn($n);Et.push(Au(C,yr))}else{const $n=Wm(L,Q,mn);Et.push($n)}}return new Lc(Et,Ce)}(o._query,o.firestore._databaseId,p,e,t,l)}}function Uy(o,e,t){if("string"==typeof(t=(0,Xe.m9)(t))){if(""===t)throw new Ut(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ku(e)&&-1!==t.indexOf("/"))throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(Wr.fromString(t));if(!gn.isDocumentKey(l))throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return Au(o,new gn(l))}if(t instanceof ro)return Au(o,t._key);throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(t)}.`)}function ty(o,e){if(!Array.isArray(o)||0===o.length)throw new Ut(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ny(o,e){if(e.isInequality()){const l=mc(o),p=e.field;if(null!==l&&!l.isEqual(p))throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${p.toString()}'`);const v=Cd(o);null!==v&&Nc(0,p,v)}const t=function(l,p){for(const v of l)for(const C of v.getFlattenedFilters())if(p.indexOf(C.op)>=0)return C.op;return null}(o.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ut(Tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Nc(o,e,t){if(!t.isEqual(e))throw new Ut(Tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Vf{convertValue(e,t="none"){switch(su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ls(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sn()}}convertObject(e,t){const l={};return K(e.fields,(p,v)=>{l[p]=this.convertValue(v,t)}),l}convertGeoPoint(e){return new kf(ls(e.latitude),ls(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=hl(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const t=Li(e);return new Vi(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=Wr.fromString(e);bn(Yr(l));const p=new iu(l.get(1),l.get(3)),v=new gn(l.popFirst(5));return p.isEqual(t)||mr(`Document ${v} contains a document reference within a different database (${p.projectId}/${p.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),v}}function Mp(o,e,t){let l;return l=o?t&&(t.merge||t.mergeFields)?o.toFirestore(e,t):o.toFirestore(e):e,l}class By extends Vf{constructor(e){super(),this.firestore=e}convertBytes(e){return new vd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,t)}}class qd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qd extends Uf{constructor(e,t,l,p,v,C){super(e,t,l,p,C),this._firestore=e,this._firestoreImpl=e,this.metadata=v}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(Bf("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class Bg extends Qd{data(e={}){return super.data(e)}}class Uh{constructor(e,t,l,p){this._firestore=e,this._userDataWriter=t,this._snapshot=p,this.metadata=new qd(p.hasPendingWrites,p.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new Bg(this._firestore,this._userDataWriter,l.key,l,new qd(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ut(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,p){if(l._snapshot.oldDocs.isEmpty()){let v=0;return l._snapshot.docChanges.map(C=>({type:"added",doc:new Bg(l._firestore,l._userDataWriter,C.doc.key,C.doc,new qd(l._snapshot.mutatedKeys.has(C.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:v++}))}{let v=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(C=>p||3!==C.type).map(C=>{const L=new Bg(l._firestore,l._userDataWriter,C.doc.key,C.doc,new qd(l._snapshot.mutatedKeys.has(C.doc.key),l._snapshot.fromCache),l.query.converter);let Q=-1,ie=-1;return 0!==C.type&&(Q=v.indexOf(C.doc.key),v=v.delete(C.doc.key)),1!==C.type&&(v=v.add(C.doc),ie=v.indexOf(C.doc.key)),{type:Hy(C.type),doc:L,oldIndex:Q,newIndex:ie}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hy(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sn()}}function Gy(o,e){return o instanceof Qd&&e instanceof Qd?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof Uh&&e instanceof Uh&&o._firestore===e._firestore&&G_(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}class Bh extends Vf{constructor(e){super(),this.firestore=e}convertBytes(e){return new vd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,t)}}function $y(o,e,t){o=Ai(o,ro);const l=Ai(o.firestore,Ts),p=Mp(o.converter,e,t);return Vh(l,[Rh(nc(l),"setDoc",o._key,p,null!==o.converter,t).toMutation(o._key,us.none())])}function kv(o,e,t,...l){o=Ai(o,ro);const p=Ai(o.firestore,Ts),v=nc(p);let C;return C="string"==typeof(e=(0,Xe.m9)(e))||e instanceof Tu?q_(v,"updateDoc",o._key,e,t,l):zm(v,"updateDoc",o._key,e),Vh(p,[C.toMutation(o._key,us.exists(!0))])}function zy(o,...e){var t,l,p;o=(0,Xe.m9)(o);let v={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||Ng(e[C])||(v=e[C],C++);const L={includeMetadataChanges:v.includeMetadataChanges};if(Ng(e[C])){const Je=e[C];e[C]=null===(t=Je.next)||void 0===t?void 0:t.bind(Je),e[C+1]=null===(l=Je.error)||void 0===l?void 0:l.bind(Je),e[C+2]=null===(p=Je.complete)||void 0===p?void 0:p.bind(Je)}let Q,ie,Ce;if(o instanceof ro)ie=Ai(o.firestore,Ts),Ce=Bc(o._key.path),Q={next:Je=>{e[C]&&e[C](Qm(ie,o,Je))},error:e[C+1],complete:e[C+2]};else{const Je=Ai(o,Na);ie=Ai(Je.firestore,Ts),Ce=Je._query;const Et=new Bh(ie);Q={next:qt=>{e[C]&&e[C](new Uh(ie,Et,Je,qt))},error:e[C+1],complete:e[C+2]},Fg(o._query)}return function(Je,Et,qt,mn){const $n=new Tf(mn),yr=new Tg(Et,$n,qt);return Je.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return wg(yield bu(Je),yr)})),()=>{$n.yc(),Je.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return _f(yield bu(Je),yr)}))}}(io(ie),Ce,L,Q)}function Vh(o,e){return function(t,l){const p=new zi;return t.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return function Cy(o,e,t){return ym.apply(this,arguments)}(yield Sf(t),l,p)})),p.promise}(io(o),e)}function Qm(o,e,t){const l=t.docs.get(e._key),p=new Bh(o);return new Qd(o,p,e._key,l,new qd(t.hasPendingWrites,t.fromCache),e.converter)}const Uv={maxAttempts:5};class Gf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nc(e)}set(e,t,l){this._verifyNotCommitted();const p=$f(e,this._firestore),v=Mp(p.converter,t,l),C=Rh(this._dataReader,"WriteBatch.set",p._key,v,null!==p.converter,l);return this._mutations.push(C.toMutation(p._key,us.none())),this}update(e,t,l,...p){this._verifyNotCommitted();const v=$f(e,this._firestore);let C;return C="string"==typeof(t=(0,Xe.m9)(t))||t instanceof Tu?q_(this._dataReader,"WriteBatch.update",v._key,t,l,p):zm(this._dataReader,"WriteBatch.update",v._key,t),this._mutations.push(C.toMutation(v._key,us.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$f(e,this._firestore);return this._mutations=this._mutations.concat(new eo(t._key,us.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $f(o,e){if((o=(0,Xe.m9)(o)).firestore!==e)throw new Ut(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class Jm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nc(e)}get(e){const t=$f(e,this._firestore),l=new By(this._firestore);return this._transaction.lookup([t._key]).then(p=>{if(!p||1!==p.length)return Sn();const v=p[0];if(v.isFoundDocument())return new Uf(this._firestore,l,v.key,v,t.converter);if(v.isNoDocument())return new Uf(this._firestore,l,t._key,null,t.converter);throw Sn()})}set(e,t,l){const p=$f(e,this._firestore),v=Mp(p.converter,t,l),C=Rh(this._dataReader,"Transaction.set",p._key,v,null!==p.converter,l);return this._transaction.set(p._key,C),this}update(e,t,l,...p){const v=$f(e,this._firestore);let C;return C="string"==typeof(t=(0,Xe.m9)(t))||t instanceof Tu?q_(this._dataReader,"Transaction.update",v._key,t,l,p):zm(this._dataReader,"Transaction.update",v._key,t),this._transaction.update(v._key,C),this}delete(e){const t=$f(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$f(e,this._firestore),l=new Bh(this._firestore);return super.get(e).then(p=>new Qd(this._firestore,l,t._key,p._document,new qd(!1,!1),t.converter))}}function Op(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ut("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return e}function jo(){if(typeof Uint8Array>"u")throw new Ut("unimplemented","Uint8Arrays are not available in this environment.")}function Vv(){if(!function Rr(){return typeof atob<"u"}())throw new Ut("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(o,e=!0){Or=Ft.SDK_VERSION,(0,Ft._registerComponent)(new it.wA("firestore",(t,{instanceIdentifier:l,options:p})=>{const v=t.getProvider("app").getImmediate(),C=new Ts(new Il(t.getProvider("auth-internal")),new cl(t.getProvider("app-check-internal")),function(L,Q){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new Ut(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(L.options.projectId,Q)}(v,l),v);return p=Object.assign({useFetchStreams:e},p),C._setSettings(p),C},"PUBLIC").setMultipleInstances(!0)),(0,Ft.registerVersion)(pn,"3.10.1",o),(0,Ft.registerVersion)(pn,"3.10.1","esm2017")}();class zf{constructor(e){this._delegate=e}static fromBase64String(e){return Vv(),new zf(vd.fromBase64String(e))}static fromUint8Array(e){return jo(),new zf(vd.fromUint8Array(e))}toBase64(){return Vv(),this._delegate.toBase64()}toUint8Array(){return jo(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function e_(o){return function jv(o,e){if("object"!=typeof o||null===o)return!1;const t=o;for(const l of e)if(l in t&&"function"==typeof t[l])return!0;return!1}(o,["next","error","complete"])}class sy{enableIndexedDbPersistence(e,t){return function jm(o,e){Rg(o=Ai(o,Ts));const t=io(o);if(t._uninitializedComponentsProvider)throw new Ut(Tt.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=o._freezeSettings(),p=new xh;return xp(t,p,new Mm(p,l.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Mg(o){Rg(o=Ai(o,Ts));const e=io(o);if(e._uninitializedComponentsProvider)throw new Ut(Tt.FAILED_PRECONDITION,"SDK cache is already specified.");Ri("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=o._freezeSettings(),l=new xh;return xp(e,l,new M_(l,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function W_(o){if(o._initialized&&!o._terminated)throw new Ut(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zi;return o._queue.enqueueAndForgetEvenWhileRestricted((0,We.Z)(function*(){try{yield(t=(0,We.Z)(function*(l){if(!ki.D())return Promise.resolve();const p=l+"main";yield ki.delete(p)}),function(l){return t.apply(this,arguments)})(eg(o._databaseId,o._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class oy{constructor(e,t,l){this._delegate=t,this._persistenceProvider=l,this.INTERNAL={delete:()=>this.terminate()},e instanceof iu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,l={}){!function Um(o,e,t,l={}){var p;const v=(o=Ai(o,Rf))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==e&&Ri("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},v),{host:`${e}:${t}`,ssl:!1})),l.mockUserToken){let C,L;if("string"==typeof l.mockUserToken)C=l.mockUserToken,L=nr.MOCK_USER;else{C=(0,Xe.Sg)(l.mockUserToken,null===(p=o._app)||void 0===p?void 0:p.options.projectId);const Q=l.mockUserToken.sub||l.mockUserToken.user_id;if(!Q)throw new Ut(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new nr(Q)}o._authCredentials=new Oe(new za(C,L))}}(this._delegate,e,t,l)}enableNetwork(){return function Ny(o){return function Qu(o){return o.asyncQueue.enqueue((0,We.Z)(function*(){const e=yield Zu(o),t=yield Sp(o);return e.setNetworkEnabled(!0),function(l){const p=cn(l);return p.du.delete(0),As(p)}(t)}))}(io(o=Ai(o,Ts)))}(this._delegate)}disableNetwork(){return function Hm(o){return function Af(o){return o.asyncQueue.enqueue((0,We.Z)(function*(){const e=yield Zu(o),t=yield Sp(o);return e.setNetworkEnabled(!1),(l=(0,We.Z)(function*(p){const v=cn(p);v.du.add(0),yield Bd(v),v.mu.set("Offline")}),function(p){return l.apply(this,arguments)})(t);var l}))}(io(o=Ai(o,Ts)))}(this._delegate)}enablePersistence(e){let t=!1,l=!1;return e&&(t=!!e.synchronizeTabs,l=!!e.experimentalForceOwningTab,Nf("synchronizeTabs",t,"experimentalForceOwningTab",l)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,l)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Pf(o){return function(e){const t=new zi;return e.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return function Ay(o,e){return Ic.apply(this,arguments)}(yield Sf(e),t)})),t.promise}(io(o=Ai(o,Ts)))}(this._delegate)}onSnapshotsInSync(e){return function Wy(o,e){return function Fm(o,e){const t=new Tf(e);return o.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return l=yield bu(o),p=t,cn(l).Au.add(p),void p.next();var l,p})),()=>{t.yc(),o.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return l=yield bu(o),p=t,void cn(l).Au.delete(p);var l,p}))}}(io(o=Ai(o,Ts)),Ng(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ut("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new x(this,V_(this._delegate,e))}catch(t){throw ic(t,"collection()","Firestore.collection()")}}doc(e){try{return new _l(this,Bm(this._delegate,e))}catch(t){throw ic(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new d(this,function j_(o,e){if(o=Ai(o,Rf),Kd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ut(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Na(o,null,(t=e,new Ql(Wr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ic(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Bv(o,e,t){o=Ai(o,Ts);const l=Object.assign(Object.assign({},Uv),t);return function(p){if(p.maxAttempts<1)throw new Ut(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(p,v,C){const L=new zi;return p.asyncQueue.enqueueAndForget((0,We.Z)(function*(){const Q=yield function qu(o){return Rm(o).then(e=>e.datastore)}(p);new P_(p.asyncQueue,Q,C,v,L).run()})),L.promise}(io(o),p=>e(new Jm(o,p)),l)}(this._delegate,t=>e(new Xy(this,t)))}batch(){return io(this._delegate),new ev(new Gf(this._delegate,e=>Vh(this._delegate,e)))}loadBundle(e){return function Oy(o,e){const t=io(o=Ai(o,Ts)),l=new z_;return function Ap(o,e,t,l){const p=function(v,C){let L;return L="string"==typeof v?(new TextEncoder).encode(v):v,Q=function(Q,ie){if(Q instanceof Uint8Array)return O_(Q,void 0);if(Q instanceof ArrayBuffer)return O_(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Df(Q,C);var Q}(t,gd(e));o.asyncQueue.enqueueAndForget((0,We.Z)(function*(){!function _v(o,e,t){const l=cn(o);var p;(p=(0,We.Z)(function*(v,C,L){try{const Q=yield C.getMetadata();if(yield function(Et,qt){const mn=cn(Et),$n=to(qt.createTime);return mn.persistence.runTransaction("hasNewerBundle","readonly",yr=>mn.xs.getBundleMetadata(yr,qt.id)).then(yr=>!!yr&&yr.createTime.compareTo($n)>=0)}(v.localStore,Q))return yield C.close(),L._completeWith({taskState:"Success",documentsLoaded:(Et=Q).totalDocuments,bytesLoaded:Et.totalBytes,totalDocuments:Et.totalDocuments,totalBytes:Et.totalBytes}),Promise.resolve(new Set);L._updateProgress(fv(Q));const ie=new Ey(Q,v.localStore,C.serializer);let Ce=yield C._c();for(;Ce;){const Et=yield ie.$u(Ce);Et&&L._updateProgress(Et),Ce=yield C._c()}const Je=yield ie.complete();return yield yd(v,Je.Bu,void 0),yield function(Et,qt){const mn=cn(Et);return mn.persistence.runTransaction("Save bundle","readwrite",$n=>mn.xs.saveBundleMetadata($n,qt))}(v.localStore,Q),L._completeWith(Je.progress),Promise.resolve(Je.Fu)}catch(Q){return Ri("SyncEngine",`Loading bundle failed with ${Q}`),L._failWith(Q),Promise.resolve(new Set)}var Et}),function(v,C,L){return p.apply(this,arguments)})(l,e,t).then(p=>{l.sharedClientState.notifyBundleLoaded(p)})}(yield Sf(o),p,l)}))}(t,o._databaseId,e,l),l}(this._delegate,e)}namedQuery(e){return function Og(o,e){return function Wd(o,e){return o.asyncQueue.enqueue((0,We.Z)(function*(){return function(t,l){const p=cn(t);return p.persistence.runTransaction("Get named query","readonly",v=>p.xs.getNamedQuery(v,l))}(yield Pm(o),e)}))}(io(o=Ai(o,Ts)),e).then(t=>t?new Na(o,null,t.query):null)}(this._delegate,e).then(t=>t?new d(this,t):null)}}class jg extends Vf{constructor(e){super(),this.firestore=e}convertBytes(e){return new zf(new vd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _l.forKey(t,this.firestore,null)}}class Xy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jg(e)}get(e){const t=j(e);return this._delegate.get(t).then(l=>new r(this._firestore,new Qd(this._firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,t.converter)))}set(e,t,l){const p=j(e);return l?(Op("Transaction.set",l),this._delegate.set(p,t,l)):this._delegate.set(p,t),this}update(e,t,l,...p){const v=j(e);return 2===arguments.length?this._delegate.update(v,t):this._delegate.update(v,t,l,...p),this}delete(e){const t=j(e);return this._delegate.delete(t),this}}class ev{constructor(e){this._delegate=e}set(e,t,l){const p=j(e);return l?(Op("WriteBatch.set",l),this._delegate.set(p,t,l)):this._delegate.set(p,t),this}update(e,t,l,...p){const v=j(e);return 2===arguments.length?this._delegate.update(v,t):this._delegate.update(v,t,l,...p),this}delete(e){const t=j(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wf{constructor(e,t,l){this._firestore=e,this._userDataWriter=t,this._delegate=l}fromFirestore(e,t){const l=new Bg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new s(this._firestore,l),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const l=Wf.INSTANCES;let p=l.get(e);p||(p=new WeakMap,l.set(e,p));let v=p.get(t);return v||(v=new Wf(e,new jg(e),t),p.set(t,v)),v}}Wf.INSTANCES=new WeakMap;class _l{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jg(e)}static forPath(e,t,l){if(e.length%2!=0)throw new Ut("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _l(t,new ro(t._delegate,l,new gn(e)))}static forKey(e,t,l){return new _l(t,new ro(t._delegate,l,e))}get id(){return this._delegate.id}get parent(){return new x(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new x(this.firestore,V_(this._delegate,e))}catch(t){throw ic(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xe.m9)(e))instanceof ro&&H_(this._delegate,e)}set(e,t){t=Op("DocumentReference.set",t);try{return t?$y(this._delegate,e,t):$y(this._delegate,e)}catch(l){throw ic(l,"setDoc()","DocumentReference.set()")}}update(e,t,...l){try{return 1===arguments.length?kv(this._delegate,e):kv(this._delegate,e,t,...l)}catch(p){throw ic(p,"updateDoc()","DocumentReference.update()")}}delete(){return function Qv(o){return Vh(Ai(o.firestore,Ts),[new eo(o._key,us.none())])}(this._delegate)}onSnapshot(...e){const t=tv(e),l=u(e,p=>new r(this.firestore,new Qd(this.firestore._delegate,this._userDataWriter,p._key,p._document,p.metadata,this._delegate.converter)));return zy(this._delegate,t,l)}get(e){let t;return t="cache"===e?.source?function Nv(o){o=Ai(o,ro);const e=Ai(o.firestore,Ts),t=io(e),l=new Bh(e);return function xa(o,e){const t=new zi;return o.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return(l=(0,We.Z)(function*(p,v,C){try{const L=yield function(Q,ie){const Ce=cn(Q);return Ce.persistence.runTransaction("read document","readonly",Je=>Ce.localDocuments.getDocument(Je,ie))}(p,v);L.isFoundDocument()?C.resolve(L):L.isNoDocument()?C.resolve(null):C.reject(new Ut(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const Q=vp(L,`Failed to get document '${v} from cache`);C.reject(Q)}}),function(p,v,C){return l.apply(this,arguments)})(yield Pm(o),e,t);var l})),t.promise}(t,o._key).then(p=>new Qd(e,l,o._key,p,new qd(null!==p&&p.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===e?.source?function Mv(o){o=Ai(o,ro);const e=Ai(o.firestore,Ts);return wu(io(e),o._key,{source:"server"}).then(t=>Qm(e,o,t))}(this._delegate):function xv(o){o=Ai(o,ro);const e=Ai(o.firestore,Ts);return wu(io(e),o._key).then(t=>Qm(e,o,t))}(this._delegate),t.then(l=>new r(this.firestore,new Qd(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(e){return new _l(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}function ic(o,e,t){return o.message=o.message.replace(e,t),o}function tv(o){for(const e of o)if("object"==typeof e&&!e_(e))return e;return{}}function u(o,e){var t,l;let p;return p=e_(o[0])?o[0]:e_(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:v=>{p.next&&p.next(e(v))},error:null===(t=p.error)||void 0===t?void 0:t.bind(p),complete:null===(l=p.complete)||void 0===l?void 0:l.bind(p)}}class r{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _l(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Gy(this._delegate,e._delegate)}}class s extends r{data(e){const t=this._delegate.data(e);return function Dl(o,e){o||Sn()}(void 0!==t),t}}class d{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jg(e)}where(e,t,l){try{return new d(this.firestore,Zd(this._delegate,function Ju(o,e,t){const l=e,p=Bf("where",o);return xc._create(p,l,t)}(e,t,l)))}catch(p){throw ic(p,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new d(this.firestore,Zd(this._delegate,function Tv(o,e="asc"){const t=e,l=Bf("orderBy",o);return X_._create(l,t)}(e,t)))}catch(l){throw ic(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new d(this.firestore,Zd(this._delegate,function Dv(o){return Lm("limit",o),Zm._create("limit",o,"F")}(e)))}catch(t){throw ic(t,"limit()","Query.limit()")}}limitToLast(e){try{return new d(this.firestore,Zd(this._delegate,function ey(o){return Lm("limitToLast",o),Zm._create("limitToLast",o,"L")}(e)))}catch(t){throw ic(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new d(this.firestore,Zd(this._delegate,function Iv(...o){return Lh._create("startAt",o,!0)}(...e)))}catch(t){throw ic(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new d(this.firestore,Zd(this._delegate,function ky(...o){return Lh._create("startAfter",o,!1)}(...e)))}catch(t){throw ic(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new d(this.firestore,Zd(this._delegate,function Fy(...o){return qm._create("endBefore",o,!1)}(...e)))}catch(t){throw ic(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new d(this.firestore,Zd(this._delegate,function Ly(...o){return qm._create("endAt",o,!0)}(...e)))}catch(t){throw ic(t,"endAt()","Query.endAt()")}}isEqual(e){return G_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Rv(o){o=Ai(o,Na);const e=Ai(o.firestore,Ts),t=io(e),l=new Bh(e);return function km(o,e){const t=new zi;return o.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return(l=(0,We.Z)(function*(p,v,C){try{const L=yield ng(p,v,!0),Q=new Ty(v,L.Wi),ie=Q.zu(L.documents),Ce=Q.applyChanges(ie,!1);C.resolve(Ce.snapshot)}catch(L){const Q=vp(L,`Failed to execute query '${v} against cache`);C.reject(Q)}}),function(p,v,C){return l.apply(this,arguments)})(yield Pm(o),e,t);var l})),t.promise}(t,o._query).then(p=>new Uh(e,l,o,p))}(this._delegate):"server"===e?.source?function Pv(o){o=Ai(o,Na);const e=Ai(o.firestore,Ts),t=io(e),l=new Bh(e);return Ao(t,o._query,{source:"server"}).then(p=>new Uh(e,l,o,p))}(this._delegate):function Ov(o){o=Ai(o,Na);const e=Ai(o.firestore,Ts),t=io(e),l=new Bh(e);return Fg(o._query),Ao(t,o._query).then(p=>new Uh(e,l,o,p))}(this._delegate),t.then(l=>new T(this.firestore,new Uh(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...e){const t=tv(e),l=u(e,p=>new T(this.firestore,new Uh(this.firestore._delegate,this._userDataWriter,this._delegate,p._snapshot)));return zy(this._delegate,t,l)}withConverter(e){return new d(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}class _{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new s(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class T{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new d(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new s(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _(this._firestore,t))}forEach(e,t){this._delegate.forEach(l=>{e.call(t,new s(this._firestore,l))})}isEqual(e){return Gy(this._delegate,e._delegate)}}class x extends d{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _l(this.firestore,e):null}doc(e){try{return new _l(this.firestore,void 0===e?Bm(this._delegate):Bm(this._delegate,e))}catch(t){throw ic(t,"doc()","CollectionReference.doc()")}}add(e){return function Fv(o,e){const t=Ai(o.firestore,Ts),l=Bm(o),p=Mp(o.converter,e);return Vh(t,[Rh(nc(o.firestore),"addDoc",l._key,p,null!==o.converter,{}).toMutation(l._key,us.exists(!1))]).then(()=>l)}(this._delegate,e).then(t=>new _l(this.firestore,t))}isEqual(e){return H_(this._delegate,e._delegate)}withConverter(e){return new x(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}function j(o){return Ai(o,ro)}class ee{constructor(...e){this._delegate=new Tu(...e)}static documentId(){return new ee(wi.keyField().canonicalString())}isEqual(e){return(e=(0,Xe.m9)(e))instanceof Tu&&this._delegate._internalPath.isEqual(e._internalPath)}}class he{constructor(e){this._delegate=e}static serverTimestamp(){const e=function iy(){return new $m("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new he(e)}static delete(){const e=function ry(){return new rc("deleteField")}();return e._methodName="FieldValue.delete",new he(e)}static arrayUnion(...e){const t=function Xm(...o){return new Z_("arrayUnion",o)}(...e);return t._methodName="FieldValue.arrayUnion",new he(t)}static arrayRemove(...e){const t=function Pr(...o){return new Ff("arrayRemove",o)}(...e);return t._methodName="FieldValue.arrayRemove",new he(t)}static increment(e){const t=function qy(o){return new el("increment",o)}(e);return t._methodName="FieldValue.increment",new he(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const je={Firestore:oy,GeoPoint:kf,Timestamp:Vi,Blob:zf,Transaction:Xy,WriteBatch:ev,DocumentReference:_l,DocumentSnapshot:r,Query:d,QueryDocumentSnapshot:s,QuerySnapshot:T,CollectionReference:x,FieldPath:ee,FieldValue:he,setLogLevel:function Jy(o){!function Di(o){Lr.setLogLevel(o)}(o)},CACHE_SIZE_UNLIMITED:-1};!function gt(o){(function et(o,e){o.INTERNAL.registerComponent(new it.wA("firestore-compat",t=>{const l=t.getProvider("app-compat").getImmediate(),p=t.getProvider("firestore").getImmediate();return e(l,p)},"PUBLIC").setServiceProps(Object.assign({},je)))})(o,(e,t)=>new oy(e,t,new sy)),o.registerVersion("@firebase/firestore-compat","0.3.7")}(nt.Z);var Gt=M(3385),Yt=M(6217),vn=M(9260);function Hr(o,e){return function ir(o,e=E.z){return new B.y(t=>{let l;return null!=e?e.schedule(()=>{l=o.onSnapshot({includeMetadataChanges:!0},t)}):l=o.onSnapshot({includeMetadataChanges:!0},t),()=>{l?.()}})}(o,e)}function vi(o,e){return Hr(o,e).pipe((0,le.U)(t=>({payload:t,type:"query"})))}function bi(o,e){return vi(o,e).pipe((0,Ee.O)(void 0),ae(),(0,le.U)(([t,l])=>{const p=l.payload.docChanges(),v=p.map(C=>({type:C.type,payload:C}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((C,L)=>{const Q=p.find(Ce=>Ce.doc.ref.isEqual(C.ref)),ie=t?.payload.docs.find(Ce=>Ce.ref.isEqual(C.ref));Q&&JSON.stringify(Q.doc.metadata)===JSON.stringify(C.metadata)||!Q&&ie&&JSON.stringify(ie.metadata)===JSON.stringify(C.metadata)||v.push({type:"modified",payload:{oldIndex:L,newIndex:L,type:"modified",doc:C}})}),v}))}function Mc(o,e,t){return bi(o,t).pipe((0,ye.R)((l,p)=>function Bl(o,e,t){return e.forEach(l=>{t.indexOf(l.type)>-1&&(o=function tl(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ho(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=o.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ho(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ho(o,e.oldIndex,1)}return o}(o,l))}),o}(l,p.map(v=>v.payload),e),[]),(0,Be.x)(),(0,le.U)(l=>l.map(p=>({type:p.type,payload:p}))))}function Ho(o,e,t,...l){const p=o.slice();return p.splice(e,t,...l),p}function Xd(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class Jc{constructor(e,t,l){this.ref=e,this.query=t,this.afs=l}stateChanges(e){let t=bi(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,le.U)(l=>l.filter(p=>e.indexOf(p.type)>-1)))),t.pipe((0,Ee.O)(void 0),ae(),(0,Me.h)(([l,p])=>p.length>0||!l),(0,le.U)(([l,p])=>p),pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ye.R)((t,l)=>[...t,...l],[]))}snapshotChanges(e){const t=Xd(e);return Mc(this.query,t,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return vi(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(t=>t.payload.docs.map(l=>e.idField?Object.assign(Object.assign({},l.data()),{[e.idField]:l.id}):l.data())),pe.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(pe.iC)}add(e){return this.ref.add(e)}doc(e){return new wd(this.ref.doc(e),this.afs)}}class wd{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const l=this.ref.collection(e),{ref:p,query:v}=Er(l,t);return new Jc(p,v,this.afs)}snapshotChanges(){return function Ui(o,e){return Hr(o,e).pipe((0,Ee.O)(void 0),ae(),(0,le.U)(([t,l])=>l.exists?t?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,le.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ce.D)(this.ref.get(e)).pipe(pe.iC)}}class Hg{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bi(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(t=>t.filter(l=>e.indexOf(l.type)>-1)),(0,Me.h)(t=>t.length>0),pe.iC):bi(this.query,this.afs.schedulers.outsideAngular).pipe(pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ye.R)((t,l)=>[...t,...l],[]))}snapshotChanges(e){const t=Xd(e);return Mc(this.query,t,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return vi(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(l=>l.payload.docs.map(p=>e.idField?Object.assign({[e.idField]:p.id},p.data()):p.data())),pe.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(pe.iC)}}const Rp=new a.OlP("angularfire2.enableFirestorePersistence"),Kf=new a.OlP("angularfire2.firestore.persistenceSettings"),nv=new a.OlP("angularfire2.firestore.settings"),ur=new a.OlP("angularfire2.firestore.use-emulator");function Er(o,e=(t=>t)){return{query:e(o),ref:o}}let kr=(()=>{class o{constructor(t,l,p,v,C,L,Q,ie,Ce,Je,Et,qt,mn,$n,yr,ns,Go){this.schedulers=Q;const Ni=(0,Ne.on)(t,L,l),Vl=Ce;Je&&(0,Gt.nw)(Ni,L,Et,mn,$n,yr,qt,ns),[this.firestore,this.persistenceEnabled$]=(0,Ne.cc)(`${Ni.name}.firestore`,"AngularFirestore",Ni.name,()=>{const go=L.runOutsideAngular(()=>Ni.firestore());if(v&&go.settings(v),Vl&&go.useEmulator(...Vl),p&&!(0,ot.PM)(C)){const xo=()=>{try{return(0,ce.D)(go.enablePersistence(ie||void 0).then(()=>!0,()=>!1))}catch(Xc){return typeof console<"u"&&console.warn(Xc),(0,de.of)(!1)}};return[go,L.runOutsideAngular(xo)]}return[go,(0,de.of)(!1)]},[v,Vl,p])}collection(t,l){let p;p="string"==typeof t?this.firestore.collection(t):t;const{ref:v,query:C}=Er(p,l),L=this.schedulers.ngZone.run(()=>v);return new Jc(L,C,this)}collectionGroup(t,l){const p=l||(C=>C),v=this.firestore.collectionGroup(t);return new Hg(p(v),this)}doc(t){let l;l="string"==typeof t?this.firestore.doc(t):t;const p=this.schedulers.ngZone.run(()=>l);return new wd(p,this)}createId(){return this.firestore.collection("_").doc().id}}return o.\u0275fac=function(t){return new(t||o)(a.LFG(Ne.Dh),a.LFG(Ne.xv,8),a.LFG(Rp,8),a.LFG(nv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(pe.HU),a.LFG(Kf,8),a.LFG(ur,8),a.LFG(Gt.zQ,8),a.LFG(Gt.Qv,8),a.LFG(Gt.L6,8),a.LFG(Gt._Q,8),a.LFG(Gt.rT,8),a.LFG(Gt.lh,8),a.LFG(Gt.f7,8),a.LFG(Yt.nm,8))},o.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),xi=(()=>{class o{constructor(){vn.Z.registerVersion("angularfire",pe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:o,providers:[{provide:Rp,useValue:!0},{provide:Kf,useValue:t}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({providers:[kr]}),o})()},2011:(nn,we,M)=>{"use strict";M.d(we,{Dh:()=>oe,GT:()=>pe,cc:()=>Me,hO:()=>Be,on:()=>ae,pX:()=>de,xv:()=>Ie});var a=M(4650),E=M(9260),B=M(2122);nn=M.hmd(nn);const ce=["ngOnDestroy"],de=(nt,We,Ft,it={})=>new Proxy(nt,{get:(Ke,Xe)=>Ft.runOutsideAngular(()=>{var Ct;if(nt[Xe])return!(null===(Ct=it?.spy)||void 0===Ct)&&Ct.get&&it.spy.get(Xe,nt[Xe]),nt[Xe];if(ce.indexOf(Xe)>-1)return()=>{};const dt=We.toPromise().then(Te=>{const Ge=Te&&Te[Xe];return"function"==typeof Ge?Ge.bind(Te):Ge&&Ge.then?Ge.then(Qe=>Ft.run(()=>Qe)):Ft.run(()=>Ge)});return new Proxy(()=>{},{get:(Te,Ge)=>dt[Ge],apply:(Te,Ge,Qe)=>dt.then(At=>{var ln;const Lt=At&&At(...Qe);return!(null===(ln=it?.spy)||void 0===ln)&&ln.apply&&it.spy.apply(Xe,Qe,Lt),Lt})})})}),pe=(nt,We)=>{We.forEach(Ft=>{Object.getOwnPropertyNames(Ft.prototype||Ft).forEach(it=>{Object.defineProperty(nt.prototype,it,Object.getOwnPropertyDescriptor(Ft.prototype||Ft,it))})})};class Ee{constructor(We){return We}}const oe=new a.OlP("angularfire2.app.options"),Ie=new a.OlP("angularfire2.app.name");function ae(nt,We,Ft){const Ke="object"==typeof Ft&&Ft||{};Ke.name=Ke.name||"string"==typeof Ft&&Ft||"[DEFAULT]";const Ct=E.Z.apps.filter(dt=>dt&&dt.name===Ke.name)[0]||We.runOutsideAngular(()=>E.Z.initializeApp(nt,Ke));try{JSON.stringify(nt)!==JSON.stringify(Ct.options)&&le("error",`${Ct.name} Firebase App already initialized with different options${nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(Ct)}const le=(nt,...We)=>{(0,a.X6Q)()&&typeof console<"u"&&console[nt](...We)},ye={provide:Ee,useFactory:ae,deps:[oe,a.R0b,[new a.FiY,Ie]]};let Be=(()=>{class nt{constructor(Ft){E.Z.registerVersion("angularfire",B.q4.full,"core"),E.Z.registerVersion("angularfire",B.q4.full,"app-compat"),E.Z.registerVersion("angular",a.q4F.full,Ft.toString())}static initializeApp(Ft,it){return{ngModule:nt,providers:[{provide:oe,useValue:Ft},{provide:Ie,useValue:it}]}}}return nt.\u0275fac=function(Ft){return new(Ft||nt)(a.LFG(a.Lbi))},nt.\u0275mod=a.oAB({type:nt}),nt.\u0275inj=a.cJS({providers:[ye]}),nt})();function Me(nt,We,Ft,it,Ke){const[,Xe,Ct]=globalThis.\u0275AngularfireInstanceCache.find(dt=>dt[0]===nt)||[];if(Xe)return function Ne(nt,We){try{return nt.toString()===We.toString()}catch{return nt===We}}(Ke,Ct)||(qe("error",`${We} was already initialized on the ${Ft} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:Ke,was:Ct})),Xe;{const dt=it();return globalThis.\u0275AngularfireInstanceCache.push([nt,dt,Ke]),dt}}const ot=!!nn.hot,qe=(nt,...We)=>{(0,a.X6Q)()&&typeof console<"u"&&console[nt](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(nn,we,M)=>{"use strict";M.d(we,{q4:()=>an,iC:()=>Cs,fc:()=>Nl,HU:()=>nd,vb:()=>Js,JM:()=>Io});var a=M(4650),E=M(259),B=M(5861),ce=M(9681),de=M(2090),pe=M(4859),Ee=M(1877),oe=M(8766);const Ie="@firebase/installations",ye="w:0.6.4",Be="FIS_v2",We=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ft(K){return K instanceof de.ZR&&K.code.includes("request-failed")}function it({projectId:K}){return`https://firebaseinstallations.googleapis.com/v1/projects/${K}/installations`}function Ke(K){return{token:K.token,requestStatus:2,expiresIn:At(K.expiresIn),creationTime:Date.now()}}function Xe(K,X){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,B.Z)(function*(K,X){const He=(yield X.json()).error;return We.create("request-failed",{requestName:K,serverCode:He.code,serverMessage:He.message,serverStatus:He.status})})).apply(this,arguments)}function dt({apiKey:K}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K})}function Te(K,{refreshToken:X}){const fe=dt(K);return fe.append("Authorization",function ln(K){return`${Be} ${K}`}(X)),fe}function Ge(K){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,B.Z)(function*(K){const X=yield K();return X.status>=500&&X.status<600?K():X})).apply(this,arguments)}function At(K){return Number(K.replace("s","000"))}function Lt(K,X){return pt.apply(this,arguments)}function pt(){return(pt=(0,B.Z)(function*({appConfig:K,heartbeatServiceProvider:X},{fid:fe}){const He=it(K),lt=dt(K),ft=X.getImmediate({optional:!0});if(ft){const or=yield ft.getHeartbeatsHeader();or&&lt.append("x-firebase-client",or)}const An={method:"POST",headers:lt,body:JSON.stringify({fid:fe,authVersion:Be,appId:K.appId,sdkVersion:ye})},Gn=yield Ge(()=>fetch(He,An));if(Gn.ok){const or=yield Gn.json();return{fid:or.fid||fe,registrationStatus:2,refreshToken:or.refreshToken,authToken:Ke(or.authToken)}}throw yield Xe("Create Installation",Gn)})).apply(this,arguments)}function bt(K){return new Promise(X=>{setTimeout(X,K)})}const $t=/^[cdef][\w-]{21}$/;function vt(){try{const K=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(K),K[0]=112+K[0]%16;const fe=function yn(K){return function It(K){return btoa(String.fromCharCode(...K)).replace(/\+/g,"-").replace(/\//g,"_")}(K).substr(0,22)}(K);return $t.test(fe)?fe:""}catch{return""}}function Jt(K){return`${K.appName}!${K.appId}`}const Mn=new Map;function Bt(K,X){const fe=Jt(K);Tn(fe,X),function Wn(K,X){const fe=function Yn(){return!lr&&"BroadcastChannel"in self&&(lr=new BroadcastChannel("[Firebase] FID Change"),lr.onmessage=K=>{Tn(K.data.key,K.data.fid)}),lr}();fe&&fe.postMessage({key:K,fid:X}),function Cr(){0===Mn.size&&lr&&(lr.close(),lr=null)}()}(fe,X)}function Tn(K,X){const fe=Mn.get(K);if(fe)for(const He of fe)He(X)}let lr=null;const Jn="firebase-installations-store";let tr=null;function Nr(){return tr||(tr=(0,oe.X3)("firebase-installations-database",1,{upgrade:(K,X)=>{0===X&&K.createObjectStore(Jn)}})),tr}function hn(K,X){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,B.Z)(function*(K,X){const fe=Jt(K),lt=(yield Nr()).transaction(Jn,"readwrite"),ft=lt.objectStore(Jn),Xt=yield ft.get(fe);return yield ft.put(X,fe),yield lt.done,(!Xt||Xt.fid!==X.fid)&&Bt(K,X.fid),X})).apply(this,arguments)}function hr(K){return gr.apply(this,arguments)}function gr(){return(gr=(0,B.Z)(function*(K){const X=Jt(K),He=(yield Nr()).transaction(Jn,"readwrite");yield He.objectStore(Jn).delete(X),yield He.done})).apply(this,arguments)}function ci(K,X){return xs.apply(this,arguments)}function xs(){return(xs=(0,B.Z)(function*(K,X){const fe=Jt(K),lt=(yield Nr()).transaction(Jn,"readwrite"),ft=lt.objectStore(Jn),Xt=yield ft.get(fe),An=X(Xt);return void 0===An?yield ft.delete(fe):yield ft.put(An,fe),yield lt.done,An&&(!Xt||Xt.fid!==An.fid)&&Bt(K,An.fid),An})).apply(this,arguments)}function $r(K){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,B.Z)(function*(K){let X;const fe=yield ci(K.appConfig,He=>{const lt=Ze(He),ft=Le(K,lt);return X=ft.registrationPromise,ft.installationEntry});return""===fe.fid?{installationEntry:yield X}:{installationEntry:fe,registrationPromise:X}})).apply(this,arguments)}function Ze(K){return on(K||{fid:vt(),registrationStatus:0})}function Le(K,X){if(0===X.registrationStatus){if(!navigator.onLine)return{installationEntry:X,registrationPromise:Promise.reject(We.create("app-offline"))};const fe={fid:X.fid,registrationStatus:1,registrationTime:Date.now()},He=function wt(K,X){return Ot.apply(this,arguments)}(K,fe);return{installationEntry:fe,registrationPromise:He}}return 1===X.registrationStatus?{installationEntry:X,registrationPromise:Wt(K)}:{installationEntry:X}}function Ot(){return(Ot=(0,B.Z)(function*(K,X){try{const fe=yield Lt(K,X);return hn(K.appConfig,fe)}catch(fe){throw Ft(fe)&&409===fe.customData.serverCode?yield hr(K.appConfig):yield hn(K.appConfig,{fid:X.fid,registrationStatus:0}),fe}})).apply(this,arguments)}function Wt(K){return In.apply(this,arguments)}function In(){return(In=(0,B.Z)(function*(K){let X=yield Zn(K.appConfig);for(;1===X.registrationStatus;)yield bt(100),X=yield Zn(K.appConfig);if(0===X.registrationStatus){const{installationEntry:fe,registrationPromise:He}=yield $r(K);return He||fe}return X})).apply(this,arguments)}function Zn(K){return ci(K,X=>{if(!X)throw We.create("installation-not-found");return on(X)})}function on(K){return function fr(K){return 1===K.registrationStatus&&K.registrationTime+1e4<Date.now()}(K)?{fid:K.fid,registrationStatus:0}:K}function kn(K,X){return Br.apply(this,arguments)}function Br(){return(Br=(0,B.Z)(function*({appConfig:K,heartbeatServiceProvider:X},fe){const He=er(K,fe),lt=Te(K,fe),ft=X.getImmediate({optional:!0});if(ft){const or=yield ft.getHeartbeatsHeader();or&&lt.append("x-firebase-client",or)}const An={method:"POST",headers:lt,body:JSON.stringify({installation:{sdkVersion:ye,appId:K.appId}})},Gn=yield Ge(()=>fetch(He,An));if(Gn.ok)return Ke(yield Gn.json());throw yield Xe("Generate Auth Token",Gn)})).apply(this,arguments)}function er(K,{fid:X}){return`${it(K)}/${X}/authTokens:generate`}function Qn(K){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,B.Z)(function*(K,X=!1){let fe;const He=yield ci(K.appConfig,ft=>{if(!sr(ft))throw We.create("not-registered");const Xt=ft.authToken;if(!X&&vr(Xt))return ft;if(1===Xt.requestStatus)return fe=en(K,X),ft;{if(!navigator.onLine)throw We.create("app-offline");const An=Ve(ft);return fe=Fn(K,An),An}});return fe?yield fe:He.authToken})).apply(this,arguments)}function en(K,X){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,B.Z)(function*(K,X){let fe=yield sn(K.appConfig);for(;1===fe.authToken.requestStatus;)yield bt(100),fe=yield sn(K.appConfig);const He=fe.authToken;return 0===He.requestStatus?Qn(K,X):He})).apply(this,arguments)}function sn(K){return ci(K,X=>{if(!sr(X))throw We.create("not-registered");return function Se(K){return 1===K.requestStatus&&K.requestTime+1e4<Date.now()}(X.authToken)?Object.assign(Object.assign({},X),{authToken:{requestStatus:0}}):X})}function Fn(K,X){return On.apply(this,arguments)}function On(){return(On=(0,B.Z)(function*(K,X){try{const fe=yield kn(K,X),He=Object.assign(Object.assign({},X),{authToken:fe});return yield hn(K.appConfig,He),fe}catch(fe){if(!Ft(fe)||401!==fe.customData.serverCode&&404!==fe.customData.serverCode){const He=Object.assign(Object.assign({},X),{authToken:{requestStatus:0}});yield hn(K.appConfig,He)}else yield hr(K.appConfig);throw fe}})).apply(this,arguments)}function sr(K){return void 0!==K&&2===K.registrationStatus}function vr(K){return 2===K.requestStatus&&!function Ye(K){const X=Date.now();return X<K.creationTime||K.creationTime+K.expiresIn<X+36e5}(K)}function Ve(K){const X={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},K),{authToken:X})}function V(){return(V=(0,B.Z)(function*(K){const X=K,{installationEntry:fe,registrationPromise:He}=yield $r(X);return He?He.catch(console.error):Qn(X).catch(console.error),fe.fid})).apply(this,arguments)}function xe(){return(xe=(0,B.Z)(function*(K,X=!1){const fe=K;return yield tt(fe),(yield Qn(fe,X)).token})).apply(this,arguments)}function tt(K){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,B.Z)(function*(K){const{registrationPromise:X}=yield $r(K);X&&(yield X)})).apply(this,arguments)}function Cn(K){return We.create("missing-app-config-values",{valueName:K})}const Sr="installations",pr=K=>{const X=K.getProvider("app").getImmediate(),fe=function qn(K){if(!K||!K.options)throw Cn("App Configuration");if(!K.name)throw Cn("App Name");const X=["projectId","apiKey","appId"];for(const fe of X)if(!K.options[fe])throw Cn(fe);return{appName:K.name,projectId:K.options.projectId,apiKey:K.options.apiKey,appId:K.options.appId}}(X);return{app:X,appConfig:fe,heartbeatServiceProvider:(0,ce._getProvider)(X,"heartbeat"),_delete:()=>Promise.resolve()}},Tr=K=>{const X=K.getProvider("app").getImmediate(),fe=(0,ce._getProvider)(X,Sr).getImmediate();return{getId:()=>function F(K){return V.apply(this,arguments)}(fe),getToken:lt=>function ne(K){return xe.apply(this,arguments)}(fe,lt)}};(function Yi(){(0,ce._registerComponent)(new pe.wA(Sr,pr,"PUBLIC")),(0,ce._registerComponent)(new pe.wA("installations-internal",Tr,"PRIVATE"))})(),(0,ce.registerVersion)(Ie,"0.6.4"),(0,ce.registerVersion)(Ie,"0.6.4","esm2017");const Gi="@firebase/remote-config",Mi=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yl{constructor(X,fe,He,lt){this.client=X,this.storage=fe,this.storageCache=He,this.logger=lt}isCachedDataFresh(X,fe){if(!fe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const He=Date.now()-fe,lt=He<=X;return this.logger.debug(`Config fetch cache check. Cache age millis: ${He}. Cache max age millis (minimumFetchIntervalMillis setting): ${X}. Is cache hit: ${lt}.`),lt}fetch(X){var fe=this;return(0,B.Z)(function*(){const[He,lt]=yield Promise.all([fe.storage.getLastSuccessfulFetchTimestampMillis(),fe.storage.getLastSuccessfulFetchResponse()]);if(lt&&fe.isCachedDataFresh(X.cacheMaxAgeMillis,He))return lt;X.eTag=lt&&lt.eTag;const ft=yield fe.client.fetch(X),Xt=[fe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ft.status&&Xt.push(fe.storage.setLastSuccessfulFetchResponse(ft)),yield Promise.all(Xt),ft})()}}function qi(K=navigator){return K.languages&&K.languages[0]||K.language}class sc{constructor(X,fe,He,lt,ft,Xt){this.firebaseInstallations=X,this.sdkVersion=fe,this.namespace=He,this.projectId=lt,this.apiKey=ft,this.appId=Xt}fetch(X){var fe=this;return(0,B.Z)(function*(){const[He,lt]=yield Promise.all([fe.firebaseInstallations.getId(),fe.firebaseInstallations.getToken()]),Xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${fe.projectId}/namespaces/${fe.namespace}:fetch?key=${fe.apiKey}`,An={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":X.eTag||"*"},Gn={sdk_version:fe.sdkVersion,app_instance_id:He,app_instance_id_token:lt,app_id:fe.appId,language_code:qi()},or={method:"POST",headers:An,body:JSON.stringify(Gn)},Rr=fetch(Xt,or),jn=new Promise((hl,Ml)=>{X.signal.addEventListener(()=>{const Cu=new Error("The operation was aborted.");Cu.name="AbortError",Ml(Cu)})});let Da;try{yield Promise.race([Rr,jn]),Da=yield Rr}catch(hl){let Ml="fetch-client-network";throw"AbortError"===hl?.name&&(Ml="fetch-timeout"),Mi.create(Ml,{originalErrorMessage:hl?.message})}let Li=Da.status;const ls=Da.headers.get("ETag")||void 0;let La,Ka;if(200===Da.status){let hl;try{hl=yield Da.json()}catch(Ml){throw Mi.create("fetch-client-parse",{originalErrorMessage:Ml?.message})}La=hl.entries,Ka=hl.state}if("INSTANCE_STATE_UNSPECIFIED"===Ka?Li=500:"NO_CHANGE"===Ka?Li=304:("NO_TEMPLATE"===Ka||"EMPTY_CONFIG"===Ka)&&(La={}),304!==Li&&200!==Li)throw Mi.create("fetch-status",{httpStatus:Li});return{status:Li,eTag:ls,config:La}})()}}class at{constructor(X,fe){this.client=X,this.storage=fe}fetch(X){var fe=this;return(0,B.Z)(function*(){const He=(yield fe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return fe.attemptFetch(X,He)})()}attemptFetch(X,{throttleEndTimeMillis:fe,backoffCount:He}){var lt=this;return(0,B.Z)(function*(){yield function bs(K,X){return new Promise((fe,He)=>{const lt=Math.max(X-Date.now(),0),ft=setTimeout(fe,lt);K.addEventListener(()=>{clearTimeout(ft),He(Mi.create("fetch-throttle",{throttleEndTimeMillis:X}))})})}(X.signal,fe);try{const ft=yield lt.client.fetch(X);return yield lt.storage.deleteThrottleMetadata(),ft}catch(ft){if(!function ht(K){if(!(K instanceof de.ZR&&K.customData))return!1;const X=Number(K.customData.httpStatus);return 429===X||500===X||503===X||504===X}(ft))throw ft;const Xt={throttleEndTimeMillis:Date.now()+(0,de.$s)(He),backoffCount:He+1};return yield lt.storage.setThrottleMetadata(Xt),lt.attemptFetch(X,Xt)}})()}}class rn{constructor(X,fe,He,lt,ft){this.app=X,this._client=fe,this._storageCache=He,this._storage=lt,this._logger=ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vn(K,X){const fe=K.target.error||void 0;return Mi.create(X,{originalErrorMessage:fe&&fe?.message})}const cr="app_namespace_store";class Bs{constructor(X,fe,He,lt=function Mo(){return new Promise((K,X)=>{try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=He=>{X(Vn(He,"storage-open"))},fe.onsuccess=He=>{K(He.target.result)},fe.onupgradeneeded=He=>{0===He.oldVersion&&He.target.result.createObjectStore(cr,{keyPath:"compositeKey"})}}catch(fe){X(Mi.create("storage-open",{originalErrorMessage:fe?.message}))}})}()){this.appId=X,this.appName=fe,this.namespace=He,this.openDbPromise=lt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(X){return this.set("last_fetch_status",X)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(X){return this.set("last_successful_fetch_timestamp_millis",X)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(X){return this.set("last_successful_fetch_response",X)}getActiveConfig(){return this.get("active_config")}setActiveConfig(X){return this.set("active_config",X)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(X){return this.set("active_config_etag",X)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(X){return this.set("throttle_metadata",X)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(X){var fe=this;return(0,B.Z)(function*(){const He=yield fe.openDbPromise;return new Promise((lt,ft)=>{const An=He.transaction([cr],"readonly").objectStore(cr),Gn=fe.createCompositeKey(X);try{const or=An.get(Gn);or.onerror=Rr=>{ft(Vn(Rr,"storage-get"))},or.onsuccess=Rr=>{const jn=Rr.target.result;lt(jn?jn.value:void 0)}}catch(or){ft(Mi.create("storage-get",{originalErrorMessage:or?.message}))}})})()}set(X,fe){var He=this;return(0,B.Z)(function*(){const lt=yield He.openDbPromise;return new Promise((ft,Xt)=>{const Gn=lt.transaction([cr],"readwrite").objectStore(cr),or=He.createCompositeKey(X);try{const Rr=Gn.put({compositeKey:or,value:fe});Rr.onerror=jn=>{Xt(Vn(jn,"storage-set"))},Rr.onsuccess=()=>{ft()}}catch(Rr){Xt(Mi.create("storage-set",{originalErrorMessage:Rr?.message}))}})})()}delete(X){var fe=this;return(0,B.Z)(function*(){const He=yield fe.openDbPromise;return new Promise((lt,ft)=>{const An=He.transaction([cr],"readwrite").objectStore(cr),Gn=fe.createCompositeKey(X);try{const or=An.delete(Gn);or.onerror=Rr=>{ft(Vn(Rr,"storage-delete"))},or.onsuccess=()=>{lt()}}catch(or){ft(Mi.create("storage-delete",{originalErrorMessage:or?.message}))}})})()}createCompositeKey(X){return[this.appId,this.appName,this.namespace,X].join()}}class Vs{constructor(X){this.storage=X}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var X=this;return(0,B.Z)(function*(){const fe=X.storage.getLastFetchStatus(),He=X.storage.getLastSuccessfulFetchTimestampMillis(),lt=X.storage.getActiveConfig(),ft=yield fe;ft&&(X.lastFetchStatus=ft);const Xt=yield He;Xt&&(X.lastSuccessfulFetchTimestampMillis=Xt);const An=yield lt;An&&(X.activeConfig=An)})()}setLastFetchStatus(X){return this.lastFetchStatus=X,this.storage.setLastFetchStatus(X)}setLastSuccessfulFetchTimestampMillis(X){return this.lastSuccessfulFetchTimestampMillis=X,this.storage.setLastSuccessfulFetchTimestampMillis(X)}setActiveConfig(X){return this.activeConfig=X,this.storage.setActiveConfig(X)}}function Oa(){return bl.apply(this,arguments)}function bl(){return(bl=(0,B.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function vl(){(0,ce._registerComponent)(new pe.wA("remote-config",function K(X,{instanceIdentifier:fe}){const He=X.getProvider("app").getImmediate(),lt=X.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mi.create("registration-window");if(!(0,de.hl)())throw Mi.create("indexed-db-unavailable");const{projectId:ft,apiKey:Xt,appId:An}=He.options;if(!ft)throw Mi.create("registration-project-id");if(!Xt)throw Mi.create("registration-api-key");if(!An)throw Mi.create("registration-app-id");const Gn=new Bs(An,He.name,fe=fe||"firebase"),or=new Vs(Gn),Rr=new Ee.Yd(Gi);Rr.logLevel=Ee.in.ERROR;const jn=new sc(lt,ce.SDK_VERSION,fe,ft,Xt,An),Da=new at(jn,Gn),Li=new yl(Da,Gn,or,Rr),ls=new rn(He,Li,or,Gn,Rr);return function pi(K){const X=(0,de.m9)(K);X._initializePromise||(X._initializePromise=X._storageCache.loadFromStorage().then(()=>{X._isInitializationComplete=!0}))}(ls),ls},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Gi,"0.4.4"),(0,ce.registerVersion)(Gi,"0.4.4","esm2017")}();const is="/firebase-messaging-sw.js",ma="/firebase-cloud-messaging-push-scope",Ra="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pa="google.c.a.c_id",_a="google.c.a.c_l",Ns="google.c.a.ts",ya="google.c.a.e";var lo=(()=>{return(K=lo||(lo={})).PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",lo;var K})();function Is(K){const X=new Uint8Array(K);return btoa(String.fromCharCode(...X)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function js(K){const fe=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),He=atob(fe),lt=new Uint8Array(He.length);for(let ft=0;ft<He.length;++ft)lt[ft]=He.charCodeAt(ft);return lt}const vo="fcm_token_details_db",Oo="fcm_token_object_Store";function Ro(K){return co.apply(this,arguments)}function co(){return co=(0,B.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ft=>ft.name).includes(vo))return null;let X=null;return(yield(0,oe.X3)(vo,5,{upgrade:(He=(0,B.Z)(function*(lt,ft,Xt,An){var Gn;if(ft<2||!lt.objectStoreNames.contains(Oo))return;const or=An.objectStore(Oo),Rr=yield or.index("fcmSenderId").get(K);if(yield or.clear(),Rr)if(2===ft){const jn=Rr;if(!jn.auth||!jn.p256dh||!jn.endpoint)return;X={token:jn.fcmToken,createTime:null!==(Gn=jn.createTime)&&void 0!==Gn?Gn:Date.now(),subscriptionOptions:{auth:jn.auth,p256dh:jn.p256dh,endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:"string"==typeof jn.vapidKey?jn.vapidKey:Is(jn.vapidKey)}}}else if(3===ft){const jn=Rr;X={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Is(jn.auth),p256dh:Is(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Is(jn.vapidKey)}}}else if(4===ft){const jn=Rr;X={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Is(jn.auth),p256dh:Is(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Is(jn.vapidKey)}}}}),function(ft,Xt,An,Gn){return He.apply(this,arguments)})})).close(),yield(0,oe.Lj)(vo),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),mi(X)?X:null;var He}),co.apply(this,arguments)}function mi(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:X}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof X.auth&&X.auth.length>0&&"string"==typeof X.p256dh&&X.p256dh.length>0&&"string"==typeof X.endpoint&&X.endpoint.length>0&&"string"==typeof X.swScope&&X.swScope.length>0&&"string"==typeof X.vapidKey&&X.vapidKey.length>0}const ws="firebase-messaging-store";let Qi=null;function Po(){return Qi||(Qi=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(K,X)=>{0===X&&K.createObjectStore(ws)}})),Qi}function ko(K){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,B.Z)(function*(K){const X=ui(K),He=yield(yield Po()).transaction(ws).objectStore(ws).get(X);if(He)return He;{const lt=yield Ro(K.appConfig.senderId);if(lt)return yield os(K,lt),lt}})).apply(this,arguments)}function os(K,X){return jl.apply(this,arguments)}function jl(){return(jl=(0,B.Z)(function*(K,X){const fe=ui(K),lt=(yield Po()).transaction(ws,"readwrite");return yield lt.objectStore(ws).put(X,fe),yield lt.done,X})).apply(this,arguments)}function bo(K){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,B.Z)(function*(K){const X=ui(K),He=(yield Po()).transaction(ws,"readwrite");yield He.objectStore(ws).delete(X),yield He.done})).apply(this,arguments)}function ui({appConfig:K}){return K.appId}const Ji=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zn(K,X){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,B.Z)(function*(K,X){const fe=yield va(K),He=Qt(X),lt={method:"POST",headers:fe,body:JSON.stringify(He)};let ft;try{ft=yield(yield fetch(uo(K.appConfig),lt)).json()}catch(Xt){throw Ji.create("token-subscribe-failed",{errorInfo:Xt?.toString()})}if(ft.error)throw Ji.create("token-subscribe-failed",{errorInfo:ft.error.message});if(!ft.token)throw Ji.create("token-subscribe-no-token");return ft.token})).apply(this,arguments)}function Lo(K,X){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,B.Z)(function*(K,X){const fe=yield va(K),He=Qt(X.subscriptionOptions),lt={method:"PATCH",headers:fe,body:JSON.stringify(He)};let ft;try{ft=yield(yield fetch(`${uo(K.appConfig)}/${X.token}`,lt)).json()}catch(Xt){throw Ji.create("token-update-failed",{errorInfo:Xt?.toString()})}if(ft.error)throw Ji.create("token-update-failed",{errorInfo:ft.error.message});if(!ft.token)throw Ji.create("token-update-no-token");return ft.token})).apply(this,arguments)}function il(K,X){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,B.Z)(function*(K,X){const He={method:"DELETE",headers:yield va(K)};try{const ft=yield(yield fetch(`${uo(K.appConfig)}/${X}`,He)).json();if(ft.error)throw Ji.create("token-unsubscribe-failed",{errorInfo:ft.error.message})}catch(lt){throw Ji.create("token-unsubscribe-failed",{errorInfo:lt?.toString()})}})).apply(this,arguments)}function uo({projectId:K}){return`https://fcmregistrations.googleapis.com/v1/projects/${K}/registrations`}function va(K){return sl.apply(this,arguments)}function sl(){return(sl=(0,B.Z)(function*({appConfig:K,installations:X}){const fe=yield X.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${fe}`})})).apply(this,arguments)}function Qt({p256dh:K,auth:X,endpoint:fe,vapidKey:He}){const lt={web:{endpoint:fe,auth:X,p256dh:K}};return He!==Ra&&(lt.web.applicationPubKey=He),lt}const Dr=6048e5;function ol(K){return ra.apply(this,arguments)}function ra(){return(ra=(0,B.Z)(function*(K){const X=yield zo(K.swRegistration,K.vapidKey),fe={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:X.endpoint,auth:Is(X.getKey("auth")),p256dh:Is(X.getKey("p256dh"))},He=yield ko(K.firebaseDependencies);if(He){if(J(He.subscriptionOptions,fe))return Date.now()>=He.createTime+Dr?Ha(K,{token:He.token,createTime:Date.now(),subscriptionOptions:fe}):He.token;try{yield il(K.firebaseDependencies,He.token)}catch(lt){console.warn(lt)}return ba(K.firebaseDependencies,fe)}return ba(K.firebaseDependencies,fe)})).apply(this,arguments)}function Oi(K){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,B.Z)(function*(K){const X=yield ko(K.firebaseDependencies);X&&(yield il(K.firebaseDependencies,X.token),yield bo(K.firebaseDependencies));const fe=yield K.swRegistration.pushManager.getSubscription();return!fe||fe.unsubscribe()})).apply(this,arguments)}function Ha(K,X){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,B.Z)(function*(K,X){try{const fe=yield Lo(K.firebaseDependencies,X),He=Object.assign(Object.assign({},X),{token:fe,createTime:Date.now()});return yield os(K.firebaseDependencies,He),fe}catch(fe){throw yield Oi(K),fe}})).apply(this,arguments)}function ba(K,X){return ia.apply(this,arguments)}function ia(){return(ia=(0,B.Z)(function*(K,X){const He={token:yield zn(K,X),createTime:Date.now(),subscriptionOptions:X};return yield os(K,He),He.token})).apply(this,arguments)}function zo(K,X){return _i.apply(this,arguments)}function _i(){return(_i=(0,B.Z)(function*(K,X){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:js(X)})})).apply(this,arguments)}function J(K,X){return X.vapidKey===K.vapidKey&&X.endpoint===K.endpoint&&X.auth===K.auth&&X.p256dh===K.p256dh}function Y(K){const X={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function H(K,X){if(!X.notification)return;K.notification={};const fe=X.notification.title;fe&&(K.notification.title=fe);const He=X.notification.body;He&&(K.notification.body=He);const lt=X.notification.image;lt&&(K.notification.image=lt);const ft=X.notification.icon;ft&&(K.notification.icon=ft)}(X,K),function me(K,X){!X.data||(K.data=X.data)}(X,K),function _t(K,X){var fe,He,lt,ft,Xt;if(!(X.fcmOptions||null!==(fe=X.notification)&&void 0!==fe&&fe.click_action))return;K.fcmOptions={};const An=null!==(lt=null===(He=X.fcmOptions)||void 0===He?void 0:He.link)&&void 0!==lt?lt:null===(ft=X.notification)||void 0===ft?void 0:ft.click_action;An&&(K.fcmOptions.link=An);const Gn=null===(Xt=X.fcmOptions)||void 0===Xt?void 0:Xt.analytics_label;Gn&&(K.fcmOptions.analyticsLabel=Gn)}(X,K),X}function En(K){return"object"==typeof K&&!!K&&Pa in K}function Vr(K,X){const fe=[];for(let He=0;He<K.length;He++)fe.push(K.charAt(He)),He<X.length&&fe.push(X.charAt(He));return fe.join("")}function wo(K){return Ji.create("missing-app-config-values",{valueName:K})}Vr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ko{constructor(X,fe,He){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const lt=function Wo(K){if(!K||!K.options)throw wo("App Configuration Object");if(!K.name)throw wo("App Name");const X=["projectId","apiKey","appId","messagingSenderId"],{options:fe}=K;for(const He of X)if(!fe[He])throw wo(He);return{appName:K.name,projectId:fe.projectId,apiKey:fe.apiKey,appId:fe.appId,senderId:fe.messagingSenderId}}(X);this.firebaseDependencies={app:X,appConfig:lt,installations:fe,analyticsProvider:He}}_delete(){return Promise.resolve()}}function Bo(K){return wa.apply(this,arguments)}function wa(){return(wa=(0,B.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(is,{scope:ma}),K.swRegistration.update().catch(()=>{})}catch(X){throw Ji.create("failed-service-worker-registration",{browserErrorMessage:X?.message})}})).apply(this,arguments)}function sa(K,X){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,B.Z)(function*(K,X){if(!X&&!K.swRegistration&&(yield Bo(K)),X||!K.swRegistration){if(!(X instanceof ServiceWorkerRegistration))throw Ji.create("invalid-sw-registration");K.swRegistration=X}})).apply(this,arguments)}function Os(K,X){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,B.Z)(function*(K,X){X?K.vapidKey=X:K.vapidKey||(K.vapidKey=Ra)})).apply(this,arguments)}function oa(){return(oa=(0,B.Z)(function*(K,X){if(!navigator)throw Ji.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ji.create("permission-blocked");return yield Os(K,X?.vapidKey),yield sa(K,X?.serviceWorkerRegistration),ol(K)})).apply(this,arguments)}function ho(K,X,fe){return oc.apply(this,arguments)}function oc(){return(oc=(0,B.Z)(function*(K,X,fe){const He=wl(X);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(He,{message_id:fe[Pa],message_name:fe[_a],message_time:fe[Ns],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wl(K){switch(K){case lo.NOTIFICATION_CLICKED:return"notification_open";case lo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function la(){return(la=(0,B.Z)(function*(K,X){const fe=X.data;if(!fe.isFirebaseMessaging)return;K.onMessageHandler&&fe.messageType===lo.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(Y(fe)):K.onMessageHandler.next(Y(fe)));const He=fe.data;En(He)&&"1"===He[ya]&&(yield ho(K,fe.messageType,He))})).apply(this,arguments)}const ll="@firebase/messaging",qs=K=>{const X=new Ko(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",fe=>function aa(K,X){return la.apply(this,arguments)}(X,fe)),X},Hs=K=>{const X=K.getProvider("messaging").getImmediate();return{getToken:He=>function al(K,X){return oa.apply(this,arguments)}(X,He)}};function Gl(){return ac.apply(this,arguments)}function ac(){return(ac=(0,B.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $i(){(0,ce._registerComponent)(new pe.wA("messaging",qs,"PUBLIC")),(0,ce._registerComponent)(new pe.wA("messaging-internal",Hs,"PRIVATE")),(0,ce.registerVersion)(ll,"0.12.4"),(0,ce.registerVersion)(ll,"0.12.4","esm2017")}();const Wl="analytics",Du="firebase_id",Tl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kl="https://www.googletagmanager.com/gtag/js",Si=new Ee.Yd("@firebase/analytics"),Eo=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $(K){if(!K.startsWith(Kl)){const X=Eo.create("invalid-gtag-resource",{gtagURL:K});return Si.warn(X.message),""}return K}function re(K){return Promise.all(K.map(X=>X.catch(fe=>fe)))}function ge(K,X){const fe=function W(K,X){let fe;return window.trustedTypes&&(fe=window.trustedTypes.createPolicy(K,X)),fe}("firebase-js-sdk-policy",{createScriptURL:$}),He=document.createElement("script"),lt=`${Kl}?l=${K}&id=${X}`;He.src=fe?fe?.createScriptURL(lt):lt,He.async=!0,document.head.appendChild(He)}function Dt(K,X,fe,He,lt,ft){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,B.Z)(function*(K,X,fe,He,lt,ft){const Xt=He[lt];try{if(Xt)yield X[Xt];else{const Gn=(yield re(fe)).find(or=>or.measurementId===lt);Gn&&(yield X[Gn.appId])}}catch(An){Si.error(An)}K("config",lt,ft)})).apply(this,arguments)}function pn(K,X,fe,He,lt){return nr.apply(this,arguments)}function nr(){return(nr=(0,B.Z)(function*(K,X,fe,He,lt){try{let ft=[];if(lt&&lt.send_to){let Xt=lt.send_to;Array.isArray(Xt)||(Xt=[Xt]);const An=yield re(fe);for(const Gn of Xt){const or=An.find(jn=>jn.measurementId===Gn),Rr=or&&X[or.appId];if(!Rr){ft=[];break}ft.push(Rr)}}0===ft.length&&(ft=Object.values(X)),yield Promise.all(ft),K("event",He,lt||{})}catch(ft){Si.error(ft)}})).apply(this,arguments)}function xr(K){const X=window.document.getElementsByTagName("script");for(const fe of Object.values(X))if(fe.src&&fe.src.includes(Kl)&&fe.src.includes(K))return fe;return null}const Ri=new class mr{constructor(X={},fe=1e3){this.throttleMetadata=X,this.intervalMillis=fe}getThrottleMetadata(X){return this.throttleMetadata[X]}setThrottleMetadata(X,fe){this.throttleMetadata[X]=fe}deleteThrottleMetadata(X){delete this.throttleMetadata[X]}};function Rs(K){return new Headers({Accept:"application/json","x-goog-api-key":K})}function Sn(K){return bn.apply(this,arguments)}function bn(){return(bn=(0,B.Z)(function*(K){var X;const{appId:fe,apiKey:He}=K,lt={method:"GET",headers:Rs(He)},ft=Tl.replace("{app-id}",fe),Xt=yield fetch(ft,lt);if(200!==Xt.status&&304!==Xt.status){let An="";try{const Gn=yield Xt.json();null!==(X=Gn.error)&&void 0!==X&&X.message&&(An=Gn.error.message)}catch{}throw Eo.create("config-fetch-failed",{httpStatus:Xt.status,responseMessage:An})}return Xt.json()})).apply(this,arguments)}function Dl(K){return cn.apply(this,arguments)}function cn(){return(cn=(0,B.Z)(function*(K,X=Ri,fe){const{appId:He,apiKey:lt,measurementId:ft}=K.options;if(!He)throw Eo.create("no-app-id");if(!lt){if(ft)return{measurementId:ft,appId:He};throw Eo.create("no-api-key")}const Xt=X.getThrottleMetadata(He)||{backoffCount:0,throttleEndTimeMillis:Date.now()},An=new Wa;return setTimeout((0,B.Z)(function*(){An.abort()}),void 0!==fe?fe:6e4),Tt({appId:He,apiKey:lt,measurementId:ft},Xt,An,X)})).apply(this,arguments)}function Tt(K,X,fe){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,B.Z)(function*(K,{throttleEndTimeMillis:X,backoffCount:fe},He,lt=Ri){var ft;const{appId:Xt,measurementId:An}=K;try{yield zi(He,X)}catch(Gn){if(An)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${An} provided in the "measurementId" field in the local Firebase config. [${Gn?.message}]`),{appId:Xt,measurementId:An};throw Gn}try{const Gn=yield Sn(K);return lt.deleteThrottleMetadata(Xt),Gn}catch(Gn){const or=Gn;if(!za(or)){if(lt.deleteThrottleMetadata(Xt),An)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${An} provided in the "measurementId" field in the local Firebase config. [${or?.message}]`),{appId:Xt,measurementId:An};throw Gn}const Rr=503===Number(null===(ft=or?.customData)||void 0===ft?void 0:ft.httpStatus)?(0,de.$s)(fe,lt.intervalMillis,30):(0,de.$s)(fe,lt.intervalMillis),jn={throttleEndTimeMillis:Date.now()+Rr,backoffCount:fe+1};return lt.setThrottleMetadata(Xt,jn),Si.debug(`Calling attemptFetch again in ${Rr} millis`),Tt(K,jn,He,lt)}})).apply(this,arguments)}function zi(K,X){return new Promise((fe,He)=>{const lt=Math.max(X-Date.now(),0),ft=setTimeout(fe,lt);K.addEventListener(()=>{clearTimeout(ft),He(Eo.create("fetch-throttle",{throttleEndTimeMillis:X}))})})}function za(K){if(!(K instanceof de.ZR&&K.customData))return!1;const X=Number(K.customData.httpStatus);return 429===X||500===X||503===X||504===X}class Wa{constructor(){this.listeners=[]}addEventListener(X){this.listeners.push(X)}abort(){this.listeners.forEach(X=>X())}}let Oe,Fc;function Pc(){return(Pc=(0,B.Z)(function*(K,X,fe,He,lt){if(lt&&lt.global)K("event",fe,He);else{const ft=yield X;K("event",fe,Object.assign(Object.assign({},He),{send_to:ft}))}})).apply(this,arguments)}function Vi(K){Fc=K}function rr(K){Oe=K}function ul(){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,B.Z)(function*(){if(!(0,de.hl)())return Si.warn(Eo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(K){return Si.warn(Eo.create("indexeddb-unavailable",{errorInfo:K?.toString()}).message),!1}return!0})).apply(this,arguments)}function wi(){return(wi=(0,B.Z)(function*(K,X,fe,He,lt,ft,Xt){var An;const Gn=Dl(K);Gn.then(Li=>{fe[Li.measurementId]=Li.appId,K.options.measurementId&&Li.measurementId!==K.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${K.options.measurementId}) does not match the measurement ID fetched from the server (${Li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Li=>Si.error(Li)),X.push(Gn);const or=ul().then(Li=>{if(Li)return He.getId()}),[Rr,jn]=yield Promise.all([Gn,or]);xr(ft)||ge(ft,Rr.measurementId),Fc&&(lt("consent","default",Fc),Vi(void 0)),lt("js",new Date);const Da=null!==(An=Xt?.config)&&void 0!==An?An:{};return Da.origin="firebase",Da.update=!0,null!=jn&&(Da[Du]=jn),lt("config",Rr.measurementId,Da),Oe&&(lt("set",Oe),rr(void 0)),Rr.measurementId})).apply(this,arguments)}class gn{constructor(X){this.app=X}_delete(){return delete Pi[this.app.options.appId],Promise.resolve()}}let Pi={},Cl=[];const Qo={};let Sl,Ar,ca="dataLayer",Ea=!1;function Yl(K,X,fe){!function Ps(){const K=[];if((0,de.ru)()&&K.push("This is a browser extension environment."),(0,de.zI)()||K.push("Cookies are not available."),K.length>0){const X=K.map((He,lt)=>`(${lt+1}) ${He}`).join(" "),fe=Eo.create("invalid-analytics-context",{errorInfo:X});Si.warn(fe.message)}}();const He=K.options.appId;if(!He)throw Eo.create("no-app-id");if(!K.options.apiKey){if(!K.options.measurementId)throw Eo.create("no-api-key");Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${K.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pi[He])throw Eo.create("already-exists",{id:He});if(!Ea){!function ze(K){let X=[];Array.isArray(window[K])?X=window[K]:window[K]=X}(ca);const{wrappedGtag:ft,gtagCore:Xt}=function Lr(K,X,fe,He,lt){let ft=function(...Xt){window[He].push(arguments)};return window[lt]&&"function"==typeof window[lt]&&(ft=window[lt]),window[lt]=function Or(K,X,fe,He){function ft(){return(ft=(0,B.Z)(function*(Xt,An,Gn){try{"event"===Xt?yield pn(K,X,fe,An,Gn):"config"===Xt?yield Dt(K,X,fe,He,An,Gn):"consent"===Xt?K("consent","update",Gn):K("set",An)}catch(or){Si.error(or)}})).apply(this,arguments)}return function lt(Xt,An,Gn){return ft.apply(this,arguments)}}(ft,K,X,fe),{gtagCore:ft,wrappedGtag:window[lt]}}(Pi,Cl,Qo,ca,"gtag");Ar=ft,Sl=Xt,Ea=!0}return Pi[He]=function qo(K,X,fe,He,lt,ft,Xt){return wi.apply(this,arguments)}(K,Cl,Qo,X,Sl,ca,fe),new gn(K)}function as(){return To.apply(this,arguments)}function To(){return(To=(0,B.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Fi="@firebase/analytics";!function da(){(0,ce._registerComponent)(new pe.wA(Wl,(X,{options:fe})=>Yl(X.getProvider("app").getImmediate(),X.getProvider("installations-internal").getImmediate(),fe),"PUBLIC")),(0,ce._registerComponent)(new pe.wA("analytics-internal",function K(X){try{const fe=X.getProvider(Wl).getImmediate();return{logEvent:(He,lt,ft)=>function Ta(K,X,fe,He){K=(0,de.m9)(K),function Il(K,X,fe,He,lt){return Pc.apply(this,arguments)}(Ar,Pi[K.app.options.appId],X,fe,He).catch(lt=>Si.error(lt))}(fe,He,lt,ft)}}catch(fe){throw Eo.create("interop-component-reg-failed",{reason:fe})}},"PRIVATE")),(0,ce.registerVersion)(Fi,"0.9.5"),(0,ce.registerVersion)(Fi,"0.9.5","esm2017")}();var tu=M(4408),P=M(7565);const G=new class S extends P.v{}(class R extends tu.o{constructor(X,fe){super(X,fe),this.scheduler=X,this.work=fe}schedule(X,fe=0){return fe>0?super.schedule(X,fe):(this.delay=fe,this.state=X,this.scheduler.flush(this),this)}execute(X,fe){return fe>0||this.closed?super.execute(X,fe):this._execute(X,fe)}requestAsyncId(X,fe,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(X,fe,He):(X.flush(this),0)}});var _e=M(4986),ke=M(8505),Fe=M(5363),mt=M(9468);const an=new a.GfV("7.5.0"),Bn="__angularfire_symbol__analyticsIsSupportedValue",un="__angularfire_symbol__analyticsIsSupported",_r="__angularfire_symbol__remoteConfigIsSupportedValue",ti="__angularfire_symbol__remoteConfigIsSupported",Es="__angularfire_symbol__messagingIsSupportedValue",fo="__angularfire_symbol__messagingIsSupported";function Io(K,X,fe){if(X){if(1===X.length)return X[0];const ft=X.filter(Xt=>Xt.app===fe);if(1===ft.length)return ft[0]}return fe.container.getProvider(K).getImmediate({optional:!0})}globalThis[un]||(globalThis[un]=as().then(K=>globalThis[Bn]=K).catch(()=>globalThis[Bn]=!1)),globalThis[fo]||(globalThis[fo]=Gl().then(K=>globalThis[Es]=K).catch(()=>globalThis[Es]=!1)),globalThis[ti]||(globalThis[ti]=Oa().then(K=>globalThis[_r]=K).catch(()=>globalThis[_r]=!1));const Js=(K,X)=>{const fe=X?[X]:(0,E.C6)(),He=[];return fe.forEach(lt=>{lt.container.getProvider(K).instances.forEach(Xt=>{He.includes(Xt)||He.push(Xt)})}),He};function xl(){}class hc{constructor(X,fe=G){this.zone=X,this.delegate=fe}now(){return this.delegate.now()}schedule(X,fe,He){const lt=this.zone;return this.delegate.schedule(function(Xt){lt.runGuarded(()=>{X.apply(this,[Xt])})},fe,He)}}class th{constructor(X){this.zone=X,this.task=null}call(X,fe){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xl,{},xl,xl)),fe.pipe((0,ke.b)({next:He,complete:He,error:He})).subscribe(X).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nd=(()=>{class K{constructor(fe){this.ngZone=fe,this.outsideAngular=fe.runOutsideAngular(()=>new hc(Zone.current)),this.insideAngular=fe.run(()=>new hc(Zone.current,_e.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return K.\u0275fac=function(fe){return new(fe||K)(a.LFG(a.R0b))},K.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function fc(){const K=globalThis.\u0275AngularFireScheduler;if(!K)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return K}function Nl(K){return K.pipe((0,Fe.Q)(fc().outsideAngular))}function Cs(K){return fc(),function rd(K){return function(fe){return(fe=fe.lift(new th(K.ngZone))).pipe((0,mt.R)(K.outsideAngular),(0,Fe.Q)(K.insideAngular))}}(fc())(K)}},8277:(nn,we,M)=>{"use strict";M.d(we,{$:()=>Ys,A:()=>le,D:()=>Me,I:()=>Us,J:()=>oo,L:()=>is,N:()=>sr,P:()=>nu,Q:()=>Ro,R:()=>ke,U:()=>Ci,V:()=>ws,W:()=>Qi,X:()=>ss,Y:()=>os,Z:()=>jl,_:()=>Ji,a:()=>cl,a0:()=>Zs,a1:()=>ia,a2:()=>Y,a3:()=>Wo,a4:()=>Ko,a5:()=>wa,a6:()=>Ga,a7:()=>Xi,a8:()=>oa,a9:()=>oc,aA:()=>Te,aB:()=>Zf,aC:()=>Fn,aD:()=>vr,aE:()=>Su,aF:()=>Gn,aG:()=>An,aH:()=>oi,aL:()=>ei,aO:()=>ko,aa:()=>wl,ab:()=>la,ac:()=>ll,ad:()=>$i,ae:()=>ac,af:()=>Oc,ai:()=>Yo,aj:()=>eu,ak:()=>Wl,an:()=>il,ao:()=>re,aq:()=>mr,ar:()=>Ut,as:()=>Qe,at:()=>ve,au:()=>xe,av:()=>it,aw:()=>od,ax:()=>xu,ay:()=>De,az:()=>Ke,b:()=>gs,c:()=>ha,d:()=>rd,e:()=>ru,f:()=>jn,g:()=>hl,h:()=>ls,i:()=>To,j:()=>iu,k:()=>Lp,l:()=>un,m:()=>Wh,p:()=>oe,r:()=>ti,s:()=>an,u:()=>dl});var a=M(5861),E=M(2090),B=M(9681),ce=M(655),de=M(1877),pe=M(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ne=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new de.Yd("@firebase/auth");function Ft(N,...b){nt.logLevel<=de.in.ERROR&&nt.error(`Auth (${B.SDK_VERSION}): ${N}`,...b)}function it(N,...b){throw dt(N,...b)}function Ke(N,...b){return dt(N,...b)}function Xe(N,b,D){const k=Object.assign(Object.assign({},Ne()),{[b]:D});return new E.LL("auth","Firebase",k).create(b,{appName:N.name})}function Ct(N,b,D){if(!(b instanceof D))throw D.name!==b.constructor.name&&it(N,"argument-error"),Xe(N,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dt(N,...b){if("string"!=typeof N){const D=b[0],k=[...b.slice(1)];return k[0]&&(k[0].appName=N.name),N._errorFactory.create(D,...k)}return ot.create(N,...b)}function Te(N,b,...D){if(!N)throw dt(b,...D)}function Ge(N){const b="INTERNAL ASSERTION FAILED: "+N;throw Ft(b),new Error(b)}function Qe(N,b){N||Ge(b)}function At(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function ln(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class It{constructor(b,D){this.shortDelay=b,this.longDelay=D,Qe(D>b,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ln()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $t(N,b){Qe(N.emulator,"Emulator should always be set here");const{url:D}=N.emulator;return b?`${D}${b.startsWith("/")?b.slice(1):b}`:D}class jt{static initialize(b,D,k){this.fetchImpl=b,D&&(this.headersImpl=D),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yn=new It(3e4,6e4);function Jt(N,b){return N.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:N.tenantId}):b}function Mn(N,b,D,k){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(N,b,D,k,se={}){return Pn(N,se,(0,a.Z)(function*(){let Ae={},ct={};k&&("GET"===b?ct=k:Ae={body:JSON.stringify(k)});const Vt=(0,E.xO)(Object.assign({key:N.config.apiKey},ct)).slice(1),_n=yield N._getAdditionalHeaders();return _n["Content-Type"]="application/json",N.languageCode&&(_n["X-Firebase-Locale"]=N.languageCode),jt.fetch()(lr(N,N.config.apiHost,D,Vt),Object.assign({method:b,headers:_n,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function Pn(N,b,D){return xn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(N,b,D){N._canInitEmulator=!1;const k=Object.assign(Object.assign({},vt),b);try{const se=new Yn(N),Ae=yield Promise.race([D(),se.promise]);se.clearNetworkTimeout();const ct=yield Ae.json();if("needConfirmation"in ct)throw Cr(N,"account-exists-with-different-credential",ct);if(Ae.ok&&!("errorMessage"in ct))return ct;{const Vt=Ae.ok?ct.errorMessage:ct.error.message,[_n,Ln]=Vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_n)throw Cr(N,"credential-already-in-use",ct);if("EMAIL_EXISTS"===_n)throw Cr(N,"email-already-in-use",ct);if("USER_DISABLED"===_n)throw Cr(N,"user-disabled",ct);const Xn=k[_n]||_n.toLowerCase().replace(/[_\s]+/g,"-");if(Ln)throw Xe(N,Xn,Ln);it(N,Xn)}}catch(se){if(se instanceof E.ZR)throw se;it(N,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function Tn(N,b,D,k){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(N,b,D,k,se={}){const Ae=yield Mn(N,b,D,k,se);return"mfaPendingCredential"in Ae&&it(N,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function lr(N,b,D,k){const se=`${b}${D}?${k}`;return N.config.emulator?$t(N.config,se):`${N.config.apiScheme}://${se}`}class Yn{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((D,k)=>{this.timer=setTimeout(()=>k(Ke(this.auth,"network-request-failed")),yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cr(N,b,D){const k={appName:N.name};D.email&&(k.email=D.email),D.phoneNumber&&(k.phoneNumber=D.phoneNumber);const se=Ke(N,b,k);return se.customData._tokenResponse=D,se}function Gr(){return(Gr=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function Jn(N,b){return tr.apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Nr(N,b){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Fr(N){if(N)try{const b=new Date(Number(N));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function ci(){return(ci=(0,a.Z)(function*(N,b=!1){const D=(0,E.m9)(N),k=yield D.getIdToken(b),se=$r(k);Te(se&&se.exp&&se.auth_time&&se.iat,D.auth,"internal-error");const Ae="object"==typeof se.firebase?se.firebase:void 0,ct=Ae?.sign_in_provider;return{claims:se,token:k,authTime:Fr(xs(se.auth_time)),issuedAtTime:Fr(xs(se.iat)),expirationTime:Fr(xs(se.exp)),signInProvider:ct||null,signInSecondFactor:Ae?.sign_in_second_factor||null}})).apply(this,arguments)}function xs(N){return 1e3*Number(N)}function $r(N){const[b,D,k]=N.split(".");if(void 0===b||void 0===D||void 0===k)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,E.tV)(D);return se?JSON.parse(se):(Ft("Failed to decode base64 JWT payload"),null)}catch(se){return Ft("Caught error parsing JWT payload as JSON",se?.toString()),null}}function Ze(N,b){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.Z)(function*(N,b,D=!1){if(D)return b;try{return yield b}catch(k){throw k instanceof E.ZR&&wt(k)&&N.auth.currentUser===N&&(yield N.auth.signOut()),k}})).apply(this,arguments)}function wt({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}class Ot{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var D;if(b){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const se=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(b=!1){var D=this;if(!this.isRunning)return;const k=this.getInterval(b);this.timerId=setTimeout((0,a.Z)(function*(){yield D.iteration()}),k)}iteration(){var b=this;return(0,a.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===D?.code&&b.schedule(!0))}b.schedule()})()}}class Wt{constructor(b,D){this.createdAt=b,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function In(N){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(N){var b;const D=N.auth,k=yield N.getIdToken(),se=yield Ze(N,Nr(D,{idToken:k}));Te(se?.users.length,D,"internal-error");const Ae=se.users[0];N._notifyReloadListener(Ae);const ct=null!==(b=Ae.providerUserInfo)&&void 0!==b&&b.length?Br(Ae.providerUserInfo):[],Vt=kn(N.providerData,ct),Xn=!!N.isAnonymous&&!(N.email&&Ae.passwordHash||Vt?.length),Kr={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:Vt,metadata:new Wt(Ae.createdAt,Ae.lastLoginAt),isAnonymous:Xn};Object.assign(N,Kr)})).apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(N){const b=(0,E.m9)(N);yield In(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function kn(N,b){return[...N.filter(k=>!b.some(se=>se.providerId===k.providerId)),...b]}function Br(N){return N.map(b=>{var{providerId:D}=b,k=(0,ce._T)(b,["providerId"]);return{providerId:D,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function Qn(){return(Qn=(0,a.Z)(function*(N,b){const D=yield Pn(N,{},(0,a.Z)(function*(){const k=(0,E.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:se,apiKey:Ae}=N.config,ct=lr(N,se,"/v1/token",`key=${Ae}`),Vt=yield N._getAdditionalHeaders();return Vt["Content-Type"]="application/x-www-form-urlencoded",jt.fetch()(ct,{method:"POST",headers:Vt,body:k})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class Hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){Te(b.idToken,"internal-error"),Te(typeof b.idToken<"u","internal-error"),Te(typeof b.refreshToken<"u","internal-error");const D="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function Pt(N){const b=$r(N);return Te(b,"internal-error"),Te(typeof b.exp<"u","internal-error"),Te(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,D)}getToken(b,D=!1){var k=this;return(0,a.Z)(function*(){return Te(!k.accessToken||k.refreshToken,b,"user-token-expired"),D||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(b,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,D){var k=this;return(0,a.Z)(function*(){const{accessToken:se,refreshToken:Ae,expiresIn:ct}=yield function er(N,b){return Qn.apply(this,arguments)}(b,D);k.updateTokensAndExpiration(se,Ae,Number(ct))})()}updateTokensAndExpiration(b,D,k){this.refreshToken=D||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(b,D){const{refreshToken:k,accessToken:se,expirationTime:Ae}=D,ct=new Hn;return k&&(Te("string"==typeof k,"internal-error",{appName:b}),ct.refreshToken=k),se&&(Te("string"==typeof se,"internal-error",{appName:b}),ct.accessToken=se),Ae&&(Te("number"==typeof Ae,"internal-error",{appName:b}),ct.expirationTime=Ae),ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new Hn,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function en(N,b){Te("string"==typeof N||typeof N>"u","internal-error",{appName:b})}class Ht{constructor(b){var{uid:D,auth:k,stsTokenManager:se}=b,Ae=(0,ce._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=k,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new Wt(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(b){var D=this;return(0,a.Z)(function*(){const k=yield Ze(D,D.stsTokenManager.getToken(D.auth,b));return Te(k,D.auth,"internal-error"),D.accessToken!==k&&(D.accessToken=k,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),k})()}getIdTokenResult(b){return function gr(N){return ci.apply(this,arguments)}(this,b)}reload(){return function on(N){return fr.apply(this,arguments)}(this)}_assign(b){this!==b&&(Te(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(D=>Object.assign({},D)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){const D=new Ht(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}));return D.metadata._copy(this.metadata),D}_onReload(b){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,D=!1){var k=this;return(0,a.Z)(function*(){let se=!1;b.idToken&&b.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(b),se=!0),D&&(yield In(k)),yield k.auth._persistUserIfCurrent(k),se&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var b=this;return(0,a.Z)(function*(){const D=yield b.getIdToken();return yield Ze(b,function dr(N,b){return Gr.apply(this,arguments)}(b.auth,{idToken:D})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,D){var k,se,Ae,ct,Vt,_n,Ln,Xn;const Kr=null!==(k=D.displayName)&&void 0!==k?k:void 0,cs=null!==(se=D.email)&&void 0!==se?se:void 0,_c=null!==(Ae=D.phoneNumber)&&void 0!==Ae?Ae:void 0,kl=null!==(ct=D.photoURL)&&void 0!==ct?ct:void 0,uh=null!==(Vt=D.tenantId)&&void 0!==Vt?Vt:void 0,Ia=null!==(_n=D._redirectEventId)&&void 0!==_n?_n:void 0,Fu=null!==(Ln=D.createdAt)&&void 0!==Ln?Ln:void 0,Jl=null!==(Xn=D.lastLoginAt)&&void 0!==Xn?Xn:void 0,{uid:Sd,emailVerified:Up,isAnonymous:zr,providerData:ld,stsTokenManager:Fl}=D;Te(Sd&&Fl,b,"internal-error");const Xf=Hn.fromJSON(this.name,Fl);Te("string"==typeof Sd,b,"internal-error"),en(Kr,b.name),en(cs,b.name),Te("boolean"==typeof Up,b,"internal-error"),Te("boolean"==typeof zr,b,"internal-error"),en(_c,b.name),en(kl,b.name),en(uh,b.name),en(Ia,b.name),en(Fu,b.name),en(Jl,b.name);const uu=new Ht({uid:Sd,auth:b,email:cs,emailVerified:Up,displayName:Kr,isAnonymous:zr,photoURL:kl,phoneNumber:_c,tenantId:uh,stsTokenManager:Xf,createdAt:Fu,lastLoginAt:Jl});return ld&&Array.isArray(ld)&&(uu.providerData=ld.map(ep=>Object.assign({},ep))),Ia&&(uu._redirectEventId=Ia),uu}static _fromIdTokenResponse(b,D,k=!1){return(0,a.Z)(function*(){const se=new Hn;se.updateFromServerResponse(D);const Ae=new Ht({uid:D.localId,auth:b,stsTokenManager:se,isAnonymous:k});return yield In(Ae),Ae})()}}const sn=new Map;function Fn(N){Qe(N instanceof Function,"Expected a class definition");let b=sn.get(N);return b?(Qe(b instanceof N,"Instance stored in cache mismatched with class"),b):(b=new N,sn.set(N,b),b)}const sr=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(D,k){var se=this;return(0,a.Z)(function*(){se.storage[D]=k})()}_get(D){var k=this;return(0,a.Z)(function*(){const se=k.storage[D];return void 0===se?null:se})()}_remove(D){var k=this;return(0,a.Z)(function*(){delete k.storage[D]})()}_addListener(D,k){}_removeListener(D,k){}}return N.type="NONE",N})();function vr(N,b,D){return`firebase:${N}:${b}:${D}`}class Ye{constructor(b,D,k){this.persistence=b,this.auth=D,this.userKey=k;const{config:se,name:Ae}=this.auth;this.fullUserKey=vr(this.userKey,se.apiKey,Ae),this.fullPersistenceKey=vr("persistence",se.apiKey,Ae),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,a.Z)(function*(){const D=yield b.persistence._get(b.fullUserKey);return D?Ht._fromJSON(b.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var D=this;return(0,a.Z)(function*(){if(D.persistence===b)return;const k=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=b,k?D.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,D,k="authUser"){return(0,a.Z)(function*(){if(!D.length)return new Ye(Fn(sr),b,k);const se=(yield Promise.all(D.map(function(){var Ln=(0,a.Z)(function*(Xn){if(yield Xn._isAvailable())return Xn});return function(Xn){return Ln.apply(this,arguments)}}()))).filter(Ln=>Ln);let Ae=se[0]||Fn(sr);const ct=vr(k,b.config.apiKey,b.name);let Vt=null;for(const Ln of D)try{const Xn=yield Ln._get(ct);if(Xn){const Kr=Ht._fromJSON(b,Xn);Ln!==Ae&&(Vt=Kr),Ae=Ln;break}}catch{}const _n=se.filter(Ln=>Ln._shouldAllowMigration);return Ae._shouldAllowMigration&&_n.length?(Ae=_n[0],Vt&&(yield Ae._set(ct,Vt.toJSON())),yield Promise.all(D.map(function(){var Ln=(0,a.Z)(function*(Xn){if(Xn!==Ae)try{yield Xn._remove(ct)}catch{}});return function(Xn){return Ln.apply(this,arguments)}}())),new Ye(Ae,b,k)):new Ye(Ae,b,k)})()}}function Ve(N){const b=N.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(ne(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(Se(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(tt(b))return"Blackberry";if(Nt(b))return"Webos";if(F(b))return"Safari";if((b.includes("chrome/")||V(b))&&!b.includes("edge/"))return"Chrome";if(xe(b))return"Android";{const k=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function Se(N=(0,E.z$)()){return/firefox\//i.test(N)}function F(N=(0,E.z$)()){const b=N.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function V(N=(0,E.z$)()){return/crios\//i.test(N)}function ne(N=(0,E.z$)()){return/iemobile/i.test(N)}function xe(N=(0,E.z$)()){return/android/i.test(N)}function tt(N=(0,E.z$)()){return/blackberry/i.test(N)}function Nt(N=(0,E.z$)()){return/webos/i.test(N)}function ve(N=(0,E.z$)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function De(N=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(N)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(N)}function rt(N=(0,E.z$)()){return ve(N)||xe(N)||Nt(N)||tt(N)||/windows phone/i.test(N)||ne(N)}function Un(N,b=[]){let D;switch(N){case"Browser":D=Ve((0,E.z$)());break;case"Worker":D=`${Ve((0,E.z$)())}-${N}`;break;default:D=N}const k=b.length?b.join(","):"FirebaseCore-web";return`${D}/JsCore/${B.SDK_VERSION}/${k}`}function Cn(){return(Cn=(0,a.Z)(function*(N){return(yield Mn(N,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sr(N,b){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(N,b){return Mn(N,"GET","/v2/recaptchaConfig",Jt(N,b))})).apply(this,arguments)}function pr(N){return void 0!==N&&void 0!==N.getResponse}function Tr(N){return void 0!==N&&void 0!==N.enterprise}class Yi{constructor(b){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===b.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=b.recaptchaKey.split("/")[3],this.emailPasswordEnabled=b.recaptchaEnforcementState.some(D=>"EMAIL_PASSWORD_PROVIDER"===D.provider&&"OFF"!==D.enforcementState)}}function fi(N){return new Promise((b,D)=>{const k=document.createElement("script");k.setAttribute("src",N),k.onload=b,k.onerror=se=>{const Ae=Ke("internal-error");Ae.customData=se,D(Ae)},k.type="text/javascript",k.charset="UTF-8",function Gi(){var N,b;return null!==(b=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==b?b:document}().appendChild(k)})}function $o(N){return`__${N}${Math.floor(1e6*Math.random())}`}class Mi{constructor(b){this.type="recaptcha-enterprise",this.auth=oi(b)}verify(b="verify",D=!1){var k=this;return(0,a.Z)(function*(){function Ae(){return Ae=(0,a.Z)(function*(Vt){if(!D){if(null==Vt.tenantId&&null!=Vt._agentRecaptchaConfig)return Vt._agentRecaptchaConfig.siteKey;if(null!=Vt.tenantId&&void 0!==Vt._tenantRecaptchaConfigs[Vt.tenantId])return Vt._tenantRecaptchaConfigs[Vt.tenantId].siteKey}return new Promise(function(){var _n=(0,a.Z)(function*(Ln,Xn){Sr(Vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Kr=>{if(void 0!==Kr.recaptchaKey){const cs=new Yi(Kr);return null==Vt.tenantId?Vt._agentRecaptchaConfig=cs:Vt._tenantRecaptchaConfigs[Vt.tenantId]=cs,Ln(cs.siteKey)}Xn(new Error("recaptcha Enterprise site key undefined"))}).catch(Kr=>{Xn(Kr)})});return function(Ln,Xn){return _n.apply(this,arguments)}}())}),Ae.apply(this,arguments)}function ct(Vt,_n,Ln){const Xn=window.grecaptcha;Tr(Xn)?Xn.enterprise.ready(()=>{try{Xn.enterprise.execute(Vt,{action:b}).then(Kr=>{_n(Kr)}).catch(Kr=>{Ln(Kr)})}catch(Kr){Ln(Kr)}}):Ln(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Vt,_n)=>{(function se(Vt){return Ae.apply(this,arguments)})(k.auth).then(Ln=>{if(!D&&Tr(window.grecaptcha))ct(Ln,Vt,_n);else{if(typeof window>"u")return void _n(new Error("RecaptchaVerifier is only supported in browser"));fi("https://www.google.com/recaptcha/enterprise.js?render="+Ln).then(()=>{ct(Ln,Vt,_n)}).catch(Xn=>{_n(Xn)})}}).catch(Ln=>{_n(Ln)})})})()}}function Ds(N,b,D){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(N,b,D,k=!1){const se=new Mi(N);let Ae;try{Ae=yield se.verify(D)}catch{Ae=yield se.verify(D,!0)}const ct=Object.assign({},b);return Object.assign(ct,k?{captchaResp:Ae}:{captchaResponse:Ae}),Object.assign(ct,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ct,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ct})).apply(this,arguments)}class ja{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,D){const k=Ae=>new Promise((ct,Vt)=>{try{ct(b(Ae))}catch(_n){Vt(_n)}});k.onAbort=D,this.queue.push(k);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(b){var D=this;return(0,a.Z)(function*(){if(D.auth.currentUser===b)return;const k=[];try{for(const se of D.queue)yield se(b),se.onAbort&&k.push(se.onAbort)}catch(se){k.reverse();for(const Ae of k)try{Ae()}catch{}throw D.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class No{constructor(b,D,k,se){this.app=b,this.heartbeatServiceProvider=D,this.appCheckServiceProvider=k,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mo(this),this.idTokenSubscription=new mo(this),this.beforeStateQueue=new ja(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(b,D){var k=this;return D&&(this._popupRedirectResolver=Fn(D)),this._initializationPromise=this.queue((0,a.Z)(function*(){var se,Ae;if(!k._deleted&&(k.persistenceManager=yield Ye.create(k,b),!k._deleted)){if(null!==(se=k._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(D),k.lastNotifiedUid=(null===(Ae=k.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,a.Z)(function*(){if(b._deleted)return;const D=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||D){if(b.currentUser&&D&&b.currentUser.uid===D.uid)return b._currentUser._assign(D),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(D,!0)}})()}initializeCurrentUser(b){var D=this;return(0,a.Z)(function*(){var k;const se=yield D.assertedPersistence.getCurrentUser();let Ae=se,ct=!1;if(b&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const Vt=null===(k=D.redirectUser)||void 0===k?void 0:k._redirectEventId,_n=Ae?._redirectEventId,Ln=yield D.tryRedirectSignIn(b);(!Vt||Vt===_n)&&Ln?.user&&(Ae=Ln.user,ct=!0)}if(!Ae)return D.directlySetCurrentUser(null);if(!Ae._redirectEventId){if(ct)try{yield D.beforeStateQueue.runMiddleware(Ae)}catch(Vt){Ae=se,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(Vt))}return Ae?D.reloadAndSetCurrentUserOrClear(Ae):D.directlySetCurrentUser(null)}return Te(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===Ae._redirectEventId?D.directlySetCurrentUser(Ae):D.reloadAndSetCurrentUserOrClear(Ae)})()}tryRedirectSignIn(b){var D=this;return(0,a.Z)(function*(){let k=null;try{k=yield D._popupRedirectResolver._completeRedirectFn(D,b,!0)}catch{yield D._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(b){var D=this;return(0,a.Z)(function*(){try{yield In(b)}catch(k){if("auth/network-request-failed"!==k?.code)return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function bt(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var b=this;return(0,a.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var D=this;return(0,a.Z)(function*(){const k=b?(0,E.m9)(b):null;return k&&Te(k.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(k&&k._clone(D))})()}_updateCurrentUser(b,D=!1){var k=this;return(0,a.Z)(function*(){if(!k._deleted)return b&&Te(k.tenantId===b.tenantId,k,"tenant-id-mismatch"),D||(yield k.beforeStateQueue.runMiddleware(b)),k.queue((0,a.Z)(function*(){yield k.directlySetCurrentUser(b),k.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,a.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var D=this;return this.queue((0,a.Z)(function*(){yield D.assertedPersistence.setPersistence(Fn(b))}))}initializeRecaptchaConfig(){var b=this;return(0,a.Z)(function*(){const D=yield Sr(b,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),k=new Yi(D);null==b.tenantId?b._agentRecaptchaConfig=k:b._tenantRecaptchaConfigs[b.tenantId]=k,k.emailPasswordEnabled&&new Mi(b).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new E.LL("auth","Firebase",b())}onAuthStateChanged(b,D,k){return this.registerStateListener(this.authStateSubscription,b,D,k)}beforeAuthStateChanged(b,D){return this.beforeStateQueue.pushCallback(b,D)}onIdTokenChanged(b,D,k){return this.registerStateListener(this.idTokenSubscription,b,D,k)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,D){var k=this;return(0,a.Z)(function*(){const se=yield k.getOrInitRedirectPersistenceManager(D);return null===b?se.removeCurrentUser():se.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var D=this;return(0,a.Z)(function*(){if(!D.redirectPersistenceManager){const k=b&&Fn(b)||D._popupRedirectResolver;Te(k,D,"argument-error"),D.redirectPersistenceManager=yield Ye.create(D,[Fn(k._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(b){var D=this;return(0,a.Z)(function*(){var k,se;return D._isInitialized&&(yield D.queue((0,a.Z)(function*(){}))),(null===(k=D._currentUser)||void 0===k?void 0:k._redirectEventId)===b?D._currentUser:(null===(se=D.redirectUser)||void 0===se?void 0:se._redirectEventId)===b?D.redirectUser:null})()}_persistUserIfCurrent(b){var D=this;return(0,a.Z)(function*(){if(b===D.currentUser)return D.queue((0,a.Z)(function*(){return D.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(D=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,D,k,se){if(this._deleted)return()=>{};const Ae="function"==typeof D?D:D.next.bind(D),ct=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(ct,this,"internal-error"),ct.then(()=>Ae(this.currentUser)),"function"==typeof D?b.addObserver(D,k,se):b.addObserver(D)}directlySetCurrentUser(b){var D=this;return(0,a.Z)(function*(){D.currentUser&&D.currentUser!==b&&D._currentUser._stopProactiveRefresh(),b&&D.isProactiveRefreshEnabled&&b._startProactiveRefresh(),D.currentUser=b,b?yield D.assertedPersistence.setCurrentUser(b):yield D.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=Un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,a.Z)(function*(){var D;const k={"X-Client-Version":b.clientVersion};b.app.options.appId&&(k["X-Firebase-gmpid"]=b.app.options.appId);const se=yield null===(D=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();se&&(k["X-Firebase-Client"]=se);const Ae=yield b._getAppCheckToken();return Ae&&(k["X-Firebase-AppCheck"]=Ae),k})()}_getAppCheckToken(){var b=this;return(0,a.Z)(function*(){var D;const k=yield null===(D=b.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getToken();return k?.error&&function We(N,...b){nt.logLevel<=de.in.WARN&&nt.warn(`Auth (${B.SDK_VERSION}): ${N}`,...b)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function oi(N){return(0,E.m9)(N)}class mo{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,E.ne)(D=>this.observer=D)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Us(N,b,D){const k=oi(N);Te(k._canInitEmulator,k,"emulator-config-failed"),Te(/^https?:\/\//.test(b),k,"invalid-emulator-scheme");const se=!!D?.disableWarnings,Ae=pi(b),{host:ct,port:Vt}=function ta(N){const b=pi(N),D=/(\/\/)?([^?#/]+)/.exec(N.substr(b.length));if(!D)return{host:"",port:null};const k=D[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(k);if(se){const Ae=se[1];return{host:Ae,port:gi(k.substr(Ae.length+1))}}{const[Ae,ct]=k.split(":");return{host:Ae,port:gi(ct)}}}(b);k.config.emulator={url:`${Ae}//${ct}${null===Vt?"":`:${Vt}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:ct,port:Vt,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function Ws(){function N(){const b=document.createElement("p"),D=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}function pi(N){const b=N.indexOf(":");return b<0?"":N.substr(0,b+1)}function gi(N){if(!N)return null;const b=Number(N);return isNaN(b)?null:b}class oo{constructor(b,D){this.providerId=b,this.signInMethod=D}toJSON(){return Ge("not implemented")}_getIdTokenResponse(b){return Ge("not implemented")}_linkToIdToken(b,D){return Ge("not implemented")}_getReauthenticationResolver(b){return Ge("not implemented")}}function Bi(N,b){return ga.apply(this,arguments)}function ga(){return(ga=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:resetPassword",Jt(N,b))})).apply(this,arguments)}function Zi(N,b){return _o.apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function nl(N,b){return yl.apply(this,arguments)}function yl(){return(yl=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:update",Jt(N,b))})).apply(this,arguments)}function qi(N,b){return sc.apply(this,arguments)}function sc(){return(sc=(0,a.Z)(function*(N,b){return Tn(N,"POST","/v1/accounts:signInWithPassword",Jt(N,b))})).apply(this,arguments)}function bs(N,b){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:sendOobCode",Jt(N,b))})).apply(this,arguments)}function at(N,b){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(N,b){return bs(N,b)})).apply(this,arguments)}function Kt(N,b){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(N,b){return bs(N,b)})).apply(this,arguments)}function Vn(N,b){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(N,b){return bs(N,b)})).apply(this,arguments)}function Xr(N,b){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(N,b){return bs(N,b)})).apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(N,b){return Tn(N,"POST","/v1/accounts:signInWithEmailLink",Jt(N,b))})).apply(this,arguments)}function vl(){return(vl=(0,a.Z)(function*(N,b){return Tn(N,"POST","/v1/accounts:signInWithEmailLink",Jt(N,b))})).apply(this,arguments)}class ao extends oo{constructor(b,D,k,se=null){super("password",k),this._email=b,this._password=D,this._tenantId=se}static _fromEmailAndPassword(b,D){return new ao(b,D,"password")}static _fromEmailAndCode(b,D,k=null){return new ao(b,D,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b;if(D?.email&&D?.password){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(b){var D=this;return(0,a.Z)(function*(){var k;switch(D.signInMethod){case"password":const se={returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=b._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Ae=yield Ds(b,se,"signInWithPassword");return qi(b,Ae)}return qi(b,se).catch(function(){var Ae=(0,a.Z)(function*(ct){if("auth/missing-recaptcha-token"===ct.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Vt=yield Ds(b,se,"signInWithPassword");return qi(b,Vt)}return Promise.reject(ct)});return function(ct){return Ae.apply(this,arguments)}}());case"emailLink":return function Mo(N,b){return Bs.apply(this,arguments)}(b,{email:D._email,oobCode:D._password});default:it(b,"internal-error")}})()}_linkToIdToken(b,D){var k=this;return(0,a.Z)(function*(){switch(k.signInMethod){case"password":return Zi(b,{idToken:D,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function Vs(N,b){return vl.apply(this,arguments)}(b,{idToken:D,email:k._email,oobCode:k._password});default:it(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function fs(N,b){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(N,b){return Tn(N,"POST","/v1/accounts:signInWithIdp",Jt(N,b))})).apply(this,arguments)}class is extends oo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const D=new is(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(D.idToken=b.idToken),b.accessToken&&(D.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(D.nonce=b.nonce),b.pendingToken&&(D.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(D.accessToken=b.oauthToken,D.secret=b.oauthTokenSecret):it("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:k,signInMethod:se}=D,Ae=(0,ce._T)(D,["providerId","signInMethod"]);if(!k||!se)return null;const ct=new is(k,se);return ct.idToken=Ae.idToken||void 0,ct.accessToken=Ae.accessToken||void 0,ct.secret=Ae.secret,ct.nonce=Ae.nonce,ct.pendingToken=Ae.pendingToken||null,ct}_getIdTokenResponse(b){return fs(b,this.buildRequest())}_linkToIdToken(b,D){const k=this.buildRequest();return k.idToken=D,fs(b,k)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,fs(b,D)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),b.postBody=(0,E.xO)(D)}return b}}function ma(N,b){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:sendVerificationCode",Jt(N,b))})).apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(N,b){return Tn(N,"POST","/v1/accounts:signInWithPhoneNumber",Jt(N,b))})).apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(function*(N,b){const D=yield Tn(N,"POST","/v1/accounts:signInWithPhoneNumber",Jt(N,b));if(D.temporaryProof)throw Cr(N,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const ya={USER_NOT_FOUND:"user-not-found"};function lo(){return(lo=(0,a.Z)(function*(N,b){return Tn(N,"POST","/v1/accounts:signInWithPhoneNumber",Jt(N,Object.assign(Object.assign({},b),{operation:"REAUTH"})),ya)})).apply(this,arguments)}class Is extends oo{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,D){return new Is({verificationId:b,verificationCode:D})}static _fromTokenResponse(b,D){return new Is({phoneNumber:b,temporaryProof:D})}_getIdTokenResponse(b){return function yo(N,b){return Pa.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,D){return function _a(N,b){return Ns.apply(this,arguments)}(b,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function rl(N,b){return lo.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:D,verificationId:k,verificationCode:se}=this.params;return b&&D?{temporaryProof:b,phoneNumber:D}:{sessionInfo:k,code:se}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:D,verificationCode:k,phoneNumber:se,temporaryProof:Ae}=b;return k||D||se||Ae?new Is({verificationId:D,verificationCode:k,phoneNumber:se,temporaryProof:Ae}):null}}class na{constructor(b){var D,k,se,Ae,ct,Vt;const _n=(0,E.zd)((0,E.pd)(b)),Ln=null!==(D=_n.apiKey)&&void 0!==D?D:null,Xn=null!==(k=_n.oobCode)&&void 0!==k?k:null,Kr=function js(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=_n.mode)&&void 0!==se?se:null);Te(Ln&&Xn&&Kr,"argument-error"),this.apiKey=Ln,this.operation=Kr,this.code=Xn,this.continueUrl=null!==(Ae=_n.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(ct=_n.languageCode)&&void 0!==ct?ct:null,this.tenantId=null!==(Vt=_n.tenantId)&&void 0!==Vt?Vt:null}static parseLink(b){const D=function vo(N){const b=(0,E.zd)((0,E.pd)(N)).link,D=b?(0,E.zd)((0,E.pd)(b)).deep_link_id:null,k=(0,E.zd)((0,E.pd)(N)).deep_link_id;return(k?(0,E.zd)((0,E.pd)(k)).link:null)||k||D||b||N}(b);try{return new na(D)}catch{return null}}}let Ro=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(D,k){return ao._fromEmailAndPassword(D,k)}static credentialWithLink(D,k){const se=na.parseLink(k);return Te(se,"argument-error"),ao._fromEmailAndCode(D,se.code,se.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class co{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class mi extends co{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class ss extends mi{static credentialFromJSON(b){const D="string"==typeof b?JSON.parse(b):b;return Te("providerId"in D&&"signInMethod"in D,"argument-error"),is._fromParams(D)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return Te(b.idToken||b.accessToken,"argument-error"),is._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return ss.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return ss.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:D,oauthAccessToken:k,oauthTokenSecret:se,pendingToken:Ae,nonce:ct,providerId:Vt}=b;if(!k&&!se&&!D&&!Ae||!Vt)return null;try{return new ss(Vt)._credential({idToken:D,accessToken:k,nonce:ct,pendingToken:Ae})}catch{return null}}}let Ci=(()=>{class N extends mi{constructor(){super("facebook.com")}static credential(D){return is._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return N.credential(D.oauthAccessToken)}catch{return null}}}return N.FACEBOOK_SIGN_IN_METHOD="facebook.com",N.PROVIDER_ID="facebook.com",N})(),ws=(()=>{class N extends mi{constructor(){super("google.com"),this.addScope("profile")}static credential(D,k){return is._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:k})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:k,oauthAccessToken:se}=D;if(!k&&!se)return null;try{return N.credential(k,se)}catch{return null}}}return N.GOOGLE_SIGN_IN_METHOD="google.com",N.PROVIDER_ID="google.com",N})(),Qi=(()=>{class N extends mi{constructor(){super("github.com")}static credential(D){return is._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return N.credential(D.oauthAccessToken)}catch{return null}}}return N.GITHUB_SIGN_IN_METHOD="github.com",N.PROVIDER_ID="github.com",N})();class ko extends oo{constructor(b,D){super(b,b),this.pendingToken=D}_getIdTokenResponse(b){return fs(b,this.buildRequest())}_linkToIdToken(b,D){const k=this.buildRequest();return k.idToken=D,fs(b,k)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,fs(b,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:k,signInMethod:se,pendingToken:Ae}=D;return k&&se&&Ae&&k===se?new ko(k,Ae):null}static _create(b,D){return new ko(b,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class os extends co{constructor(b){Te(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return os.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return os.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const D=ko.fromJSON(b);return Te(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:D,providerId:k}=b;if(!D||!k)return null;try{return ko._create(k,D)}catch{return null}}}let jl=(()=>{class N extends mi{constructor(){super("twitter.com")}static credential(D,k){return is._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:k})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:k,oauthTokenSecret:se}=D;if(!k||!se)return null;try{return N.credential(k,se)}catch{return null}}}return N.TWITTER_SIGN_IN_METHOD="twitter.com",N.PROVIDER_ID="twitter.com",N})();function bo(N,b){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(N,b){return Tn(N,"POST","/v1/accounts:signUp",Jt(N,b))})).apply(this,arguments)}class ui{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,D,k,se=!1){return(0,a.Z)(function*(){const Ae=yield Ht._fromIdTokenResponse(b,k,se),ct=ps(k);return new ui({user:Ae,providerId:ct,_tokenResponse:k,operationType:D})})()}static _forOperation(b,D,k){return(0,a.Z)(function*(){yield b._updateTokensIfNecessary(k,!0);const se=ps(k);return new ui({user:b,providerId:se,_tokenResponse:k,operationType:D})})()}}function ps(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}function Ji(N){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(N){var b;const D=oi(N);if(yield D._initializationPromise,null!==(b=D.currentUser)&&void 0!==b&&b.isAnonymous)return new ui({user:D.currentUser,providerId:null,operationType:"signIn"});const k=yield bo(D,{returnSecureToken:!0}),se=yield ui._fromIdTokenResponse(D,"signIn",k,!0);return yield D._updateCurrentUser(se.user),se})).apply(this,arguments)}class Ks extends E.ZR{constructor(b,D,k,se){var Ae;super(D.code,D.message),this.operationType=k,this.user=se,Object.setPrototypeOf(this,Ks.prototype),this.customData={appName:b.name,tenantId:null!==(Ae=b.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:D.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(b,D,k,se){return new Ks(b,D,k,se)}}function Lo(N,b,D,k){return("reauthenticate"===b?D._getReauthenticationResolver(N):D._getIdTokenResponse(N)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?Ks._fromErrorAndOperation(N,Ae,b,k):Ae})}function Hl(N){return new Set(N.map(({providerId:b})=>b).filter(b=>!!b))}function il(N,b){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(N,b){const D=(0,E.m9)(N);yield sl(!0,D,b);const{providerUserInfo:k}=yield Jn(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[b]}),se=Hl(k||[]);return D.providerData=D.providerData.filter(Ae=>se.has(Ae.providerId)),se.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function uo(N,b){return va.apply(this,arguments)}function va(){return(va=(0,a.Z)(function*(N,b,D=!1){const k=yield Ze(N,b._linkToIdToken(N.auth,yield N.getIdToken()),D);return ui._forOperation(N,"link",k)})).apply(this,arguments)}function sl(N,b,D){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(N,b,D){yield In(b);const se=!1===N?"provider-already-linked":"no-such-provider";Te(Hl(b.providerData).has(D)===N,b.auth,se)})).apply(this,arguments)}function Dr(N,b){return ol.apply(this,arguments)}function ol(){return(ol=(0,a.Z)(function*(N,b,D=!1){const{auth:k}=N,se="reauthenticate";try{const Ae=yield Ze(N,Lo(k,se,b,N),D);Te(Ae.idToken,k,"internal-error");const ct=$r(Ae.idToken);Te(ct,k,"internal-error");const{sub:Vt}=ct;return Te(N.uid===Vt,k,"user-mismatch"),ui._forOperation(N,se,Ae)}catch(Ae){throw"auth/user-not-found"===Ae?.code&&it(k,"user-mismatch"),Ae}})).apply(this,arguments)}function ra(N,b){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,a.Z)(function*(N,b,D=!1){const k="signIn",se=yield Lo(N,k,b),Ae=yield ui._fromIdTokenResponse(N,k,se);return D||(yield N._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function Ys(N,b){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(N,b){return ra(oi(N),b)})).apply(this,arguments)}function Zs(N,b){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.Z)(function*(N,b){const D=(0,E.m9)(N);return yield sl(!1,D,b.providerId),uo(D,b)})).apply(this,arguments)}function ia(N,b){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(N,b){return Dr((0,E.m9)(N),b)})).apply(this,arguments)}function _i(N,b){return J.apply(this,arguments)}function J(){return(J=(0,a.Z)(function*(N,b){return Tn(N,"POST","/v1/accounts:signInWithCustomToken",Jt(N,b))})).apply(this,arguments)}function Y(N,b){return H.apply(this,arguments)}function H(){return(H=(0,a.Z)(function*(N,b){const D=oi(N),k=yield _i(D,{token:b,returnSecureToken:!0}),se=yield ui._fromIdTokenResponse(D,"signIn",k);return yield D._updateCurrentUser(se.user),se})).apply(this,arguments)}class me{constructor(b,D){this.factorId=b,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(b,D){return"phoneInfo"in D?_t._fromServerResponse(b,D):"totpInfo"in D?En._fromServerResponse(b,D):it(b,"internal-error")}}class _t extends me{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,D){return new _t(D)}}class En extends me{constructor(b){super("totp",b)}static _fromServerResponse(b,D){return new En(D)}}function Vr(N,b,D){var k;Te((null===(k=D.url)||void 0===k?void 0:k.length)>0,N,"invalid-continue-uri"),Te(typeof D.dynamicLinkDomain>"u"||D.dynamicLinkDomain.length>0,N,"invalid-dynamic-link-domain"),b.continueUrl=D.url,b.dynamicLinkDomain=D.dynamicLinkDomain,b.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(Te(D.iOS.bundleId.length>0,N,"missing-ios-bundle-id"),b.iOSBundleId=D.iOS.bundleId),D.android&&(Te(D.android.packageName.length>0,N,"missing-android-pkg-name"),b.androidInstallApp=D.android.installApp,b.androidMinimumVersionCode=D.android.minimumVersion,b.androidPackageName=D.android.packageName)}function Wo(N,b,D){return wo.apply(this,arguments)}function wo(){return wo=(0,a.Z)(function*(N,b,D){var k;const se=oi(N),Ae={requestType:"PASSWORD_RESET",email:b,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const ct=yield Ds(se,Ae,"getOobCode",!0);D&&Vr(se,ct,D),yield Kt(se,ct)}else D&&Vr(se,Ae,D),yield Kt(se,Ae).catch(function(){var ct=(0,a.Z)(function*(Vt){if("auth/missing-recaptcha-token"!==Vt.code)return Promise.reject(Vt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const _n=yield Ds(se,Ae,"getOobCode",!0);D&&Vr(se,_n,D),yield Kt(se,_n)}});return function(Vt){return ct.apply(this,arguments)}}())}),wo.apply(this,arguments)}function Ko(N,b,D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(N,b,D){yield Bi((0,E.m9)(N),{oobCode:b,newPassword:D})})).apply(this,arguments)}function wa(N,b){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(N,b){yield nl((0,E.m9)(N),{oobCode:b})})).apply(this,arguments)}function Ga(N,b){return Os.apply(this,arguments)}function Os(){return(Os=(0,a.Z)(function*(N,b){const D=(0,E.m9)(N),k=yield Bi(D,{oobCode:b}),se=k.requestType;switch(Te(se,D,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(k.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(k.mfaInfo,D,"internal-error");default:Te(k.email,D,"internal-error")}let Ae=null;return k.mfaInfo&&(Ae=me._fromServerResponse(oi(D),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:Ae},operation:se}})).apply(this,arguments)}function Xi(N,b){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(N,b){const{data:D}=yield Ga((0,E.m9)(N),b);return D.email})).apply(this,arguments)}function oa(N,b,D){return ho.apply(this,arguments)}function ho(){return ho=(0,a.Z)(function*(N,b,D){var k;const se=oi(N),Ae={returnSecureToken:!0,email:b,password:D,clientType:"CLIENT_TYPE_WEB"};let ct;if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Ln=yield Ds(se,Ae,"signUpPassword");ct=bo(se,Ln)}else ct=bo(se,Ae).catch(function(){var Ln=(0,a.Z)(function*(Xn){if("auth/missing-recaptcha-token"===Xn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Kr=yield Ds(se,Ae,"signUpPassword");return bo(se,Kr)}return Promise.reject(Xn)});return function(Xn){return Ln.apply(this,arguments)}}());const Vt=yield ct.catch(Ln=>Promise.reject(Ln)),_n=yield ui._fromIdTokenResponse(se,"signIn",Vt);return yield se._updateCurrentUser(_n.user),_n}),ho.apply(this,arguments)}function oc(N,b,D){return Ys((0,E.m9)(N),Ro.credential(b,D))}function wl(N,b,D){return aa.apply(this,arguments)}function aa(){return aa=(0,a.Z)(function*(N,b,D){var k;const se=oi(N),Ae={requestType:"EMAIL_SIGNIN",email:b,clientType:"CLIENT_TYPE_WEB"};function ct(Vt,_n){Te(_n.handleCodeInApp,se,"argument-error"),_n&&Vr(se,Vt,_n)}if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Vt=yield Ds(se,Ae,"getOobCode",!0);ct(Vt,D),yield Vn(se,Vt)}else ct(Ae,D),yield Vn(se,Ae).catch(function(){var Vt=(0,a.Z)(function*(_n){if("auth/missing-recaptcha-token"!==_n.code)return Promise.reject(_n);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ln=yield Ds(se,Ae,"getOobCode",!0);ct(Ln,D),yield Vn(se,Ln)}});return function(_n){return Vt.apply(this,arguments)}}())}),aa.apply(this,arguments)}function la(N,b){return"EMAIL_SIGNIN"===na.parseLink(b)?.operation}function ll(N,b,D){return $a.apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(N,b,D){const k=(0,E.m9)(N),se=Ro.credentialWithLink(b,D||At());return Te(se._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),Ys(k,se)})).apply(this,arguments)}function qs(N,b){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:createAuthUri",Jt(N,b))})).apply(this,arguments)}function $i(N,b){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,a.Z)(function*(N,b){const k={identifier:b,continueUri:ln()?At():"http://localhost"},{signinMethods:se}=yield qs((0,E.m9)(N),k);return se||[]})).apply(this,arguments)}function ac(N,b){return lc.apply(this,arguments)}function lc(){return(lc=(0,a.Z)(function*(N,b){const D=(0,E.m9)(N),se={requestType:"VERIFY_EMAIL",idToken:yield N.getIdToken()};b&&Vr(D.auth,se,b);const{email:Ae}=yield at(D.auth,se);Ae!==N.email&&(yield N.reload())})).apply(this,arguments)}function Oc(N,b,D){return $l.apply(this,arguments)}function $l(){return($l=(0,a.Z)(function*(N,b,D){const k=(0,E.m9)(N),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield N.getIdToken(),newEmail:b};D&&Vr(k.auth,Ae,D);const{email:ct}=yield Xr(k.auth,Ae);ct!==N.email&&(yield N.reload())})).apply(this,arguments)}function cc(N,b){return zl.apply(this,arguments)}function zl(){return(zl=(0,a.Z)(function*(N,b){return Mn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Yo(N,b){return El.apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(N,{displayName:b,photoURL:D}){if(void 0===b&&void 0===D)return;const k=(0,E.m9)(N),Ae={idToken:yield k.getIdToken(),displayName:b,photoUrl:D,returnSecureToken:!0},ct=yield Ze(k,cc(k.auth,Ae));k.displayName=ct.displayName||null,k.photoURL=ct.photoUrl||null;const Vt=k.providerData.find(({providerId:_n})=>"password"===_n);Vt&&(Vt.displayName=k.displayName,Vt.photoURL=k.photoURL),yield k._updateTokensIfNecessary(ct)})).apply(this,arguments)}function eu(N,b){return Du((0,E.m9)(N),b,null)}function Wl(N,b){return Du((0,E.m9)(N),null,b)}function Du(N,b,D){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(N,b,D){const{auth:k}=N,Ae={idToken:yield N.getIdToken(),returnSecureToken:!0};b&&(Ae.email=b),D&&(Ae.password=D);const ct=yield Ze(N,Zi(k,Ae));yield N._updateTokensIfNecessary(ct,!0)})).apply(this,arguments)}class Tl{constructor(b,D,k={}){this.isNewUser=b,this.providerId=D,this.profile=k}}class Kl extends Tl{constructor(b,D,k,se){super(b,D,k),this.username=se}}class Si extends Tl{constructor(b,D){super(b,"facebook.com",D)}}class Rc extends Kl{constructor(b,D){super(b,"github.com",D,"string"==typeof D?.login?D?.login:null)}}class Eo extends Tl{constructor(b,D){super(b,"google.com",D)}}class $ extends Kl{constructor(b,D,k){super(b,"twitter.com",D,k)}}function re(N){const{user:b,_tokenResponse:D}=N;return b.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function Qs(N){var b,D;if(!N)return null;const{providerId:k}=N,se=N.rawUserInfo?JSON.parse(N.rawUserInfo):{},Ae=N.isNewUser||"identitytoolkit#SignupNewUserResponse"===N.kind;if(!k&&N?.idToken){const ct=null===(D=null===(b=$r(N.idToken))||void 0===b?void 0:b.firebase)||void 0===D?void 0:D.sign_in_provider;if(ct)return new Tl(Ae,"anonymous"!==ct&&"custom"!==ct?ct:null)}if(!k)return null;switch(k){case"facebook.com":return new Si(Ae,se);case"github.com":return new Rc(Ae,se);case"google.com":return new Eo(Ae,se);case"twitter.com":return new $(Ae,se,N.screenName||null);case"custom":case"anonymous":return new Tl(Ae,null);default:return new Tl(Ae,k,se)}}(D)}class Di{constructor(b,D,k){this.type=b,this.credential=D,this.auth=k}static _fromIdtoken(b,D){return new Di("enroll",b,D)}static _fromMfaPendingCredential(b){return new Di("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var D,k;if(b?.multiFactorSession){if(null!==(D=b.multiFactorSession)&&void 0!==D&&D.pendingCredential)return Di._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(k=b.multiFactorSession)&&void 0!==k&&k.idToken)return Di._fromIdtoken(b.multiFactorSession.idToken)}return null}}class zt{constructor(b,D,k){this.session=b,this.hints=D,this.signInResolver=k}static _fromError(b,D){const k=oi(b),se=D.customData._serverResponse,Ae=(se.mfaInfo||[]).map(Vt=>me._fromServerResponse(k,Vt));Te(se.mfaPendingCredential,k,"internal-error");const ct=Di._fromMfaPendingCredential(se.mfaPendingCredential);return new zt(ct,Ae,function(){var Vt=(0,a.Z)(function*(_n){const Ln=yield _n._process(k,ct);delete se.mfaInfo,delete se.mfaPendingCredential;const Xn=Object.assign(Object.assign({},se),{idToken:Ln.idToken,refreshToken:Ln.refreshToken});switch(D.operationType){case"signIn":const Kr=yield ui._fromIdTokenResponse(k,D.operationType,Xn);return yield k._updateCurrentUser(Kr.user),Kr;case"reauthenticate":return Te(D.user,k,"internal-error"),ui._forOperation(D.user,D.operationType,Xn);default:it(k,"internal-error")}});return function(_n){return Vt.apply(this,arguments)}}())}resolveSignIn(b){var D=this;return(0,a.Z)(function*(){return D.signInResolver(b)})()}}function mr(N,b){var D;const k=(0,E.m9)(N),se=b;return Te(b.customData.operationType,k,"argument-error"),Te(null===(D=se.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,k,"argument-error"),zt._fromError(k,se)}function Ri(N,b){return Mn(N,"POST","/v2/accounts/mfaEnrollment:start",Jt(N,b))}class cn{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(k=>me._fromServerResponse(b.auth,k)))})}static _fromUser(b){return new cn(b)}getSession(){var b=this;return(0,a.Z)(function*(){return Di._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,D){var k=this;return(0,a.Z)(function*(){const se=b,Ae=yield k.getSession(),ct=yield Ze(k.user,se._process(k.user.auth,Ae,D));return yield k.user._updateTokensIfNecessary(ct),k.user.reload()})()}unenroll(b){var D=this;return(0,a.Z)(function*(){const k="string"==typeof b?b:b.uid,se=yield D.user.getIdToken();try{const Ae=yield Ze(D.user,function Dl(N,b){return Mn(N,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(N,b))}(D.user.auth,{idToken:se,mfaEnrollmentId:k}));D.enrolledFactors=D.enrolledFactors.filter(({uid:ct})=>ct!==k),yield D.user._updateTokensIfNecessary(Ae),yield D.user.reload()}catch(Ae){throw Ae}})()}}const Tt=new WeakMap;function Ut(N){const b=(0,E.m9)(N);return Tt.has(b)||Tt.set(b,cn._fromUser(b)),Tt.get(b)}const zi="__sak";class za{constructor(b,D){this.storageRetriever=b,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(zi,"1"),this.storage.removeItem(zi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,D){return this.storage.setItem(b,JSON.stringify(D)),Promise.resolve()}_get(b){const D=this.storage.getItem(b);return Promise.resolve(D?JSON.parse(D):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const gs=(()=>{class N extends za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(D,k)=>this.onStorageEvent(D,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wa(){const N=(0,E.z$)();return F(N)||ve(N)}()&&function Zt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rt(),this._shouldAllowMigration=!0}forAllChangedKeys(D){for(const k of Object.keys(this.listeners)){const se=this.storage.getItem(k),Ae=this.localCache[k];se!==Ae&&D(k,Ae,se)}}onStorageEvent(D,k=!1){if(!D.key)return void this.forAllChangedKeys((Vt,_n,Ln)=>{this.notifyListeners(Vt,Ln)});const se=D.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Vt=this.storage.getItem(se);if(D.newValue!==Vt)null!==D.newValue?this.storage.setItem(se,D.newValue):this.storage.removeItem(se);else if(this.localCache[se]===D.newValue&&!k)return}const Ae=()=>{const Vt=this.storage.getItem(se);!k&&this.localCache[se]===Vt||this.notifyListeners(se,Vt)},ct=this.storage.getItem(se);!function $e(){return(0,E.w1)()&&10===document.documentMode}()||ct===D.newValue||D.newValue===D.oldValue?Ae():setTimeout(Ae,10)}notifyListeners(D,k){this.localCache[D]=k;const se=this.listeners[D];if(se)for(const Ae of Array.from(se))Ae(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,k,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:k,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(k)}_removeListener(D,k){this.listeners[D]&&(this.listeners[D].delete(k),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,k){var se=()=>super._set,Ae=this;return(0,a.Z)(function*(){yield se().call(Ae,D,k),Ae.localCache[D]=JSON.stringify(k)})()}_get(D){var k=()=>super._get,se=this;return(0,a.Z)(function*(){const Ae=yield k().call(se,D);return se.localCache[D]=JSON.stringify(Ae),Ae})()}_remove(D){var k=()=>super._remove,se=this;return(0,a.Z)(function*(){yield k().call(se,D),delete se.localCache[D]})()}}return N.type="LOCAL",N})(),cl=(()=>{class N extends za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(D,k){}_removeListener(D,k){}}return N.type="SESSION",N})();let Wi=(()=>{class N{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const k=this.receivers.find(Ae=>Ae.isListeningto(D));if(k)return k;const se=new N(D);return this.receivers.push(se),se}isListeningto(D){return this.eventTarget===D}handleEvent(D){var k=this;return(0,a.Z)(function*(){const se=D,{eventId:Ae,eventType:ct,data:Vt}=se.data,_n=k.handlersMap[ct];if(!_n?.size)return;se.ports[0].postMessage({status:"ack",eventId:Ae,eventType:ct});const Ln=Array.from(_n).map(function(){var Kr=(0,a.Z)(function*(cs){return cs(se.origin,Vt)});return function(cs){return Kr.apply(this,arguments)}}()),Xn=yield function ka(N){return Promise.all(N.map(function(){var b=(0,a.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(k){return{fulfilled:!1,reason:k}}});return function(D){return b.apply(this,arguments)}}()))}(Ln);se.ports[0].postMessage({status:"done",eventId:Ae,eventType:ct,response:Xn})})()}_subscribe(D,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(k)}_unsubscribe(D,k){this.handlersMap[D]&&k&&this.handlersMap[D].delete(k),(!k||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function ei(N="",b=10){let D="";for(let k=0;k<b;k++)D+=Math.floor(10*Math.random());return N+D}class br{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,D,k=50){var se=this;return(0,a.Z)(function*(){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let ct,Vt;return new Promise((_n,Ln)=>{const Xn=ei("",20);Ae.port1.start();const Kr=setTimeout(()=>{Ln(new Error("unsupported_event"))},k);Vt={messageChannel:Ae,onMessage(cs){const _c=cs;if(_c.data.eventId===Xn)switch(_c.data.status){case"ack":clearTimeout(Kr),ct=setTimeout(()=>{Ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(ct),_n(_c.data.response);break;default:clearTimeout(Kr),clearTimeout(ct),Ln(new Error("invalid_response"))}}},se.handlers.add(Vt),Ae.port1.addEventListener("message",Vt.onMessage),se.target.postMessage({eventType:b,eventId:Xn,data:D},[Ae.port2])}).finally(()=>{Vt&&se.removeMessageHandler(Vt)})})()}}function di(){return window}function Vi(){return typeof di().WorkerGlobalScope<"u"&&"function"==typeof di().importScripts}function ul(){return(ul=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wi="firebaseLocalStorageDb",Pi="firebaseLocalStorage",Cl="fbase_key";class Qo{constructor(b){this.request=b}toPromise(){return new Promise((b,D)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function ca(N,b){return N.transaction([Pi],b?"readwrite":"readonly").objectStore(Pi)}function Sl(){const N=indexedDB.open(wi,1);return new Promise((b,D)=>{N.addEventListener("error",()=>{D(N.error)}),N.addEventListener("upgradeneeded",()=>{const k=N.result;try{k.createObjectStore(Pi,{keyPath:Cl})}catch(se){D(se)}}),N.addEventListener("success",(0,a.Z)(function*(){const k=N.result;k.objectStoreNames.contains(Pi)?b(k):(k.close(),yield function uc(){const N=indexedDB.deleteDatabase(wi);return new Qo(N).toPromise()}(),b(yield Sl()))}))})}function Ar(N,b,D){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(N,b,D){const k=ca(N,!0).put({[Cl]:b,value:D});return new Qo(k).toPromise()})).apply(this,arguments)}function Ps(){return(Ps=(0,a.Z)(function*(N,b){const D=ca(N,!1).get(b),k=yield new Qo(D).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Yl(N,b){const D=ca(N,!0).delete(b);return new Qo(D).toPromise()}const To=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,a.Z)(function*(){return D.db||(D.db=yield Sl()),D.db})()}_withRetries(D){var k=this;return(0,a.Z)(function*(){let se=0;for(;;)try{const Ae=yield k._openDb();return yield D(Ae)}catch(Ae){if(se++>3)throw Ae;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,a.Z)(function*(){return Vi()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,a.Z)(function*(){D.receiver=Wi._getInstance(function qo(){return Vi()?self:null}()),D.receiver._subscribe("keyChanged",function(){var k=(0,a.Z)(function*(se,Ae){return{keyProcessed:(yield D._poll()).includes(Ae.key)}});return function(se,Ae){return k.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var k=(0,a.Z)(function*(se,Ae){return["keyChanged"]});return function(se,Ae){return k.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,a.Z)(function*(){var k,se;if(D.activeServiceWorker=yield function rr(){return ul.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new br(D.activeServiceWorker);const Ae=yield D.sender._send("ping",{},800);!Ae||(null===(k=Ae[0])||void 0===k?void 0:k.fulfilled)&&(null===(se=Ae[0])||void 0===se?void 0:se.value.includes("keyChanged"))&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var k=this;return(0,a.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function Wr(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:D},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const D=yield Sl();return yield Ar(D,zi,"1"),yield Yl(D,zi),!0}catch{}return!1})()}_withPendingWrite(D){var k=this;return(0,a.Z)(function*(){k.pendingWrites++;try{yield D()}finally{k.pendingWrites--}})()}_set(D,k){var se=this;return(0,a.Z)(function*(){return se._withPendingWrite((0,a.Z)(function*(){return yield se._withRetries(Ae=>Ar(Ae,D,k)),se.localCache[D]=k,se.notifyServiceWorker(D)}))})()}_get(D){var k=this;return(0,a.Z)(function*(){const se=yield k._withRetries(Ae=>function eh(N,b){return Ps.apply(this,arguments)}(Ae,D));return k.localCache[D]=se,se})()}_remove(D){var k=this;return(0,a.Z)(function*(){return k._withPendingWrite((0,a.Z)(function*(){return yield k._withRetries(se=>Yl(se,D)),delete k.localCache[D],k.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,a.Z)(function*(){const k=yield D._withRetries(ct=>{const Vt=ca(ct,!1).getAll();return new Qo(Vt).toPromise()});if(!k)return[];if(0!==D.pendingWrites)return[];const se=[],Ae=new Set;for(const{fbase_key:ct,value:Vt}of k)Ae.add(ct),JSON.stringify(D.localCache[ct])!==JSON.stringify(Vt)&&(D.notifyListeners(ct,Vt),se.push(ct));for(const ct of Object.keys(D.localCache))D.localCache[ct]&&!Ae.has(ct)&&(D.notifyListeners(ct,null),se.push(ct));return se})()}notifyListeners(D,k){this.localCache[D]=k;const se=this.listeners[D];if(se)for(const Ae of Array.from(se))Ae(k)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(k)}_removeListener(D,k){this.listeners[D]&&(this.listeners[D].delete(k),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})();function Rt(N,b){return Mn(N,"POST","/v2/accounts/mfaSignIn:start",Jt(N,b))}const Ta=1e12;class td{constructor(b){this.auth=b,this.counter=Ta,this._widgets=new Map}render(b,D){const k=this.counter;return this._widgets.set(k,new Fi(b,this.auth.name,D||{})),this.counter++,k}reset(b){var D;const k=b||Ta;null===(D=this._widgets.get(k))||void 0===D||D.delete(),this._widgets.delete(k)}getResponse(b){var D;return(null===(D=this._widgets.get(b||Ta))||void 0===D?void 0:D.getResponse())||""}execute(b){var D=this;return(0,a.Z)(function*(){var k;return null===(k=D._widgets.get(b||Ta))||void 0===k||k.execute(),""})()}}class Fi{constructor(b,D,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof b?document.getElementById(b):b;Te(se,"argument-error",{appName:D}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ua(N){const b=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<N;k++)b.push(D.charAt(Math.floor(Math.random()*D.length)));return b.join("")}(50);const{callback:b,"expired-callback":D}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const da=$o("rcb"),tu=new It(3e4,6e4);class P{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=di().grecaptcha)||void 0===b||!b.render)}load(b,D=""){return Te(function S(N){return N.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(N)}(D),b,"argument-error"),this.shouldResolveImmediately(D)&&pr(di().grecaptcha)?Promise.resolve(di().grecaptcha):new Promise((k,se)=>{const Ae=di().setTimeout(()=>{se(Ke(b,"network-request-failed"))},tu.get());di()[da]=()=>{di().clearTimeout(Ae),delete di()[da];const Vt=di().grecaptcha;if(!Vt||!pr(Vt))return void se(Ke(b,"internal-error"));const _n=Vt.render;Vt.render=(Ln,Xn)=>{const Kr=_n(Ln,Xn);return this.counter++,Kr},this.hostLanguage=D,k(Vt)},fi(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:da,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(Ae),se(Ke(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var D;return!(null===(D=di().grecaptcha)||void 0===D||!D.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class G{load(b){return(0,a.Z)(function*(){return new td(b)})()}clearedOneInstance(){}}const q="recaptcha",_e={theme:"light",type:"image"};class ke{constructor(b,D=Object.assign({},_e),k){this.parameters=D,this.type=q,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=oi(k),this.isInvisible="invisible"===this.parameters.size,Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof b?document.getElementById(b):b;Te(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new G:new P,this.validateStartingState()}verify(){var b=this;return(0,a.Z)(function*(){b.assertNotDestroyed();const D=yield b.render(),k=b.getAssertedRecaptcha();return k.getResponse(D)||new Promise(Ae=>{const ct=Vt=>{!Vt||(b.tokenChangeListeners.delete(ct),Ae(Vt))};b.tokenChangeListeners.add(ct),b.isInvisible&&k.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return D=>{if(this.tokenChangeListeners.forEach(k=>k(D)),"function"==typeof b)b(D);else if("string"==typeof b){const k=di()[b];"function"==typeof k&&k(D)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,a.Z)(function*(){if(yield b.init(),!b.widgetId){let D=b.container;if(!b.isInvisible){const k=document.createElement("div");D.appendChild(k),D=k}b.widgetId=b.getAssertedRecaptcha().render(D,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,a.Z)(function*(){Te(ln()&&!Vi(),b.auth,"internal-error"),yield function Fe(){let N=null;return new Promise(b=>{"complete"!==document.readyState?(N=()=>b(),window.addEventListener("load",N)):b()}).catch(b=>{throw N&&window.removeEventListener("load",N),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const D=yield function qn(N){return Cn.apply(this,arguments)}(b.auth);Te(D,b.auth,"internal-error"),b.parameters.sitekey=D})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mt{constructor(b,D){this.verificationId=b,this.onConfirmation=D}confirm(b){const D=Is._fromVerification(this.verificationId,b);return this.onConfirmation(D)}}function an(N,b,D){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(N,b,D){const k=oi(N),se=yield fo(k,b,(0,E.m9)(D));return new mt(se,Ae=>Ys(k,Ae))})).apply(this,arguments)}function un(N,b,D){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(N,b,D){const k=(0,E.m9)(N);yield sl(!1,k,"phone");const se=yield fo(k.auth,b,(0,E.m9)(D));return new mt(se,Ae=>Zs(k,Ae))})).apply(this,arguments)}function ti(N,b,D){return Es.apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(N,b,D){const k=(0,E.m9)(N),se=yield fo(k.auth,b,(0,E.m9)(D));return new mt(se,Ae=>ia(k,Ae))})).apply(this,arguments)}function fo(N,b,D){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(N,b,D){var k;const se=yield D.verify();try{let Ae;if(Te("string"==typeof se,N,"argument-error"),Te(D.type===q,N,"argument-error"),Ae="string"==typeof b?{phoneNumber:b}:b,"session"in Ae){const ct=Ae.session;if("phoneNumber"in Ae)return Te("enroll"===ct.type,N,"internal-error"),(yield Ri(N,{idToken:ct.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Te("signin"===ct.type,N,"internal-error");const Vt=(null===(k=Ae.multiFactorHint)||void 0===k?void 0:k.uid)||Ae.multiFactorUid;return Te(Vt,N,"missing-multi-factor-info"),(yield Rt(N,{mfaPendingCredential:ct.credential,mfaEnrollmentId:Vt,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ct}=yield ma(N,{phoneNumber:Ae.phoneNumber,recaptchaToken:se});return ct}}finally{D._reset()}})).apply(this,arguments)}function dl(N,b){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,a.Z)(function*(N,b){yield uo((0,E.m9)(N),b)})).apply(this,arguments)}let nu=(()=>{class N{constructor(D){this.providerId=N.PROVIDER_ID,this.auth=oi(D)}verifyPhoneNumber(D,k){return fo(this.auth,D,(0,E.m9)(k))}static credential(D,k){return Is._fromVerification(D,k)}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:k,temporaryProof:se}=D;return k&&se?Is._fromTokenResponse(k,se):null}}return N.PROVIDER_ID="phone",N.PHONE_SIGN_IN_METHOD="phone",N})();function Io(N,b){return b?Fn(b):(Te(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}class Js extends oo{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return fs(b,this._buildIdpRequest())}_linkToIdToken(b,D){return fs(b,this._buildIdpRequest(D))}_getReauthenticationResolver(b){return fs(b,this._buildIdpRequest())}_buildIdpRequest(b){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(D.idToken=b),D}}function xl(N){return ra(N.auth,new Js(N),N.bypassAuthState)}function hc(N){const{auth:b,user:D}=N;return Te(D,b,"internal-error"),Dr(D,new Js(N),N.bypassAuthState)}function th(N){return nd.apply(this,arguments)}function nd(){return(nd=(0,a.Z)(function*(N){const{auth:b,user:D}=N;return Te(D,b,"internal-error"),uo(D,new Js(N),N.bypassAuthState)})).apply(this,arguments)}class fc{constructor(b,D,k,se,Ae=!1){this.auth=b,this.resolver=k,this.user=se,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var b=this;return new Promise(function(){var D=(0,a.Z)(function*(k,se){b.pendingPromise={resolve:k,reject:se};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(Ae){b.reject(Ae)}});return function(k,se){return D.apply(this,arguments)}}())}onAuthEvent(b){var D=this;return(0,a.Z)(function*(){const{urlResponse:k,sessionId:se,postBody:Ae,tenantId:ct,error:Vt,type:_n}=b;if(Vt)return void D.reject(Vt);const Ln={auth:D.auth,requestUri:k,sessionId:se,tenantId:ct||void 0,postBody:Ae||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(_n)(Ln))}catch(Xn){D.reject(Xn)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return xl;case"linkViaPopup":case"linkViaRedirect":return th;case"reauthViaPopup":case"reauthViaRedirect":return hc;default:it(this.auth,"internal-error")}}resolve(b){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gs=new It(2e3,1e4);function ha(N,b,D){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,a.Z)(function*(N,b,D){const k=oi(N);Ct(N,b,co);const se=Io(k,D);return new Iu(k,"signInViaPopup",b,se).executeNotNull()})).apply(this,arguments)}function ru(N,b,D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(N,b,D){const k=(0,E.m9)(N);Ct(k.auth,b,co);const se=Io(k.auth,D);return new Iu(k.auth,"reauthViaPopup",b,se,k).executeNotNull()})).apply(this,arguments)}function rd(N,b,D){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(N,b,D){const k=(0,E.m9)(N);Ct(k.auth,b,co);const se=Io(k.auth,D);return new Iu(k.auth,"linkViaPopup",b,se,k).executeNotNull()})).apply(this,arguments)}let Iu=(()=>{class N extends fc{constructor(D,k,se,Ae,ct){super(D,k,Ae,ct),this.provider=se,this.authWindow=null,this.pollId=null,N.currentPopupAction&&N.currentPopupAction.cancel(),N.currentPopupAction=this}executeNotNull(){var D=this;return(0,a.Z)(function*(){const k=yield D.execute();return Te(k,D.auth,"internal-error"),k})()}onExecution(){var D=this;return(0,a.Z)(function*(){Qe(1===D.filter.length,"Popup operations only handle one event");const k=ei();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],k),D.authWindow.associatedEvent=k,D.resolver._originValidation(D.auth).catch(se=>{D.reject(se)}),D.resolver._isIframeWebStorageSupported(D.auth,se=>{se||D.reject(Ke(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,N.currentPopupAction=null}pollUserCancellation(){const D=()=>{var k,se;this.pollId=null!==(se=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,Gs.get())};D()}}return N.currentPopupAction=null,N})();const X=new Map;class fe extends fc{constructor(b,D,k=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,k),this.eventId=null}execute(){var b=()=>super.execute,D=this;return(0,a.Z)(function*(){let k=X.get(D.auth._key());if(!k){try{const Ae=(yield function He(N,b){return lt.apply(this,arguments)}(D.resolver,D.auth))?yield b().call(D):null;k=()=>Promise.resolve(Ae)}catch(se){k=()=>Promise.reject(se)}X.set(D.auth._key(),k)}return D.bypassAuthState||X.set(D.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(b){var D=()=>super.onAuthEvent,k=this;return(0,a.Z)(function*(){if("signInViaRedirect"===b.type)return D().call(k,b);if("unknown"!==b.type){if(b.eventId){const se=yield k.auth._redirectUserForId(b.eventId);if(se)return k.user=se,D().call(k,b);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function lt(){return(lt=(0,a.Z)(function*(N,b){const D=Rr(b),k=or(N);if(!(yield k._isAvailable()))return!1;const se="true"===(yield k._get(D));return yield k._remove(D),se})).apply(this,arguments)}function ft(N,b){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,a.Z)(function*(N,b){return or(N)._set(Rr(b),"true")})).apply(this,arguments)}function An(){X.clear()}function Gn(N,b){X.set(N._key(),b)}function or(N){return Fn(N._redirectPersistence)}function Rr(N){return vr("pendingRedirect",N.config.apiKey,N.name)}function jn(N,b,D){return function Da(N,b,D){return Li.apply(this,arguments)}(N,b,D)}function Li(){return(Li=(0,a.Z)(function*(N,b,D){const k=oi(N);Ct(N,b,co),yield k._initializationPromise;const se=Io(k,D);return yield ft(se,k),se._openRedirect(k,b,"signInViaRedirect")})).apply(this,arguments)}function ls(N,b,D){return function La(N,b,D){return Ka.apply(this,arguments)}(N,b,D)}function Ka(){return(Ka=(0,a.Z)(function*(N,b,D){const k=(0,E.m9)(N);Ct(k.auth,b,co),yield k.auth._initializationPromise;const se=Io(k.auth,D);yield ft(se,k.auth);const Ae=yield pc(k);return se._openRedirect(k.auth,b,"reauthViaRedirect",Ae)})).apply(this,arguments)}function hl(N,b,D){return function Ml(N,b,D){return Cu.apply(this,arguments)}(N,b,D)}function Cu(){return(Cu=(0,a.Z)(function*(N,b,D){const k=(0,E.m9)(N);Ct(k.auth,b,co),yield k.auth._initializationPromise;const se=Io(k.auth,D);yield sl(!1,k,b.providerId),yield ft(se,k.auth);const Ae=yield pc(k);return se._openRedirect(k.auth,b,"linkViaRedirect",Ae)})).apply(this,arguments)}function iu(N,b){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,a.Z)(function*(N,b){return yield oi(N)._initializationPromise,Su(N,b,!1)})).apply(this,arguments)}function Su(N,b){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(N,b,D=!1){const k=oi(N),se=Io(k,b),ct=yield new fe(k,se,D).execute();return ct&&!D&&(delete ct.user._redirectEventId,yield k._persistUserIfCurrent(ct.user),yield k._setRedirectUser(null,b)),ct})).apply(this,arguments)}function pc(N){return gc.apply(this,arguments)}function gc(){return(gc=(0,a.Z)(function*(N){const b=ei(`${N.uid}:::`);return N._redirectEventId=b,yield N.auth._setRedirectUser(N),yield N.auth._persistUserIfCurrent(N),b})).apply(this,arguments)}class Zf{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let D=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(b,k)&&(D=!0,this.sendToConsumer(b,k),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function Au(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nh(N);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=b,D=!0)),D}sendToConsumer(b,D){var k;if(b.error&&!nh(b)){const se=(null===(k=b.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";D.onError(Ke(this.auth,se))}else D.onAuthEvent(b)}isEventForConsumer(b,D){const k=null===D.eventId||!!b.eventId&&b.eventId===D.eventId;return D.filter.includes(b.type)&&k}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xs(b))}saveEventToCache(b){this.cachedEventUids.add(Xs(b)),this.lastProcessedEventTime=Date.now()}}function Xs(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(b=>b).join("-")}function nh({type:N,error:b}){return"unknown"===N&&"auth/no-auth-event"===b?.code}function xu(N){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,a.Z)(function*(N,b={}){return Mn(N,"GET","/v1/projects",b)})).apply(this,arguments)}const Fp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gh=/^https?/;function Ed(){return(Ed=(0,a.Z)(function*(N){if(N.config.emulator)return;const{authorizedDomains:b}=yield xu(N);for(const D of b)try{if(Za(D))return}catch{}it(N,"unauthorized-domain")})).apply(this,arguments)}function Za(N){const b=At(),{protocol:D,hostname:k}=new URL(b);if(N.startsWith("chrome-extension://")){const ct=new URL(N);return""===ct.hostname&&""===k?"chrome-extension:"===D&&N.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===D&&ct.hostname===k}if(!Gh.test(D))return!1;if(Fp.test(N))return k===N;const se=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(k)}const $s=new It(3e4,6e4);function $h(){const N=di().___jsl;if(N?.H)for(const b of Object.keys(N.H))if(N.H[b].r=N.H[b].r||[],N.H[b].L=N.H[b].L||[],N.H[b].r=[...N.H[b].L],N.CP)for(let D=0;D<N.CP.length;D++)N.CP[D]=null}let Ol=null;function fa(N){return Ol=Ol||function zh(N){return new Promise((b,D)=>{var k,se,Ae;function ct(){$h(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{$h(),D(Ke(N,"network-request-failed"))},timeout:$s.get()})}if(null!==(se=null===(k=di().gapi)||void 0===k?void 0:k.iframes)&&void 0!==se&&se.Iframe)b(gapi.iframes.getContext());else{if(null===(Ae=di().gapi)||void 0===Ae||!Ae.load){const Vt=$o("iframefcb");return di()[Vt]=()=>{gapi.load?ct():D(Ke(N,"network-request-failed"))},fi(`https://apis.google.com/js/api.js?onload=${Vt}`).catch(_n=>D(_n))}ct()}}).catch(b=>{throw Ol=null,b})}(N),Ol}const qf=new It(5e3,15e3),Mu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},id=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uc(N){const b=N.config;Te(b.authDomain,N,"auth-domain-config-required");const D=b.emulator?$t(b,"emulator/auth/iframe"):`https://${N.config.authDomain}/__/auth/iframe`,k={apiKey:b.apiKey,appName:N.name,v:B.SDK_VERSION},se=id.get(N.config.apiHost);se&&(k.eid=se);const Ae=N._getFrameworks();return Ae.length&&(k.fw=Ae.join(",")),`${D}?${(0,E.xO)(k).slice(1)}`}function Td(){return Td=(0,a.Z)(function*(N){const b=yield fa(N),D=di().gapi;return Te(D,N,"internal-error"),b.open({where:document.body,url:Uc(N),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mu,dontclear:!0},k=>new Promise(function(){var se=(0,a.Z)(function*(Ae,ct){yield k.restyle({setHideOnLeave:!1});const Vt=Ke(N,"network-request-failed"),_n=di().setTimeout(()=>{ct(Vt)},qf.get());function Ln(){di().clearTimeout(_n),Ae(k)}k.ping(Ln).then(Ln,()=>{ct(Vt)})});return function(Ae,ct){return se.apply(this,arguments)}}()))}),Td.apply(this,arguments)}const yi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sd{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qa=encodeURIComponent("fac");function od(N,b,D,k,se,Ae){return sh.apply(this,arguments)}function sh(){return(sh=(0,a.Z)(function*(N,b,D,k,se,Ae){Te(N.config.authDomain,N,"auth-domain-config-required"),Te(N.config.apiKey,N,"invalid-api-key");const ct={apiKey:N.config.apiKey,appName:N.name,authType:D,redirectUrl:k,v:B.SDK_VERSION,eventId:se};if(b instanceof co){b.setDefaultLanguage(N.languageCode),ct.providerId=b.providerId||"",(0,E.xb)(b.getCustomParameters())||(ct.customParameters=JSON.stringify(b.getCustomParameters()));for(const[Xn,Kr]of Object.entries(Ae||{}))ct[Xn]=Kr}if(b instanceof mi){const Xn=b.getScopes().filter(Kr=>""!==Kr);Xn.length>0&&(ct.scopes=Xn.join(","))}N.tenantId&&(ct.tid=N.tenantId);const Vt=ct;for(const Xn of Object.keys(Vt))void 0===Vt[Xn]&&delete Vt[Xn];const _n=yield N._getAppCheckToken(),Ln=_n?`#${qa}=${encodeURIComponent(_n)}`:"";return`${oh(N)}?${(0,E.xO)(Vt).slice(1)}${Ln}`})).apply(this,arguments)}function oh({config:N}){return N.emulator?$t(N,"emulator/auth/handler"):`https://${N.authDomain}/__/auth/handler`}const Xo="webStorageSupport",Lp=class ah{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cl,this._completeRedirectFn=Su,this._overrideRedirectResult=Gn}_openPopup(b,D,k,se){var Ae=this;return(0,a.Z)(function*(){var ct;Qe(null===(ct=Ae.eventManagers[b._key()])||void 0===ct?void 0:ct.manager,"_initialize() not called before _openPopup()");const Vt=yield od(b,D,k,At(),se);return function rh(N,b,D,k=500,se=600){const Ae=Math.max((window.screen.availHeight-se)/2,0).toString(),ct=Math.max((window.screen.availWidth-k)/2,0).toString();let Vt="";const _n=Object.assign(Object.assign({},yi),{width:k.toString(),height:se.toString(),top:Ae,left:ct}),Ln=(0,E.z$)().toLowerCase();D&&(Vt=V(Ln)?"_blank":D),Se(Ln)&&(b=b||"http://localhost",_n.scrollbars="yes");const Xn=Object.entries(_n).reduce((cs,[_c,kl])=>`${cs}${_c}=${kl},`,"");if(function ue(N=(0,E.z$)()){var b;return ve(N)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(Ln)&&"_self"!==Vt)return function Ou(N,b){const D=document.createElement("a");D.href=N,D.target=b;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(k)}(b||"",Vt),new sd(null);const Kr=window.open(b||"",Vt,Xn);Te(Kr,N,"popup-blocked");try{Kr.focus()}catch{}return new sd(Kr)}(b,Vt,ei())})()}_openRedirect(b,D,k,se){var Ae=this;return(0,a.Z)(function*(){return yield Ae._originValidation(b),function Fc(N){di().location.href=N}(yield od(b,D,k,At(),se)),new Promise(()=>{})})()}_initialize(b){const D=b._key();if(this.eventManagers[D]){const{manager:se,promise:Ae}=this.eventManagers[D];return se?Promise.resolve(se):(Qe(Ae,"If manager is not set, promise should be"),Ae)}const k=this.initAndGetManager(b);return this.eventManagers[D]={promise:k},k.catch(()=>{delete this.eventManagers[D]}),k}initAndGetManager(b){var D=this;return(0,a.Z)(function*(){const k=yield function Rl(N){return Td.apply(this,arguments)}(b),se=new Zf(b);return k.register("authEvent",Ae=>(Te(Ae?.authEvent,b,"invalid-auth-event"),{status:se.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[b._key()]={manager:se},D.iframes[b._key()]=k,se})()}_isIframeWebStorageSupported(b,D){this.iframes[b._key()].send(Xo,{type:Xo},se=>{var Ae;const ct=null===(Ae=se?.[0])||void 0===Ae?void 0:Ae[Xo];void 0!==ct&&D(!!ct),it(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const D=b._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Ya(N){return Ed.apply(this,arguments)}(b)),this.originValidationPromises[D]}get _shouldInitProactively(){return rt()||F()||ve()}};class Qf extends class n_{constructor(b){this.factorId=b}_process(b,D,k){switch(D.type){case"enroll":return this._finalizeEnroll(b,D.credential,k);case"signin":return this._finalizeSignIn(b,D.credential);default:return Ge("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new Qf(b)}_finalizeEnroll(b,D,k){return function Rs(N,b){return Mn(N,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(N,b))}(b,{idToken:D,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,D){return function ed(N,b){return Mn(N,"POST","/v2/accounts/mfaSignIn:finalize",Jt(N,b))}(b,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wh=(()=>{class N{constructor(){}static assertion(D){return Qf._fromCredential(D)}}return N.FACTOR_ID="phone",N})();var Jf="@firebase/auth";class Ql{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var D=this;return(0,a.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const D=this.auth.onIdTokenChanged(k=>{b(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(b,D),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const D=this.internalListeners.get(b);!D||(this.internalListeners.delete(b),D(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,E.Pz)("authIdTokenMaxAge"),function Bc(N){(0,B._registerComponent)(new pe.wA("auth",(b,{options:D})=>{const k=b.getProvider("app").getImmediate(),se=b.getProvider("heartbeat"),Ae=b.getProvider("app-check-internal"),{apiKey:ct,authDomain:Vt}=k.options;Te(ct&&!ct.includes(":"),"invalid-api-key",{appName:k.name}),Te(!Vt?.includes(":"),"argument-error",{appName:k.name});const _n={apiKey:ct,authDomain:Vt,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Un(N)},Ln=new No(k,se,Ae,_n);return function vs(N,b){const D=b?.persistence||[],k=(Array.isArray(D)?D:[D]).map(Fn);b?.errorMap&&N._updateErrorMap(b.errorMap),N._initializeWithPersistence(k,b?.popupRedirectResolver)}(Ln,D),Ln},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,D,k)=>{b.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new pe.wA("auth-internal",b=>{const D=oi(b.getProvider("auth").getImmediate());return new Ql(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Jf,"0.23.0",function Id(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,B.registerVersion)(Jf,"0.23.0","esm2017")}("Browser")},2090:(nn,we,M)=>{"use strict";M.d(we,{$s:()=>Fn,BH:()=>Xe,DV:()=>tr,Dv:()=>In,G6:()=>$t,GJ:()=>Gr,L:()=>Ie,LL:()=>Bt,Pz:()=>Ke,Sg:()=>Ct,UG:()=>Ge,UI:()=>hn,US:()=>pe,Wj:()=>fr,Wl:()=>Wn,Yr:()=>It,ZB:()=>ye,ZR:()=>Mn,aH:()=>it,b$:()=>ln,cI:()=>Tn,dS:()=>Br,eu:()=>vt,g5:()=>B,gK:()=>Zn,gQ:()=>Pt,h$:()=>oe,hl:()=>jt,hu:()=>E,jU:()=>Qe,lb:()=>kn,m9:()=>vr,ne:()=>Ze,p$:()=>le,pd:()=>$r,r3:()=>Jn,ru:()=>At,tV:()=>ae,uI:()=>Te,ug:()=>er,vZ:()=>Fr,w1:()=>pt,w9:()=>dr,xO:()=>ci,xb:()=>Nr,z$:()=>dt,zI:()=>yn,zd:()=>xs});const E=function(Ye,Ve){if(!Ye)throw B(Ve)},B=function(Ye){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ye)},ce=function(Ye){const Ve=[];let Se=0;for(let F=0;F<Ye.length;F++){let V=Ye.charCodeAt(F);V<128?Ve[Se++]=V:V<2048?(Ve[Se++]=V>>6|192,Ve[Se++]=63&V|128):55296==(64512&V)&&F+1<Ye.length&&56320==(64512&Ye.charCodeAt(F+1))?(V=65536+((1023&V)<<10)+(1023&Ye.charCodeAt(++F)),Ve[Se++]=V>>18|240,Ve[Se++]=V>>12&63|128,Ve[Se++]=V>>6&63|128,Ve[Se++]=63&V|128):(Ve[Se++]=V>>12|224,Ve[Se++]=V>>6&63|128,Ve[Se++]=63&V|128)}return Ve},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ye,Ve){if(!Array.isArray(Ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=Ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let V=0;V<Ye.length;V+=3){const ne=Ye[V],xe=V+1<Ye.length,tt=xe?Ye[V+1]:0,Nt=V+2<Ye.length,ve=Nt?Ye[V+2]:0;let $e=(15&tt)<<2|ve>>6,rt=63&ve;Nt||(rt=64,xe||($e=64)),F.push(Se[ne>>2],Se[(3&ne)<<4|tt>>4],Se[$e],Se[rt])}return F.join("")},encodeString(Ye,Ve){return this.HAS_NATIVE_SUPPORT&&!Ve?btoa(Ye):this.encodeByteArray(ce(Ye),Ve)},decodeString(Ye,Ve){return this.HAS_NATIVE_SUPPORT&&!Ve?atob(Ye):function(Ye){const Ve=[];let Se=0,F=0;for(;Se<Ye.length;){const V=Ye[Se++];if(V<128)Ve[F++]=String.fromCharCode(V);else if(V>191&&V<224){const ne=Ye[Se++];Ve[F++]=String.fromCharCode((31&V)<<6|63&ne)}else if(V>239&&V<365){const Nt=((7&V)<<18|(63&Ye[Se++])<<12|(63&Ye[Se++])<<6|63&Ye[Se++])-65536;Ve[F++]=String.fromCharCode(55296+(Nt>>10)),Ve[F++]=String.fromCharCode(56320+(1023&Nt))}else{const ne=Ye[Se++],xe=Ye[Se++];Ve[F++]=String.fromCharCode((15&V)<<12|(63&ne)<<6|63&xe)}}return Ve.join("")}(this.decodeStringToByteArray(Ye,Ve))},decodeStringToByteArray(Ye,Ve){this.init_();const Se=Ve?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let V=0;V<Ye.length;){const ne=Se[Ye.charAt(V++)],tt=V<Ye.length?Se[Ye.charAt(V)]:0;++V;const ve=V<Ye.length?Se[Ye.charAt(V)]:64;++V;const ue=V<Ye.length?Se[Ye.charAt(V)]:64;if(++V,null==ne||null==tt||null==ve||null==ue)throw new Ee;F.push(ne<<2|tt>>4),64!==ve&&(F.push(tt<<4&240|ve>>2),64!==ue&&F.push(ve<<6&192|ue))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ye=0;Ye<this.ENCODED_VALS.length;Ye++)this.byteToCharMap_[Ye]=this.ENCODED_VALS.charAt(Ye),this.charToByteMap_[this.byteToCharMap_[Ye]]=Ye,this.byteToCharMapWebSafe_[Ye]=this.ENCODED_VALS_WEBSAFE.charAt(Ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ye]]=Ye,Ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ye)]=Ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ye)]=Ye)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oe=function(Ye){const Ve=ce(Ye);return pe.encodeByteArray(Ve,!0)},Ie=function(Ye){return oe(Ye).replace(/\./g,"")},ae=function(Ye){try{return pe.decodeString(Ye,!0)}catch(Ve){console.error("base64Decode failed: ",Ve)}return null};function le(Ye){return ye(void 0,Ye)}function ye(Ye,Ve){if(!(Ve instanceof Object))return Ve;switch(Ve.constructor){case Date:return new Date(Ve.getTime());case Object:void 0===Ye&&(Ye={});break;case Array:Ye=[];break;default:return Ve}for(const Se in Ve)!Ve.hasOwnProperty(Se)||!Be(Se)||(Ye[Se]=ye(Ye[Se],Ve[Se]));return Ye}function Be(Ye){return"__proto__"!==Ye}const nt=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ye=process.env.__FIREBASE_DEFAULTS__;return Ye?JSON.parse(Ye):void 0})()||(()=>{if(typeof document>"u")return;let Ye;try{Ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ve=Ye&&ae(Ye[1]);return Ve&&JSON.parse(Ve)})()}catch(Ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ye}`)}},it=()=>{var Ye;return null===(Ye=nt())||void 0===Ye?void 0:Ye.config},Ke=Ye=>{var Ve;return null===(Ve=nt())||void 0===Ve?void 0:Ve[`_${Ye}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ve,Se)=>{this.resolve=Ve,this.reject=Se})}wrapCallback(Ve){return(Se,F)=>{Se?this.reject(Se):this.resolve(F),"function"==typeof Ve&&(this.promise.catch(()=>{}),1===Ve.length?Ve(Se):Ve(Se,F))}}}function Ct(Ye,Ve){if(Ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=Ve||"demo-project",V=Ye.iat||0,ne=Ye.sub||Ye.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:V,exp:V+3600,auth_time:V,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},Ye);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(xe)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Ge(){var Ye;const Ve=null===(Ye=nt())||void 0===Ye?void 0:Ye.forceEnvironment;if("node"===Ve)return!0;if("browser"===Ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qe(){return"object"==typeof self&&self.self===self}function At(){const Ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ye&&void 0!==Ye.id}function ln(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){const Ye=dt();return Ye.indexOf("MSIE ")>=0||Ye.indexOf("Trident/")>=0}function It(){return!1}function $t(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jt(){try{return"object"==typeof indexedDB}catch{return!1}}function vt(){return new Promise((Ye,Ve)=>{try{let Se=!0;const F="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(F);V.onsuccess=()=>{V.result.close(),Se||self.indexedDB.deleteDatabase(F),Ye(!0)},V.onupgradeneeded=()=>{Se=!1},V.onerror=()=>{var ne;Ve((null===(ne=V.error)||void 0===ne?void 0:ne.message)||"")}}catch(Se){Ve(Se)}})}function yn(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mn extends Error{constructor(Ve,Se,F){super(Se),this.code=Ve,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(Ve,Se,F){this.service=Ve,this.serviceName=Se,this.errors=F}create(Ve,...Se){const F=Se[0]||{},V=`${this.service}/${Ve}`,ne=this.errors[Ve],xe=ne?function Pn(Ye,Ve){return Ye.replace(xn,(Se,F)=>{const V=Ve[F];return null!=V?String(V):`<${F}?>`})}(ne,F):"Error";return new Mn(V,`${this.serviceName}: ${xe} (${V}).`,F)}}const xn=/\{\$([^}]+)}/g;function Tn(Ye){return JSON.parse(Ye)}function Wn(Ye){return JSON.stringify(Ye)}const lr=function(Ye){let Ve={},Se={},F={},V="";try{const ne=Ye.split(".");Ve=Tn(ae(ne[0])||""),Se=Tn(ae(ne[1])||""),V=ne[2],F=Se.d||{},delete Se.d}catch{}return{header:Ve,claims:Se,data:F,signature:V}},dr=function(Ye){const Se=lr(Ye).claims;return!!Se&&"object"==typeof Se&&Se.hasOwnProperty("iat")},Gr=function(Ye){const Ve=lr(Ye).claims;return"object"==typeof Ve&&!0===Ve.admin};function Jn(Ye,Ve){return Object.prototype.hasOwnProperty.call(Ye,Ve)}function tr(Ye,Ve){if(Object.prototype.hasOwnProperty.call(Ye,Ve))return Ye[Ve]}function Nr(Ye){for(const Ve in Ye)if(Object.prototype.hasOwnProperty.call(Ye,Ve))return!1;return!0}function hn(Ye,Ve,Se){const F={};for(const V in Ye)Object.prototype.hasOwnProperty.call(Ye,V)&&(F[V]=Ve.call(Se,Ye[V],V,Ye));return F}function Fr(Ye,Ve){if(Ye===Ve)return!0;const Se=Object.keys(Ye),F=Object.keys(Ve);for(const V of Se){if(!F.includes(V))return!1;const ne=Ye[V],xe=Ve[V];if(hr(ne)&&hr(xe)){if(!Fr(ne,xe))return!1}else if(ne!==xe)return!1}for(const V of F)if(!Se.includes(V))return!1;return!0}function hr(Ye){return null!==Ye&&"object"==typeof Ye}function ci(Ye){const Ve=[];for(const[Se,F]of Object.entries(Ye))Array.isArray(F)?F.forEach(V=>{Ve.push(encodeURIComponent(Se)+"="+encodeURIComponent(V))}):Ve.push(encodeURIComponent(Se)+"="+encodeURIComponent(F));return Ve.length?"&"+Ve.join("&"):""}function xs(Ye){const Ve={};return Ye.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[V,ne]=F.split("=");Ve[decodeURIComponent(V)]=decodeURIComponent(ne)}}),Ve}function $r(Ye){const Ve=Ye.indexOf("?");if(!Ve)return"";const Se=Ye.indexOf("#",Ve);return Ye.substring(Ve,Se>0?Se:void 0)}class Pt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ve=1;Ve<this.blockSize;++Ve)this.pad_[Ve]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ve,Se){Se||(Se=0);const F=this.W_;if("string"==typeof Ve)for(let ue=0;ue<16;ue++)F[ue]=Ve.charCodeAt(Se)<<24|Ve.charCodeAt(Se+1)<<16|Ve.charCodeAt(Se+2)<<8|Ve.charCodeAt(Se+3),Se+=4;else for(let ue=0;ue<16;ue++)F[ue]=Ve[Se]<<24|Ve[Se+1]<<16|Ve[Se+2]<<8|Ve[Se+3],Se+=4;for(let ue=16;ue<80;ue++){const $e=F[ue-3]^F[ue-8]^F[ue-14]^F[ue-16];F[ue]=4294967295&($e<<1|$e>>>31)}let ve,De,V=this.chain_[0],ne=this.chain_[1],xe=this.chain_[2],tt=this.chain_[3],Nt=this.chain_[4];for(let ue=0;ue<80;ue++){ue<40?ue<20?(ve=tt^ne&(xe^tt),De=1518500249):(ve=ne^xe^tt,De=1859775393):ue<60?(ve=ne&xe|tt&(ne|xe),De=2400959708):(ve=ne^xe^tt,De=3395469782);const $e=(V<<5|V>>>27)+ve+Nt+De+F[ue]&4294967295;Nt=tt,tt=xe,xe=4294967295&(ne<<30|ne>>>2),ne=V,V=$e}this.chain_[0]=this.chain_[0]+V&4294967295,this.chain_[1]=this.chain_[1]+ne&4294967295,this.chain_[2]=this.chain_[2]+xe&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+Nt&4294967295}update(Ve,Se){if(null==Ve)return;void 0===Se&&(Se=Ve.length);const F=Se-this.blockSize;let V=0;const ne=this.buf_;let xe=this.inbuf_;for(;V<Se;){if(0===xe)for(;V<=F;)this.compress_(Ve,V),V+=this.blockSize;if("string"==typeof Ve){for(;V<Se;)if(ne[xe]=Ve.charCodeAt(V),++xe,++V,xe===this.blockSize){this.compress_(ne),xe=0;break}}else for(;V<Se;)if(ne[xe]=Ve[V],++xe,++V,xe===this.blockSize){this.compress_(ne),xe=0;break}}this.inbuf_=xe,this.total_+=Se}digest(){const Ve=[];let Se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let V=this.blockSize-1;V>=56;V--)this.buf_[V]=255&Se,Se/=256;this.compress_(this.buf_);let F=0;for(let V=0;V<5;V++)for(let ne=24;ne>=0;ne-=8)Ve[F]=this.chain_[V]>>ne&255,++F;return Ve}}function Ze(Ye,Ve){const Se=new Le(Ye,Ve);return Se.subscribe.bind(Se)}class Le{constructor(Ve,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{Ve(this)}).catch(F=>{this.error(F)})}next(Ve){this.forEachObserver(Se=>{Se.next(Ve)})}error(Ve){this.forEachObserver(Se=>{Se.error(Ve)}),this.close(Ve)}complete(){this.forEachObserver(Ve=>{Ve.complete()}),this.close()}subscribe(Ve,Se,F){let V;if(void 0===Ve&&void 0===Se&&void 0===F)throw new Error("Missing Observer.");V=function Ot(Ye,Ve){if("object"!=typeof Ye||null===Ye)return!1;for(const Se of Ve)if(Se in Ye&&"function"==typeof Ye[Se])return!0;return!1}(Ve,["next","error","complete"])?Ve:{next:Ve,error:Se,complete:F},void 0===V.next&&(V.next=Wt),void 0===V.error&&(V.error=Wt),void 0===V.complete&&(V.complete=Wt);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch{}}),this.observers.push(V),ne}unsubscribeOne(Ve){void 0===this.observers||void 0===this.observers[Ve]||(delete this.observers[Ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ve){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,Ve)}sendOne(Ve,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ve])try{Se(this.observers[Ve])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(Ve){this.finalized||(this.finalized=!0,void 0!==Ve&&(this.finalError=Ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wt(){}const In=function(Ye,Ve,Se,F){let V;if(F<Ve?V="at least "+Ve:F>Se&&(V=0===Se?"none":"no more than "+Se),V)throw new Error(Ye+" failed: Was called with "+F+(1===F?" argument.":" arguments.")+" Expects "+V+".")};function Zn(Ye,Ve){return`${Ye} failed: ${Ve} argument `}function fr(Ye,Ve,Se,F){if((!F||Se)&&"function"!=typeof Se)throw new Error(Zn(Ye,Ve)+"must be a valid function.")}function kn(Ye,Ve,Se,F){if((!F||Se)&&("object"!=typeof Se||null===Se))throw new Error(Zn(Ye,Ve)+"must be a valid context object.")}const Br=function(Ye){const Ve=[];let Se=0;for(let F=0;F<Ye.length;F++){let V=Ye.charCodeAt(F);if(V>=55296&&V<=56319){const ne=V-55296;F++,E(F<Ye.length,"Surrogate pair missing trail surrogate."),V=65536+(ne<<10)+(Ye.charCodeAt(F)-56320)}V<128?Ve[Se++]=V:V<2048?(Ve[Se++]=V>>6|192,Ve[Se++]=63&V|128):V<65536?(Ve[Se++]=V>>12|224,Ve[Se++]=V>>6&63|128,Ve[Se++]=63&V|128):(Ve[Se++]=V>>18|240,Ve[Se++]=V>>12&63|128,Ve[Se++]=V>>6&63|128,Ve[Se++]=63&V|128)}return Ve},er=function(Ye){let Ve=0;for(let Se=0;Se<Ye.length;Se++){const F=Ye.charCodeAt(Se);F<128?Ve++:F<2048?Ve+=2:F>=55296&&F<=56319?(Ve+=4,Se++):Ve+=3}return Ve};function Fn(Ye,Ve=1e3,Se=2){const F=Ve*Math.pow(Se,Ye),V=Math.round(.5*F*(Math.random()-.5)*2);return Math.min(144e5,F+V)}function vr(Ye){return Ye&&Ye._delegate?Ye._delegate:Ye}},5701:(nn,we,M)=>{"use strict";M.d(we,{R:()=>ce});var a=M(9245),B=M(4650);let ce=(()=>{class de{constructor(){}ngAfterViewInit(){a.replace()}}return de.\u0275fac=function(Ee){return new(Ee||de)},de.\u0275dir=B.lG2({type:de,selectors:[["","appFeatherIcon",""]]}),de})()},9628:(nn,we,M)=>{"use strict";M.d(we,{L:()=>B});var a=M(6895),E=M(4650);let B=(()=>{class ce{}return ce.\u0275fac=function(pe){return new(pe||ce)},ce.\u0275mod=E.oAB({type:ce}),ce.\u0275inj=E.cJS({imports:[a.ez]}),ce})()},3651:(nn,we,M)=>{"use strict";M.d(we,{e:()=>ae});var a=M(8277),pe=(M(2090),M(9681),M(1877),M(4859),M(4650)),Ee=M(3101),oe=M(3385),Ie=M(5892);let ae=(()=>{class le{constructor(Be,Me,Ne,ot){this.afs=Be,this.afAuth=Me,this.router=Ne,this.ngZone=ot,this.afAuth.authState.subscribe(qe=>{qe?(this.userData=qe,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(Be,Me){return this.afAuth.signInWithEmailAndPassword(Be,Me).then(Ne=>{this.SetUserData(Ne.user),this.afAuth.authState.subscribe(ot=>{ot&&this.router.navigate(["dashboard"])})}).catch(Ne=>{window.alert(Ne.message)})}SignUp(Be,Me){return this.afAuth.createUserWithEmailAndPassword(Be,Me).then(Ne=>{this.SendVerificationMail(),this.SetUserData(Ne.user)}).catch(Ne=>{window.alert(Ne.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(Be=>Be.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(Be){return this.afAuth.sendPasswordResetEmail(Be).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(Me=>{window.alert(Me)})}get isLoggedIn(){const Be=JSON.parse(localStorage.getItem("user"));return null!==Be&&!1!==Be.emailVerified}GoogleAuth(){return this.AuthLogin(new a.V).then(Be=>{this.router.navigate(["dashboard"]).then(Me=>this.router.navigate([this.router.url]))})}AuthLogin(Be){return this.afAuth.signInWithPopup(Be).then(Me=>{this.router.navigate(["dashboard"]),this.SetUserData(Me.user)}).catch(Me=>{window.alert(Me)})}SetUserData(Be){return this.afs.doc(`users/${Be.uid}`).set({uid:Be.uid,email:Be.email,displayName:Be.displayName,photoURL:Be.photoURL,emailVerified:Be.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/auth/login"])})}}return le.\u0275fac=function(Be){return new(Be||le)(pe.LFG(Ee.ST),pe.LFG(oe.zQ),pe.LFG(Ie.F0),pe.LFG(pe.R0b))},le.\u0275prov=pe.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})()},2340:(nn,we,M)=>{"use strict";M.d(we,{N:()=>a,q:()=>E});const a={production:!0,dataMiningAPI:"https://1b76-197-238-89-205.ngrok-free.app"},E={apiKey:"AIzaSyDnuXW5vDCg_YYrVLn3MVNtYKVyMceRaSE",authDomain:"activitylogmonitoring.firebaseapp.com",databaseURL:"https://activitylogmonitoring-default-rtdb.europe-west1.firebasedatabase.app",projectId:"activitylogmonitoring",storageBucket:"activitylogmonitoring.appspot.com",messagingSenderId:"779549261919",appId:"1:779549261919:web:d3f7d5055e04e615349bea",measurementId:"G-JC69GG4354"}},6972:(nn,we,M)=>{"use strict";var a=M(1481),E=M(4650),B=M(7340);function de(u){return new E.vHH(3e3,!1)}function Pn(){return typeof window<"u"&&typeof window.document<"u"}function xn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Tn(u){switch(u.length){case 0:return new B.ZN;case 1:return u[0];default:return new B.ZE(u)}}function Wn(u,r,s,d,_=new Map,T=new Map){const x=[],j=[];let ee=-1,he=null;if(d.forEach(je=>{const et=je.get("offset"),gt=et==ee,Gt=gt&&he||new Map;je.forEach((Yt,vn)=>{let ir=vn,Hr=Yt;if("offset"!==vn)switch(ir=r.normalizePropertyName(ir,x),Hr){case B.k1:Hr=_.get(vn);break;case B.l3:Hr=T.get(vn);break;default:Hr=r.normalizeStyleValue(vn,ir,Hr,x)}Gt.set(ir,Hr)}),gt||j.push(Gt),he=Gt,ee=et}),x.length)throw function At(u){return new E.vHH(3502,!1)}();return j}function lr(u,r,s,d){switch(r){case"start":u.onStart(()=>d(s&&Yn(s,"start",u)));break;case"done":u.onDone(()=>d(s&&Yn(s,"done",u)));break;case"destroy":u.onDestroy(()=>d(s&&Yn(s,"destroy",u)))}}function Yn(u,r,s){const T=Cr(u.element,u.triggerName,u.fromState,u.toState,r||u.phaseName,s.totalTime??u.totalTime,!!s.disabled),x=u._data;return null!=x&&(T._data=x),T}function Cr(u,r,s,d,_="",T=0,x){return{element:u,triggerName:r,fromState:s,toState:d,phaseName:_,totalTime:T,disabled:!!x}}function dr(u,r,s){let d=u.get(r);return d||u.set(r,d=s),d}function Gr(u){const r=u.indexOf(":");return[u.substring(1,r),u.slice(r+1)]}let Jn=(u,r)=>!1,tr=(u,r,s)=>[],Nr=null;function hn(u){const r=u.parentNode||u.host;return r===Nr?null:r}(xn()||typeof Element<"u")&&(Pn()?(Nr=(()=>document.documentElement)(),Jn=(u,r)=>{for(;r;){if(r===u)return!0;r=hn(r)}return!1}):Jn=(u,r)=>u.contains(r),tr=(u,r,s)=>{if(s)return Array.from(u.querySelectorAll(r));const d=u.querySelector(r);return d?[d]:[]});let gr=null,ci=!1;const Ze=Jn,Le=tr;let Ot=(()=>{class u{validateStyleProperty(s){return function xs(u){gr||(gr=function Pt(){return typeof document<"u"?document.body:null}()||{},ci=!!gr.style&&"WebkitAppearance"in gr.style);let r=!0;return gr.style&&!function hr(u){return"ebkit"==u.substring(1,6)}(u)&&(r=u in gr.style,!r&&ci&&(r="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in gr.style)),r}(s)}matchesElement(s,d){return!1}containsElement(s,d){return Ze(s,d)}getParentElement(s){return hn(s)}query(s,d,_){return Le(s,d,_)}computeStyle(s,d,_){return _||""}animate(s,d,_,T,x,j=[],ee){return new B.ZN(_,T)}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})(),Wt=(()=>{class u{}return u.NOOP=new Ot,u})();const fr="ng-enter",kn="ng-leave",Br="ng-trigger",er=".ng-trigger",Qn="ng-animating",Hn=".ng-animating";function en(u){if("number"==typeof u)return u;const r=u.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:Ht(parseFloat(r[1]),r[2])}function Ht(u,r){return"s"===r?1e3*u:u}function sn(u,r,s){return u.hasOwnProperty("duration")?u:function Fn(u,r,s){let _,T=0,x="";if("string"==typeof u){const j=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===j)return r.push(de()),{duration:0,delay:0,easing:""};_=Ht(parseFloat(j[1]),j[2]);const ee=j[3];null!=ee&&(T=Ht(parseFloat(ee),j[4]));const he=j[5];he&&(x=he)}else _=u;if(!s){let j=!1,ee=r.length;_<0&&(r.push(function pe(){return new E.vHH(3100,!1)}()),j=!0),T<0&&(r.push(function Ee(){return new E.vHH(3101,!1)}()),j=!0),j&&r.splice(ee,0,de())}return{duration:_,delay:T,easing:x}}(u,r,s)}function On(u,r={}){return Object.keys(u).forEach(s=>{r[s]=u[s]}),r}function sr(u){const r=new Map;return Object.keys(u).forEach(s=>{r.set(s,u[s])}),r}function Ve(u,r=new Map,s){if(s)for(let[d,_]of s)r.set(d,_);for(let[d,_]of u)r.set(d,_);return r}function Se(u,r,s){return s?r+":"+s+";":""}function F(u){let r="";for(let s=0;s<u.style.length;s++){const d=u.style.item(s);r+=Se(0,d,u.style.getPropertyValue(d))}for(const s in u.style)u.style.hasOwnProperty(s)&&!s.startsWith("_")&&(r+=Se(0,Zt(s),u.style[s]));u.setAttribute("style",r)}function V(u,r,s){u.style&&(r.forEach((d,_)=>{const T=rt(_);s&&!s.has(_)&&s.set(_,u.style[T]),u.style[T]=d}),xn()&&F(u))}function ne(u,r){u.style&&(r.forEach((s,d)=>{const _=rt(d);u.style[_]=""}),xn()&&F(u))}function xe(u){return Array.isArray(u)?1==u.length?u[0]:(0,B.vP)(u):u}const Nt=new RegExp("{{\\s*(.+?)\\s*}}","g");function ve(u){let r=[];if("string"==typeof u){let s;for(;s=Nt.exec(u);)r.push(s[1]);Nt.lastIndex=0}return r}function De(u,r,s){const d=u.toString(),_=d.replace(Nt,(T,x)=>{let j=r[x];return null==j&&(s.push(function Ie(u){return new E.vHH(3003,!1)}()),j=""),j.toString()});return _==d?u:_}function ue(u){const r=[];let s=u.next();for(;!s.done;)r.push(s.value),s=u.next();return r}const $e=/-+([a-z0-9])/g;function rt(u){return u.replace($e,(...r)=>r[1].toUpperCase())}function Zt(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cn(u,r,s){switch(r.type){case 7:return u.visitTrigger(r,s);case 0:return u.visitState(r,s);case 1:return u.visitTransition(r,s);case 2:return u.visitSequence(r,s);case 3:return u.visitGroup(r,s);case 4:return u.visitAnimate(r,s);case 5:return u.visitKeyframes(r,s);case 6:return u.visitStyle(r,s);case 8:return u.visitReference(r,s);case 9:return u.visitAnimateChild(r,s);case 10:return u.visitAnimateRef(r,s);case 11:return u.visitQuery(r,s);case 12:return u.visitStagger(r,s);default:throw function ae(u){return new E.vHH(3004,!1)}()}}function Sr(u,r){return window.getComputedStyle(u)[r]}function so(u,r){const s=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(d=>function Mi(u,r,s){if(":"==u[0]){const ee=function Ds(u,r){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(s,d)=>parseFloat(d)>parseFloat(s);case":decrement":return(s,d)=>parseFloat(d)<parseFloat(s);default:return r.push(function dt(u){return new E.vHH(3016,!1)}()),"* => *"}}(u,s);if("function"==typeof ee)return void r.push(ee);u=ee}const d=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return s.push(function Ct(u){return new E.vHH(3015,!1)}()),r;const _=d[1],T=d[2],x=d[3];r.push(No(_,x));"<"==T[0]&&!("*"==_&&"*"==x)&&r.push(No(x,_))}(d,s,r)):s.push(u),s}const Mr=new Set(["true","1"]),ja=new Set(["false","0"]);function No(u,r){const s=Mr.has(u)||ja.has(u),d=Mr.has(r)||ja.has(r);return(_,T)=>{let x="*"==u||u==_,j="*"==r||r==T;return!x&&s&&"boolean"==typeof _&&(x=_?Mr.has(u):ja.has(u)),!j&&d&&"boolean"==typeof T&&(j=T?Mr.has(r):ja.has(r)),x&&j}}const mo=new RegExp("s*:selfs*,?","g");function Ls(u,r,s,d){return new Us(u).build(r,s,d)}class Us{constructor(r){this._driver=r}build(r,s,d){const _=new gi(s);return this._resetContextStyleTimingState(_),Cn(this,xe(r),_)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,s){let d=s.queryCount=0,_=s.depCount=0;const T=[],x=[];return"@"==r.name.charAt(0)&&s.errors.push(function ye(){return new E.vHH(3006,!1)}()),r.definitions.forEach(j=>{if(this._resetContextStyleTimingState(s),0==j.type){const ee=j,he=ee.name;he.toString().split(/\s*,\s*/).forEach(je=>{ee.name=je,T.push(this.visitState(ee,s))}),ee.name=he}else if(1==j.type){const ee=this.visitTransition(j,s);d+=ee.queryCount,_+=ee.depCount,x.push(ee)}else s.errors.push(function Be(){return new E.vHH(3007,!1)}())}),{type:7,name:r.name,states:T,transitions:x,queryCount:d,depCount:_,options:null}}visitState(r,s){const d=this.visitStyle(r.styles,s),_=r.options&&r.options.params||null;if(d.containsDynamicStyles){const T=new Set,x=_||{};d.styles.forEach(j=>{j instanceof Map&&j.forEach(ee=>{ve(ee).forEach(he=>{x.hasOwnProperty(he)||T.add(he)})})}),T.size&&(ue(T.values()),s.errors.push(function Me(u,r){return new E.vHH(3008,!1)}()))}return{type:0,name:r.name,style:d,options:_?{params:_}:null}}visitTransition(r,s){s.queryCount=0,s.depCount=0;const d=Cn(this,xe(r.animation),s);return{type:1,matchers:so(r.expr,s.errors),animation:d,queryCount:s.queryCount,depCount:s.depCount,options:Bi(r.options)}}visitSequence(r,s){return{type:2,steps:r.steps.map(d=>Cn(this,d,s)),options:Bi(r.options)}}visitGroup(r,s){const d=s.currentTime;let _=0;const T=r.steps.map(x=>{s.currentTime=d;const j=Cn(this,x,s);return _=Math.max(_,s.currentTime),j});return s.currentTime=_,{type:3,steps:T,options:Bi(r.options)}}visitAnimate(r,s){const d=function oo(u,r){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return ga(sn(u,r).duration,0,"");const s=u;if(s.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=ga(0,0,"");return T.dynamic=!0,T.strValue=s,T}const _=sn(s,r);return ga(_.duration,_.delay,_.easing)}(r.timings,s.errors);s.currentAnimateTimings=d;let _,T=r.styles?r.styles:(0,B.oB)({});if(5==T.type)_=this.visitKeyframes(T,s);else{let x=r.styles,j=!1;if(!x){j=!0;const he={};d.easing&&(he.easing=d.easing),x=(0,B.oB)(he)}s.currentTime+=d.duration+d.delay;const ee=this.visitStyle(x,s);ee.isEmptyStep=j,_=ee}return s.currentAnimateTimings=null,{type:4,timings:d,style:_,options:null}}visitStyle(r,s){const d=this._makeStyleAst(r,s);return this._validateStyleAst(d,s),d}_makeStyleAst(r,s){const d=[],_=Array.isArray(r.styles)?r.styles:[r.styles];for(let j of _)"string"==typeof j?j===B.l3?d.push(j):s.errors.push(new E.vHH(3002,!1)):d.push(sr(j));let T=!1,x=null;return d.forEach(j=>{if(j instanceof Map&&(j.has("easing")&&(x=j.get("easing"),j.delete("easing")),!T))for(let ee of j.values())if(ee.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:d,easing:x,offset:r.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(r,s){const d=s.currentAnimateTimings;let _=s.currentTime,T=s.currentTime;d&&T>0&&(T-=d.duration+d.delay),r.styles.forEach(x=>{"string"!=typeof x&&x.forEach((j,ee)=>{const he=s.collectedStyles.get(s.currentQuerySelector),je=he.get(ee);let et=!0;je&&(T!=_&&T>=je.startTime&&_<=je.endTime&&(s.errors.push(function qe(u,r,s,d,_){return new E.vHH(3010,!1)}()),et=!1),T=je.startTime),et&&he.set(ee,{startTime:T,endTime:_}),s.options&&function tt(u,r,s){const d=r.params||{},_=ve(u);_.length&&_.forEach(T=>{d.hasOwnProperty(T)||s.push(function oe(u){return new E.vHH(3001,!1)}())})}(j,s.options,s.errors)})})}visitKeyframes(r,s){const d={type:5,styles:[],options:null};if(!s.currentAnimateTimings)return s.errors.push(function nt(){return new E.vHH(3011,!1)}()),d;let T=0;const x=[];let j=!1,ee=!1,he=0;const je=r.steps.map(Hr=>{const Ui=this._makeStyleAst(Hr,s);let vi=null!=Ui.offset?Ui.offset:function Ws(u){if("string"==typeof u)return null;let r=null;if(Array.isArray(u))u.forEach(s=>{if(s instanceof Map&&s.has("offset")){const d=s;r=parseFloat(d.get("offset")),d.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const s=u;r=parseFloat(s.get("offset")),s.delete("offset")}return r}(Ui.styles),bi=0;return null!=vi&&(T++,bi=Ui.offset=vi),ee=ee||bi<0||bi>1,j=j||bi<he,he=bi,x.push(bi),Ui});ee&&s.errors.push(function We(){return new E.vHH(3012,!1)}()),j&&s.errors.push(function Ft(){return new E.vHH(3200,!1)}());const et=r.steps.length;let gt=0;T>0&&T<et?s.errors.push(function it(){return new E.vHH(3202,!1)}()):0==T&&(gt=1/(et-1));const Gt=et-1,Yt=s.currentTime,vn=s.currentAnimateTimings,ir=vn.duration;return je.forEach((Hr,Ui)=>{const vi=gt>0?Ui==Gt?1:gt*Ui:x[Ui],bi=vi*ir;s.currentTime=Yt+vn.delay+bi,vn.duration=bi,this._validateStyleAst(Hr,s),Hr.offset=vi,d.styles.push(Hr)}),d}visitReference(r,s){return{type:8,animation:Cn(this,xe(r.animation),s),options:Bi(r.options)}}visitAnimateChild(r,s){return s.depCount++,{type:9,options:Bi(r.options)}}visitAnimateRef(r,s){return{type:10,animation:this.visitReference(r.animation,s),options:Bi(r.options)}}visitQuery(r,s){const d=s.currentQuerySelector,_=r.options||{};s.queryCount++,s.currentQuery=r;const[T,x]=function pi(u){const r=!!u.split(/\s*,\s*/).find(s=>":self"==s);return r&&(u=u.replace(mo,"")),u=u.replace(/@\*/g,er).replace(/@\w+/g,s=>er+"-"+s.slice(1)).replace(/:animating/g,Hn),[u,r]}(r.selector);s.currentQuerySelector=d.length?d+" "+T:T,dr(s.collectedStyles,s.currentQuerySelector,new Map);const j=Cn(this,xe(r.animation),s);return s.currentQuery=null,s.currentQuerySelector=d,{type:11,selector:T,limit:_.limit||0,optional:!!_.optional,includeSelf:x,animation:j,originalSelector:r.selector,options:Bi(r.options)}}visitStagger(r,s){s.currentQuery||s.errors.push(function Ke(){return new E.vHH(3013,!1)}());const d="full"===r.timings?{duration:0,delay:0,easing:"full"}:sn(r.timings,s.errors,!0);return{type:12,animation:Cn(this,xe(r.animation),s),timings:d,options:null}}}class gi{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bi(u){return u?(u=On(u)).params&&(u.params=function ta(u){return u?On(u):null}(u.params)):u={},u}function ga(u,r,s){return{duration:u,delay:r,easing:s}}function Zi(u,r,s,d,_,T,x=null,j=!1){return{type:1,element:u,keyframes:r,preStyleProps:s,postStyleProps:d,duration:_,delay:T,totalTime:_+T,easing:x,subTimeline:j}}class _o{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,s){let d=this._map.get(r);d||this._map.set(r,d=[]),d.push(...s)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const qi=new RegExp(":enter","g"),bs=new RegExp(":leave","g");function ht(u,r,s,d,_,T=new Map,x=new Map,j,ee,he=[]){return(new at).buildKeyframes(u,r,s,d,_,T,x,j,ee,he)}class at{buildKeyframes(r,s,d,_,T,x,j,ee,he,je=[]){he=he||new _o;const et=new Kt(r,s,he,_,T,je,[]);et.options=ee;const gt=ee.delay?en(ee.delay):0;et.currentTimeline.delayNextStep(gt),et.currentTimeline.setStyles([x],null,et.errors,ee),Cn(this,d,et);const Gt=et.timelines.filter(Yt=>Yt.containsAnimation());if(Gt.length&&j.size){let Yt;for(let vn=Gt.length-1;vn>=0;vn--){const ir=Gt[vn];if(ir.element===s){Yt=ir;break}}Yt&&!Yt.allowOnlyTimelineStyles()&&Yt.setStyles([j],null,et.errors,ee)}return Gt.length?Gt.map(Yt=>Yt.buildKeyframes()):[Zi(s,[],[],[],0,gt,"",!1)]}visitTrigger(r,s){}visitState(r,s){}visitTransition(r,s){}visitAnimateChild(r,s){const d=s.subInstructions.get(s.element);if(d){const _=s.createSubContext(r.options),T=s.currentTimeline.currentTime,x=this._visitSubInstructions(d,_,_.options);T!=x&&s.transformIntoNewTimeline(x)}s.previousNode=r}visitAnimateRef(r,s){const d=s.createSubContext(r.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],s,d),this.visitReference(r.animation,d),s.transformIntoNewTimeline(d.currentTimeline.currentTime),s.previousNode=r}_applyAnimationRefDelays(r,s,d){for(const T of r){const x=T?.delay;if(x){var _;const j="number"==typeof x?x:en(De(x,null!==(_=T?.params)&&void 0!==_?_:{},s.errors));d.delayNextStep(j)}}}_visitSubInstructions(r,s,d){let T=s.currentTimeline.currentTime;const x=null!=d.duration?en(d.duration):null,j=null!=d.delay?en(d.delay):null;return 0!==x&&r.forEach(ee=>{const he=s.appendInstructionToTimeline(ee,x,j);T=Math.max(T,he.duration+he.delay)}),T}visitReference(r,s){s.updateOptions(r.options,!0),Cn(this,r.animation,s),s.previousNode=r}visitSequence(r,s){const d=s.subContextCount;let _=s;const T=r.options;if(T&&(T.params||T.delay)&&(_=s.createSubContext(T),_.transformIntoNewTimeline(),null!=T.delay)){6==_.previousNode.type&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=yt);const x=en(T.delay);_.delayNextStep(x)}r.steps.length&&(r.steps.forEach(x=>Cn(this,x,_)),_.currentTimeline.applyStylesToKeyframe(),_.subContextCount>d&&_.transformIntoNewTimeline()),s.previousNode=r}visitGroup(r,s){const d=[];let _=s.currentTimeline.currentTime;const T=r.options&&r.options.delay?en(r.options.delay):0;r.steps.forEach(x=>{const j=s.createSubContext(r.options);T&&j.delayNextStep(T),Cn(this,x,j),_=Math.max(_,j.currentTimeline.currentTime),d.push(j.currentTimeline)}),d.forEach(x=>s.currentTimeline.mergeTimelineCollectedStyles(x)),s.transformIntoNewTimeline(_),s.previousNode=r}_visitTiming(r,s){if(r.dynamic){const d=r.strValue;return sn(s.params?De(d,s.params,s.errors):d,s.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,s){const d=s.currentAnimateTimings=this._visitTiming(r.timings,s),_=s.currentTimeline;d.delay&&(s.incrementTime(d.delay),_.snapshotCurrentStyles());const T=r.style;5==T.type?this.visitKeyframes(T,s):(s.incrementTime(d.duration),this.visitStyle(T,s),_.applyStylesToKeyframe()),s.currentAnimateTimings=null,s.previousNode=r}visitStyle(r,s){const d=s.currentTimeline,_=s.currentAnimateTimings;!_&&d.hasCurrentStyleProperties()&&d.forwardFrame();const T=_&&_.easing||r.easing;r.isEmptyStep?d.applyEmptyStep(T):d.setStyles(r.styles,T,s.errors,s.options),s.previousNode=r}visitKeyframes(r,s){const d=s.currentAnimateTimings,_=s.currentTimeline.duration,T=d.duration,j=s.createSubContext().currentTimeline;j.easing=d.easing,r.styles.forEach(ee=>{j.forwardTime((ee.offset||0)*T),j.setStyles(ee.styles,ee.easing,s.errors,s.options),j.applyStylesToKeyframe()}),s.currentTimeline.mergeTimelineCollectedStyles(j),s.transformIntoNewTimeline(_+T),s.previousNode=r}visitQuery(r,s){const d=s.currentTimeline.currentTime,_=r.options||{},T=_.delay?en(_.delay):0;T&&(6===s.previousNode.type||0==d&&s.currentTimeline.hasCurrentStyleProperties())&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=yt);let x=d;const j=s.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!_.optional,s.errors);s.currentQueryTotal=j.length;let ee=null;j.forEach((he,je)=>{s.currentQueryIndex=je;const et=s.createSubContext(r.options,he);T&&et.delayNextStep(T),he===s.element&&(ee=et.currentTimeline),Cn(this,r.animation,et),et.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,et.currentTimeline.currentTime)}),s.currentQueryIndex=0,s.currentQueryTotal=0,s.transformIntoNewTimeline(x),ee&&(s.currentTimeline.mergeTimelineCollectedStyles(ee),s.currentTimeline.snapshotCurrentStyles()),s.previousNode=r}visitStagger(r,s){const d=s.parentContext,_=s.currentTimeline,T=r.timings,x=Math.abs(T.duration),j=x*(s.currentQueryTotal-1);let ee=x*s.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":ee=j-ee;break;case"full":ee=d.currentStaggerTime}const je=s.currentTimeline;ee&&je.delayNextStep(ee);const et=je.currentTime;Cn(this,r.animation,s),s.previousNode=r,d.currentStaggerTime=_.currentTime-et+(_.startTime-d.currentTimeline.startTime)}}const yt={};class Kt{constructor(r,s,d,_,T,x,j,ee){this._driver=r,this.element=s,this.subInstructions=d,this._enterClassName=_,this._leaveClassName=T,this.errors=x,this.timelines=j,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ee||new rn(this._driver,s,0),j.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,s){if(!r)return;const d=r;let _=this.options;null!=d.duration&&(_.duration=en(d.duration)),null!=d.delay&&(_.delay=en(d.delay));const T=d.params;if(T){let x=_.params;x||(x=this.options.params={}),Object.keys(T).forEach(j=>{(!s||!x.hasOwnProperty(j))&&(x[j]=De(T[j],x,this.errors))})}}_copyOptions(){const r={};if(this.options){const s=this.options.params;if(s){const d=r.params={};Object.keys(s).forEach(_=>{d[_]=s[_]})}}return r}createSubContext(r=null,s,d){const _=s||this.element,T=new Kt(this._driver,_,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(_,d||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(r),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(r){return this.previousNode=yt,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,s,d){const _={duration:s??r.duration,delay:this.currentTimeline.currentTime+(d??0)+r.delay,easing:""},T=new Vn(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,_,r.stretchStartingKeyframe);return this.timelines.push(T),_}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,s,d,_,T,x){let j=[];if(_&&j.push(this.element),r.length>0){r=(r=r.replace(qi,"."+this._enterClassName)).replace(bs,"."+this._leaveClassName);let he=this._driver.query(this.element,r,1!=d);0!==d&&(he=d<0?he.slice(he.length+d,he.length):he.slice(0,d)),j.push(...he)}return!T&&0==j.length&&x.push(function Xe(u){return new E.vHH(3014,!1)}()),j}}class rn{constructor(r,s,d,_){this._driver=r,this.element=s,this.startTime=d,this._elementTimelineStylesLookup=_,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(s),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(s,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const s=1===this._keyframes.size&&this._pendingStyles.size;this.duration||s?(this.forwardTime(this.currentTime+r),s&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,s){return this.applyStylesToKeyframe(),new rn(this._driver,r,s||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,s){this._localTimelineStyles.set(r,s),this._globalTimelineStyles.set(r,s),this._styleSummary.set(r,{time:this.currentTime,value:s})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[s,d]of this._globalTimelineStyles)this._backFill.set(s,d||B.l3),this._currentKeyframe.set(s,B.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,s,d,_){s&&this._previousKeyframe.set("easing",s);const T=_&&_.params||{},x=function Xr(u,r){const s=new Map;let d;return u.forEach(_=>{if("*"===_){d=d||r.keys();for(let T of d)s.set(T,B.l3)}else Ve(_,s)}),s}(r,this._globalTimelineStyles);for(let[ee,he]of x){const je=De(he,T,d);var j;this._pendingStyles.set(ee,je),this._localTimelineStyles.has(ee)||this._backFill.set(ee,null!==(j=this._globalTimelineStyles.get(ee))&&void 0!==j?j:B.l3),this._updateStyle(ee,je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,s)=>{this._currentKeyframe.set(s,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,s)=>{this._currentKeyframe.has(s)||this._currentKeyframe.set(s,r)}))}snapshotCurrentStyles(){for(let[r,s]of this._localTimelineStyles)this._pendingStyles.set(r,s),this._updateStyle(r,s)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let s in this._currentKeyframe)r.push(s);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((s,d)=>{const _=this._styleSummary.get(d);(!_||s.time>_.time)&&this._updateStyle(d,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,s=new Set,d=1===this._keyframes.size&&0===this.duration;let _=[];this._keyframes.forEach((j,ee)=>{const he=Ve(j,new Map,this._backFill);he.forEach((je,et)=>{je===B.k1?r.add(et):je===B.l3&&s.add(et)}),d||he.set("offset",ee/this.duration),_.push(he)});const T=r.size?ue(r.values()):[],x=s.size?ue(s.values()):[];if(d){const j=_[0],ee=new Map(j);j.set("offset",0),ee.set("offset",1),_=[j,ee]}return Zi(this.element,_,T,x,this.duration,this.startTime,this.easing,!1)}}class Vn extends rn{constructor(r,s,d,_,T,x,j=!1){super(r,s,x.delay),this.keyframes=d,this.preStyleProps=_,this.postStyleProps=T,this._stretchStartingKeyframe=j,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:s,duration:d,easing:_}=this.timings;if(this._stretchStartingKeyframe&&s){const T=[],x=d+s,j=s/x,ee=Ve(r[0]);ee.set("offset",0),T.push(ee);const he=Ve(r[0]);he.set("offset",cr(j)),T.push(he);const je=r.length-1;for(let et=1;et<=je;et++){let gt=Ve(r[et]);const Gt=gt.get("offset");gt.set("offset",cr((s+Gt*d)/x)),T.push(gt)}d=x,s=0,_="",r=T}return Zi(this.element,r,this.preStyleProps,this.postStyleProps,d,s,_,!0)}}function cr(u,r=3){const s=Math.pow(10,r-1);return Math.round(u*s)/s}class Mo{}const Vs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vl extends Mo{normalizePropertyName(r,s){return rt(r)}normalizeStyleValue(r,s,d,_){let T="";const x=d.toString().trim();if(Vs.has(s)&&0!==d&&"0"!==d)if("number"==typeof d)T="px";else{const j=d.match(/^[+-]?[\d\.]+([a-z]*)$/);j&&0==j[1].length&&_.push(function le(u,r){return new E.vHH(3005,!1)}())}return x+T}}function ao(u,r,s,d,_,T,x,j,ee,he,je,et,gt){return{type:0,element:u,triggerName:r,isRemovalTransition:_,fromState:s,fromStyles:T,toState:d,toStyles:x,timelines:j,queriedElements:ee,preStyleProps:he,postStyleProps:je,totalTime:et,errors:gt}}const fs={};class Oa{constructor(r,s,d){this._triggerName=r,this.ast=s,this._stateStyles=d}match(r,s,d,_){return function is(u,r,s,d,_){return u.some(T=>T(r,s,d,_))}(this.ast.matchers,r,s,d,_)}buildStyles(r,s,d){let _=this._stateStyles.get("*");return void 0!==r&&(_=this._stateStyles.get(r?.toString())||_),_?_.buildStyles(s,d):new Map}build(r,s,d,_,T,x,j,ee,he,je){var et;const gt=[],Gt=this.ast.options&&this.ast.options.params||fs,vn=this.buildStyles(d,j&&j.params||fs,gt),ir=ee&&ee.params||fs,Hr=this.buildStyles(_,ir,gt),Ui=new Set,vi=new Map,bi=new Map,Mc="void"===_,Bl={params:ma(ir,Gt),delay:null===(et=this.ast.options)||void 0===et?void 0:et.delay},Ho=je?[]:ht(r,s,this.ast.animation,T,x,vn,Hr,Bl,he,gt);let tl=0;if(Ho.forEach(Jc=>{tl=Math.max(Jc.duration+Jc.delay,tl)}),gt.length)return ao(s,this._triggerName,d,_,Mc,vn,Hr,[],[],vi,bi,tl,gt);Ho.forEach(Jc=>{const wd=Jc.element,Hg=dr(vi,wd,new Set);Jc.preStyleProps.forEach(Kf=>Hg.add(Kf));const Rp=dr(bi,wd,new Set);Jc.postStyleProps.forEach(Kf=>Rp.add(Kf)),wd!==s&&Ui.add(wd)});const Xd=ue(Ui.values());return ao(s,this._triggerName,d,_,Mc,vn,Hr,Ho,Xd,vi,bi,tl)}}function ma(u,r){const s=On(r);for(const d in u)u.hasOwnProperty(d)&&null!=u[d]&&(s[d]=u[d]);return s}class Ra{constructor(r,s,d){this.styles=r,this.defaultParams=s,this.normalizer=d}buildStyles(r,s){const d=new Map,_=On(this.defaultParams);return Object.keys(r).forEach(T=>{const x=r[T];null!==x&&(_[T]=x)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((x,j)=>{x&&(x=De(x,_,s));const ee=this.normalizer.normalizePropertyName(j,s);x=this.normalizer.normalizeStyleValue(j,ee,x,s),d.set(ee,x)})}),d}}class Pa{constructor(r,s,d){this.name=r,this.ast=s,this._normalizer=d,this.transitionFactories=[],this.states=new Map,s.states.forEach(_=>{this.states.set(_.name,new Ra(_.style,_.options&&_.options.params||{},d))}),Ns(this.states,"true","1"),Ns(this.states,"false","0"),s.transitions.forEach(_=>{this.transitionFactories.push(new Oa(r,_,this.states))}),this.fallbackTransition=function _a(u,r,s){return new Oa(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,j)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,s,d,_){return this.transitionFactories.find(x=>x.match(r,s,d,_))||null}matchStyles(r,s,d){return this.fallbackTransition.buildStyles(r,s,d)}}function Ns(u,r,s){u.has(r)?u.has(s)||u.set(s,u.get(r)):u.has(s)&&u.set(r,u.get(s))}const ya=new _o;class rl{constructor(r,s,d){this.bodyNode=r,this._driver=s,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,s){const d=[],T=Ls(this._driver,s,d,[]);if(d.length)throw function ln(u){return new E.vHH(3503,!1)}();this._animations.set(r,T)}_buildPlayer(r,s,d){const _=r.element,T=Wn(0,this._normalizer,0,r.keyframes,s,d);return this._driver.animate(_,T,r.duration,r.delay,r.easing,[],!0)}create(r,s,d={}){const _=[],T=this._animations.get(r);let x;const j=new Map;if(T?(x=ht(this._driver,s,T,fr,kn,new Map,new Map,d,ya,_),x.forEach(je=>{const et=dr(j,je.element,new Map);je.postStyleProps.forEach(gt=>et.set(gt,null))})):(_.push(function Lt(){return new E.vHH(3300,!1)}()),x=[]),_.length)throw function pt(u){return new E.vHH(3504,!1)}();j.forEach((je,et)=>{je.forEach((gt,Gt)=>{je.set(Gt,this._driver.computeStyle(et,Gt,B.l3))})});const he=Tn(x.map(je=>{const et=j.get(je.element);return this._buildPlayer(je,new Map,et)}));return this._playersById.set(r,he),he.onDestroy(()=>this.destroy(r)),this.players.push(he),he}destroy(r){const s=this._getPlayer(r);s.destroy(),this._playersById.delete(r);const d=this.players.indexOf(s);d>=0&&this.players.splice(d,1)}_getPlayer(r){const s=this._playersById.get(r);if(!s)throw function bt(u){return new E.vHH(3301,!1)}();return s}listen(r,s,d,_){const T=Cr(s,"","","");return lr(this._getPlayer(r),d,T,_),()=>{}}command(r,s,d,_){if("register"==d)return void this.register(r,_[0]);if("create"==d)return void this.create(r,s,_[0]||{});const T=this._getPlayer(r);switch(d){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(_[0]));break;case"destroy":this.destroy(r)}}}const lo="ng-animate-queued",js="ng-animate-disabled",Ro=[],co={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ss="__ng_removed";class Ci{constructor(r,s=""){this.namespaceId=s;const d=r&&r.hasOwnProperty("value");if(this.value=function jl(u){return u??null}(d?r.value:r),d){const T=On(r);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const s=r.params;if(s){const d=this.options.params;Object.keys(s).forEach(_=>{null==d[_]&&(d[_]=s[_])})}}}const ws="void",Qi=new Ci(ws);class Po{constructor(r,s,d){this.id=r,this.hostElement=s,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,zn(s,this._hostClassName)}listen(r,s,d,_){if(!this._triggers.has(s))throw function It(u,r){return new E.vHH(3302,!1)}();if(null==d||0==d.length)throw function $t(u){return new E.vHH(3303,!1)}();if(!function Ms(u){return"start"==u||"done"==u}(d))throw function jt(u,r){return new E.vHH(3400,!1)}();const T=dr(this._elementListeners,r,[]),x={name:s,phase:d,callback:_};T.push(x);const j=dr(this._engine.statesByElement,r,new Map);return j.has(s)||(zn(r,Br),zn(r,Br+"-"+s),j.set(s,Qi)),()=>{this._engine.afterFlush(()=>{const ee=T.indexOf(x);ee>=0&&T.splice(ee,1),this._triggers.has(s)||j.delete(s)})}}register(r,s){return!this._triggers.has(r)&&(this._triggers.set(r,s),!0)}_getTrigger(r){const s=this._triggers.get(r);if(!s)throw function vt(u){return new E.vHH(3401,!1)}();return s}trigger(r,s,d,_=!0){const T=this._getTrigger(s),x=new Fo(this.id,s,r);let j=this._engine.statesByElement.get(r);j||(zn(r,Br),zn(r,Br+"-"+s),this._engine.statesByElement.set(r,j=new Map));let ee=j.get(s);const he=new Ci(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&ee&&he.absorbOptions(ee.options),j.set(s,he),ee||(ee=Qi),he.value!==ws&&ee.value===he.value){if(!function Uo(u,r){const s=Object.keys(u),d=Object.keys(r);if(s.length!=d.length)return!1;for(let _=0;_<s.length;_++){const T=s[_];if(!r.hasOwnProperty(T)||u[T]!==r[T])return!1}return!0}(ee.params,he.params)){const vn=[],ir=T.matchStyles(ee.value,ee.params,vn),Hr=T.matchStyles(he.value,he.params,vn);vn.length?this._engine.reportError(vn):this._engine.afterFlush(()=>{ne(r,ir),V(r,Hr)})}return}const gt=dr(this._engine.playersByElement,r,[]);gt.forEach(vn=>{vn.namespaceId==this.id&&vn.triggerName==s&&vn.queued&&vn.destroy()});let Gt=T.matchTransition(ee.value,he.value,r,he.params),Yt=!1;if(!Gt){if(!_)return;Gt=T.fallbackTransition,Yt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:s,transition:Gt,fromState:ee,toState:he,player:x,isFallbackTransition:Yt}),Yt||(zn(r,lo),x.onStart(()=>{Ks(r,lo)})),x.onDone(()=>{let vn=this.players.indexOf(x);vn>=0&&this.players.splice(vn,1);const ir=this._engine.playersByElement.get(r);if(ir){let Hr=ir.indexOf(x);Hr>=0&&ir.splice(Hr,1)}}),this.players.push(x),gt.push(x),x}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(s=>s.delete(r)),this._elementListeners.forEach((s,d)=>{this._elementListeners.set(d,s.filter(_=>_.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const s=this._engine.playersByElement.get(r);s&&(s.forEach(d=>d.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,s){const d=this._engine.driver.query(r,er,!0);d.forEach(_=>{if(_[ss])return;const T=this._engine.fetchNamespacesByElement(_);T.size?T.forEach(x=>x.triggerLeaveAnimation(_,s,!1,!0)):this.clearElementCache(_)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(_=>this.clearElementCache(_)))}triggerLeaveAnimation(r,s,d,_){const T=this._engine.statesByElement.get(r),x=new Map;if(T){const j=[];if(T.forEach((ee,he)=>{if(x.set(he,ee.value),this._triggers.has(he)){const je=this.trigger(r,he,ws,_);je&&j.push(je)}}),j.length)return this._engine.markElementAsRemoved(this.id,r,!0,s,x),d&&Tn(j).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const s=this._elementListeners.get(r),d=this._engine.statesByElement.get(r);if(s&&d){const _=new Set;s.forEach(T=>{const x=T.name;if(_.has(x))return;_.add(x);const ee=this._triggers.get(x).fallbackTransition,he=d.get(x)||Qi,je=new Ci(ws),et=new Fo(this.id,x,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:x,transition:ee,fromState:he,toState:je,player:et,isFallbackTransition:!0})})}}removeNode(r,s){const d=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,s),this.triggerLeaveAnimation(r,s,!0))return;let _=!1;if(d.totalAnimations){const T=d.players.length?d.playersByQueriedElement.get(r):[];if(T&&T.length)_=!0;else{let x=r;for(;x=x.parentNode;)if(d.statesByElement.get(x)){_=!0;break}}}if(this.prepareLeaveAnimationListeners(r),_)d.markElementAsRemoved(this.id,r,!1,s);else{const T=r[ss];(!T||T===co)&&(d.afterFlush(()=>this.clearElementCache(r)),d.destroyInnerAnimations(r),d._onRemovalComplete(r,s))}}insertNode(r,s){zn(r,this._hostClassName)}drainQueuedTransitions(r){const s=[];return this._queue.forEach(d=>{const _=d.player;if(_.destroyed)return;const T=d.element,x=this._elementListeners.get(T);x&&x.forEach(j=>{if(j.name==d.triggerName){const ee=Cr(T,d.triggerName,d.fromState.value,d.toState.value);ee._data=r,lr(d.player,j.phase,ee,j.callback)}}),_.markedForDestroy?this._engine.afterFlush(()=>{_.destroy()}):s.push(d)}),this._queue=[],s.sort((d,_)=>{const T=d.transition.ast.depCount,x=_.transition.ast.depCount;return 0==T||0==x?T-x:this._engine.driver.containsElement(d.element,_.element)?1:-1})}destroy(r){this.players.forEach(s=>s.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let s=!1;return this._elementListeners.has(r)&&(s=!0),s=!!this._queue.find(d=>d.element===r)||s,s}}class ko{constructor(r,s,d){this.bodyNode=r,this.driver=s,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(_,T)=>{}}_onRemovalComplete(r,s){this.onRemovalComplete(r,s)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(s=>{s.players.forEach(d=>{d.queued&&r.push(d)})}),r}createNamespace(r,s){const d=new Po(r,s,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,s)?this._balanceNamespaceList(d,s):(this.newHostElements.set(s,d),this.collectEnterElement(s)),this._namespaceLookup[r]=d}_balanceNamespaceList(r,s){const d=this._namespaceList,_=this.namespacesByHostElement;if(d.length-1>=0){let x=!1,j=this.driver.getParentElement(s);for(;j;){const ee=_.get(j);if(ee){const he=d.indexOf(ee);d.splice(he+1,0,r),x=!0;break}j=this.driver.getParentElement(j)}x||d.unshift(r)}else d.push(r);return _.set(s,r),r}register(r,s){let d=this._namespaceLookup[r];return d||(d=this.createNamespace(r,s)),d}registerTrigger(r,s,d){let _=this._namespaceLookup[r];_&&_.register(s,d)&&this.totalAnimations++}destroy(r,s){if(!r)return;const d=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[r];const _=this._namespaceList.indexOf(d);_>=0&&this._namespaceList.splice(_,1)}),this.afterFlushAnimationsDone(()=>d.destroy(s))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const s=new Set,d=this.statesByElement.get(r);if(d)for(let _ of d.values())if(_.namespaceId){const T=this._fetchNamespace(_.namespaceId);T&&s.add(T)}return s}trigger(r,s,d,_){if(bo(s)){const T=this._fetchNamespace(r);if(T)return T.trigger(s,d,_),!0}return!1}insertNode(r,s,d,_){if(!bo(s))return;const T=s[ss];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const x=this.collectedLeaveElements.indexOf(s);x>=0&&this.collectedLeaveElements.splice(x,1)}if(r){const x=this._fetchNamespace(r);x&&x.insertNode(s,d)}_&&this.collectEnterElement(s)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,s){s?this.disabledNodes.has(r)||(this.disabledNodes.add(r),zn(r,js)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Ks(r,js))}removeNode(r,s,d,_){if(bo(s)){const T=r?this._fetchNamespace(r):null;if(T?T.removeNode(s,_):this.markElementAsRemoved(r,s,!1,_),d){const x=this.namespacesByHostElement.get(s);x&&x.id!==r&&x.removeNode(s,_)}}else this._onRemovalComplete(s,_)}markElementAsRemoved(r,s,d,_,T){this.collectedLeaveElements.push(s),s[ss]={namespaceId:r,setForRemoval:_,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:T}}listen(r,s,d,_,T){return bo(s)?this._fetchNamespace(r).listen(s,d,_,T):()=>{}}_buildInstruction(r,s,d,_,T){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,d,_,r.fromState.options,r.toState.options,s,T)}destroyInnerAnimations(r){let s=this.driver.query(r,er,!0);s.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(s=this.driver.query(r,Hn,!0),s.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(r){const s=this.playersByElement.get(r);s&&s.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(r){const s=this.playersByQueriedElement.get(r);s&&s.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Tn(this.players).onDone(()=>r());r()})}processLeaveNode(r){var s;const d=r[ss];if(d&&d.setForRemoval){if(r[ss]=co,d.namespaceId){this.destroyInnerAnimations(r);const _=this._fetchNamespace(d.namespaceId);_&&_.clearElementCache(r)}this._onRemovalComplete(r,d.setForRemoval)}null!==(s=r.classList)&&void 0!==s&&s.contains(js)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(r=-1){let s=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,_)=>this._balanceNamespaceList(d,_)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)zn(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{s=this._flushAnimations(d,r)}finally{for(let _=0;_<d.length;_++)d[_]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],s.length?Tn(s).onDone(()=>{d.forEach(_=>_())}):d.forEach(_=>_())}}reportError(r){throw function yn(u){return new E.vHH(3402,!1)}()}_flushAnimations(r,s){const d=new _o,_=[],T=new Map,x=[],j=new Map,ee=new Map,he=new Map,je=new Set;this.disabledNodes.forEach(ur=>{je.add(ur);const Er=this.driver.query(ur,".ng-animate-queued",!0);for(let kr=0;kr<Er.length;kr++)je.add(Er[kr])});const et=this.bodyNode,gt=Array.from(this.statesByElement.keys()),Gt=Ji(gt,this.collectedEnterElements),Yt=new Map;let vn=0;Gt.forEach((ur,Er)=>{const kr=fr+vn++;Yt.set(Er,kr),ur.forEach(xi=>zn(xi,kr))});const ir=[],Hr=new Set,Ui=new Set;for(let ur=0;ur<this.collectedLeaveElements.length;ur++){const Er=this.collectedLeaveElements[ur],kr=Er[ss];kr&&kr.setForRemoval&&(ir.push(Er),Hr.add(Er),kr.hasAnimation?this.driver.query(Er,".ng-star-inserted",!0).forEach(xi=>Hr.add(xi)):Ui.add(Er))}const vi=new Map,bi=Ji(gt,Array.from(Hr));bi.forEach((ur,Er)=>{const kr=kn+vn++;vi.set(Er,kr),ur.forEach(xi=>zn(xi,kr))}),r.push(()=>{Gt.forEach((ur,Er)=>{const kr=Yt.get(Er);ur.forEach(xi=>Ks(xi,kr))}),bi.forEach((ur,Er)=>{const kr=vi.get(Er);ur.forEach(xi=>Ks(xi,kr))}),ir.forEach(ur=>{this.processLeaveNode(ur)})});const Mc=[],Bl=[];for(let ur=this._namespaceList.length-1;ur>=0;ur--)this._namespaceList[ur].drainQueuedTransitions(s).forEach(kr=>{const xi=kr.player,o=kr.element;if(Mc.push(xi),this.collectedEnterElements.length){const L=o[ss];if(L&&L.setForMove){if(L.previousTriggersValues&&L.previousTriggersValues.has(kr.triggerName)){const Q=L.previousTriggersValues.get(kr.triggerName),ie=this.statesByElement.get(kr.element);if(ie&&ie.has(kr.triggerName)){const Ce=ie.get(kr.triggerName);Ce.value=Q,ie.set(kr.triggerName,Ce)}}return void xi.destroy()}}const e=!et||!this.driver.containsElement(et,o),t=vi.get(o),l=Yt.get(o),p=this._buildInstruction(kr,d,l,t,e);if(p.errors&&p.errors.length)return void Bl.push(p);if(e)return xi.onStart(()=>ne(o,p.fromStyles)),xi.onDestroy(()=>V(o,p.toStyles)),void _.push(xi);if(kr.isFallbackTransition)return xi.onStart(()=>ne(o,p.fromStyles)),xi.onDestroy(()=>V(o,p.toStyles)),void _.push(xi);const v=[];p.timelines.forEach(L=>{L.stretchStartingKeyframe=!0,this.disabledNodes.has(L.element)||v.push(L)}),p.timelines=v,d.append(o,p.timelines),x.push({instruction:p,player:xi,element:o}),p.queriedElements.forEach(L=>dr(j,L,[]).push(xi)),p.preStyleProps.forEach((L,Q)=>{if(L.size){let ie=ee.get(Q);ie||ee.set(Q,ie=new Set),L.forEach((Ce,Je)=>ie.add(Je))}}),p.postStyleProps.forEach((L,Q)=>{let ie=he.get(Q);ie||he.set(Q,ie=new Set),L.forEach((Ce,Je)=>ie.add(Je))})});if(Bl.length){const ur=[];Bl.forEach(Er=>{ur.push(function Mn(u,r){return new E.vHH(3505,!1)}())}),Mc.forEach(Er=>Er.destroy()),this.reportError(ur)}const Ho=new Map,tl=new Map;x.forEach(ur=>{const Er=ur.element;d.has(Er)&&(tl.set(Er,Er),this._beforeAnimationBuild(ur.player.namespaceId,ur.instruction,Ho))}),_.forEach(ur=>{const Er=ur.element;this._getPreviousPlayers(Er,!1,ur.namespaceId,ur.triggerName,null).forEach(xi=>{dr(Ho,Er,[]).push(xi),xi.destroy()})});const Xd=ir.filter(ur=>uo(ur,ee,he)),Jc=new Map;ps(Jc,this.driver,Ui,he,B.l3).forEach(ur=>{uo(ur,ee,he)&&Xd.push(ur)});const Hg=new Map;Gt.forEach((ur,Er)=>{ps(Hg,this.driver,new Set(ur),ee,B.k1)}),Xd.forEach(ur=>{var Er,kr;const xi=Jc.get(ur),o=Hg.get(ur);Jc.set(ur,new Map([...Array.from(null!==(Er=xi?.entries())&&void 0!==Er?Er:[]),...Array.from(null!==(kr=o?.entries())&&void 0!==kr?kr:[])]))});const Rp=[],Kf=[],nv={};x.forEach(ur=>{const{element:Er,player:kr,instruction:xi}=ur;if(d.has(Er)){if(je.has(Er))return kr.onDestroy(()=>V(Er,xi.toStyles)),kr.disabled=!0,kr.overrideTotalTime(xi.totalTime),void _.push(kr);let o=nv;if(tl.size>1){let t=Er;const l=[];for(;t=t.parentNode;){const p=tl.get(t);if(p){o=p;break}l.push(t)}l.forEach(p=>tl.set(p,o))}const e=this._buildAnimation(kr.namespaceId,xi,Ho,T,Hg,Jc);if(kr.setRealPlayer(e),o===nv)Rp.push(kr);else{const t=this.playersByElement.get(o);t&&t.length&&(kr.parentPlayer=Tn(t)),_.push(kr)}}else ne(Er,xi.fromStyles),kr.onDestroy(()=>V(Er,xi.toStyles)),Kf.push(kr),je.has(Er)&&_.push(kr)}),Kf.forEach(ur=>{const Er=T.get(ur.element);if(Er&&Er.length){const kr=Tn(Er);ur.setRealPlayer(kr)}}),_.forEach(ur=>{ur.parentPlayer?ur.syncPlayerEvents(ur.parentPlayer):ur.destroy()});for(let ur=0;ur<ir.length;ur++){const Er=ir[ur],kr=Er[ss];if(Ks(Er,kn),kr&&kr.hasAnimation)continue;let xi=[];if(j.size){let e=j.get(Er);e&&e.length&&xi.push(...e);let t=this.driver.query(Er,Hn,!0);for(let l=0;l<t.length;l++){let p=j.get(t[l]);p&&p.length&&xi.push(...p)}}const o=xi.filter(e=>!e.destroyed);o.length?Lo(this,Er,o):this.processLeaveNode(Er)}return ir.length=0,Rp.forEach(ur=>{this.players.push(ur),ur.onDone(()=>{ur.destroy();const Er=this.players.indexOf(ur);this.players.splice(Er,1)}),ur.play()}),Rp}elementContainsData(r,s){let d=!1;const _=s[ss];return _&&_.setForRemoval&&(d=!0),this.playersByElement.has(s)&&(d=!0),this.playersByQueriedElement.has(s)&&(d=!0),this.statesByElement.has(s)&&(d=!0),this._fetchNamespace(r).elementContainsData(s)||d}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,s,d,_,T){let x=[];if(s){const j=this.playersByQueriedElement.get(r);j&&(x=j)}else{const j=this.playersByElement.get(r);if(j){const ee=!T||T==ws;j.forEach(he=>{he.queued||!ee&&he.triggerName!=_||x.push(he)})}}return(d||_)&&(x=x.filter(j=>!(d&&d!=j.namespaceId||_&&_!=j.triggerName))),x}_beforeAnimationBuild(r,s,d){const T=s.element,x=s.isRemovalTransition?void 0:r,j=s.isRemovalTransition?void 0:s.triggerName;for(const ee of s.timelines){const he=ee.element,je=he!==T,et=dr(d,he,[]);this._getPreviousPlayers(he,je,x,j,s.toState).forEach(Gt=>{const Yt=Gt.getRealPlayer();Yt.beforeDestroy&&Yt.beforeDestroy(),Gt.destroy(),et.push(Gt)})}ne(T,s.fromStyles)}_buildAnimation(r,s,d,_,T,x){const j=s.triggerName,ee=s.element,he=[],je=new Set,et=new Set,gt=s.timelines.map(Yt=>{const vn=Yt.element;je.add(vn);const ir=vn[ss];if(ir&&ir.removedBeforeQueried)return new B.ZN(Yt.duration,Yt.delay);const Hr=vn!==ee,Ui=function Hl(u){const r=[];return il(u,r),r}((d.get(vn)||Ro).map(Ho=>Ho.getRealPlayer())).filter(Ho=>!!Ho.element&&Ho.element===vn),vi=T.get(vn),bi=x.get(vn),Mc=Wn(0,this._normalizer,0,Yt.keyframes,vi,bi),Bl=this._buildPlayer(Yt,Mc,Ui);if(Yt.subTimeline&&_&&et.add(vn),Hr){const Ho=new Fo(r,j,vn);Ho.setRealPlayer(Bl),he.push(Ho)}return Bl});he.forEach(Yt=>{dr(this.playersByQueriedElement,Yt.element,[]).push(Yt),Yt.onDone(()=>function os(u,r,s){let d=u.get(r);if(d){if(d.length){const _=d.indexOf(s);d.splice(_,1)}0==d.length&&u.delete(r)}return d}(this.playersByQueriedElement,Yt.element,Yt))}),je.forEach(Yt=>zn(Yt,Qn));const Gt=Tn(gt);return Gt.onDestroy(()=>{je.forEach(Yt=>Ks(Yt,Qn)),V(ee,s.toStyles)}),et.forEach(Yt=>{dr(_,Yt,[]).push(Gt)}),Gt}_buildPlayer(r,s,d){return s.length>0?this.driver.animate(r.element,s,r.duration,r.delay,r.easing,d):new B.ZN(r.duration,r.delay)}}class Fo{constructor(r,s,d){this.namespaceId=r,this.triggerName=s,this.element=d,this._player=new B.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((s,d)=>{s.forEach(_=>lr(r,d,void 0,_))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const s=this._player;s.triggerCallback&&r.onStart(()=>s.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,s){dr(this._queuedCallbacks,r,[]).push(s)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const s=this._player;s.triggerCallback&&s.triggerCallback(r)}}function bo(u){return u&&1===u.nodeType}function ui(u,r){const s=u.style.display;return u.style.display=r??"none",s}function ps(u,r,s,d,_){const T=[];s.forEach(ee=>T.push(ui(ee)));const x=[];d.forEach((ee,he)=>{const je=new Map;ee.forEach(et=>{const gt=r.computeStyle(he,et,_);je.set(et,gt),(!gt||0==gt.length)&&(he[ss]=mi,x.push(he))}),u.set(he,je)});let j=0;return s.forEach(ee=>ui(ee,T[j++])),x}function Ji(u,r){const s=new Map;if(u.forEach(j=>s.set(j,[])),0==r.length)return s;const _=new Set(r),T=new Map;function x(j){if(!j)return 1;let ee=T.get(j);if(ee)return ee;const he=j.parentNode;return ee=s.has(he)?he:_.has(he)?1:x(he),T.set(j,ee),ee}return r.forEach(j=>{const ee=x(j);1!==ee&&s.get(ee).push(j)}),s}function zn(u,r){var s;null===(s=u.classList)||void 0===s||s.add(r)}function Ks(u,r){var s;null===(s=u.classList)||void 0===s||s.remove(r)}function Lo(u,r,s){Tn(s).onDone(()=>u.processLeaveNode(r))}function il(u,r){for(let s=0;s<u.length;s++){const d=u[s];d instanceof B.ZE?il(d.players,r):r.push(d)}}function uo(u,r,s){const d=s.get(u);if(!d)return!1;let _=r.get(u);return _?d.forEach(T=>_.add(T)):r.set(u,d),s.delete(u),!0}class va{constructor(r,s,d){this.bodyNode=r,this._driver=s,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(_,T)=>{},this._transitionEngine=new ko(r,s,d),this._timelineEngine=new rl(r,s,d),this._transitionEngine.onRemovalComplete=(_,T)=>this.onRemovalComplete(_,T)}registerTrigger(r,s,d,_,T){const x=r+"-"+_;let j=this._triggerCache[x];if(!j){const ee=[],je=Ls(this._driver,T,ee,[]);if(ee.length)throw function Qe(u,r){return new E.vHH(3404,!1)}();j=function yo(u,r,s){return new Pa(u,r,s)}(_,je,this._normalizer),this._triggerCache[x]=j}this._transitionEngine.registerTrigger(s,_,j)}register(r,s){this._transitionEngine.register(r,s)}destroy(r,s){this._transitionEngine.destroy(r,s)}onInsert(r,s,d,_){this._transitionEngine.insertNode(r,s,d,_)}onRemove(r,s,d,_){this._transitionEngine.removeNode(r,s,_||!1,d)}disableAnimations(r,s){this._transitionEngine.markElementAsDisabled(r,s)}process(r,s,d,_){if("@"==d.charAt(0)){const[T,x]=Gr(d);this._timelineEngine.command(T,s,x,_)}else this._transitionEngine.trigger(r,s,d,_)}listen(r,s,d,_,T){if("@"==d.charAt(0)){const[x,j]=Gr(d);return this._timelineEngine.listen(x,s,j,T)}return this._transitionEngine.listen(r,s,d,_,T)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Qt=(()=>{class u{constructor(s,d,_){this._element=s,this._startStyles=d,this._endStyles=_,this._state=0;let T=u.initialStylesByElement.get(s);T||u.initialStylesByElement.set(s,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&V(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(V(this._element,this._initialStyles),this._endStyles&&(V(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(ne(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ne(this._element,this._endStyles),this._endStyles=null),V(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function Dr(u){let r=null;return u.forEach((s,d)=>{(function ol(u){return"display"===u||"position"===u})(d)&&(r=r||new Map,r.set(d,s))}),r}class ra{constructor(r,s,d,_){this.element=r,this.keyframes=s,this.options=d,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const s=[];return r.forEach(d=>{s.push(Object.fromEntries(d))}),s}_triggerWebAnimation(r,s,d){return r.animate(this._convertKeyframesToObject(s),d)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,_)=>{"offset"!==_&&r.set(_,this._finished?d:Sr(this.element,_))}),this.currentSnapshot=r}triggerCallback(r){const s="start"===r?this._onStartFns:this._onDoneFns;s.forEach(d=>d()),s.length=0}}class Oi{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,s){return!1}containsElement(r,s){return Ze(r,s)}getParentElement(r){return hn(r)}query(r,s,d){return Le(r,s,d)}computeStyle(r,s,d){return window.getComputedStyle(r)[s]}animate(r,s,d,_,T,x=[]){const ee={duration:d,delay:_,fill:0==_?"both":"forwards"};T&&(ee.easing=T);const he=new Map,je=x.filter(Gt=>Gt instanceof ra);(function Un(u,r){return 0===u||0===r})(d,_)&&je.forEach(Gt=>{Gt.currentSnapshot.forEach((Yt,vn)=>he.set(vn,Yt))});let et=function vr(u){return u.length?u[0]instanceof Map?u:u.map(r=>sr(r)):[]}(s).map(Gt=>Ve(Gt));et=function qn(u,r,s){if(s.size&&r.length){let d=r[0],_=[];if(s.forEach((T,x)=>{d.has(x)||_.push(x),d.set(x,T)}),_.length)for(let T=1;T<r.length;T++){let x=r[T];_.forEach(j=>x.set(j,Sr(u,j)))}}return r}(r,et,he);const gt=function sl(u,r){let s=null,d=null;return Array.isArray(r)&&r.length?(s=Dr(r[0]),r.length>1&&(d=Dr(r[r.length-1]))):r instanceof Map&&(s=Dr(r)),s||d?new Qt(u,s,d):null}(r,et);return new ra(r,et,ee,gt)}}var Ys=M(6895);let Ha=(()=>{class u extends B._j{constructor(s,d){super(),this._nextAnimationId=0,this._renderer=s.createRenderer(d.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(s){const d=this._nextAnimationId.toString();this._nextAnimationId++;const _=Array.isArray(s)?(0,B.vP)(s):s;return ia(this._renderer,null,d,"register",[_]),new Zs(d,this._renderer)}}return u.\u0275fac=function(s){return new(s||u)(E.LFG(E.FYo),E.LFG(Ys.K0))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})();class Zs extends B.LC{constructor(r,s){super(),this._id=r,this._renderer=s}create(r,s){return new ba(this._id,r,s||{},this._renderer)}}class ba{constructor(r,s,d,_){this.id=r,this.element=s,this._renderer=_,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(r,s){return this._renderer.listen(this.element,`@@${this.id}:${r}`,s)}_command(r,...s){return ia(this._renderer,this.element,this.id,r,s)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,s;return null!==(r=null===(s=this._renderer.engine.players[+this.id])||void 0===s?void 0:s.getPosition())&&void 0!==r?r:0}}function ia(u,r,s,d,_){return u.setProperty(r,`@@${s}:${d}`,_)}const _i="@.disabled";let J=(()=>{class u{constructor(s,d,_){this.delegate=s,this.engine=d,this._zone=_,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(T,x)=>{const j=x?.parentNode(T);j&&x.removeChild(j,T)}}createRenderer(s,d){const T=this.delegate.createRenderer(s,d);if(!(s&&d&&d.data&&d.data.animation)){let je=this._rendererCache.get(T);return je||(je=new Y("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,je)),je}const x=d.id,j=d.id+"-"+this._currentId;this._currentId++,this.engine.register(j,s);const ee=je=>{Array.isArray(je)?je.forEach(ee):this.engine.registerTrigger(x,j,s,je.name,je)};return d.data.animation.forEach(ee),new H(this,j,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(s,d,_){s>=0&&s<this._microtaskId?this._zone.run(()=>d(_)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[x,j]=T;x(j)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,_]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(s){return new(s||u)(E.LFG(E.FYo),E.LFG(va),E.LFG(E.R0b))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})();class Y{constructor(r,s,d,_){this.namespaceId=r,this.delegate=s,this.engine=d,this._onDestroy=_,this.destroyNode=this.delegate.destroyNode?T=>s.destroyNode(T):null}get data(){return this.delegate.data}destroy(){var r;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(r=this._onDestroy)||void 0===r||r.call(this)}createElement(r,s){return this.delegate.createElement(r,s)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,s){this.delegate.appendChild(r,s),this.engine.onInsert(this.namespaceId,s,r,!1)}insertBefore(r,s,d,_=!0){this.delegate.insertBefore(r,s,d),this.engine.onInsert(this.namespaceId,s,r,_)}removeChild(r,s,d){this.engine.onRemove(this.namespaceId,s,this.delegate,d)}selectRootElement(r,s){return this.delegate.selectRootElement(r,s)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,s,d,_){this.delegate.setAttribute(r,s,d,_)}removeAttribute(r,s,d){this.delegate.removeAttribute(r,s,d)}addClass(r,s){this.delegate.addClass(r,s)}removeClass(r,s){this.delegate.removeClass(r,s)}setStyle(r,s,d,_){this.delegate.setStyle(r,s,d,_)}removeStyle(r,s,d){this.delegate.removeStyle(r,s,d)}setProperty(r,s,d){"@"==s.charAt(0)&&s==_i?this.disableAnimations(r,!!d):this.delegate.setProperty(r,s,d)}setValue(r,s){this.delegate.setValue(r,s)}listen(r,s,d){return this.delegate.listen(r,s,d)}disableAnimations(r,s){this.engine.disableAnimations(r,s)}}class H extends Y{constructor(r,s,d,_,T){super(s,d,_,T),this.factory=r,this.namespaceId=s}setProperty(r,s,d){"@"==s.charAt(0)?"."==s.charAt(1)&&s==_i?this.disableAnimations(r,d=void 0===d||!!d):this.engine.process(this.namespaceId,r,s.slice(1),d):this.delegate.setProperty(r,s,d)}listen(r,s,d){if("@"==s.charAt(0)){const _=function me(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(r);let T=s.slice(1),x="";return"@"!=T.charAt(0)&&([T,x]=function _t(u){const r=u.indexOf(".");return[u.substring(0,r),u.slice(r+1)]}(T)),this.engine.listen(this.namespaceId,_,T,x,j=>{this.factory.scheduleListenerCallback(j._data||-1,d,j)})}return this.delegate.listen(r,s,d)}}const wo=[{provide:B._j,useClass:Ha},{provide:Mo,useFactory:function Vr(){return new vl}},{provide:va,useClass:(()=>{class u extends va{constructor(s,d,_,T){super(s.body,d,_)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(s){return new(s||u)(E.LFG(Ys.K0),E.LFG(Wt),E.LFG(Mo),E.LFG(E.z2F))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:E.FYo,useFactory:function Wo(u,r,s){return new J(u,r,s)},deps:[a.se,va,E.R0b]}],Ko=[{provide:Wt,useFactory:()=>new Oi},{provide:E.QbO,useValue:"BrowserAnimations"},...wo],Bo=[{provide:Wt,useClass:Ot},{provide:E.QbO,useValue:"NoopAnimations"},...wo];let wa=(()=>{class u{static withConfig(s){return{ngModule:u,providers:s.disableAnimations?Bo:Ko}}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({providers:Ko,imports:[a.b2]}),u})();var Xi=M(5892),al=M(3651),oa=M(433),ho=M(3314);let oc=(()=>{class u{constructor(s,d,_,T){this.document=s,this.renderer=d,this.router=_,this.authService=T,this.user=JSON.parse(localStorage.getItem("user"))}ngOnInit(){}toggleSidebar(s){s.preventDefault(),this.document.body.classList.toggle("sidebar-open")}}return u.\u0275fac=function(s){return new(s||u)(E.Y36(Ys.K0),E.Y36(E.Qsj),E.Y36(Xi.F0),E.Y36(al.e))},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-navbar"]],decls:46,vars:4,consts:[[1,"navbar"],["href","",1,"sidebar-toggler",3,"click"],[1,"feather","icon-menu"],[1,"navbar-content"],[1,"search-form"],[1,"input-group"],[1,"input-group-text"],[1,"feather","icon-search"],["type","text","id","navbarForm","placeholder","Search here...",1,"form-control"],[1,"navbar-nav"],["ngbDropdown","",1,"nav-item"],["ngbDropdownToggle","","id","languageDropdown","role","button",1,"nav-link"],["src","assets/images/flags/us.svg","title","us","alt","us",1,"wd-20","me-1"],[1,"fw-bold","ms-1","me-1","d-none","d-md-inline-block"],["ngbDropdownMenu","","aria-labelledby","languageDropdown"],["ngbDropdownItem","",1,"py-2"],[1,"ms-1"],["ngbDropdownItem","","disabled","",1,"py-2"],["src","assets/images/flags/fr.svg","title","fr","alt","fr",1,"wd-20","me-1"],["src","assets/images/flags/de.svg","title","de","alt","de",1,"wd-20","me-1"],["ngbDropdown","",1,"nav-item","nav-profile"],["ngbDropdownToggle","","id","profileDropdown",1,"nav-link"],["alt","profile",1,"wd-30","ht-30","rounded-circle",3,"src"],["ngbDropdownMenu","","aria-labelledby","profileDropdown",1,"px-0"],[1,"d-flex","flex-column","align-items-center","border-bottom","px-5","py-3"],[1,"mb-3"],["alt","",1,"wd-80","ht-80","rounded-circle",3,"src"],[1,"text-center"],[1,"tx-16","fw-bolder"],[1,"tx-12","text-muted"],[1,"list-unstyled","p-1"],[1,"dropdown-item","py-2"],["href","",1,"d-flex","text-body","ms-0",3,"click"],[1,"feather","icon-log-out","me-2","icon-md"]],template:function(s,d){1&s&&(E.TgZ(0,"nav",0)(1,"a",1),E.NdJ("click",function(T){return d.toggleSidebar(T)}),E._UZ(2,"i",2),E.qZA(),E.TgZ(3,"div",3)(4,"form",4)(5,"div",5)(6,"div",6),E._UZ(7,"i",7),E.qZA(),E._UZ(8,"input",8),E.qZA()(),E.TgZ(9,"ul",9)(10,"li",10)(11,"a",11),E._UZ(12,"img",12),E.TgZ(13,"span",13),E._uU(14,"English"),E.qZA()(),E.TgZ(15,"div",14)(16,"a",15),E._UZ(17,"img",12),E.TgZ(18,"span",16),E._uU(19," English "),E.qZA()(),E.TgZ(20,"a",17),E._UZ(21,"img",18),E.TgZ(22,"span",16),E._uU(23," French "),E.qZA()(),E.TgZ(24,"a",17),E._UZ(25,"img",19),E.TgZ(26,"span",16),E._uU(27," German "),E.qZA()()()(),E.TgZ(28,"li",20)(29,"a",21),E._UZ(30,"img",22),E.qZA(),E.TgZ(31,"div",23)(32,"div",24)(33,"div",25),E._UZ(34,"img",26),E.qZA(),E.TgZ(35,"div",27)(36,"p",28),E._uU(37),E.qZA(),E.TgZ(38,"p",29),E._uU(39),E.qZA()()(),E.TgZ(40,"ul",30)(41,"li",31)(42,"a",32),E.NdJ("click",function(){return d.authService.SignOut()}),E._UZ(43,"i",33),E.TgZ(44,"span"),E._uU(45,"Log Out"),E.qZA()()()()()()()()()),2&s&&(E.xp6(30),E.Q6J("src",d.user.photoURL,E.LSH),E.xp6(4),E.Q6J("src",d.user.photoURL,E.LSH),E.xp6(3),E.Oqu(d.user.displayName),E.xp6(2),E.Oqu(d.user.email))},dependencies:[oa._Y,oa.JL,oa.F,ho.jt,ho.iD,ho.Vi,ho.TH,ho.M2]}),u})();const wl={parentTrigger:"li",subMenu:"ul",toggle:!0,triggerElement:"a"},aa={ACTIVE:"mm-active",COLLAPSE:"mm-collapse",COLLAPSED:"mm-collapsed",COLLAPSING:"mm-collapsing",METIS:"metismenu",SHOW:"mm-show"};class la{constructor(r,s){this.element=la.isElement(r)?r:document.querySelector(r),this.config=Object.assign(Object.assign({},wl),s),this.disposed=!1,this.triggerArr=[],this.boundEventHandler=this.clickEvent.bind(this),this.init()}static attach(r,s){return new la(r,s)}init(){const{METIS:r,ACTIVE:s,COLLAPSE:d}=aa;this.element.classList.add(r);const _=[...this.element.querySelectorAll(this.config.subMenu)];0!==_.length&&_.forEach(T=>{T.classList.add(d);const x=T.closest(this.config.parentTrigger);x?.classList.contains(s)?this.show(T):this.hide(T);const j=x?.querySelector(this.config.triggerElement);"true"!==j?.getAttribute("aria-disabled")&&(j?.setAttribute("aria-expanded","false"),j?.addEventListener("click",this.boundEventHandler),this.triggerArr.push(j))})}clickEvent(r){if(!this.disposed){const s=r?.currentTarget;s&&"A"===s.tagName&&r.preventDefault();const _=s.closest(this.config.parentTrigger)?.querySelector(this.config.subMenu);this.toggle(_)}}update(){this.disposed=!1,this.init()}dispose(){this.triggerArr.forEach(r=>{r.removeEventListener("click",this.boundEventHandler)}),this.disposed=!0}on(r,s,d){return this.element.addEventListener(r,s,d),this}off(r,s,d){return this.element.removeEventListener(r,s,d),this}emit(r,s,d=!1){const _=new CustomEvent(r,{bubbles:d,detail:s});this.element.dispatchEvent(_)}toggle(r){r.closest(this.config.parentTrigger)?.classList.contains(aa.ACTIVE)?this.hide(r):this.show(r)}show(r){var s;const d=r,{ACTIVE:_,COLLAPSE:T,COLLAPSED:x,COLLAPSING:j,SHOW:ee}=aa;if(this.isTransitioning||d.classList.contains(j))return;const he=()=>{d.classList.remove(j),d.style.height="",d.removeEventListener("transitionend",he),this.setTransitioning(!1),this.emit("shown.metisMenu",{shownElement:d})},je=d.closest(this.config.parentTrigger);je?.classList.add(_);const et=je?.querySelector(this.config.triggerElement);et?.setAttribute("aria-expanded","true"),et?.classList.remove(x),d.style.height="0px",d.classList.remove(T),d.classList.remove(ee),d.classList.add(j);const gt=[].slice.call(null===(s=je?.parentNode)||void 0===s?void 0:s.children).filter(Gt=>Gt!==je);this.config.toggle&&gt.length>0&&gt.forEach(Gt=>{const Yt=Gt.querySelector(this.config.subMenu);Yt&&this.hide(Yt)}),this.setTransitioning(!0),d.classList.add(T),d.classList.add(ee),d.style.height=`${d.scrollHeight}px`,this.emit("show.metisMenu",{showElement:d}),d.addEventListener("transitionend",he)}hide(r){const{ACTIVE:s,COLLAPSE:d,COLLAPSED:_,COLLAPSING:T,SHOW:x}=aa,j=r;if(this.isTransitioning||!j.classList.contains(x))return;this.emit("hide.metisMenu",{hideElement:j});const ee=j.closest(this.config.parentTrigger);ee?.classList.remove(s);const he=()=>{j.classList.remove(T),j.classList.add(d),j.style.height="",j.removeEventListener("transitionend",he),this.setTransitioning(!1),this.emit("hidden.metisMenu",{hiddenElement:j})};j.style.height=`${j.getBoundingClientRect().height}px`,j.style.height=`${j.offsetHeight}px`,j.classList.add(T),j.classList.remove(d),j.classList.remove(x),this.setTransitioning(!0),j.addEventListener("transitionend",he),j.style.height="0px";const je=ee?.querySelector(this.config.triggerElement);je?.setAttribute("aria-expanded","false"),je?.classList.add(_)}setTransitioning(r){this.isTransitioning=r}static isElement(r){return Boolean(r.classList)}}const ll=[{label:"Main",isTitle:!0},{label:"Dashboard",icon:"home",subItems:[{label:"Jobs Analysis Dashboard",link:"/dashboard"},{label:"Logs Analysis Dashboard",link:"/dashboard/logs"}]},{label:"Analysis & Prediction",icon:"pie-chart",subItems:[{label:"Duration & Cluster Prediction",link:"/charts-graphs/PredictiveModels"},{label:"SentimentalAnalysis",link:"/charts-graphs/SentimentalAnalysis"}]}];var $a=M(4841),qs=M(5701);const Hs=["sidebarToggler"],$i=["sidebarMenu"];function Gl(u,r){if(1&u&&(E.TgZ(0,"li",11),E._uU(1),E.qZA()),2&u){const s=E.oxw().$implicit;E.xp6(1),E.Oqu(s.label)}}function ac(u,r){if(1&u&&E._UZ(0,"i",20),2&u){const s=E.oxw(3).$implicit;E.uIk("data-feather",s.icon)}}function lc(u,r){if(1&u&&(E.TgZ(0,"a",16),E.YNc(1,ac,1,1,"i",17),E.TgZ(2,"span",18),E._uU(3),E.qZA(),E._UZ(4,"span",19),E.qZA()),2&u){const s=E.oxw(2).$implicit;E.xp6(1),E.Q6J("ngIf",s.icon),E.xp6(2),E.hij(" ",s.label,"")}}function Oc(u,r){if(1&u&&E._UZ(0,"i",20),2&u){const s=E.oxw(3).$implicit;E.uIk("data-feather",s.icon)}}function $l(u,r){if(1&u&&(E.TgZ(0,"span"),E._uU(1),E.qZA()),2&u){const s=E.oxw(3).$implicit;E.Gre("badge bg-",s.badge.variant,""),E.xp6(1),E.Oqu(s.badge.text)}}function cc(u,r){if(1&u&&(E.TgZ(0,"a",21),E.YNc(1,Oc,1,1,"i",17),E.TgZ(2,"span",18),E._uU(3),E.qZA(),E.YNc(4,$l,2,4,"span",22),E.qZA()),2&u){const s=E.oxw(2).$implicit;E.Q6J("routerLink",s.link),E.uIk("data-parent",s.parentId),E.xp6(1),E.Q6J("ngIf",s.icon),E.xp6(2),E.hij(" ",s.label,""),E.xp6(1),E.Q6J("ngIf",s.badge)}}function zl(u,r){if(1&u&&E._UZ(0,"i",20),2&u){const s=E.oxw(2).$implicit;E.uIk("data-feather",s.icon)}}function Yo(u,r){if(1&u&&(E.TgZ(0,"a",28),E.YNc(1,zl,1,1,"i",17),E.TgZ(2,"span",18),E._uU(3),E.qZA(),E._UZ(4,"span",19),E.qZA()),2&u){const s=E.oxw().$implicit;E.xp6(1),E.Q6J("ngIf",s.icon),E.xp6(2),E.hij(" ",s.label,"")}}function El(u,r){if(1&u&&E._UZ(0,"i",20),2&u){const s=E.oxw(2).$implicit;E.uIk("data-feather",s.icon)}}function eu(u,r){if(1&u&&(E.TgZ(0,"a",21),E.YNc(1,El,1,1,"i",17),E._uU(2),E.qZA()),2&u){const s=E.oxw().$implicit;E.Q6J("routerLink",s.link),E.uIk("data-parent",s.parentId),E.xp6(1),E.Q6J("ngIf",s.icon),E.xp6(1),E.hij(" ",s.label," ")}}function Wl(u,r){if(1&u&&E._UZ(0,"i",20),2&u){const s=E.oxw(3).$implicit;E.uIk("data-feather",s.icon)}}const Du=function(){return["active"]};function Zo(u,r){if(1&u&&(E.TgZ(0,"li",12)(1,"a",31),E.YNc(2,Wl,1,1,"i",17),E._uU(3),E.qZA()()),2&u){const s=r.$implicit,d=E.oxw(2).$implicit;E.xp6(1),E.Q6J("routerLink",s.link)("routerLinkActive",E.DdM(5,Du)),E.uIk("data-parent",s.parentId),E.xp6(1),E.Q6J("ngIf",d.icon),E.xp6(1),E.hij(" ",s.label," ")}}function Qs(u,r){if(1&u&&(E.TgZ(0,"ul",29),E.YNc(1,Zo,4,6,"li",30),E.qZA()),2&u){const s=E.oxw().$implicit;E.xp6(1),E.Q6J("ngForOf",s.subItems)}}const Tl=function(u){return{"side-nav-item":u}};function Kl(u,r){if(1&u&&(E.TgZ(0,"li",25),E.YNc(1,Yo,5,2,"a",26),E.YNc(2,eu,3,4,"a",14),E.YNc(3,Qs,2,1,"ul",27),E.qZA()),2&u){const s=r.$implicit,d=E.oxw(4);E.Q6J("ngClass",E.VKq(4,Tl,d.hasItems(s))),E.xp6(1),E.Q6J("ngIf",d.hasItems(s)),E.xp6(1),E.Q6J("ngIf",!d.hasItems(s)),E.xp6(1),E.Q6J("ngIf",d.hasItems(s))}}function Si(u,r){if(1&u&&(E.TgZ(0,"ul",23),E.YNc(1,Kl,4,6,"li",24),E.qZA()),2&u){const s=E.oxw(2).$implicit;E.xp6(1),E.Q6J("ngForOf",s.subItems)}}function Rc(u,r){if(1&u&&(E.TgZ(0,"li",12),E.YNc(1,lc,5,2,"a",13),E.YNc(2,cc,5,5,"a",14),E.YNc(3,Si,2,1,"ul",15),E.qZA()),2&u){const s=E.oxw().$implicit,d=E.oxw();E.xp6(1),E.Q6J("ngIf",d.hasItems(s)),E.xp6(1),E.Q6J("ngIf",!d.hasItems(s)),E.xp6(1),E.Q6J("ngIf",d.hasItems(s))}}function Eo(u,r){if(1&u&&(E.ynx(0),E.YNc(1,Gl,2,1,"li",9),E.YNc(2,Rc,4,3,"li",10),E.BQk()),2&u){const s=r.$implicit;E.xp6(1),E.Q6J("ngIf",s.isTitle),E.xp6(1),E.Q6J("ngIf",!s.isTitle)}}let $=(()=>{class u{constructor(s,d,_){this.document=s,this.renderer=d,this.menuItems=[],_.events.forEach(T=>{T instanceof Xi.m2&&(this._activateMenuDropdown(),window.matchMedia("(max-width: 991px)").matches&&this.document.body.classList.remove("sidebar-open"))})}ngOnInit(){this.menuItems=ll;const s=window.matchMedia("(min-width:992px) and (max-width: 1199px)");s.addEventListener("change",()=>{}),this.iconSidebar(s)}ngAfterViewInit(){new la(this.sidebarMenu.nativeElement),this._activateMenuDropdown()}toggleSidebar(s){this.sidebarToggler.nativeElement.classList.toggle("active"),this.sidebarToggler.nativeElement.classList.toggle("not-active"),window.matchMedia("(min-width: 992px)").matches?(s.preventDefault(),this.document.body.classList.toggle("sidebar-folded")):window.matchMedia("(max-width: 991px)").matches&&(s.preventDefault(),this.document.body.classList.toggle("sidebar-open"))}operSidebarFolded(){this.document.body.classList.contains("sidebar-folded")&&this.document.body.classList.add("open-sidebar-folded")}closeSidebarFolded(){this.document.body.classList.contains("sidebar-folded")&&this.document.body.classList.remove("open-sidebar-folded")}iconSidebar(s){s.matches?this.document.body.classList.add("sidebar-folded"):this.document.body.classList.remove("sidebar-folded")}hasItems(s){return void 0!==s.subItems&&s.subItems.length>0}_activateMenuDropdown(){this.resetMenuItems(),this.activateMenuItems()}resetMenuItems(){const s=document.getElementsByClassName("nav-link-ref");for(let d=0;d<s.length;d++){const _=s[d];_.classList.remove("mm-active");const T=_.parentElement;if(T){T.classList.remove("mm-active");const x=T.parentElement;x&&x.classList.remove("mm-show");const j=x?.parentElement;if(j){if(j.classList.remove("mm-active"),j.classList.contains("side-nav-item")){const he=j.querySelector(".side-nav-link-a-ref");he&&he.classList.remove("mm-active")}const ee=j.parentElement;if(ee){ee.classList.remove("mm-show");const he=ee.parentElement;he&&he.classList.remove("mm-active")}}}}}activateMenuItems(){const s=document.getElementsByClassName("nav-link-ref");let d=null;for(let _=0;_<s.length;_++)if(window.location.pathname===s[_].pathname){d=s[_];break}if(d){d.classList.add("mm-active");const _=d.parentElement;if(_){_.classList.add("mm-active");const T=_.parentElement;T&&T.classList.add("mm-show");const x=T.parentElement;if(x){if(x.classList.add("mm-active"),x.classList.contains("side-nav-item")){const ee=x.querySelector(".side-nav-link-a-ref");ee&&ee.classList.add("mm-active")}const j=x.parentElement;if(j){j.classList.add("mm-show");const ee=j.parentElement;ee&&ee.classList.add("mm-active")}}}}}}return u.\u0275fac=function(s){return new(s||u)(E.Y36(Ys.K0),E.Y36(E.Qsj),E.Y36(Xi.F0))},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-sidebar"]],viewQuery:function(s,d){if(1&s&&(E.Gf(Hs,5),E.Gf($i,5)),2&s){let _;E.iGM(_=E.CRH())&&(d.sidebarToggler=_.first),E.iGM(_=E.CRH())&&(d.sidebarMenu=_.first)}},decls:15,vars:1,consts:[[1,"sidebar"],[1,"sidebar-header"],["routerLink","/",1,"sidebar-brand","nobleui-logo","logo-light"],[1,"sidebar-toggler","not-active",3,"click"],["sidebarToggler",""],[1,"sidebar-body",3,"perfectScrollbar","mouseenter","mouseleave"],["id","sidebar-menu",1,"sidebar-nav","metismenu"],["sidebarMenu",""],[4,"ngFor","ngForOf"],["class","nav-item nav-category",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item","nav-category"],[1,"nav-item"],["class","nav-link","href","javascript:void(0);",4,"ngIf"],["class","nav-link nav-link-ref",3,"routerLink",4,"ngIf"],["class","sidebar-nav sub-menu nav-second-level","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"nav-link"],["class","link-icon","appFeatherIcon","",4,"ngIf"],[1,"link-title"],["data-feather","chevron-down","appFeatherIcon","",1,"link-arrow"],["appFeatherIcon","",1,"link-icon"],[1,"nav-link","nav-link-ref",3,"routerLink"],[3,"class",4,"ngIf"],["aria-expanded","false",1,"sidebar-nav","sub-menu","nav-second-level"],["class","nav-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"nav-item",3,"ngClass"],["class","nav-link side-nav-link-a-ref","href","javascript:void(0);",4,"ngIf"],["class","sidebar-nav sub-menu nav-third-level","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"nav-link","side-nav-link-a-ref"],["aria-expanded","false",1,"sidebar-nav","sub-menu","nav-third-level"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-link","nav-link-ref",3,"routerLink","routerLinkActive"]],template:function(s,d){1&s&&(E.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span"),E._uU(4,"Log"),E.qZA(),E._uU(5,"Insight "),E.qZA(),E.TgZ(6,"div",3,4),E.NdJ("click",function(T){return d.toggleSidebar(T)}),E._UZ(8,"span")(9,"span")(10,"span"),E.qZA()(),E.TgZ(11,"div",5),E.NdJ("mouseenter",function(){return d.operSidebarFolded()})("mouseleave",function(){return d.closeSidebarFolded()}),E.TgZ(12,"ul",6,7),E.YNc(14,Eo,3,2,"ng-container",8),E.qZA()()()),2&s&&(E.xp6(14),E.Q6J("ngForOf",d.menuItems))},dependencies:[Ys.mk,Ys.sg,Ys.O5,Xi.yS,Xi.Od,$a.$V,qs.R]}),u})(),re=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-footer"]],decls:9,vars:0,consts:[[1,"footer","d-flex","flex-column","flex-md-row","align-items-center","justify-content-between","px-4","py-3","border-top","small"],[1,"text-muted","mb-1","mb-md-0"],["href","https://www.nobleui.com","target","_blank"],[1,"text-muted"],[1,"feather","icon-heart","mb-1","text-primary","ms-1","icon-sm"]],template:function(s,d){1&s&&(E.TgZ(0,"footer",0)(1,"p",1),E._uU(2,"Copyright \xa9 2022 "),E.TgZ(3,"a",2),E._uU(4,"LogInsight"),E.qZA(),E._uU(5,"."),E.qZA(),E.TgZ(6,"p",3),E._uU(7,"Handcrafted With "),E._UZ(8,"i",4),E.qZA()())}}),u})(),W=(()=>{class u{constructor(s,d,_){this.el=s,this.router=d,this.animationBuilder=_}ngOnInit(){this.initAnimate(),this.events=this.router.events.subscribe(s=>{s instanceof Xi.m2&&this.player.play()})}ngOnDestroy(){this.events.unsubscribe(),this.player.destroy()}initAnimate(){this.player=this.animationBuilder.build([(0,B.oB)({opacity:0,transform:"translateY(15px)"}),(0,B.jt)(500,(0,B.oB)({opacity:1,transform:"translateY(0)"})),(0,B.oB)({transform:"none"})]).create(this.el.nativeElement)}}return u.\u0275fac=function(s){return new(s||u)(E.Y36(E.SBq),E.Y36(Xi.F0),E.Y36(B._j))},u.\u0275dir=E.lG2({type:u,selectors:[["","contentAnimate",""]]}),u})();function ge(u,r){1&u&&(E.TgZ(0,"div",5)(1,"div",6),E._uU(2,"Loading..."),E.qZA()())}function ze(u,r){1&u&&(E.TgZ(0,"div",7),E._UZ(1,"router-outlet"),E.qZA())}let Dt=(()=>{class u{constructor(s){this.router=s,s.events.forEach(d=>{d instanceof Xi.xV?this.isLoading=!0:d instanceof Xi.GH&&(this.isLoading=!1)})}ngOnInit(){}}return u.\u0275fac=function(s){return new(s||u)(E.Y36(Xi.F0))},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-base"]],decls:8,vars:2,consts:[[1,"main-wrapper"],[1,"page-wrapper"],[1,"page-content"],["class","spinner-wrapper",4,"ngIf"],["contentAnimate","",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],["contentAnimate",""]],template:function(s,d){1&s&&(E.TgZ(0,"div",0),E._UZ(1,"app-sidebar"),E.TgZ(2,"div",1),E._UZ(3,"app-navbar"),E.TgZ(4,"div",2),E.YNc(5,ge,3,0,"div",3),E.YNc(6,ze,2,0,"div",4),E.qZA(),E._UZ(7,"app-footer"),E.qZA()()),2&s&&(E.xp6(5),E.Q6J("ngIf",d.isLoading),E.xp6(1),E.Q6J("ngIf",!d.isLoading))},dependencies:[Ys.O5,Xi.lC,oc,$,re,W]}),u})(),Mt=(()=>{class u{constructor(s,d){this.router=s,this.authService=d}canActivate(s,d){return this.authService.isLoggedIn||this.router.navigate(["/auth/login"],{queryParams:{returnUrl:d.url}}),!0}}return u.\u0275fac=function(s){return new(s||u)(E.LFG(Xi.F0),E.LFG(al.e))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})(),pn=(()=>{class u{constructor(s){this.route=s}ngOnInit(){switch(this.type=this.route.snapshot.paramMap.get("type"),console.log(this.type),this.sub=this.route.data.subscribe(s=>{s.type&&(this.type=s.type),s.title&&(this.title=s.title),s.desc&&(this.desc=s.desc)}),this.type){case"404":this.title||(this.title="Page Not Found"),this.desc||(this.desc="Oopps!! The page you were looking for doesn't exist.");break;case"500":this.title||(this.title="Internal server error"),this.desc||(this.desc="Oopps!! There wan an error. Please try agin later.");break;default:this.type="Ooops..",this.title||(this.title="Something went wrong"),this.desc||(this.desc="Looks like something went wrong.<br>We're working on it")}}ngOnDestroy(){this.sub.unsubscribe()}}return u.\u0275fac=function(s){return new(s||u)(E.Y36(Xi.gz))},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-error-page"]],decls:13,vars:3,consts:[[1,"main-wrapper"],[1,"page-wrapper","full-page"],[1,"page-content","d-flex","align-items-center","justify-content-center"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto","d-flex","flex-column","align-items-center"],["src","assets/images/others/404.svg","alt","404",1,"img-fluid","mb-2"],[1,"fw-bolder","mb-22","mt-2","tx-80","text-muted"],[1,"mb-2"],[1,"text-muted","mb-3","text-center",3,"innerHTML"],["routerLink",""]],template:function(s,d){1&s&&(E.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),E._UZ(5,"img",5),E.TgZ(6,"h1",6),E._uU(7),E.qZA(),E.TgZ(8,"h4",7),E._uU(9),E.qZA(),E._UZ(10,"h6",8),E.TgZ(11,"a",9),E._uU(12,"Back to home"),E.qZA()()()()()()),2&s&&(E.xp6(7),E.Oqu(d.type),E.xp6(2),E.Oqu(d.title),E.xp6(1),E.Q6J("innerHTML",d.desc,E.oJD))},dependencies:[Xi.yS]}),u})();const nr=[{path:"auth",loadChildren:()=>M.e(449).then(M.bind(M,1449)).then(u=>u.AuthModule)},{path:"",component:Dt,canActivate:[Mt],children:[{path:"dashboard",loadChildren:()=>Promise.all([M.e(205),M.e(224)]).then(M.bind(M,8224)).then(u=>u.DashboardModule)},{path:"apps",loadChildren:()=>Promise.all([M.e(254),M.e(635),M.e(728)]).then(M.bind(M,9499)).then(u=>u.AppsModule)},{path:"ui-components",loadChildren:()=>M.e(4).then(M.bind(M,2004)).then(u=>u.UiComponentsModule)},{path:"advanced-ui",loadChildren:()=>M.e(369).then(M.bind(M,3369)).then(u=>u.AdvancedUiModule)},{path:"form-elements",loadChildren:()=>Promise.all([M.e(189),M.e(635),M.e(590)]).then(M.bind(M,4184)).then(u=>u.FormElementsModule)},{path:"advanced-form-elements",loadChildren:()=>Promise.all([M.e(254),M.e(510)]).then(M.bind(M,510)).then(u=>u.AdvancedFormElementsModule)},{path:"charts-graphs",loadChildren:()=>Promise.all([M.e(205),M.e(189),M.e(428)]).then(M.bind(M,1428)).then(u=>u.ChartsGraphsModule)},{path:"tables",loadChildren:()=>M.e(621).then(M.bind(M,9621)).then(u=>u.TablesModule)},{path:"icons",loadChildren:()=>M.e(871).then(M.bind(M,4871)).then(u=>u.IconsModule)},{path:"general",loadChildren:()=>M.e(499).then(M.bind(M,499)).then(u=>u.GeneralModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"error",component:pn,data:{type:404,title:"Page Not Found",desc:"Oopps!! The page you were looking for doesn't exist."}},{path:"error/:type",component:pn},{path:"**",redirectTo:"error",pathMatch:"full"}];let Or=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({imports:[Xi.Bz.forRoot(nr,{scrollPositionRestoration:"top"}),Xi.Bz]}),u})();var Lr=M(9628);const xr={suppressScrollX:!0};let Di=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({providers:[{provide:$a.op,useValue:xr}],imports:[Ys.ez,Xi.Bz,oa.u5,ho.XC,ho.lQ,$a.Xd,Lr.L]}),u})(),zt=(()=>{class u{constructor(){this.title="LogInsight - Activity Log Monitoring"}ngOnInit(){}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-root"]],decls:1,vars:0,template:function(s,d){1&s&&E._UZ(0,"router-outlet")},dependencies:[Xi.lC]}),u})();var mr=M(2011),Ri=M(3385),Rs=M(9751),Sn=M(9646),bn=M(8996),Dl=M(8372),cn=M(4004),Tt=M(3900),Ut=M(2122),zi=M(3942),za=M(5861),Wa=M(9681),Oe=M(2090),Il=M(4859);const Pc="firebasestorage.googleapis.com",gs="storageBucket";class Wi extends Oe.ZR{constructor(r,s,d=0){super(br(r),`Firebase Storage: ${s} (${br(r)})`),this.status_=d,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wi.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return br(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ei=(()=>{return(u=ei||(ei={})).UNKNOWN="unknown",u.OBJECT_NOT_FOUND="object-not-found",u.BUCKET_NOT_FOUND="bucket-not-found",u.PROJECT_NOT_FOUND="project-not-found",u.QUOTA_EXCEEDED="quota-exceeded",u.UNAUTHENTICATED="unauthenticated",u.UNAUTHORIZED="unauthorized",u.UNAUTHORIZED_APP="unauthorized-app",u.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",u.INVALID_CHECKSUM="invalid-checksum",u.CANCELED="canceled",u.INVALID_EVENT_NAME="invalid-event-name",u.INVALID_URL="invalid-url",u.INVALID_DEFAULT_BUCKET="invalid-default-bucket",u.NO_DEFAULT_BUCKET="no-default-bucket",u.CANNOT_SLICE_BLOB="cannot-slice-blob",u.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",u.NO_DOWNLOAD_URL="no-download-url",u.INVALID_ARGUMENT="invalid-argument",u.INVALID_ARGUMENT_COUNT="invalid-argument-count",u.APP_DELETED="app-deleted",u.INVALID_ROOT_OPERATION="invalid-root-operation",u.INVALID_FORMAT="invalid-format",u.INTERNAL_ERROR="internal-error",u.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ei;var u})();function br(u){return"storage/"+u}function di(){return new Wi(ei.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qo(){return new Wi(ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wi(){return new Wi(ei.CANCELED,"User canceled the upload/download.")}function Qo(){return new Wi(ei.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ar(u){return new Wi(ei.INVALID_ARGUMENT,u)}function Ea(){return new Wi(ei.APP_DELETED,"The Firebase app was deleted.")}function eh(u){return new Wi(ei.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ps(u,r){return new Wi(ei.INVALID_FORMAT,"String does not match format '"+u+"': "+r)}function Yl(u){throw new Wi(ei.INTERNAL_ERROR,"Internal error: "+u)}class Jo{constructor(r,s){this.bucket=r,this.path_=s}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,s){let d;try{d=Jo.makeFromUrl(r,s)}catch{return new Jo(r,"")}if(""===d.path)return d;throw function Pi(u){return new Wi(ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(r)}static makeFromUrl(r,s){let d=null;const _="([A-Za-z0-9.\\-_]+)",j=new RegExp("^gs://"+_+"(/(.*))?$","i");function he(bi){bi.path_=decodeURIComponent(bi.path)}const et=s.replace(/[.]/g,"\\."),vi=[{regex:j,indices:{bucket:1,path:3},postModify:function T(bi){"/"===bi.path.charAt(bi.path.length-1)&&(bi.path_=bi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${et}/v[A-Za-z0-9_]+/b/${_}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:he},{regex:new RegExp(`^https?://${s===Pc?"(?:storage.googleapis.com|storage.cloud.google.com)":s}/${_}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:he}];for(let bi=0;bi<vi.length;bi++){const Mc=vi[bi],Bl=Mc.regex.exec(r);if(Bl){let tl=Bl[Mc.indices.path];tl||(tl=""),d=new Jo(Bl[Mc.indices.bucket],tl),Mc.postModify(d);break}}if(null==d)throw function gn(u){return new Wi(ei.INVALID_URL,"Invalid URL '"+u+"'.")}(r);return d}}class dc{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function Al(u){return"string"==typeof u||u instanceof String}function Fa(u){return Ta()&&u instanceof Blob}function Ta(){return typeof Blob<"u"&&!(0,Oe.UG)()}function td(u,r,s,d){if(d<r)throw Ar(`Invalid value for '${u}'. Expected ${r} or greater.`);if(d>s)throw Ar(`Invalid value for '${u}'. Expected ${s} or less.`)}function Fi(u,r,s){let d=r;return null==s&&(d=`https://${r}`),`${s}://${d}/v0${u}`}function ua(u){const r=encodeURIComponent;let s="?";for(const d in u)u.hasOwnProperty(d)&&(s=s+(r(d)+"=")+r(u[d])+"&");return s=s.slice(0,-1),s}var da=(()=>{return(u=da||(da={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",da;var u})();function tu(u,r){const s=u>=500&&u<600,_=-1!==[408,429].indexOf(u),T=-1!==r.indexOf(u);return s||_||T}class R{constructor(r,s,d,_,T,x,j,ee,he,je,et,gt=!0){this.url_=r,this.method_=s,this.headers_=d,this.body_=_,this.successCodes_=T,this.additionalRetryCodes_=x,this.callback_=j,this.errorCallback_=ee,this.timeout_=he,this.progressCallback_=je,this.connectionFactory_=et,this.retry=gt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Gt,Yt)=>{this.resolve_=Gt,this.reject_=Yt,this.start_()})}start_(){const s=(d,_)=>{const T=this.resolve_,x=this.reject_,j=_.connection;if(_.wasSuccessCode)try{const ee=this.callback_(j,j.getResponse());!function Rt(u){return void 0!==u}(ee)?T():T(ee)}catch(ee){x(ee)}else if(null!==j){const ee=di();ee.serverResponse=j.getErrorText(),x(this.errorCallback_?this.errorCallback_(j,ee):ee)}else x(_.canceled?this.appDelete_?Ea():wi():qo())};this.canceled_?s(0,new P(!1,null,!0)):this.backoffId_=function as(u,r,s){let d=1,_=null,T=null,x=!1,j=0;function ee(){return 2===j}let he=!1;function je(...ir){he||(he=!0,r.apply(null,ir))}function et(ir){_=setTimeout(()=>{_=null,u(Gt,ee())},ir)}function gt(){T&&clearTimeout(T)}function Gt(ir,...Hr){if(he)return void gt();if(ir)return gt(),void je.call(null,ir,...Hr);if(ee()||x)return gt(),void je.call(null,ir,...Hr);let vi;d<64&&(d*=2),1===j?(j=2,vi=0):vi=1e3*(d+Math.random()),et(vi)}let Yt=!1;function vn(ir){Yt||(Yt=!0,gt(),!he&&(null!==_?(ir||(j=2),clearTimeout(_),et(0)):ir||(j=1)))}return et(0),T=setTimeout(()=>{x=!0,vn(!0)},s),vn}((d,_)=>{if(_)return void d(!1,new P(!1,null,!0));const T=this.connectionFactory_();this.pendingConnection_=T;const x=j=>{null!==this.progressCallback_&&this.progressCallback_(j.loaded,j.lengthComputable?j.total:-1)};null!==this.progressCallback_&&T.addUploadProgressListener(x),T.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&T.removeUploadProgressListener(x),this.pendingConnection_=null;const j=T.getErrorCode()===da.NO_ERROR,ee=T.getStatus();if(!j||tu(ee,this.additionalRetryCodes_)&&this.retry){const je=T.getErrorCode()===da.ABORT;return void d(!1,new P(!1,null,je))}const he=-1!==this.successCodes_.indexOf(ee);d(!0,new P(he,T))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function To(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class P{constructor(r,s,d){this.wasSuccessCode=r,this.connection=s,this.canceled=!!d}}function mt(...u){const r=function Fe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==r){const s=new r;for(let d=0;d<u.length;d++)s.append(u[d]);return s.getBlob()}if(Ta())return new Blob(u);throw new Wi(ei.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _r{constructor(r,s){this.data=r,this.contentType=s||null}}function ti(u,r){switch(u){case un.RAW:return new _r(Es(r));case un.BASE64:case un.BASE64URL:return new _r(Do(u,r));case un.DATA_URL:return new _r(function Ir(u){const r=new dl(u);return r.base64?Do(un.BASE64,r.rest):function fo(u){let r;try{r=decodeURIComponent(u)}catch{throw Ps(un.DATA_URL,"Malformed data URL.")}return Es(r)}(r.rest)}(r),function nu(u){return new dl(u).contentType}(r))}throw di()}function Es(u){const r=[];for(let s=0;s<u.length;s++){let d=u.charCodeAt(s);d<=127?r.push(d):d<=2047?r.push(192|d>>6,128|63&d):55296==(64512&d)?s<u.length-1&&56320==(64512&u.charCodeAt(s+1))?(d=65536|(1023&d)<<10|1023&u.charCodeAt(++s),r.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)):r.push(239,191,189):56320==(64512&d)?r.push(239,191,189):r.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(r)}function Do(u,r){switch(u){case un.BASE64:{const _=-1!==r.indexOf("-"),T=-1!==r.indexOf("_");if(_||T)throw Ps(u,"Invalid character '"+(_?"-":"_")+"' found: is it base64url encoded?");break}case un.BASE64URL:{const _=-1!==r.indexOf("+"),T=-1!==r.indexOf("/");if(_||T)throw Ps(u,"Invalid character '"+(_?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=function Bn(u){if(typeof atob>"u")throw function Sl(u){return new Wi(ei.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(r)}catch(_){throw _.message.includes("polyfill")?_:Ps(u,"Invalid character found")}const d=new Uint8Array(s.length);for(let _=0;_<s.length;_++)d[_]=s.charCodeAt(_);return d}class dl{constructor(r){this.base64=!1,this.contentType=null;const s=r.match(/^data:([^,]+)?,/);if(null===s)throw Ps(un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const d=s[1]||null;null!=d&&(this.base64=function Io(u,r){return u.length>=r.length&&u.substring(u.length-r.length)===r}(d,";base64"),this.contentType=this.base64?d.substring(0,d.length-7):d),this.rest=r.substring(r.indexOf(",")+1)}}class Js{constructor(r,s){let d=0,_="";Fa(r)?(this.data_=r,d=r.size,_=r.type):r instanceof ArrayBuffer?(s?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),d=this.data_.length):r instanceof Uint8Array&&(s?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),d=r.length),this.size_=d,this.type_=_}size(){return this.size_}type(){return this.type_}slice(r,s){if(Fa(this.data_)){const _=function an(u,r,s){return u.webkitSlice?u.webkitSlice(r,s):u.mozSlice?u.mozSlice(r,s):u.slice?u.slice(r,s):null}(this.data_,r,s);return null===_?null:new Js(_)}{const d=new Uint8Array(this.data_.buffer,r,s-r);return new Js(d,!0)}}static getBlob(...r){if(Ta()){const s=r.map(d=>d instanceof Js?d.data_:d);return new Js(mt.apply(null,s))}{const s=r.map(x=>Al(x)?ti(un.RAW,x).data:x.data_);let d=0;s.forEach(x=>{d+=x.byteLength});const _=new Uint8Array(d);let T=0;return s.forEach(x=>{for(let j=0;j<x.length;j++)_[T++]=x[j]}),new Js(_,!0)}}uploadData(){return this.data_}}function xl(u){let r;try{r=JSON.parse(u)}catch{return null}return function ki(u){return"object"==typeof u&&!Array.isArray(u)}(r)?r:null}function nd(u){const r=u.lastIndexOf("/",u.length-2);return-1===r?u:u.slice(r+1)}function fc(u,r){return r}class Gs{constructor(r,s,d,_){this.server=r,this.local=s||r,this.writable=!!d,this.xform=_||fc}}let ha=null;function ru(){if(ha)return ha;const u=[];u.push(new Gs("bucket")),u.push(new Gs("generation")),u.push(new Gs("metageneration")),u.push(new Gs("name","fullPath",!0));const s=new Gs("name");s.xform=function r(T,x){return function Nl(u){return!Al(u)||u.length<2?u:nd(u)}(x)},u.push(s);const _=new Gs("size");return _.xform=function d(T,x){return void 0!==x?Number(x):x},u.push(_),u.push(new Gs("timeCreated")),u.push(new Gs("updated")),u.push(new Gs("md5Hash",null,!0)),u.push(new Gs("cacheControl",null,!0)),u.push(new Gs("contentDisposition",null,!0)),u.push(new Gs("contentEncoding",null,!0)),u.push(new Gs("contentLanguage",null,!0)),u.push(new Gs("contentType",null,!0)),u.push(new Gs("metadata","customMetadata",!0)),ha=u,ha}function ks(u,r,s){const d=xl(r);return null===d?null:function rd(u,r,s){const d={type:"file"},_=s.length;for(let T=0;T<_;T++){const x=s[T];d[x.local]=x.xform(d,r[x.server])}return function Cs(u,r){Object.defineProperty(u,"ref",{get:function s(){const T=new Jo(u.bucket,u.fullPath);return r._makeStorageReference(T)}})}(d,u),d}(u,d,s)}function K(u,r){const s={},d=r.length;for(let _=0;_<d;_++){const T=r[_];T.writable&&(s[T.server]=u[T.local])}return JSON.stringify(s)}const X="prefixes";class ft{constructor(r,s,d,_){this.url=r,this.method=s,this.handler=d,this.timeout=_,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xt(u){if(!u)throw di()}function An(u,r){return function s(d,_){const T=ks(u,_,r);return Xt(null!==T),T}}function Rr(u){return function r(s,d){let _;return _=401===s.getStatus()?s.getErrorText().includes("Firebase App Check token is invalid")?function ul(){return new Wi(ei.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function rr(){return new Wi(ei.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===s.getStatus()?function Vi(u){return new Wi(ei.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===s.getStatus()?function Wr(u){return new Wi(ei.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):d,_.status=s.getStatus(),_.serverResponse=d.serverResponse,_}}function jn(u){const r=Rr(u);return function s(d,_){let T=r(d,_);return 404===d.getStatus()&&(T=function Fc(u){return new Wi(ei.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),T.serverResponse=_.serverResponse,T}}function Da(u,r,s){const _=Fi(r.fullServerUrl(),u.host,u._protocol),x=u.maxOperationRetryTime,j=new ft(_,"GET",An(u,s),x);return j.errorHandler=jn(r),j}function Li(u,r,s,d,_){const T={};T.prefix=r.isRoot?"":r.path+"/",s&&s.length>0&&(T.delimiter=s),d&&(T.pageToken=d),_&&(T.maxResults=_);const j=Fi(r.bucketOnlyServerUrl(),u.host,u._protocol),he=u.maxOperationRetryTime,je=new ft(j,"GET",function Gn(u,r){return function s(d,_){const T=function lt(u,r,s){const d=xl(s);return null===d?null:function He(u,r,s){const d={prefixes:[],items:[],nextPageToken:s.nextPageToken};if(s[X])for(const _ of s[X]){const T=_.replace(/\/$/,""),x=u._makeStorageReference(new Jo(r,T));d.prefixes.push(x)}if(s.items)for(const _ of s.items){const T=u._makeStorageReference(new Jo(r,_.name));d.items.push(T)}return d}(u,r,d)}(u,r,_);return Xt(null!==T),T}}(u,r.bucket),he);return je.urlParams=T,je.errorHandler=Rr(r),je}function Cu(u,r,s){const d=Object.assign({},s);return d.fullPath=u.path,d.size=r.size(),d.contentType||(d.contentType=function Ml(u,r){return u&&u.contentType||r&&r.type()||"application/octet-stream"}(null,r)),d}class Zl{constructor(r,s,d,_){this.current=r,this.total=s,this.finalized=!!d,this.metadata=_||null}}function Su(u,r){let s=null;try{s=u.getResponseHeader("X-Goog-Upload-Status")}catch{Xt(!1)}return Xt(!!s&&-1!==(r||["active"]).indexOf(s)),s}const Zf={STATE_CHANGED:"state_changed"},Xs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nh(u){switch(u){case"running":case"pausing":case"canceling":return Xs.RUNNING;case"paused":return Xs.PAUSED;case"success":return Xs.SUCCESS;case"canceled":return Xs.CANCELED;default:return Xs.ERROR}}class Au{constructor(r,s,d){if(function ed(u){return"function"==typeof u}(r)||null!=s||null!=d)this.next=r,this.error=s??void 0,this.complete=d??void 0;else{const T=r;this.next=T.next,this.error=T.error,this.complete=T.complete}}}function xu(u){return(...r)=>{Promise.resolve().then(()=>u(...r))}}class Gh extends class Fp{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=da.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=da.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=da.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,s,d,_){if(this.sent_)throw Yl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(s,r,!0),void 0!==_)for(const T in _)_.hasOwnProperty(T)&&this.xhr_.setRequestHeader(T,_[T].toString());return void 0!==d?this.xhr_.send(d):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}{initXhr(){this.xhr_.responseType="text"}}function Ya(){return new Gh}class zh{constructor(r,s,d=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=s,this._metadata=d,this._mappings=ru(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=_=>{if(this._request=void 0,this._chunkMultiplier=1,_._codeEquals(ei.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const T=this.isExponentialBackoffExpired();if(tu(_.status,[])){if(!T)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();_=qo()}this._error=_,this._transition("error")}},this._metadataErrorHandler=_=>{this._request=void 0,_._codeEquals(ei.CANCELED)?this.completeTransitions_():(this._error=_,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((_,T)=>{this._resolve=_,this._reject=T,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const r=this._transferred;return s=>this._updateProgress(r+s)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([s,d])=>{switch(this._state){case"running":r(s,d);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,s)=>{const d=function su(u,r,s,d,_){const T=r.bucketOnlyServerUrl(),x=Cu(r,d,_),j={name:x.fullPath},ee=Fi(T,u.host,u._protocol),je={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${d.size()}`,"X-Goog-Upload-Header-Content-Type":x.contentType,"Content-Type":"application/json; charset=utf-8"},et=K(x,s),Yt=new ft(ee,"POST",function Gt(vn){let ir;Su(vn);try{ir=vn.getResponseHeader("X-Goog-Upload-URL")}catch{Xt(!1)}return Xt(Al(ir)),ir},u.maxUploadRetryTime);return Yt.urlParams=j,Yt.headers=je,Yt.body=et,Yt.errorHandler=Rr(r),Yt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_=this._ref.storage._makeRequest(d,Ya,r,s);this._request=_,_.getPromise().then(T=>{this._request=void 0,this._uploadUrl=T,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((s,d)=>{const _=function pc(u,r,s,d){const ee=new ft(s,"POST",function T(he){const je=Su(he,["active","final"]);let et=null;try{et=he.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xt(!1)}et||Xt(!1);const gt=Number(et);return Xt(!isNaN(gt)),new Zl(gt,d.size(),"final"===je)},u.maxUploadRetryTime);return ee.headers={"X-Goog-Upload-Command":"query"},ee.errorHandler=Rr(r),ee}(this._ref.storage,this._ref._location,r,this._blob),T=this._ref.storage._makeRequest(_,Ya,s,d);this._request=T,T.getPromise().then(x=>{this._request=void 0,this._updateProgress(x.current),this._needToFetchStatus=!1,x.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,s=new Zl(this._transferred,this._blob.size()),d=this._uploadUrl;this._resolveToken((_,T)=>{let x;try{x=function ou(u,r,s,d,_,T,x,j){const ee=new Zl(0,0);if(x?(ee.current=x.current,ee.total=x.total):(ee.current=0,ee.total=d.size()),d.size()!==ee.total)throw function ca(){return new Wi(ei.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const he=ee.total-ee.current;let je=he;_>0&&(je=Math.min(je,_));const et=ee.current;let Gt="";Gt=0===je?"finalize":he===je?"upload, finalize":"upload";const Yt={"X-Goog-Upload-Command":Gt,"X-Goog-Upload-Offset":`${ee.current}`},vn=d.slice(et,et+je);if(null===vn)throw Qo();const vi=new ft(s,"POST",function ir(bi,Mc){const Bl=Su(bi,["active","final"]),Ho=ee.current+je,tl=d.size();let Xd;return Xd="final"===Bl?An(r,T)(bi,Mc):null,new Zl(Ho,tl,"final"===Bl,Xd)},r.maxUploadRetryTime);return vi.headers=Yt,vi.body=vn.uploadData(),vi.progressCallback=j||null,vi.errorHandler=Rr(u),vi}(this._ref._location,this._ref.storage,d,this._blob,r,this._mappings,s,this._makeProgressCallback())}catch(ee){return this._error=ee,void this._transition("error")}const j=this._ref.storage._makeRequest(x,Ya,_,T,!1);this._request=j,j.getPromise().then(ee=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ee.current),ee.finalized?(this._metadata=ee.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,s)=>{const d=Da(this._ref.storage,this._ref._location,this._mappings),_=this._ref.storage._makeRequest(d,Ya,r,s);this._request=_,_.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,s)=>{const d=function iu(u,r,s,d,_){const T=r.bucketOnlyServerUrl(),x={"X-Goog-Upload-Protocol":"multipart"},ee=function j(){let vi="";for(let bi=0;bi<2;bi++)vi+=Math.random().toString().slice(2);return vi}();x["Content-Type"]="multipart/related; boundary="+ee;const he=Cu(r,d,_),je=K(he,s),Gt=Js.getBlob("--"+ee+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+je+"\r\n--"+ee+"\r\nContent-Type: "+he.contentType+"\r\n\r\n",d,"\r\n--"+ee+"--");if(null===Gt)throw Qo();const Yt={name:he.fullPath},vn=Fi(T,u.host,u._protocol),Hr=u.maxUploadRetryTime,Ui=new ft(vn,"POST",An(u,s),Hr);return Ui.urlParams=Yt,Ui.headers=x,Ui.body=Gt.uploadData(),Ui.errorHandler=Rr(r),Ui}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_=this._ref.storage._makeRequest(d,Ya,r,s);this._request=_,_.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const s=this._transferred;this._transferred=r,this._transferred!==s&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const s="paused"===this._state;this._state=r,s&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=r,this._notifyObservers();break;case"canceled":this._error=wi(),this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=nh(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,s,d,_){const T=new Au(s||void 0,d||void 0,_||void 0);return this._addObserver(T),()=>{this._removeObserver(T)}}then(r,s){return this._promise.then(r,s)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const s=this._observers.indexOf(r);-1!==s&&this._observers.splice(s,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(s=>{this._notifyObserver(s)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch(nh(this._state)){case Xs.SUCCESS:xu(this._resolve.bind(null,this.snapshot))();break;case Xs.CANCELED:case Xs.ERROR:xu(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch(nh(this._state)){case Xs.RUNNING:case Xs.PAUSED:r.next&&xu(r.next.bind(r,this.snapshot))();break;case Xs.SUCCESS:r.complete&&xu(r.complete.bind(r))();break;default:r.error&&xu(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class Ol{constructor(r,s){this._service=r,this._location=s instanceof Jo?s:Jo.makeFromUrl(s,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,s){return new Ol(r,s)}get root(){const r=new Jo(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nd(this._location.path)}get storage(){return this._service}get parent(){const r=function hc(u){if(0===u.length)return null;const r=u.lastIndexOf("/");return-1===r?"":u.slice(0,r)}(this._location.path);if(null===r)return null;const s=new Jo(this._location.bucket,r);return new Ol(this._service,s)}_throwIfRoot(r){if(""===this._location.path)throw eh(r)}}function Uc(u,r,s){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,za.Z)(function*(u,r,s){const _=yield Td(u,{pageToken:s});r.prefixes.push(..._.prefixes),r.items.push(..._.items),null!=_.nextPageToken&&(yield Uc(u,r,_.nextPageToken))})).apply(this,arguments)}function Td(u,r){null!=r&&"number"==typeof r.maxResults&&td("options.maxResults",1,1e3,r.maxResults);const s=r||{},d=Li(u.storage,u._location,"/",s.pageToken,s.maxResults);return u.storage.makeRequestWithTokens(d,Ya)}function Pl(u){u._throwIfRoot("getDownloadURL");const r=function La(u,r,s){const _=Fi(r.fullServerUrl(),u.host,u._protocol),x=u.maxOperationRetryTime,j=new ft(_,"GET",function or(u,r){return function s(d,_){const T=ks(u,_,r);return Xt(null!==T),function Iu(u,r,s,d){const _=xl(r);if(null===_||!Al(_.downloadTokens))return null;const T=_.downloadTokens;if(0===T.length)return null;const x=encodeURIComponent;return T.split(",").map(he=>{const et=u.fullPath;return Fi("/b/"+x(u.bucket)+"/o/"+x(et),s,d)+ua({alt:"media",token:he})})[0]}(T,_,u.host,u._protocol)}}(u,s),x);return j.errorHandler=jn(r),j}(u.storage,u._location,ru());return u.storage.makeRequestWithTokens(r,Ya).then(s=>{if(null===s)throw function uc(){return new Wi(ei.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return s})}function au(u,r){const s=function th(u,r){const s=r.split("/").filter(d=>d.length>0).join("/");return 0===u.length?s:u+"/"+s}(u._location.path,r),d=new Jo(u._location.bucket,s);return new Ol(u.storage,d)}function Ou(u,r){if(u instanceof od){const s=u;if(null==s._bucket)throw function Cl(){return new Wi(ei.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gs+"' property when initializing the app?")}();const d=new Ol(s,s._bucket);return null!=r?Ou(d,r):d}return void 0!==r?au(u,r):u}function lu(u,r){if(r&&function sd(u){return/^[A-Za-z]+:\/\//.test(u)}(r)){if(u instanceof od)return function rh(u,r){return new Ol(u,r)}(u,r);throw Ar("To use ref(service, url), the first argument must be a Storage instance.")}return Ou(u,r)}function ih(u,r){const s=r?.[gs];return null==s?null:Jo.makeFromBucketSpec(s,u)}class od{constructor(r,s,d,_,T){this.app=r,this._authProvider=s,this._appCheckProvider=d,this._url=_,this._firebaseVersion=T,this._bucket=null,this._host=Pc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=_?Jo.makeFromBucketSpec(_,this._host):ih(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?Jo.makeFromBucketSpec(this._url,r):ih(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){td("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){td("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,za.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const s=r._authProvider.getImmediate({optional:!0});if(s){const d=yield s.getToken();if(null!==d)return d.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,za.Z)(function*(){const s=r._appCheckProvider.getImmediate({optional:!0});return s?(yield s.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new Ol(this,r)}_makeRequest(r,s,d,_,T=!0){if(this._deleted)return new dc(Ea());{const x=function ke(u,r,s,d,_,T,x=!0){const j=ua(u.urlParams),ee=u.url+j,he=Object.assign({},u.headers);return function q(u,r){r&&(u["X-Firebase-GMPID"]=r)}(he,r),function S(u,r){null!==r&&r.length>0&&(u.Authorization="Firebase "+r)}(he,s),function G(u,r){u["X-Firebase-Storage-Version"]="webjs/"+(r??"AppManager")}(he,T),function _e(u,r){null!==r&&(u["X-Firebase-AppCheck"]=r)}(he,d),new R(ee,u.method,he,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,_,x)}(r,this._appId,d,_,s,this._firebaseVersion,T);return this._requests.add(x),x.getPromise().then(()=>this._requests.delete(x),()=>this._requests.delete(x)),x}}makeRequestWithTokens(r,s){var d=this;return(0,za.Z)(function*(){const[_,T]=yield Promise.all([d._getAuthToken(),d._getAppCheckToken()]);return d._makeRequest(r,s,_,T).getPromise()})()}}const sh="@firebase/storage";function ad(u,r){return lu(u=(0,Oe.m9)(u),r)}function mc(u,{instanceIdentifier:r}){const s=u.getProvider("app").getImmediate(),d=u.getProvider("auth-internal"),_=u.getProvider("app-check-internal");return new od(s,d,_,r,Wa.SDK_VERSION)}!function ku(){(0,Wa._registerComponent)(new Il.wA("storage",mc,"PUBLIC").setMultipleInstances(!0)),(0,Wa.registerVersion)(sh,"0.11.2",""),(0,Wa.registerVersion)(sh,"0.11.2","esm2017")}();class cu{constructor(r,s,d){this._delegate=r,this.task=s,this.ref=d}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class N{constructor(r,s){this._delegate=r,this._ref=s,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new cu(this._delegate.snapshot,this,this._ref)}then(r,s){return this._delegate.then(d=>{if(r)return r(new cu(d,this,this._ref))},s)}on(r,s,d,_){let T;return s&&(T="function"==typeof s?x=>s(new cu(x,this,this._ref)):{next:s.next?x=>s.next(new cu(x,this,this._ref)):void 0,complete:s.complete||void 0,error:s.error||void 0}),this._delegate.on(r,T,d||void 0,_||void 0)}}class b{constructor(r,s){this._delegate=r,this._service=s}get prefixes(){return this._delegate.prefixes.map(r=>new D(r,this._service))}get items(){return this._delegate.items.map(r=>new D(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class D{constructor(r,s){this._delegate=r,this.storage=s}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const s=function Ql(u,r){return au(u,r)}(this._delegate,r);return new D(s,this.storage)}get root(){return new D(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new D(r,this.storage)}put(r,s){return this._throwIfRoot("put"),new N(function Qf(u,r,s){return function Lc(u,r,s){return u._throwIfRoot("uploadBytesResumable"),new zh(u,new Js(r),s)}(u=(0,Oe.m9)(u),r,s)}(this._delegate,r,s),this)}putString(r,s=un.RAW,d){this._throwIfRoot("putString");const _=ti(s,r),T=Object.assign({},d);return null==T.contentType&&null!=_.contentType&&(T.contentType=_.contentType),new N(new zh(this._delegate,new Js(_.data,!0),T),this)}listAll(){return function lh(u){return function id(u){const r={prefixes:[],items:[]};return Uc(u,r).then(()=>r)}(u=(0,Oe.m9)(u))}(this._delegate).then(r=>new b(r,this.storage))}list(r){return function Ru(u,r){return Td(u=(0,Oe.m9)(u),r)}(this._delegate,r||void 0).then(s=>new b(s,this.storage))}getMetadata(){return function Wh(u){return function yi(u){u._throwIfRoot("getMetadata");const r=Da(u.storage,u._location,ru());return u.storage.makeRequestWithTokens(r,Ya)}(u=(0,Oe.m9)(u))}(this._delegate)}updateMetadata(r){return function Dd(u,r){return function ts(u,r){u._throwIfRoot("updateMetadata");const s=function Ka(u,r,s,d){const T=Fi(r.fullServerUrl(),u.host,u._protocol),j=K(s,d),he=u.maxOperationRetryTime,je=new ft(T,"PATCH",An(u,d),he);return je.headers={"Content-Type":"application/json; charset=utf-8"},je.body=j,je.errorHandler=jn(r),je}(u.storage,u._location,r,ru());return u.storage.makeRequestWithTokens(s,Ya)}(u=(0,Oe.m9)(u),r)}(this._delegate,r)}getDownloadURL(){return function Pu(u){return Pl(u=(0,Oe.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Jf(u){return function ql(u){u._throwIfRoot("deleteObject");const r=function hl(u,r){const d=Fi(r.fullServerUrl(),u.host,u._protocol),j=new ft(d,"DELETE",function x(ee,he){},u.maxOperationRetryTime);return j.successCodes=[200,204],j.errorHandler=jn(r),j}(u.storage,u._location);return u.storage.makeRequestWithTokens(r,Ya)}(u=(0,Oe.m9)(u))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw eh(r)}}class k{constructor(r,s){this.app=r,this._delegate=s}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(se(r))throw Ar("ref() expected a child path but got a URL, use refFromURL instead.");return new D(ad(this._delegate,r),this)}refFromURL(r){if(!se(r))throw Ar("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Jo.makeFromUrl(r,this._delegate.host)}catch{throw Ar("refFromUrl() expected a valid full URL but got an invalid one.")}return new D(ad(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,s,d={}){!function Bc(u,r,s,d={}){!function qa(u,r,s,d={}){u.host=`${r}:${s}`,u._protocol="http";const{mockUserToken:_}=d;_&&(u._overrideAuthToken="string"==typeof _?_:(0,Oe.Sg)(_,u.app.options.projectId))}(u,r,s,d)}(this._delegate,r,s,d)}}function se(u){return/^[A-Za-z]+:\/\//.test(u)}function _n(u,{instanceIdentifier:r}){const s=u.getProvider("app-compat").getImmediate(),d=u.getProvider("storage").getImmediate({identifier:r});return new k(s,d)}!function Ln(u){const r={TaskState:Xs,TaskEvent:Zf,StringFormat:un,Storage:k,Reference:D};u.INTERNAL.registerComponent(new Il.wA("storage-compat",_n,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(zi.Z);var Xn=M(6217),Kr=M(9260);function _c(u){const r=function cs(u){return new Rs.y(r=>{const s=x=>r.next(x);s(u.snapshot);const T=u.on("state_changed",s);return u.then(x=>{s(x),r.complete()},x=>{s(u.snapshot),(x=>{r.error(x)})(x)}),function(){T()}}).pipe((0,Dl.b)(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,cn.U)(s=>s.bytesTransferred/s.totalBytes*100))}}function kl(u){return{getDownloadURL:()=>(0,Sn.of)(void 0).pipe(Ut.fc,(0,Tt.w)(()=>u.getDownloadURL()),Ut.iC),getMetadata:()=>(0,Sn.of)(void 0).pipe(Ut.fc,(0,Tt.w)(()=>u.getMetadata()),Ut.iC),delete:()=>(0,bn.D)(u.delete()),child:r=>kl(u.child(r)),updateMetadata:r=>(0,bn.D)(u.updateMetadata(r)),put:(r,s)=>_c(u.put(r,s)),putString:(r,s,d)=>_c(u.putString(r,s,d)),list:r=>(0,bn.D)(u.list(r)),listAll:()=>(0,bn.D)(u.listAll())}}const uh=new E.OlP("angularfire2.storageBucket"),Ia=new E.OlP("angularfire2.storage.maxUploadRetryTime"),Fu=new E.OlP("angularfire2.storage.maxOperationRetryTime"),Jl=new E.OlP("angularfire2.storage.use-emulator");let Sd=(()=>{class u{constructor(s,d,_,T,x,j,ee,he,je,et){const gt=(0,mr.on)(s,x,d);this.storage=(0,mr.cc)(`${gt.name}.storage.${_}`,"AngularFireStorage",gt.name,()=>{const Gt=x.runOutsideAngular(()=>gt.storage(_||void 0)),Yt=je;return Yt&&Gt.useEmulator(...Yt),ee&&Gt.setMaxUploadRetryTime(ee),he&&Gt.setMaxOperationRetryTime(he),Gt},[ee,he])}ref(s){return kl(this.storage.ref(s))}refFromURL(s){return kl(this.storage.refFromURL(s))}upload(s,d,_){return kl(this.storage.ref(s)).put(d,_)}}return u.\u0275fac=function(s){return new(s||u)(E.LFG(mr.Dh),E.LFG(mr.xv,8),E.LFG(uh,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Ut.HU),E.LFG(Ia,8),E.LFG(Fu,8),E.LFG(Jl,8),E.LFG(Xn.nm,8))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),zr=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({}),u})(),ld=(()=>{class u{constructor(){Kr.Z.registerVersion("angularfire",Ut.q4.full,"gcs-compat")}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({providers:[Sd],imports:[zr]}),u})();var Fl=M(3101),Xf=M(4986),uu=M(6451),ep=M(3099),Kh=M(2940),Yh=M(1884),$g=M(1365),Zh=M(4482),Lu=M(5403);M(9568);var Vc=M(1877);const qh="@firebase/database";let Qh="";function Jh(u){Qh=u}class Ad{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,s){null==s?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,Oe.Wl)(s))}get(r){const s=this.domStorage_.getItem(this.prefixedName_(r));return null==s?null:(0,Oe.cI)(s)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class Bp{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,s){null==s?delete this.cache_[r]:this.cache_[r]=s}get(r){return(0,Oe.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const xd=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const r=window[u];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Ad(r)}}catch{}return new Bp},us=xd("localStorage"),cd=xd("sessionStorage"),Uu=new Vc.Yd("@firebase/database"),Vp=function(){let u=1;return function(){return u++}}(),jp=function(u){const r=(0,Oe.dS)(u),s=new Oe.gQ;s.update(r);const d=s.digest();return Oe.US.encodeByteArray(d)},Hc=function(...u){let r="";for(let s=0;s<u.length;s++){const d=u[s];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?r+=Hc.apply(null,d):r+="object"==typeof d?(0,Oe.Wl)(d):d,r+=" "}return r};let Gc=null,Xh=!0;const Xl=function(u,r){(0,Oe.hu)(!r||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Uu.logLevel=Vc.in.VERBOSE,Gc=Uu.log.bind(Uu),r&&cd.set("logging_enabled",!0)):"function"==typeof u?Gc=u:(Gc=null,cd.remove("logging_enabled"))},Ss=function(...u){if(!0===Xh&&(Xh=!1,null===Gc&&!0===cd.get("logging_enabled")&&Xl(!0)),Gc){const r=Hc.apply(null,u);Gc(r)}},dh=function(u){return function(...r){Ss(u,...r)}},Hp=function(...u){const r="FIREBASE INTERNAL ERROR: "+Hc(...u);Uu.error(r)},yc=function(...u){const r=`FIREBASE FATAL ERROR: ${Hc(...u)}`;throw Uu.error(r),new Error(r)},eo=function(...u){const r="FIREBASE WARNING: "+Hc(...u);Uu.warn(r)},Nd=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},vc="[MIN_NAME]",hu="[MAX_NAME]",$c=function(u,r){if(u===r)return 0;if(u===vc||r===hu)return-1;if(r===vc||u===hu)return 1;{const s=$p(u),d=$p(r);return null!==s?null!==d?s-d==0?u.length-r.length:s-d:-1:null!==d?1:u<r?-1:1}},zg=function(u,r){return u===r?0:u<r?-1:1},zc=function(u,r){if(r&&u in r)return r[u];throw new Error("Missing required key ("+u+") in object: "+(0,Oe.Wl)(r))},Co=function(u){if("object"!=typeof u||null===u)return(0,Oe.Wl)(u);const r=[];for(const d in u)r.push(d);r.sort();let s="{";for(let d=0;d<r.length;d++)0!==d&&(s+=","),s+=(0,Oe.Wl)(r[d]),s+=":",s+=Co(u[r[d]]);return s+="}",s},Ii=function(u,r){const s=u.length;if(s<=r)return[u];const d=[];for(let _=0;_<s;_+=r)d.push(u.substring(_,_+r>s?s:_+r));return d};function Ca(u,r){for(const s in u)u.hasOwnProperty(s)&&r(s,u[s])}const Wg=function(u){(0,Oe.hu)(!Nd(u),"Invalid JSON number");const d=1023;let _,T,x,j,ee;0===u?(T=0,x=0,_=1/u==-1/0?1:0):(_=u<0,(u=Math.abs(u))>=Math.pow(2,1-d)?(j=Math.min(Math.floor(Math.log(u)/Math.LN2),d),T=j+d,x=Math.round(u*Math.pow(2,52-j)-Math.pow(2,52))):(T=0,x=Math.round(u/Math.pow(2,-1074))));const he=[];for(ee=52;ee;ee-=1)he.push(x%2?1:0),x=Math.floor(x/2);for(ee=11;ee;ee-=1)he.push(T%2?1:0),T=Math.floor(T/2);he.push(_?1:0),he.reverse();const je=he.join("");let et="";for(ee=0;ee<64;ee+=8){let gt=parseInt(je.substr(ee,8),2).toString(16);1===gt.length&&(gt="0"+gt),et+=gt}return et.toLowerCase()},hh=new RegExp("^-?(0*)\\d{1,10}$"),$p=function(u){if(hh.test(u)){const r=Number(u);if(r>=-2147483648&&r<=2147483647)return r}return null},Od=function(u){try{u()}catch(r){setTimeout(()=>{throw eo("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},ud=function(u,r){const s=setTimeout(u,r);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class Zg{constructor(r,s){this.appName_=r,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(d=>this.appCheck=d)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((s,d)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(s,d):s(null)},0)})}addTokenChangeListener(r){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(d=>d.addTokenListener(r))}notifyForInvalidToken(){eo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class r_{constructor(r,s,d){this.appName_=r,this.firebaseOptions_=s,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(_=>this.auth_=_)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(s=>s&&"auth/token-not-initialized"===s.code?(Ss("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,d)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(s,d):s(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(s=>s.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(s=>s.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',eo(r)}}let ef=(()=>{class u{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const to=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vu="websocket",nf="long_polling";class rf{constructor(r,s,d,_,T=!1,x="",j=!1,ee=!1){this.secure=s,this.namespace=d,this.webSocketOnly=_,this.nodeAdmin=T,this.persistenceKey=x,this.includeNamespaceInQueryParams=j,this.isUsingEmulator=ee,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=us.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&us.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function s_(u,r,s){let d;if((0,Oe.hu)("string"==typeof r,"typeof type must == string"),(0,Oe.hu)("object"==typeof s,"typeof params must == object"),r===Vu)d=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(r!==nf)throw new Error("Unknown connection type: "+r);d=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function Kp(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(s.ns=u.namespace);const _=[];return Ca(s,(T,x)=>{_.push(T+"="+x)}),d+_.join("&")}class sp{constructor(){this.counters_={}}incrementCounter(r,s=1){(0,Oe.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=s}get(){return(0,Oe.p$)(this.counters_)}}const op={},Yp={};function g(u){const r=u.toString();return op[r]||(op[r]=new sp),op[r]}class h{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,s){this.closeAfterResponse=r,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,s){for(this.pendingResponses[r]=s;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let _=0;_<d.length;++_)d[_]&&Od(()=>{this.onMessage_(d[_])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class qr{constructor(r,s,d,_,T,x,j){this.connId=r,this.repoInfo=s,this.applicationId=d,this.appCheckToken=_,this.authToken=T,this.transportSessionId=x,this.lastSessionId=j,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dh(r),this.stats_=g(s),this.urlFn=ee=>(this.appCheckToken&&(ee.ac=this.appCheckToken),s_(s,nf,ee))}open(r,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new h(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,Oe.Yr)()||"complete"===document.readyState)u();else{let r=!1;const s=function(){document.body?r||(r=!0,u()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ai((...T)=>{const[x,j,ee,he,je]=T;if(this.incrementIncomingBytes_(T),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===x)this.id=j,this.password=ee;else{if("close"!==x)throw new Error("Unrecognized command received: "+x);j?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(j,()=>{this.onClosed_()})):this.onClosed_()}},(...T)=>{const[x,j]=T;this.incrementIncomingBytes_(T),this.myPacketOrderer.handleResponse(x,j)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&to.test(location.hostname)&&(d.r="f");const _=this.urlFn(d);this.log_("Connecting via long-poll to "+_),this.scriptTagHolder.addTag(_,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qr.forceAllow_=!0}static forceDisallow(){qr.forceDisallow_=!0}static isAvailable(){return!((0,Oe.Yr)()||!qr.forceAllow_&&(qr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const s=(0,Oe.Wl)(r);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const d=(0,Oe.h$)(s),_=Ii(d,1840);for(let T=0;T<_.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,_.length,_[T]),this.curSegmentNum++}addDisconnectPingFrame(r,s){if((0,Oe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=r,d.pw=s,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const s=(0,Oe.Wl)(r).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class ai{constructor(r,s,d,_){if(this.onDisconnect=d,this.urlFn=_,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Oe.Yr)())this.commandCB=r,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=Vp(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=ai.createIFrame_();let T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(T='<script>document.domain="'+document.domain+'";<\/script>');const x="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(x),this.myIFrame.doc.close()}catch(j){Ss("frame writing exception"),j.stack&&Ss(j.stack),Ss(j)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Ss("No IE domain setting required")}catch{const d=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,s){for(this.myID=r,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let s=this.urlFn(r),d="",_=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const x=this.pendingSegs.shift();d=d+"&seg"+_+"="+x.seg+"&ts"+_+"="+x.ts+"&d"+_+"="+x.d,_++}return s+=d,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(r,s,d){this.pendingSegs.push({seg:r,ts:s,d}),this.alive&&this.newRequest_()}addLongPollTag_(r,s){this.outstandingRequests.add(s);const d=()=>{this.outstandingRequests.delete(s),this.newRequest_()},_=setTimeout(d,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(_),d()})}addTag(r,s){(0,Oe.Yr)()?this.doNodeLongPoll(r,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=r,d.onload=d.onreadystatechange=function(){const _=d.readyState;(!_||"loaded"===_||"complete"===_)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),s())},d.onerror=()=>{Ss("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let Ti=null;typeof MozWebSocket<"u"?Ti=MozWebSocket:typeof WebSocket<"u"&&(Ti=WebSocket);let _s=(()=>{class u{constructor(s,d,_,T,x,j,ee){this.connId=s,this.applicationId=_,this.appCheckToken=T,this.authToken=x,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dh(this.connId),this.stats_=g(d),this.connURL=u.connectionURL_(d,j,ee,T,_),this.nodeAdmin=d.nodeAdmin}static connectionURL_(s,d,_,T,x){const j={v:"5"};return!(0,Oe.Yr)()&&typeof location<"u"&&location.hostname&&to.test(location.hostname)&&(j.r="f"),d&&(j.s=d),_&&(j.ls=_),T&&(j.ac=T),x&&(j.p=x),s_(s,Vu,j)}open(s,d){this.onDisconnect=d,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,us.set("previous_websocket_failure",!0);try{let _;if((0,Oe.Yr)()){_={headers:{"User-Agent":`Firebase/5/${Qh}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(_.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(_.headers["X-Firebase-AppCheck"]=this.appCheckToken);const x=process.env,j=0===this.connURL.indexOf("wss://")?x.HTTPS_PROXY||x.https_proxy:x.HTTP_PROXY||x.http_proxy;j&&(_.proxy={origin:j})}this.mySock=new Ti(this.connURL,[],_)}catch(_){this.log_("Error instantiating WebSocket.");const T=_.message||_.data;return T&&this.log_(T),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=_=>{this.handleIncomingFrame(_)},this.mySock.onerror=_=>{this.log_("WebSocket error.  Closing connection.");const T=_.message||_.data;T&&this.log_(T),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const _=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);_&&_.length>1&&parseFloat(_[1])<4.4&&(s=!0)}return!s&&null!==Ti&&!u.forceDisallow_}static previouslyFailed(){return us.isInMemoryStorage||!0===us.get("previous_websocket_failure")}markConnectionHealthy(){us.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const _=(0,Oe.cI)(d);this.onMessage(_)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,Oe.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const d=Number(s);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const d=s.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const _=this.extractFrameCount_(d);null!==_&&this.appendFrame_(_)}}send(s){this.resetKeepAlive();const d=(0,Oe.Wl)(s);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const _=Ii(d,16384);_.length>1&&this.sendString_(String(_.length));for(let T=0;T<_.length;T++)this.sendString_(_[T])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),So=(()=>{class u{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[qr,_s]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const d=_s&&_s.isAvailable();let _=d&&!_s.previouslyFailed();if(s.webSocketOnly&&(d||eo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),_=!0),_)this.transports_=[_s];else{const T=this.transports_=[];for(const x of u.ALL_TRANSPORTS)x&&x.isAvailable()&&T.push(x);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class gu{constructor(r,s,d,_,T,x,j,ee,he,je){this.id=r,this.repoInfo_=s,this.applicationId_=d,this.appCheckToken_=_,this.authToken_=T,this.onMessage_=x,this.onReady_=j,this.onDisconnect_=ee,this.onKill_=he,this.lastSessionId=je,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dh("c:"+this.id+":"),this.transportManager_=new So(s),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,d)},Math.floor(0));const _=r.healthyTimeout||0;_>0&&(this.healthyTimeout_=ud(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(_)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return s=>{r===this.conn_?this.onConnectionLost_(s):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return s=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(s):r===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const s=r.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const s=zc("t",r),d=zc("d",r);if("c"===s)this.onSecondaryControl_(d);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const s=zc("t",r),d=zc("d",r);"c"===s?this.onControl_(d):"d"===s&&this.onDataMessage_(d)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const s=zc("t",r);if("d"in r){const d=r.d;if("h"===s){const _=Object.assign({},d);this.repoInfo_.isUsingEmulator&&(_.h=this.repoInfo_.host),this.onHandshake_(_)}else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let _=0;_<this.pendingDataMessages.length;++_)this.onDataMessage_(this.pendingDataMessages[_]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(d):"r"===s?this.onReset_(d):"e"===s?Hp("Server Error: "+d):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hp("Unknown control packet command: "+s)}}onHandshake_(r){const s=r.ts,d=r.v,_=r.h;this.sessionId=r.s,this.repoInfo_.host=_,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==d&&eo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,d),ud(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,s){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ud(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ec{put(r,s,d,_){}merge(r,s,d,_){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,s,d){}onDisconnectMerge(r,s,d){}onDisconnectCancel(r,s){}reportStats(r){}}class Kc{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,Oe.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...s){if(Array.isArray(this.listeners_[r])){const d=[...this.listeners_[r]];for(let _=0;_<d.length;_++)d[_].callback.apply(d[_].context,s)}}on(r,s,d){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:s,context:d});const _=this.getInitialEvent(r);_&&s.apply(d,_)}off(r,s,d){this.validateEventType_(r);const _=this.listeners_[r]||[];for(let T=0;T<_.length;T++)if(_[T].callback===s&&(!d||d===_[T].context))return void _.splice(T,1)}validateEventType_(r){(0,Oe.hu)(this.allowedEvents_.find(s=>s===r),"Unknown event: "+r)}}class Ua extends Kc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Oe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ua}getInitialEvent(r){return(0,Oe.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Hi{constructor(r,s){if(void 0===s){this.pieces_=r.split("/");let d=0;for(let _=0;_<this.pieces_.length;_++)this.pieces_[_].length>0&&(this.pieces_[d]=this.pieces_[_],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=s}toString(){let r="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(r+="/"+this.pieces_[s]);return r||"/"}}function Ki(){return new Hi("")}function si(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function mu(u){return u.pieces_.length-u.pieceNum_}function ds(u){let r=u.pieceNum_;return r<u.pieces_.length&&r++,new Hi(u.pieces_,r)}function gh(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function mh(u,r=0){return u.pieces_.slice(u.pieceNum_+r)}function _h(u){if(u.pieceNum_>=u.pieces_.length)return null;const r=[];for(let s=u.pieceNum_;s<u.pieces_.length-1;s++)r.push(u.pieces_[s]);return new Hi(r,0)}function ys(u,r){const s=[];for(let d=u.pieceNum_;d<u.pieces_.length;d++)s.push(u.pieces_[d]);if(r instanceof Hi)for(let d=r.pieceNum_;d<r.pieces_.length;d++)s.push(r.pieces_[d]);else{const d=r.split("/");for(let _=0;_<d.length;_++)d[_].length>0&&s.push(d[_])}return new Hi(s,0)}function Qr(u){return u.pieceNum_>=u.pieces_.length}function po(u,r){const s=si(u),d=si(r);if(null===s)return r;if(s===d)return po(ds(u),ds(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+u+")")}function qg(u,r){const s=mh(u,0),d=mh(r,0);for(let _=0;_<s.length&&_<d.length;_++){const T=$c(s[_],d[_]);if(0!==T)return T}return s.length===d.length?0:s.length<d.length?-1:1}function Yc(u,r){if(mu(u)!==mu(r))return!1;for(let s=u.pieceNum_,d=r.pieceNum_;s<=u.pieces_.length;s++,d++)if(u.pieces_[s]!==r.pieces_[d])return!1;return!0}function Vo(u,r){let s=u.pieceNum_,d=r.pieceNum_;if(mu(u)>mu(r))return!1;for(;s<u.pieces_.length;){if(u.pieces_[s]!==r.pieces_[d])return!1;++s,++d}return!0}class af{constructor(r,s){this.errorPrefix_=s,this.parts_=mh(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,Oe.ug)(this.parts_[d]);o_(this)}}function o_(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Aa(u))}function Aa(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class Qg extends Kc{constructor(){let r,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const d=!document[r];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new Qg}getInitialEvent(r){return(0,Oe.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const kd=1e3;let Hu,cf=(()=>{class u extends Ec{constructor(s,d,_,T,x,j,ee,he){if(super(),this.repoInfo_=s,this.applicationId_=d,this.onDataUpdate_=_,this.onConnectStatus_=T,this.onServerInfoUpdate_=x,this.authTokenProvider_=j,this.appCheckTokenProvider_=ee,this.authOverride_=he,this.id=u.nextPersistentConnectionId_++,this.log_=dh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,he&&!(0,Oe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qg.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Ua.getInstance().on("online",this.onOnline_,this)}sendRequest(s,d,_){const T=++this.requestNumber_,x={r:T,a:s,b:d};this.log_((0,Oe.Wl)(x)),(0,Oe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(x),_&&(this.requestCBHash_[T]=_)}get(s){this.initConnection_();const d=new Oe.BH,_={p:s._path.toString(),q:s._queryObject};return this.outstandingGets_.push({action:"g",request:_,onComplete:j=>{const ee=j.d;"ok"===j.s?d.resolve(ee):d.reject(ee)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(s,d,_,T){this.initConnection_();const x=s._queryIdentifier,j=s._path.toString();this.log_("Listen called for "+j+" "+x),this.listens.has(j)||this.listens.set(j,new Map),(0,Oe.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Oe.hu)(!this.listens.get(j).has(x),"listen() called twice for same path/queryId.");const ee={onComplete:T,hashFn:d,query:s,tag:_};this.listens.get(j).set(x,ee),this.connected_&&this.sendListen_(ee)}sendGet_(s){const d=this.outstandingGets_[s];this.sendRequest("g",d.request,_=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(_)})}sendListen_(s){const d=s.query,_=d._path.toString(),T=d._queryIdentifier;this.log_("Listen on "+_+" for "+T);const x={p:_};s.tag&&(x.q=d._queryObject,x.t=s.tag),x.h=s.hashFn(),this.sendRequest("q",x,ee=>{const he=ee.d,je=ee.s;u.warnOnListenWarnings_(he,d),(this.listens.get(_)&&this.listens.get(_).get(T))===s&&(this.log_("listen response",ee),"ok"!==je&&this.removeListen_(_,T),s.onComplete&&s.onComplete(je,he))})}static warnOnListenWarnings_(s,d){if(s&&"object"==typeof s&&(0,Oe.r3)(s,"w")){const _=(0,Oe.DV)(s,"w");if(Array.isArray(_)&&~_.indexOf("no_index")){const T='".indexOn": "'+d._queryParams.getIndex().toString()+'"',x=d._path.toString();eo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${T} at ${x} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,Oe.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,d=(0,Oe.w9)(s)?"auth":"gauth",_={cred:s};null===this.authOverride_?_.noauth=!0:"object"==typeof this.authOverride_&&(_.authvar=this.authOverride_),this.sendRequest(d,_,T=>{const x=T.s,j=T.d||"error";this.authToken_===s&&("ok"===x?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(x,j))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const d=s.s,_=s.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,_)})}unlisten(s,d){const _=s._path.toString(),T=s._queryIdentifier;this.log_("Unlisten called for "+_+" "+T),(0,Oe.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(_,T)&&this.connected_&&this.sendUnlisten_(_,T,s._queryObject,d)}sendUnlisten_(s,d,_,T){this.log_("Unlisten on "+s+" for "+d);const x={p:s};T&&(x.q=_,x.t=T),this.sendRequest("n",x)}onDisconnectPut(s,d,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,d,_):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:d,onComplete:_})}onDisconnectMerge(s,d,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,d,_):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:d,onComplete:_})}onDisconnectCancel(s,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,d):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(s,d,_,T){const x={p:d,d:_};this.log_("onDisconnect "+s,x),this.sendRequest(s,x,j=>{T&&setTimeout(()=>{T(j.s,j.d)},Math.floor(0))})}put(s,d,_,T){this.putInternal("p",s,d,_,T)}merge(s,d,_,T){this.putInternal("m",s,d,_,T)}putInternal(s,d,_,T,x){this.initConnection_();const j={p:d,d:_};void 0!==x&&(j.h=x),this.outstandingPuts_.push({action:s,request:j,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(s){const d=this.outstandingPuts_[s].action,_=this.outstandingPuts_[s].request,T=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(d,_,x=>{this.log_(d+" response",x),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),T&&T(x.s,x.d)})}reportStats(s){if(this.connected_){const d={c:s};this.log_("reportStats",d),this.sendRequest("s",d,_=>{"ok"!==_.s&&this.log_("reportStats","Error sending stats: "+_.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,Oe.Wl)(s));const d=s.r,_=this.requestCBHash_[d];_&&(delete this.requestCBHash_[d],_(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,d){this.log_("handleServerMessage",s,d),"d"===s?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===s?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===s?this.onListenRevoked_(d.p,d.q):"ac"===s?this.onAuthRevoked_(d.s,d.d):"apc"===s?this.onAppCheckRevoked_(d.s,d.d):"sd"===s?this.onSecurityDebugPacket_(d):Hp("Unrecognized action received from server: "+(0,Oe.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,Oe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-s);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,za.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const d=s.onDataMessage_.bind(s),_=s.onReady_.bind(s),T=s.onRealtimeDisconnect_.bind(s),x=s.id+":"+u.nextConnectionId_++,j=s.lastSessionId;let ee=!1,he=null;const je=function(){he?he.close():(ee=!0,T())};s.realtime_={close:je,sendRequest:function(Gt){(0,Oe.hu)(he,"sendRequest call when we're not connected not allowed."),he.sendRequest(Gt)}};const gt=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Gt,Yt]=yield Promise.all([s.authTokenProvider_.getToken(gt),s.appCheckTokenProvider_.getToken(gt)]);ee?Ss("getToken() completed but was canceled"):(Ss("getToken() completed. Creating connection."),s.authToken_=Gt&&Gt.accessToken,s.appCheckToken_=Yt&&Yt.token,he=new gu(x,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,d,_,T,vn=>{eo(vn+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},j))}catch(Gt){s.log_("Failed to get token: "+Gt),ee||(s.repoInfo_.nodeAdmin&&eo(Gt),je())}}})()}interrupt(s){Ss("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){Ss("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,Oe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=kd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const d=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const d=this.outstandingPuts_[s];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,d){let _;_=d?d.map(x=>Co(x)).join("$"):"default";const T=this.removeListen_(s,_);T&&T.onComplete&&T.onComplete("permission_denied")}removeListen_(s,d){const _=new Hi(s).toString();let T;if(this.listens.has(_)){const x=this.listens.get(_);T=x.get(d),x.delete(d),0===x.size&&this.listens.delete(_)}else T=void 0;return T}onAuthRevoked_(s,d){Ss("Auth token revoked: "+s+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,d){Ss("App check token revoked: "+s+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const d of s.values())this.sendListen_(d);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let d="js";(0,Oe.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+d+"."+Qh.replace(/\./g,"-")]=1,(0,Oe.uI)()?s["framework.cordova"]=1:(0,Oe.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Ua.getInstance().currentlyOnline();return(0,Oe.xb)(this.interruptReasons_)&&s}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class li{constructor(r,s){this.name=r,this.node=s}static Wrap(r,s){return new li(r,s)}}class Qp{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,s){const d=new li(vc,r),_=new li(vc,s);return 0!==this.compare(d,_)}minPost(){return li.MIN}}class Xg extends Qp{static get __EMPTY_NODE(){return Hu}static set __EMPTY_NODE(r){Hu=r}compare(r,s){return $c(r.name,s.name)}isDefinedOn(r){throw(0,Oe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,s){return!1}minPost(){return li.MIN}maxPost(){return new li(hu,Hu)}makePost(r,s){return(0,Oe.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new li(r,Hu)}toString(){return".key"}}const Gu=new Xg;class em{constructor(r,s,d,_,T=null){this.isReverse_=_,this.resultGenerator_=T,this.nodeStack_=[];let x=1;for(;!r.isEmpty();)if(x=s?d(r.key,s):1,_&&(x*=-1),x<0)r=this.isReverse_?r.left:r.right;else{if(0===x){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,r=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let a_,Ul=(()=>{class u{constructor(s,d,_,T,x){this.key=s,this.value=d,this.color=_??u.RED,this.left=T??pl.EMPTY_NODE,this.right=x??pl.EMPTY_NODE}copy(s,d,_,T,x){return new u(s??this.key,d??this.value,_??this.color,T??this.left,x??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,d,_){let T=this;const x=_(s,T.key);return T=x<0?T.copy(null,null,null,T.left.insert(s,d,_),null):0===x?T.copy(null,d,null,null,null):T.copy(null,null,null,null,T.right.insert(s,d,_)),T.fixUp_()}removeMin_(){if(this.left.isEmpty())return pl.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,d){let _,T;if(_=this,d(s,_.key)<0)!_.left.isEmpty()&&!_.left.isRed_()&&!_.left.left.isRed_()&&(_=_.moveRedLeft_()),_=_.copy(null,null,null,_.left.remove(s,d),null);else{if(_.left.isRed_()&&(_=_.rotateRight_()),!_.right.isEmpty()&&!_.right.isRed_()&&!_.right.left.isRed_()&&(_=_.moveRedRight_()),0===d(s,_.key)){if(_.right.isEmpty())return pl.EMPTY_NODE;T=_.right.min_(),_=_.copy(T.key,T.value,null,null,_.right.removeMin_())}_=_.copy(null,null,null,null,_.right.remove(s,d))}return _.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,d)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class pl{constructor(r,s=pl.EMPTY_NODE){this.comparator_=r,this.root_=s}insert(r,s){return new pl(this.comparator_,this.root_.insert(r,s,this.comparator_).copy(null,null,Ul.BLACK,null,null))}remove(r){return new pl(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Ul.BLACK,null,null))}get(r){let s,d=this.root_;for(;!d.isEmpty();){if(s=this.comparator_(r,d.key),0===s)return d.value;s<0?d=d.left:s>0&&(d=d.right)}return null}getPredecessorKey(r){let s,d=this.root_,_=null;for(;!d.isEmpty();){if(s=this.comparator_(r,d.key),0===s){if(d.left.isEmpty())return _?_.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}s<0?d=d.left:s>0&&(_=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new em(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,s){return new em(this.root_,r,this.comparator_,!1,s)}getReverseIteratorFrom(r,s){return new em(this.root_,r,this.comparator_,!0,s)}getReverseIterator(r){return new em(this.root_,null,this.comparator_,!0,r)}}function cy(u,r){return $c(u.name,r.name)}function uy(u,r){return $c(u,r)}pl.EMPTY_NODE=new class Fd{copy(r,s,d,_,T){return this}insert(r,s,d){return new Ul(r,s,null)}remove(r,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const hy=function(u){return"number"==typeof u?"number:"+Wg(u):"string:"+u},Ld=function(u){if(u.isLeafNode()){const r=u.val();(0,Oe.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,Oe.r3)(r,".sv"),"Priority must be a string or number.")}else(0,Oe.hu)(u===a_||u.isEmpty(),"priority of unexpected type.");(0,Oe.hu)(u===a_||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Jp,l_,c_,yh=(()=>{class u{constructor(s,d=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=d,this.lazyHash_=null,(0,Oe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ld(this.priorityNode_)}static set __childrenNodeConstructor(s){Jp=s}static get __childrenNodeConstructor(){return Jp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new u(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return Qr(s)?this:".priority"===si(s)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,d){return null}updateImmediateChild(s,d){return".priority"===s?this.updatePriority(d):d.isEmpty()&&".priority"!==s?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,d).updatePriority(this.priorityNode_)}updateChild(s,d){const _=si(s);return null===_?d:d.isEmpty()&&".priority"!==_?this:((0,Oe.hu)(".priority"!==_||1===mu(s),".priority must be the last token in a path"),this.updateImmediateChild(_,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(ds(s),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,d){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+hy(this.priorityNode_.val())+":");const d=typeof this.value_;s+=d+":",s+="number"===d?Wg(this.value_):this.value_,this.lazyHash_=jp(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===u.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof u.__childrenNodeConstructor?-1:((0,Oe.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const d=typeof s.value_,_=typeof this.value_,T=u.VALUE_TYPE_ORDER.indexOf(d),x=u.VALUE_TYPE_ORDER.indexOf(_);return(0,Oe.hu)(T>=0,"Unknown leaf type: "+d),(0,Oe.hu)(x>=0,"Unknown leaf type: "+_),T===x?"object"===_?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:x-T}withIndex(){return this}isIndexed(){return!0}equals(s){if(s===this)return!0;if(s.isLeafNode()){const d=s;return this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_)}return!1}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Fs=new class $u extends Qp{compare(r,s){const d=r.node.getPriority(),_=s.node.getPriority(),T=d.compareTo(_);return 0===T?$c(r.name,s.name):T}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,s){return!r.getPriority().equals(s.getPriority())}minPost(){return li.MIN}maxPost(){return new li(hu,new yh("[PRIORITY-POST]",c_))}makePost(r,s){const d=l_(r);return new li(s,new yh("[PRIORITY-POST]",d))}toString(){return".priority"}},Ba=Math.log(2);class av{constructor(r){this.count=parseInt(Math.log(r+1)/Ba,10),this.current_=this.count-1;const _=(T=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&_}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const tm=function(u,r,s,d){u.sort(r);const _=function(ee,he){const je=he-ee;let et,gt;if(0===je)return null;if(1===je)return et=u[ee],gt=s?s(et):et,new Ul(gt,et.node,Ul.BLACK,null,null);{const Gt=parseInt(je/2,10)+ee,Yt=_(ee,Gt),vn=_(Gt+1,he);return et=u[Gt],gt=s?s(et):et,new Ul(gt,et.node,Ul.BLACK,Yt,vn)}},j=function(ee){let he=null,je=null,et=u.length;const gt=function(Yt,vn){const ir=et-Yt,Hr=et;et-=Yt;const Ui=_(ir+1,Hr),vi=u[ir],bi=s?s(vi):vi;Gt(new Ul(bi,vi.node,vn,null,Ui))},Gt=function(Yt){he?(he.left=Yt,he=Yt):(je=Yt,he=Yt)};for(let Yt=0;Yt<ee.count;++Yt){const vn=ee.nextBitIsOne(),ir=Math.pow(2,ee.count-(Yt+1));vn?gt(ir,Ul.BLACK):(gt(ir,Ul.BLACK),gt(ir,Ul.RED))}return je}(new av(u.length));return new pl(d||r,j)};let u_;const up={};class zu{constructor(r,s){this.indexes_=r,this.indexSet_=s}static get Default(){return(0,Oe.hu)(up&&Fs,"ChildrenNode.ts has not been loaded"),u_=u_||new zu({".priority":up},{".priority":Fs}),u_}get(r){const s=(0,Oe.DV)(this.indexes_,r);if(!s)throw new Error("No index defined for "+r);return s instanceof pl?s:null}hasIndex(r){return(0,Oe.r3)(this.indexSet_,r.toString())}addIndex(r,s){(0,Oe.hu)(r!==Gu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let _=!1;const T=s.getIterator(li.Wrap);let j,x=T.getNext();for(;x;)_=_||r.isDefinedOn(x.node),d.push(x),x=T.getNext();j=_?tm(d,r.getCompare()):up;const ee=r.toString(),he=Object.assign({},this.indexSet_);he[ee]=r;const je=Object.assign({},this.indexes_);return je[ee]=j,new zu(je,he)}addToIndexes(r,s){const d=(0,Oe.UI)(this.indexes_,(_,T)=>{const x=(0,Oe.DV)(this.indexSet_,T);if((0,Oe.hu)(x,"Missing index implementation for "+T),_===up){if(x.isDefinedOn(r.node)){const j=[],ee=s.getIterator(li.Wrap);let he=ee.getNext();for(;he;)he.name!==r.name&&j.push(he),he=ee.getNext();return j.push(r),tm(j,x.getCompare())}return up}{const j=s.get(r.name);let ee=_;return j&&(ee=ee.remove(new li(r.name,j))),ee.insert(r,r.node)}});return new zu(d,this.indexSet_)}removeFromIndexes(r,s){const d=(0,Oe.UI)(this.indexes_,_=>{if(_===up)return _;{const T=s.get(r.name);return T?_.remove(new li(r.name,T)):_}});return new zu(d,this.indexSet_)}}let Xp,Jr=(()=>{class u{constructor(s,d,_){this.children_=s,this.priorityNode_=d,this.indexMap_=_,this.lazyHash_=null,this.priorityNode_&&Ld(this.priorityNode_),this.children_.isEmpty()&&(0,Oe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xp||(Xp=new u(new pl(uy),null,zu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xp}updatePriority(s){return this.children_.isEmpty()?this:new u(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const d=this.children_.get(s);return null===d?Xp:d}}getChild(s){const d=si(s);return null===d?this:this.getImmediateChild(d).getChild(ds(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,d){if((0,Oe.hu)(d,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(d);{const _=new li(s,d);let T,x;d.isEmpty()?(T=this.children_.remove(s),x=this.indexMap_.removeFromIndexes(_,this.children_)):(T=this.children_.insert(s,d),x=this.indexMap_.addToIndexes(_,this.children_));const j=T.isEmpty()?Xp:this.priorityNode_;return new u(T,j,x)}}updateChild(s,d){const _=si(s);if(null===_)return d;{(0,Oe.hu)(".priority"!==si(s)||1===mu(s),".priority must be the last token in a path");const T=this.getImmediateChild(_).updateChild(ds(s),d);return this.updateImmediateChild(_,T)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const d={};let _=0,T=0,x=!0;if(this.forEachChild(Fs,(j,ee)=>{d[j]=ee.val(s),_++,x&&u.INTEGER_REGEXP_.test(j)?T=Math.max(T,Number(j)):x=!1}),!s&&x&&T<2*_){const j=[];for(const ee in d)j[ee]=d[ee];return j}return s&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+hy(this.getPriority().val())+":"),this.forEachChild(Fs,(d,_)=>{const T=_.hash();""!==T&&(s+=":"+d+":"+T)}),this.lazyHash_=""===s?"":jp(s)}return this.lazyHash_}getPredecessorChildName(s,d,_){const T=this.resolveIndex_(_);if(T){const x=T.getPredecessorKey(new li(s,d));return x?x.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const d=this.resolveIndex_(s);if(d){const _=d.minKey();return _&&_.name}return this.children_.minKey()}getFirstChild(s){const d=this.getFirstChildName(s);return d?new li(d,this.children_.get(d)):null}getLastChildName(s){const d=this.resolveIndex_(s);if(d){const _=d.maxKey();return _&&_.name}return this.children_.maxKey()}getLastChild(s){const d=this.getLastChildName(s);return d?new li(d,this.children_.get(d)):null}forEachChild(s,d){const _=this.resolveIndex_(s);return _?_.inorderTraversal(T=>d(T.name,T.node)):this.children_.inorderTraversal(d)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,d){const _=this.resolveIndex_(d);if(_)return _.getIteratorFrom(s,T=>T);{const T=this.children_.getIteratorFrom(s.name,li.Wrap);let x=T.peek();for(;null!=x&&d.compare(x,s)<0;)T.getNext(),x=T.peek();return T}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,d){const _=this.resolveIndex_(d);if(_)return _.getReverseIteratorFrom(s,T=>T);{const T=this.children_.getReverseIteratorFrom(s.name,li.Wrap);let x=T.peek();for(;null!=x&&d.compare(x,s)>0;)T.getNext(),x=T.peek();return T}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===jr?-1:0}withIndex(s){if(s===Gu||this.indexMap_.hasIndex(s))return this;{const d=this.indexMap_.addIndex(s,this.children_);return new u(this.children_,this.priorityNode_,d)}}isIndexed(s){return s===Gu||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const d=s;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const _=this.getIterator(Fs),T=d.getIterator(Fs);let x=_.getNext(),j=T.getNext();for(;x&&j;){if(x.name!==j.name||!x.node.equals(j.node))return!1;x=_.getNext(),j=T.getNext()}return null===x&&null===j}return!1}return!1}}resolveIndex_(s){return s===Gu?null:this.indexMap_.get(s.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const jr=new class lv extends Jr{constructor(){super(new pl(uy),Jr.EMPTY_NODE,zu.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Jr.EMPTY_NODE}isEmpty(){return!1}};function no(u,r=null){if(null===u)return Jr.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(r=u[".priority"]),(0,Oe.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new yh(u,no(r));if(u instanceof Array){let s=Jr.EMPTY_NODE;return Ca(u,(d,_)=>{if((0,Oe.r3)(u,d)&&"."!==d.substring(0,1)){const T=no(_);(T.isLeafNode()||!T.isEmpty())&&(s=s.updateImmediateChild(d,T))}}),s.updatePriority(no(r))}{const s=[];let d=!1;if(Ca(u,(x,j)=>{if("."!==x.substring(0,1)){const ee=no(j);ee.isEmpty()||(d=d||!ee.getPriority().isEmpty(),s.push(new li(x,ee)))}}),0===s.length)return Jr.EMPTY_NODE;const T=tm(s,cy,x=>x.name,uy);if(d){const x=tm(s,Fs.getCompare());return new Jr(T,no(r),new zu({".priority":x},{".priority":Fs}))}return new Jr(T,no(r),zu.Default)}}Object.defineProperties(li,{MIN:{value:new li(vc,Jr.EMPTY_NODE)},MAX:{value:new li(hu,jr)}}),Xg.__EMPTY_NODE=Jr.EMPTY_NODE,yh.__childrenNodeConstructor=Jr,function dy(u){a_=u}(jr),function ov(u){c_=u}(jr),function fy(u){l_=u}(no);class vh extends Qp{constructor(r){super(),this.indexPath_=r,(0,Oe.hu)(!Qr(r)&&".priority"!==si(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,s){const d=this.extractChild(r.node),_=this.extractChild(s.node),T=d.compareTo(_);return 0===T?$c(r.name,s.name):T}makePost(r,s){const d=no(r),_=Jr.EMPTY_NODE.updateChild(this.indexPath_,d);return new li(s,_)}maxPost(){const r=Jr.EMPTY_NODE.updateChild(this.indexPath_,jr);return new li(hu,r)}toString(){return mh(this.indexPath_,0).join("/")}}const eg=new class rm extends Qp{compare(r,s){const d=r.node.compareTo(s.node);return 0===d?$c(r.name,s.name):d}isDefinedOn(r){return!0}indexedValueChanged(r,s){return!r.equals(s)}minPost(){return li.MIN}maxPost(){return li.MAX}makePost(r,s){const d=no(r);return new li(s,d)}toString(){return".value"}};function tg(u){return{type:"value",snapshotNode:u}}function uf(u,r){return{type:"child_added",snapshotNode:r,childName:u}}function dp(u,r){return{type:"child_removed",snapshotNode:r,childName:u}}function hp(u,r,s){return{type:"child_changed",snapshotNode:r,childName:u,oldSnap:s}}class im{constructor(r){this.index_=r}updateChild(r,s,d,_,T,x){(0,Oe.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const j=r.getImmediateChild(s);return j.getChild(_).equals(d.getChild(_))&&j.isEmpty()===d.isEmpty()||(null!=x&&(d.isEmpty()?r.hasChild(s)?x.trackChildChange(dp(s,j)):(0,Oe.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):j.isEmpty()?x.trackChildChange(uf(s,d)):x.trackChildChange(hp(s,d,j))),r.isLeafNode()&&d.isEmpty())?r:r.updateImmediateChild(s,d).withIndex(this.index_)}updateFullNode(r,s,d){return null!=d&&(r.isLeafNode()||r.forEachChild(Fs,(_,T)=>{s.hasChild(_)||d.trackChildChange(dp(_,T))}),s.isLeafNode()||s.forEachChild(Fs,(_,T)=>{if(r.hasChild(_)){const x=r.getImmediateChild(_);x.equals(T)||d.trackChildChange(hp(_,T,x))}else d.trackChildChange(uf(_,T))})),s.withIndex(this.index_)}updatePriority(r,s){return r.isEmpty()?Jr.EMPTY_NODE:r.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class fp{constructor(r){this.indexedFilter_=new im(r.getIndex()),this.index_=r.getIndex(),this.startPost_=fp.getStartPost_(r),this.endPost_=fp.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,d=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return s&&d}updateChild(r,s,d,_,T,x){return this.matches(new li(s,d))||(d=Jr.EMPTY_NODE),this.indexedFilter_.updateChild(r,s,d,_,T,x)}updateFullNode(r,s,d){s.isLeafNode()&&(s=Jr.EMPTY_NODE);let _=s.withIndex(this.index_);_=_.updatePriority(Jr.EMPTY_NODE);const T=this;return s.forEachChild(Fs,(x,j)=>{T.matches(new li(x,j))||(_=_.updateImmediateChild(x,Jr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,_,d)}updatePriority(r,s){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const s=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),s)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const s=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),s)}return r.getIndex().maxPost()}}class d_{constructor(r){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const d=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?d<=0:d<0},this.withinEndPost=s=>{const d=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?d<=0:d<0},this.rangedFilter_=new fp(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,s,d,_,T,x){return this.rangedFilter_.matches(new li(s,d))||(d=Jr.EMPTY_NODE),r.getImmediateChild(s).equals(d)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,s,d,_,T,x):this.fullLimitUpdateChild_(r,s,d,T,x)}updateFullNode(r,s,d){let _;if(s.isLeafNode()||s.isEmpty())_=Jr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let T;_=Jr.EMPTY_NODE.withIndex(this.index_),T=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let x=0;for(;T.hasNext()&&x<this.limit_;){const j=T.getNext();if(this.withinDirectionalStart(j)){if(!this.withinDirectionalEnd(j))break;_=_.updateImmediateChild(j.name,j.node),x++}}}else{let T;_=s.withIndex(this.index_),_=_.updatePriority(Jr.EMPTY_NODE),T=this.reverse_?_.getReverseIterator(this.index_):_.getIterator(this.index_);let x=0;for(;T.hasNext();){const j=T.getNext();x<this.limit_&&this.withinDirectionalStart(j)&&this.withinDirectionalEnd(j)?x++:_=_.updateImmediateChild(j.name,Jr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,_,d)}updatePriority(r,s){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,s,d,_,T){let x;if(this.reverse_){const et=this.index_.getCompare();x=(gt,Gt)=>et(Gt,gt)}else x=this.index_.getCompare();const j=r;(0,Oe.hu)(j.numChildren()===this.limit_,"");const ee=new li(s,d),he=this.reverse_?j.getFirstChild(this.index_):j.getLastChild(this.index_),je=this.rangedFilter_.matches(ee);if(j.hasChild(s)){const et=j.getImmediateChild(s);let gt=_.getChildAfterChild(this.index_,he,this.reverse_);for(;null!=gt&&(gt.name===s||j.hasChild(gt.name));)gt=_.getChildAfterChild(this.index_,gt,this.reverse_);const Gt=null==gt?1:x(gt,ee);if(je&&!d.isEmpty()&&Gt>=0)return T?.trackChildChange(hp(s,d,et)),j.updateImmediateChild(s,d);{T?.trackChildChange(dp(s,et));const vn=j.updateImmediateChild(s,Jr.EMPTY_NODE);return null!=gt&&this.rangedFilter_.matches(gt)?(T?.trackChildChange(uf(gt.name,gt.node)),vn.updateImmediateChild(gt.name,gt.node)):vn}}return d.isEmpty()?r:je&&x(he,ee)>=0?(null!=T&&(T.trackChildChange(dp(he.name,he.node)),T.trackChildChange(uf(s,d))),j.updateImmediateChild(s,d).updateImmediateChild(he.name,Jr.EMPTY_NODE)):r}}class pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fs}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Oe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Oe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Oe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Oe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Oe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fs}copy(){const r=new pd;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function wh(u,r,s){const d=u.copy();return d.startSet_=!0,void 0===r&&(r=null),d.indexStartValue_=r,null!=s?(d.startNameSet_=!0,d.indexStartName_=s):(d.startNameSet_=!1,d.indexStartName_=""),d}function ng(u,r,s){const d=u.copy();return d.endSet_=!0,void 0===r&&(r=null),d.indexEndValue_=r,void 0!==s?(d.endNameSet_=!0,d.indexEndName_=s):(d.endNameSet_=!1,d.indexEndName_=""),d}function rg(u,r){const s=u.copy();return s.index_=r,s}function sm(u){const r={};if(u.isDefault())return r;let s;if(u.index_===Fs?s="$priority":u.index_===eg?s="$value":u.index_===Gu?s="$key":((0,Oe.hu)(u.index_ instanceof vh,"Unrecognized index type!"),s=u.index_.toString()),r.orderBy=(0,Oe.Wl)(s),u.startSet_){const d=u.startAfterSet_?"startAfter":"startAt";r[d]=(0,Oe.Wl)(u.indexStartValue_),u.startNameSet_&&(r[d]+=","+(0,Oe.Wl)(u.indexStartName_))}if(u.endSet_){const d=u.endBeforeSet_?"endBefore":"endAt";r[d]=(0,Oe.Wl)(u.indexEndValue_),u.endNameSet_&&(r[d]+=","+(0,Oe.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?r.limitToFirst=u.limit_:r.limitToLast=u.limit_),r}function uv(u){const r={};if(u.startSet_&&(r.sp=u.indexStartValue_,u.startNameSet_&&(r.sn=u.indexStartName_),r.sin=!u.startAfterSet_),u.endSet_&&(r.ep=u.indexEndValue_,u.endNameSet_&&(r.en=u.indexEndName_),r.ein=!u.endBeforeSet_),u.limitSet_){r.l=u.limit_;let s=u.viewFrom_;""===s&&(s=u.isViewFromLeft()?"l":"r"),r.vf=s}return u.index_!==Fs&&(r.i=u.index_.toString()),r}class pp extends Ec{constructor(r,s,d,_){super(),this.repoInfo_=r,this.onDataUpdate_=s,this.authTokenProvider_=d,this.appCheckTokenProvider_=_,this.log_=dh("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,s){return void 0!==s?"tag$"+s:((0,Oe.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,s,d,_){const T=r._path.toString();this.log_("Listen called for "+T+" "+r._queryIdentifier);const x=pp.getListenId_(r,d),j={};this.listens_[x]=j;const ee=sm(r._queryParams);this.restRequest_(T+".json",ee,(he,je)=>{let et=je;if(404===he&&(et=null,he=null),null===he&&this.onDataUpdate_(T,et,!1,d),(0,Oe.DV)(this.listens_,x)===j){let gt;gt=he?401===he?"permission_denied":"rest_error:"+he:"ok",_(gt,null)}})}unlisten(r,s){const d=pp.getListenId_(r,s);delete this.listens_[d]}get(r){const s=sm(r._queryParams),d=r._path.toString(),_=new Oe.BH;return this.restRequest_(d+".json",s,(T,x)=>{let j=x;404===T&&(j=null,T=null),null===T?(this.onDataUpdate_(d,j,!1,null),_.resolve(j)):_.reject(new Error(j))}),_.promise}refreshAuthToken(r){}restRequest_(r,s={},d){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([_,T])=>{_&&_.accessToken&&(s.auth=_.accessToken),T&&T.token&&(s.ac=T.token);const x=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,Oe.xO)(s);this.log_("Sending REST request for "+x);const j=new XMLHttpRequest;j.onreadystatechange=()=>{if(d&&4===j.readyState){this.log_("REST Response for "+x+" received. status:",j.status,"response:",j.responseText);let ee=null;if(j.status>=200&&j.status<300){try{ee=(0,Oe.cI)(j.responseText)}catch{eo("Failed to parse JSON response for "+x+": "+j.responseText)}d(null,ee)}else 401!==j.status&&404!==j.status&&eo("Got unsuccessful REST response for "+x+" Status: "+j.status),d(j.status);d=null}},j.open("GET",x,!0),j.send()})}}class gp{constructor(){this.rootNode_=Jr.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,s){this.rootNode_=this.rootNode_.updateChild(r,s)}}function mp(){return{value:null,children:new Map}}function Eh(u,r,s){if(Qr(r))u.value=s,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(r,s);else{const d=si(r);u.children.has(d)||u.children.set(d,mp()),Eh(u.children.get(d),r=ds(r),s)}}function df(u,r){if(Qr(r))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const s=u.value;return u.value=null,s.forEachChild(Fs,(d,_)=>{Eh(u,new Hi(d),_)}),df(u,r)}}if(u.children.size>0){const s=si(r);return r=ds(r),u.children.has(s)&&df(u.children.get(s),r)&&u.children.delete(s),0===u.children.size}return!0}function ig(u,r,s){null!==u.value?s(r,u.value):function sg(u,r){u.children.forEach((s,d)=>{r(d,s)})}(u,(d,_)=>{ig(_,new Hi(r.toString()+"/"+d),s)})}class og{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),s=Object.assign({},r);return this.last_&&Ca(this.last_,(d,_)=>{s[d]=s[d]-_}),this.last_=r,s}}class g_{constructor(r,s){this.server_=s,this.statsToReport_={},this.statsListener_=new og(r);const d=1e4+2e4*Math.random();ud(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const r=this.statsListener_.get(),s={};let d=!1;Ca(r,(_,T)=>{T>0&&(0,Oe.r3)(this.statsToReport_,_)&&(s[_]=T,d=!0)}),d&&this.server_.reportStats(s),ud(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Tc=(()=>{return(u=Tc||(Tc={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Tc;var u})();function hf(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class Th{constructor(r,s,d){this.path=r,this.affectedTree=s,this.revert=d,this.type=Tc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Qr(this.path)){if(null!=this.affectedTree.value)return(0,Oe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Hi(r));return new Th(Ki(),s,this.revert)}}return(0,Oe.hu)(si(this.path)===r,"operationForChild called for unrelated child."),new Th(ds(this.path),this.affectedTree,this.revert)}}class om{constructor(r,s){this.source=r,this.path=s,this.type=Tc.LISTEN_COMPLETE}operationForChild(r){return Qr(this.path)?new om(this.source,Ki()):new om(this.source,ds(this.path))}}class Ud{constructor(r,s,d){this.source=r,this.path=s,this.snap=d,this.type=Tc.OVERWRITE}operationForChild(r){return Qr(this.path)?new Ud(this.source,Ki(),this.snap.getImmediateChild(r)):new Ud(this.source,ds(this.path),this.snap)}}class pa{constructor(r,s,d){this.source=r,this.path=s,this.children=d,this.type=Tc.MERGE}operationForChild(r){if(Qr(this.path)){const s=this.children.subtree(new Hi(r));return s.isEmpty()?null:s.value?new Ud(this.source,Ki(),s.value):new pa(this.source,Ki(),s)}return(0,Oe.hu)(si(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new pa(this.source,ds(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ff{constructor(r,s,d){this.node_=r,this.fullyInitialized_=s,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Qr(r))return this.isFullyInitialized()&&!this.filtered_;const s=si(r);return this.isCompleteForChild(s)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class pf{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function gd(u,r,s,d,_,T){const x=d.filter(j=>j.type===s);x.sort((j,ee)=>function yu(u,r,s){if(null==r.childName||null==s.childName)throw(0,Oe.g5)("Should only compare child_ events.");const d=new li(r.childName,r.snapshotNode),_=new li(s.childName,s.snapshotNode);return u.index_.compare(d,_)}(u,j,ee)),x.forEach(j=>{const ee=function _p(u,r,s){return"value"===r.type||"child_removed"===r.type||(r.prevName=s.getPredecessorChildName(r.childName,r.snapshotNode,u.index_)),r}(u,j,T);_.forEach(he=>{he.respondsTo(j.type)&&r.push(he.createEvent(ee,u.query_))})})}function ug(u,r){return{eventCache:u,serverCache:r}}function dg(u,r,s,d){return ug(new ff(r,s,d),u.serverCache)}function am(u,r,s,d){return ug(u.eventCache,new ff(r,s,d))}function vu(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Wu(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let lm;class As{constructor(r,s=(()=>(lm||(lm=new pl(zg)),lm))()){this.value=r,this.children=s}static fromObject(r){let s=new As(null);return Ca(r,(d,_)=>{s=s.set(new Hi(d),_)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,s){if(null!=this.value&&s(this.value))return{path:Ki(),value:this.value};if(Qr(r))return null;{const d=si(r),_=this.children.get(d);if(null!==_){const T=_.findRootMostMatchingPathAndValue(ds(r),s);return null!=T?{path:ys(new Hi(d),T.path),value:T.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Qr(r))return this;{const s=si(r),d=this.children.get(s);return null!==d?d.subtree(ds(r)):new As(null)}}set(r,s){if(Qr(r))return new As(s,this.children);{const d=si(r),T=(this.children.get(d)||new As(null)).set(ds(r),s),x=this.children.insert(d,T);return new As(this.value,x)}}remove(r){if(Qr(r))return this.children.isEmpty()?new As(null):new As(null,this.children);{const s=si(r),d=this.children.get(s);if(d){const _=d.remove(ds(r));let T;return T=_.isEmpty()?this.children.remove(s):this.children.insert(s,_),null===this.value&&T.isEmpty()?new As(null):new As(this.value,T)}return this}}get(r){if(Qr(r))return this.value;{const s=si(r),d=this.children.get(s);return d?d.get(ds(r)):null}}setTree(r,s){if(Qr(r))return s;{const d=si(r),T=(this.children.get(d)||new As(null)).setTree(ds(r),s);let x;return x=T.isEmpty()?this.children.remove(d):this.children.insert(d,T),new As(this.value,x)}}fold(r){return this.fold_(Ki(),r)}fold_(r,s){const d={};return this.children.inorderTraversal((_,T)=>{d[_]=T.fold_(ys(r,_),s)}),s(r,this.value,d)}findOnPath(r,s){return this.findOnPath_(r,Ki(),s)}findOnPath_(r,s,d){const _=!!this.value&&d(s,this.value);if(_)return _;if(Qr(r))return null;{const T=si(r),x=this.children.get(T);return x?x.findOnPath_(ds(r),ys(s,T),d):null}}foreachOnPath(r,s){return this.foreachOnPath_(r,Ki(),s)}foreachOnPath_(r,s,d){if(Qr(r))return this;{this.value&&d(s,this.value);const _=si(r),T=this.children.get(_);return T?T.foreachOnPath_(ds(r),ys(s,_),d):new As(null)}}foreach(r){this.foreach_(Ki(),r)}foreach_(r,s){this.children.inorderTraversal((d,_)=>{_.foreach_(ys(r,d),s)}),this.value&&s(r,this.value)}foreachChild(r){this.children.inorderTraversal((s,d)=>{d.value&&r(s,d.value)})}}class Dc{constructor(r){this.writeTree_=r}static empty(){return new Dc(new As(null))}}function Bd(u,r,s){if(Qr(r))return new Dc(new As(s));{const d=u.writeTree_.findRootMostValueAndPath(r);if(null!=d){const _=d.path;let T=d.value;const x=po(_,r);return T=T.updateChild(x,s),new Dc(u.writeTree_.set(_,T))}{const _=new As(s),T=u.writeTree_.setTree(r,_);return new Dc(T)}}}function Dh(u,r,s){let d=u;return Ca(s,(_,T)=>{d=Bd(d,ys(r,_),T)}),d}function Ih(u,r){if(Qr(r))return Dc.empty();{const s=u.writeTree_.setTree(r,new As(null));return new Dc(s)}}function Vd(u,r){return null!=Ku(u,r)}function Ku(u,r){const s=u.writeTree_.findRootMostValueAndPath(r);return null!=s?u.writeTree_.get(s.path).getChild(po(s.path,r)):null}function hg(u){const r=[],s=u.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(Fs,(d,_)=>{r.push(new li(d,_))}):u.writeTree_.children.inorderTraversal((d,_)=>{null!=_.value&&r.push(new li(d,_.value))}),r}function jd(u,r){if(Qr(r))return u;{const s=Ku(u,r);return new Dc(null!=s?new As(s):u.writeTree_.subtree(r))}}function fg(u){return u.writeTree_.isEmpty()}function Zc(u,r){return y_(Ki(),u.writeTree_,r)}function y_(u,r,s){if(null!=r.value)return s.updateChild(u,r.value);{let d=null;return r.children.inorderTraversal((_,T)=>{".priority"===_?((0,Oe.hu)(null!==T.value,"Priority writes must always be leaf nodes"),d=T.value):s=y_(ys(u,_),T,s)}),!s.getChild(u).isEmpty()&&null!==d&&(s=s.updateChild(ys(u,".priority"),d)),s}}function cm(u,r){return vg(r,u)}function dm(u,r){if(u.snap)return Vo(u.path,r);for(const s in u.children)if(u.children.hasOwnProperty(s)&&Vo(ys(u.path,s),r))return!0;return!1}function b_(u){return u.visible}function gg(u,r,s){let d=Dc.empty();for(let _=0;_<u.length;++_){const T=u[_];if(r(T)){const x=T.path;let j;if(T.snap)Vo(s,x)?(j=po(s,x),d=Bd(d,j,T.snap)):Vo(x,s)&&(j=po(x,s),d=Bd(d,Ki(),T.snap.getChild(j)));else{if(!T.children)throw(0,Oe.g5)("WriteRecord should have .snap or .children");if(Vo(s,x))j=po(s,x),d=Dh(d,j,T.children);else if(Vo(x,s))if(j=po(x,s),Qr(j))d=Dh(d,Ki(),T.children);else{const ee=(0,Oe.DV)(T.children,si(j));if(ee){const he=ee.getChild(ds(j));d=Bd(d,Ki(),he)}}}}}return d}function yp(u,r,s,d,_){if(d||_){const T=jd(u.visibleWrites,r);return!_&&fg(T)?s:_||null!=s||Vd(T,Ki())?Zc(gg(u.allWrites,function(he){return(he.visible||_)&&(!d||!~d.indexOf(he.writeId))&&(Vo(he.path,r)||Vo(r,he.path))},r),s||Jr.EMPTY_NODE):null}{const T=Ku(u.visibleWrites,r);if(null!=T)return T;{const x=jd(u.visibleWrites,r);return fg(x)?s:null!=s||Vd(x,Ki())?Zc(x,s||Jr.EMPTY_NODE):null}}}function mg(u,r,s,d){return yp(u.writeTree,u.treePath,r,s,d)}function yy(u,r){return function _y(u,r,s){let d=Jr.EMPTY_NODE;const _=Ku(u.visibleWrites,r);if(_)return _.isLeafNode()||_.forEachChild(Fs,(T,x)=>{d=d.updateImmediateChild(T,x)}),d;if(s){const T=jd(u.visibleWrites,r);return s.forEachChild(Fs,(x,j)=>{const ee=Zc(jd(T,new Hi(x)),j);d=d.updateImmediateChild(x,ee)}),hg(T).forEach(x=>{d=d.updateImmediateChild(x.name,x.node)}),d}return hg(jd(u.visibleWrites,r)).forEach(x=>{d=d.updateImmediateChild(x.name,x.node)}),d}(u.writeTree,u.treePath,r)}function w_(u,r,s,d){return function Yv(u,r,s,d,_){(0,Oe.hu)(d||_,"Either existingEventSnap or existingServerSnap must exist");const T=ys(r,s);if(Vd(u.visibleWrites,T))return null;{const x=jd(u.visibleWrites,T);return fg(x)?_.getChild(s):Zc(x,_.getChild(s))}}(u.writeTree,u.treePath,r,s,d)}function Yu(u,r){return function dv(u,r){return Ku(u.visibleWrites,r)}(u.writeTree,ys(u.treePath,r))}function E_(u,r,s){return function Zv(u,r,s,d){const _=ys(r,s),T=Ku(u.visibleWrites,_);return null!=T?T:d.isCompleteForChild(s)?Zc(jd(u.visibleWrites,_),d.getNode().getImmediateChild(s)):null}(u.writeTree,u.treePath,r,s)}function yg(u,r){return vg(ys(u.treePath,r),u.writeTree)}function vg(u,r){return{treePath:u,writeTree:r}}class hm{constructor(){this.changeMap=new Map}trackChildChange(r){const s=r.type,d=r.childName;(0,Oe.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,Oe.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const _=this.changeMap.get(d);if(_){const T=_.type;if("child_added"===s&&"child_removed"===T)this.changeMap.set(d,hp(d,r.snapshotNode,_.snapshotNode));else if("child_removed"===s&&"child_added"===T)this.changeMap.delete(d);else if("child_removed"===s&&"child_changed"===T)this.changeMap.set(d,dp(d,_.oldSnap));else if("child_changed"===s&&"child_added"===T)this.changeMap.set(d,uf(d,r.snapshotNode));else{if("child_changed"!==s||"child_changed"!==T)throw(0,Oe.g5)("Illegal combination of changes: "+r+" occurred after "+_);this.changeMap.set(d,hp(d,r.snapshotNode,_.oldSnap))}}else this.changeMap.set(d,r)}getChanges(){return Array.from(this.changeMap.values())}}const fm=new class bg{getCompleteChild(r){return null}getChildAfterChild(r,s,d){return null}};class tc{constructor(r,s,d=null){this.writes_=r,this.viewCache_=s,this.optCompleteServerCache_=d}getCompleteChild(r){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(r))return s.getNode().getImmediateChild(r);{const d=null!=this.optCompleteServerCache_?new ff(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return E_(this.writes_,r,d)}}getChildAfterChild(r,s,d){const _=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wu(this.viewCache_),T=function _g(u,r,s,d,_,T){return function hv(u,r,s,d,_,T,x){let j;const ee=jd(u.visibleWrites,r),he=Ku(ee,Ki());if(null!=he)j=he;else{if(null==s)return[];j=Zc(ee,s)}if(j=j.withIndex(x),j.isEmpty()||j.isLeafNode())return[];{const je=[],et=x.getCompare(),gt=T?j.getReverseIteratorFrom(d,x):j.getIteratorFrom(d,x);let Gt=gt.getNext();for(;Gt&&je.length<_;)0!==et(Gt,d)&&je.push(Gt),Gt=gt.getNext();return je}}(u.writeTree,u.treePath,r,s,d,_,T)}(this.writes_,_,s,1,d,r);return 0===T.length?null:T[0]}}function D_(u,r,s,d,_,T){const x=r.eventCache;if(null!=Yu(d,s))return r;{let j,ee;if(Qr(s))if((0,Oe.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const he=Wu(r),et=yy(d,he instanceof Jr?he:Jr.EMPTY_NODE);j=u.filter.updateFullNode(r.eventCache.getNode(),et,T)}else{const he=mg(d,Wu(r));j=u.filter.updateFullNode(r.eventCache.getNode(),he,T)}else{const he=si(s);if(".priority"===he){(0,Oe.hu)(1===mu(s),"Can't have a priority with additional path components");const je=x.getNode();ee=r.serverCache.getNode();const et=w_(d,s,je,ee);j=null!=et?u.filter.updatePriority(je,et):x.getNode()}else{const je=ds(s);let et;if(x.isCompleteForChild(he)){ee=r.serverCache.getNode();const gt=w_(d,s,x.getNode(),ee);et=null!=gt?x.getNode().getImmediateChild(he).updateChild(je,gt):x.getNode().getImmediateChild(he)}else et=E_(d,he,r.serverCache);j=null!=et?u.filter.updateChild(x.getNode(),he,et,je,_,T):x.getNode()}}return dg(r,j,x.isFullyInitialized()||Qr(s),u.filter.filtersNodes())}}function Gd(u,r,s,d,_,T,x,j){const ee=r.serverCache;let he;const je=x?u.filter:u.filter.getIndexedFilter();if(Qr(s))he=je.updateFullNode(ee.getNode(),d,null);else if(je.filtersNodes()&&!ee.isFiltered()){const Gt=ee.getNode().updateChild(s,d);he=je.updateFullNode(ee.getNode(),Gt,null)}else{const Gt=si(s);if(!ee.isCompleteForPath(s)&&mu(s)>1)return r;const Yt=ds(s),ir=ee.getNode().getImmediateChild(Gt).updateChild(Yt,d);he=".priority"===Gt?je.updatePriority(ee.getNode(),ir):je.updateChild(ee.getNode(),Gt,ir,Yt,fm,null)}const et=am(r,he,ee.isFullyInitialized()||Qr(s),je.filtersNodes());return D_(u,et,s,_,new tc(_,et,T),j)}function bp(u,r,s,d,_,T,x){const j=r.eventCache;let ee,he;const je=new tc(_,r,T);if(Qr(s))he=u.filter.updateFullNode(r.eventCache.getNode(),d,x),ee=dg(r,he,!0,u.filter.filtersNodes());else{const et=si(s);if(".priority"===et)he=u.filter.updatePriority(r.eventCache.getNode(),d),ee=dg(r,he,j.isFullyInitialized(),j.isFiltered());else{const gt=ds(s),Gt=j.getNode().getImmediateChild(et);let Yt;if(Qr(gt))Yt=d;else{const vn=je.getCompleteChild(et);Yt=null!=vn?".priority"===gh(gt)&&vn.getChild(_h(gt)).isEmpty()?vn:vn.updateChild(gt,d):Jr.EMPTY_NODE}ee=Gt.equals(Yt)?r:dg(r,u.filter.updateChild(j.getNode(),et,Yt,gt,je,x),j.isFullyInitialized(),u.filter.filtersNodes())}}return ee}function mf(u,r){return u.eventCache.isCompleteForChild(r)}function $d(u,r,s){return s.foreach((d,_)=>{r=r.updateChild(d,_)}),r}function _f(u,r,s,d,_,T,x,j){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let he,ee=r;he=Qr(s)?d:new As(null).setTree(s,d);const je=r.serverCache.getNode();return he.children.inorderTraversal((et,gt)=>{if(je.hasChild(et)){const Yt=$d(0,r.serverCache.getNode().getImmediateChild(et),gt);ee=Gd(u,ee,new Hi(et),Yt,_,T,x,j)}}),he.children.inorderTraversal((et,gt)=>{const Gt=!r.serverCache.isCompleteForChild(et)&&null===gt.value;if(!je.hasChild(et)&&!Gt){const vn=$d(0,r.serverCache.getNode().getImmediateChild(et),gt);ee=Gd(u,ee,new Hi(et),vn,_,T,x,j)}}),ee}class Eg{constructor(r,s){this.query_=r,this.eventRegistrations_=[];const d=this.query_._queryParams,_=new im(d.getIndex()),T=function gy(u){return u.loadsAllData()?new im(u.getIndex()):u.hasLimit()?new d_(u):new fp(u)}(d);this.processor_=function Hd(u){return{filter:u}}(T);const x=s.serverCache,j=s.eventCache,ee=_.updateFullNode(Jr.EMPTY_NODE,x.getNode(),null),he=T.updateFullNode(Jr.EMPTY_NODE,j.getNode(),null),je=new ff(ee,x.isFullyInitialized(),_.filtersNodes()),et=new ff(he,j.isFullyInitialized(),T.filtersNodes());this.viewCache_=ug(et,je),this.eventGenerator_=new pf(this.query_)}get query(){return this.query_}}function pm(u,r){const s=Wu(u.viewCache_);return s&&(u.query._queryParams.loadsAllData()||!Qr(r)&&!s.getImmediateChild(si(r)).isEmpty())?s.getChild(r):null}function Ey(u){return 0===u.eventRegistrations_.length}function I_(u,r,s){const d=[];if(s){(0,Oe.hu)(null==r,"A cancel should cancel all event registrations.");const _=u.query._path;u.eventRegistrations_.forEach(T=>{const x=T.createCancelEvent(s,_);x&&d.push(x)})}if(r){let _=[];for(let T=0;T<u.eventRegistrations_.length;++T){const x=u.eventRegistrations_[T];if(x.matches(r)){if(r.hasAnyCallback()){_=_.concat(u.eventRegistrations_.slice(T+1));break}}else _.push(x)}u.eventRegistrations_=_}else u.eventRegistrations_=[];return d}function gm(u,r,s,d){r.type===Tc.MERGE&&null!==r.source.queryId&&((0,Oe.hu)(Wu(u.viewCache_),"We should always have a full cache before handling merges"),(0,Oe.hu)(vu(u.viewCache_),"Missing event cache, even though we have a server cache"));const _=u.viewCache_,T=function vp(u,r,s,d,_){const T=new hm;let x,j;if(s.type===Tc.OVERWRITE){const he=s;he.source.fromUser?x=bp(u,r,he.path,he.snap,d,_,T):((0,Oe.hu)(he.source.fromServer,"Unknown source."),j=he.source.tagged||r.serverCache.isFiltered()&&!Qr(he.path),x=Gd(u,r,he.path,he.snap,d,_,j,T))}else if(s.type===Tc.MERGE){const he=s;he.source.fromUser?x=function wg(u,r,s,d,_,T,x){let j=r;return d.foreach((ee,he)=>{const je=ys(s,ee);mf(r,si(je))&&(j=bp(u,j,je,he,_,T,x))}),d.foreach((ee,he)=>{const je=ys(s,ee);mf(r,si(je))||(j=bp(u,j,je,he,_,T,x))}),j}(u,r,he.path,he.children,d,_,T):((0,Oe.hu)(he.source.fromServer,"Unknown source."),j=he.source.tagged||r.serverCache.isFiltered(),x=_f(u,r,he.path,he.children,d,_,j,T))}else if(s.type===Tc.ACK_USER_WRITE){const he=s;x=he.revert?function by(u,r,s,d,_,T){let x;if(null!=Yu(d,s))return r;{const j=new tc(d,r,_),ee=r.eventCache.getNode();let he;if(Qr(s)||".priority"===si(s)){let je;if(r.serverCache.isFullyInitialized())je=mg(d,Wu(r));else{const et=r.serverCache.getNode();(0,Oe.hu)(et instanceof Jr,"serverChildren would be complete if leaf node"),je=yy(d,et)}he=u.filter.updateFullNode(ee,je,T)}else{const je=si(s);let et=E_(d,je,r.serverCache);null==et&&r.serverCache.isCompleteForChild(je)&&(et=ee.getImmediateChild(je)),he=null!=et?u.filter.updateChild(ee,je,et,ds(s),j,T):r.eventCache.getNode().hasChild(je)?u.filter.updateChild(ee,je,Jr.EMPTY_NODE,ds(s),j,T):ee,he.isEmpty()&&r.serverCache.isFullyInitialized()&&(x=mg(d,Wu(r)),x.isLeafNode()&&(he=u.filter.updateFullNode(he,x,T)))}return x=r.serverCache.isFullyInitialized()||null!=Yu(d,Ki()),dg(r,he,x,u.filter.filtersNodes())}}(u,r,he.path,d,_,T):function wp(u,r,s,d,_,T,x){if(null!=Yu(_,s))return r;const j=r.serverCache.isFiltered(),ee=r.serverCache;if(null!=d.value){if(Qr(s)&&ee.isFullyInitialized()||ee.isCompleteForPath(s))return Gd(u,r,s,ee.getNode().getChild(s),_,T,j,x);if(Qr(s)){let he=new As(null);return ee.getNode().forEachChild(Gu,(je,et)=>{he=he.set(new Hi(je),et)}),_f(u,r,s,he,_,T,j,x)}return r}{let he=new As(null);return d.foreach((je,et)=>{const gt=ys(s,je);ee.isCompleteForPath(gt)&&(he=he.set(je,ee.getNode().getChild(gt)))}),_f(u,r,s,he,_,T,j,x)}}(u,r,he.path,he.affectedTree,d,_,T)}else{if(s.type!==Tc.LISTEN_COMPLETE)throw(0,Oe.g5)("Unknown operation type: "+s.type);x=function vy(u,r,s,d,_){const T=r.serverCache;return D_(u,am(r,T.getNode(),T.isFullyInitialized()||Qr(s),T.isFiltered()),s,d,fm,_)}(u,r,s.path,d,T)}const ee=T.getChanges();return function gf(u,r,s){const d=r.eventCache;if(d.isFullyInitialized()){const _=d.getNode().isLeafNode()||d.getNode().isEmpty(),T=vu(u);(s.length>0||!u.eventCache.isFullyInitialized()||_&&!d.getNode().equals(T)||!d.getNode().getPriority().equals(T.getPriority()))&&s.push(tg(vu(r)))}}(r,x,ee),{viewCache:x,changes:ee}}(u.processor_,_,r,s,d);return function T_(u,r){(0,Oe.hu)(r.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,Oe.hu)(r.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,T.viewCache),(0,Oe.hu)(T.viewCache.serverCache.isFullyInitialized()||!_.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=T.viewCache,C_(u,T.changes,T.viewCache.eventCache.getNode(),null)}function C_(u,r,s,d){return function cg(u,r,s,d){const _=[],T=[];return r.forEach(x=>{"child_changed"===x.type&&u.index_.indexedValueChanged(x.oldSnap,x.snapshotNode)&&T.push(function py(u,r){return{type:"child_moved",snapshotNode:r,childName:u}}(x.childName,x.snapshotNode))}),gd(u,_,"child_removed",r,d,s),gd(u,_,"child_added",r,d,s),gd(u,_,"child_moved",T,d,s),gd(u,_,"child_changed",r,d,s),gd(u,_,"value",r,d,s),_}(u.eventGenerator_,r,s,d?[d]:u.eventRegistrations_)}let Dg,wm;class Dy{constructor(){this.views=new Map}}function _m(u,r,s,d){const _=r.source.queryId;if(null!==_){const T=u.views.get(_);return(0,Oe.hu)(null!=T,"SyncTree gave us an op for an invalid query."),gm(T,r,s,d)}{let T=[];for(const x of u.views.values())T=T.concat(gm(x,r,s,d));return T}}function Iy(u,r,s,d,_){const x=u.views.get(r._queryIdentifier);if(!x){let j=mg(s,_?d:null),ee=!1;j?ee=!0:d instanceof Jr?(j=yy(s,d),ee=!1):(j=Jr.EMPTY_NODE,ee=!1);const he=ug(new ff(j,ee,!1),new ff(d,_,!1));return new Eg(r,he)}return x}function ym(u){const r=[];for(const s of u.views.values())s.query._queryParams.loadsAllData()||r.push(s);return r}function zd(u,r){let s=null;for(const d of u.views.values())s=s||pm(d,r);return s}function vm(u,r){return r._queryParams.loadsAllData()?yf(u):u.views.get(r._queryIdentifier)}function bm(u,r){return null!=vm(u,r)}function Ch(u){return null!=yf(u)}function yf(u){for(const r of u.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Em=1;class Ay{constructor(r){this.listenProvider_=r,this.syncPointTree_=new As(null),this.pendingWriteTree_=function qv(){return{visibleWrites:Dc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ic(u,r,s,d,_){return function um(u,r,s,d,_){(0,Oe.hu)(d>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===_&&(_=!0),u.allWrites.push({path:r,snap:s,writeId:d,visible:_}),_&&(u.visibleWrites=Bd(u.visibleWrites,r,s)),u.lastWriteId=d}(u.pendingWriteTree_,r,s,d,_),_?Sh(u,new Ud({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,s)):[]}function md(u,r,s=!1){const d=function v_(u,r){for(let s=0;s<u.allWrites.length;s++){const d=u.allWrites[s];if(d.writeId===r)return d}return null}(u.pendingWriteTree_,r);if(function Kv(u,r){const s=u.allWrites.findIndex(j=>j.writeId===r);(0,Oe.hu)(s>=0,"removeWrite called with nonexistent writeId.");const d=u.allWrites[s];u.allWrites.splice(s,1);let _=d.visible,T=!1,x=u.allWrites.length-1;for(;_&&x>=0;){const j=u.allWrites[x];j.visible&&(x>=s&&dm(j,d.path)?_=!1:Vo(d.path,j.path)&&(T=!0)),x--}return!!_&&(T?(function pg(u){u.visibleWrites=gg(u.allWrites,b_,Ki()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(d.snap?u.visibleWrites=Ih(u.visibleWrites,d.path):Ca(d.children,ee=>{u.visibleWrites=Ih(u.visibleWrites,ys(d.path,ee))}),!0))}(u.pendingWriteTree_,r)){let T=new As(null);return null!=d.snap?T=T.set(Ki(),!0):Ca(d.children,x=>{T=T.set(new Hi(x),!0)}),Sh(u,new Th(d.path,T,s))}return[]}function _d(u,r,s){return Sh(u,new Ud({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,s))}function Ep(u,r,s,d,_=!1){const T=r._path,x=u.syncPointTree_.get(T);let j=[];if(x&&("default"===r._queryIdentifier||bm(x,r))){const ee=function Cy(u,r,s,d){const _=r._queryIdentifier,T=[];let x=[];const j=Ch(u);if("default"===_)for(const[ee,he]of u.views.entries())x=x.concat(I_(he,s,d)),Ey(he)&&(u.views.delete(ee),he.query._queryParams.loadsAllData()||T.push(he.query));else{const ee=u.views.get(_);ee&&(x=x.concat(I_(ee,s,d)),Ey(ee)&&(u.views.delete(_),ee.query._queryParams.loadsAllData()||T.push(ee.query)))}return j&&!Ch(u)&&T.push(new(function mm(){return(0,Oe.hu)(Dg,"Reference.ts has not been loaded"),Dg}())(r._repo,r._path)),{removed:T,events:x}}(x,r,s,d);(function S_(u){return 0===u.views.size})(x)&&(u.syncPointTree_=u.syncPointTree_.remove(T));const he=ee.removed;if(j=ee.events,!_){const je=-1!==he.findIndex(gt=>gt._queryParams.loadsAllData()),et=u.syncPointTree_.findOnPath(T,(gt,Gt)=>Ch(Gt));if(je&&!et){const gt=u.syncPointTree_.subtree(T);if(!gt.isEmpty()){const Gt=function xg(u){return u.fold((r,s,d)=>{if(s&&Ch(s))return[yf(s)];{let _=[];return s&&(_=ym(s)),Ca(d,(T,x)=>{_=_.concat(x)}),_}})}(gt);for(let Yt=0;Yt<Gt.length;++Yt){const vn=Gt[Yt],ir=vn.query,Hr=Dp(u,vn);u.listenProvider_.startListening(Cc(ir),Im(u,ir),Hr.hashFn,Hr.onComplete)}}}!et&&he.length>0&&!d&&(je?u.listenProvider_.stopListening(Cc(r),null):he.forEach(gt=>{const Gt=u.queryToTagMap.get(bf(gt));u.listenProvider_.stopListening(Cc(gt),Gt)}))}!function Sm(u,r){for(let s=0;s<r.length;++s){const d=r[s];if(!d._queryParams.loadsAllData()){const _=bf(d),T=u.queryToTagMap.get(_);u.queryToTagMap.delete(_),u.tagToQueryMap.delete(T)}}}(u,he)}return j}function yd(u,r,s,d){const _=Cm(u,d);if(null!=_){const T=Ip(_),x=T.path,j=T.queryId,ee=po(x,r);return Ag(u,x,new Ud(hf(j),ee,s))}return[]}function x_(u,r,s,d=!1){const _=r._path;let T=null,x=!1;u.syncPointTree_.foreachOnPath(_,(gt,Gt)=>{const Yt=po(gt,_);T=T||zd(Gt,Yt),x=x||Ch(Gt)});let ee,j=u.syncPointTree_.get(_);j?(x=x||Ch(j),T=T||zd(j,Ki())):(j=new Dy,u.syncPointTree_=u.syncPointTree_.set(_,j)),null!=T?ee=!0:(ee=!1,T=Jr.EMPTY_NODE,u.syncPointTree_.subtree(_).foreachChild((Gt,Yt)=>{const vn=zd(Yt,Ki());vn&&(T=T.updateImmediateChild(Gt,vn))}));const he=bm(j,r);if(!he&&!r._queryParams.loadsAllData()){const gt=bf(r);(0,Oe.hu)(!u.queryToTagMap.has(gt),"View does not exist, but we have a tag");const Gt=function Am(){return Em++}();u.queryToTagMap.set(gt,Gt),u.tagToQueryMap.set(Gt,gt)}let et=function Ig(u,r,s,d,_,T){const x=Iy(u,r,d,_,T);return u.views.has(r._queryIdentifier)||u.views.set(r._queryIdentifier,x),function fv(u,r){u.eventRegistrations_.push(r)}(x,s),function Ty(u,r){const s=u.viewCache_.eventCache,d=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Fs,(T,x)=>{d.push(uf(T,x))}),s.isFullyInitialized()&&d.push(tg(s.getNode())),C_(u,d,s.getNode(),r)}(x,s)}(j,r,s,cm(u.pendingWriteTree_,_),T,ee);if(!he&&!x&&!d){const gt=vm(j,r);et=et.concat(function wf(u,r,s){const d=r._path,_=Im(u,r),T=Dp(u,s),x=u.listenProvider_.startListening(Cc(r),_,T.hashFn,T.onComplete),j=u.syncPointTree_.subtree(d);if(_)(0,Oe.hu)(!Ch(j.value),"If we're adding a query, it shouldn't be shadowed");else{const ee=j.fold((he,je,et)=>{if(!Qr(he)&&je&&Ch(je))return[yf(je).query];{let gt=[];return je&&(gt=gt.concat(ym(je).map(Gt=>Gt.query))),Ca(et,(Gt,Yt)=>{gt=gt.concat(Yt)}),gt}});for(let he=0;he<ee.length;++he){const je=ee[he];u.listenProvider_.stopListening(Cc(je),Im(u,je))}}return x}(u,r,gt))}return et}function Tp(u,r,s){const _=u.pendingWriteTree_,T=u.syncPointTree_.findOnPath(r,(x,j)=>{const he=zd(j,po(x,r));if(he)return he});return yp(_,r,T,s,!0)}function Sh(u,r){return vf(r,u.syncPointTree_,null,cm(u.pendingWriteTree_,Ki()))}function vf(u,r,s,d){if(Qr(u.path))return mv(u,r,s,d);{const _=r.get(Ki());null==s&&null!=_&&(s=zd(_,Ki()));let T=[];const x=si(u.path),j=u.operationForChild(x),ee=r.children.get(x);if(ee&&j){const he=s?s.getImmediateChild(x):null,je=yg(d,x);T=T.concat(vf(j,ee,he,je))}return _&&(T=T.concat(_m(_,u,d,s))),T}}function mv(u,r,s,d){const _=r.get(Ki());null==s&&null!=_&&(s=zd(_,Ki()));let T=[];return r.children.inorderTraversal((x,j)=>{const ee=s?s.getImmediateChild(x):null,he=yg(d,x),je=u.operationForChild(x);je&&(T=T.concat(mv(je,j,ee,he)))}),_&&(T=T.concat(_m(_,u,d,s))),T}function Dp(u,r){const s=r.query,d=Im(u,s);return{hashFn:()=>(function Tg(u){return u.viewCache_.serverCache.getNode()}(r)||Jr.EMPTY_NODE).hash(),onComplete:_=>{if("ok"===_)return d?function gv(u,r,s){const d=Cm(u,s);if(d){const _=Ip(d),T=_.path,x=_.queryId,j=po(T,r);return Ag(u,T,new om(hf(x),j))}return[]}(u,s._path,d):function Tm(u,r){return Sh(u,new om({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(u,s._path);{const T=function Bu(u,r){let s="Unknown Error";"too_big"===u?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?s="Client doesn't have permission to access the desired data.":"unavailable"===u&&(s="The service is unavailable");const d=new Error(u+" at "+r._path.toString()+": "+s);return d.code=u.toUpperCase(),d}(_,s);return Ep(u,s,null,T)}}}}function Im(u,r){const s=bf(r);return u.queryToTagMap.get(s)}function bf(u){return u._path.toString()+"$"+u._queryIdentifier}function Cm(u,r){return u.tagToQueryMap.get(r)}function Ip(u){const r=u.indexOf("$");return(0,Oe.hu)(-1!==r&&r<u.length-1,"Bad queryKey."),{queryId:u.substr(r+1),path:new Hi(u.substr(0,r))}}function Ag(u,r,s){const d=u.syncPointTree_.get(r);return(0,Oe.hu)(d,"Missing sync point for query tag that we're tracking"),_m(d,s,cm(u.pendingWriteTree_,r),null)}function Cc(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function Sy(){return(0,Oe.hu)(wm,"Reference.ts has not been loaded"),wm}())(u._repo,u._path):u}class N_{constructor(r){this.node_=r}getImmediateChild(r){const s=this.node_.getImmediateChild(r);return new N_(s)}node(){return this.node_}}class Ef{constructor(r,s){this.syncTree_=r,this.path_=s}getImmediateChild(r){const s=ys(this.path_,r);return new Ef(this.syncTree_,s)}node(){return Tp(this.syncTree_,this.path_)}}const Nm=function(u,r,s){return u&&"object"==typeof u?((0,Oe.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?_v(u[".sv"],r,s):"object"==typeof u[".sv"]?Ah(u[".sv"],r):void(0,Oe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},_v=function(u,r,s){if("timestamp"===u)return s.timestamp;(0,Oe.hu)(!1,"Unexpected server value: "+u)},Ah=function(u,r,s){u.hasOwnProperty("increment")||(0,Oe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const d=u.increment;"number"!=typeof d&&(0,Oe.hu)(!1,"Unexpected increment value: "+d);const _=r.node();if((0,Oe.hu)(null!==_&&typeof _<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!_.isLeafNode())return d;const x=_.getValue();return"number"!=typeof x?d:x+d},Mm=function(u,r,s,d){return xh(r,new Ef(s,u),d)},M_=function(u,r,s){return xh(u,new N_(r),s)};function xh(u,r,s){const d=u.getPriority().val(),_=Nm(d,r.getImmediateChild(".priority"),s);let T;if(u.isLeafNode()){const x=u,j=Nm(x.getValue(),r,s);return j!==x.getValue()||_!==x.getPriority().val()?new yh(j,no(_)):u}{const x=u;return T=x,_!==x.getPriority().val()&&(T=T.updatePriority(new yh(_))),x.forEachChild(Fs,(j,ee)=>{const he=xh(ee,r.getImmediateChild(j),s);he!==ee&&(T=T.updateImmediateChild(j,he))}),T}}class O_{constructor(r="",s=null,d={children:{},childCount:0}){this.name=r,this.parent=s,this.node=d}}function Tf(u,r){let s=r instanceof Hi?r:new Hi(r),d=u,_=si(s);for(;null!==_;){const T=(0,Oe.DV)(d.node.children,_)||{children:{},childCount:0};d=new O_(_,d,T),s=ds(s),_=si(s)}return d}function Df(u){return u.node.value}function R_(u,r){u.node.value=r,Om(u)}function P_(u){return u.node.childCount>0}function If(u,r){Ca(u.node.children,(s,d)=>{r(new O_(s,u,d))})}function Cp(u,r,s,d){s&&!d&&r(u),If(u,_=>{Cp(_,r,!0,d)}),s&&d&&r(u)}function Cf(u){return new Hi(null===u.parent?u.name:Cf(u.parent)+"/"+u.name)}function Om(u){null!==u.parent&&function L_(u,r,s){const d=function k_(u){return void 0===Df(u)&&!P_(u)}(s),_=(0,Oe.r3)(u.node.children,r);d&&_?(delete u.node.children[r],u.node.childCount--,Om(u)):!d&&!_&&(u.node.children[r]=s.node,u.node.childCount++,Om(u))}(u.parent,u.name,u)}const U_=/[\[\].#$\/\u0000-\u001F\u007F]/,Rm=/[\[\].#$\u0000-\u001F\u007F]/,Nh=10485760,Zu=function(u){return"string"==typeof u&&0!==u.length&&!U_.test(u)},Pm=function(u){return"string"==typeof u&&0!==u.length&&!Rm.test(u)},Sf=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!Nd(u)||u&&"object"==typeof u&&(0,Oe.r3)(u,".sv")},qu=function(u,r,s,d){d&&void 0===r||bu((0,Oe.gK)(u,"value"),r,s)},bu=function(u,r,s){const d=s instanceof Hi?new af(s,u):s;if(void 0===r)throw new Error(u+"contains undefined "+Aa(d));if("function"==typeof r)throw new Error(u+"contains a function "+Aa(d)+" with contents = "+r.toString());if(Nd(r))throw new Error(u+"contains "+r.toString()+" "+Aa(d));if("string"==typeof r&&r.length>Nh/3&&(0,Oe.ug)(r)>Nh)throw new Error(u+"contains a string greater than "+Nh+" utf8 bytes "+Aa(d)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let _=!1,T=!1;if(Ca(r,(x,j)=>{if(".value"===x)_=!0;else if(".priority"!==x&&".sv"!==x&&(T=!0,!Zu(x)))throw new Error(u+" contains an invalid key ("+x+") "+Aa(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function lf(u,r){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(r),u.byteLength_+=(0,Oe.ug)(r),o_(u)})(d,x),bu(u,j,d),function lp(u){const r=u.parts_.pop();u.byteLength_-=(0,Oe.ug)(r),u.parts_.length>0&&(u.byteLength_-=1)}(d)}),_&&T)throw new Error(u+' contains ".value" child '+Aa(d)+" in addition to actual children.")}},Qu=function(u,r,s,d){if(d&&void 0===r)return;const _=(0,Oe.gK)(u,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(_+" must be an object containing the children to replace.");const T=[];Ca(r,(x,j)=>{const ee=new Hi(x);if(bu(_,j,ys(s,ee)),".priority"===gh(ee)&&!Sf(j))throw new Error(_+"contains an invalid value for '"+ee.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(ee)}),function(u,r){let s,d;for(s=0;s<r.length;s++){d=r[s];const T=mh(d);for(let x=0;x<T.length;x++)if((".priority"!==T[x]||x!==T.length-1)&&!Zu(T[x]))throw new Error(u+"contains an invalid key ("+T[x]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(qg);let _=null;for(s=0;s<r.length;s++){if(d=r[s],null!==_&&Vo(_,d))throw new Error(u+"contains a path "+_.toString()+" that is ancestor of another path "+d.toString());_=d}}(_,T)},Af=function(u,r,s){if(!s||void 0!==r){if(Nd(r))throw new Error((0,Oe.gK)(u,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sf(r))throw new Error((0,Oe.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xa=function(u,r,s,d){if(!(d&&void 0===s||Zu(s)))throw new Error((0,Oe.gK)(u,r)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wu=function(u,r,s,d){if(!(d&&void 0===s||Pm(s)))throw new Error((0,Oe.gK)(u,r)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ao=function(u,r){if(".info"===si(r))throw new Error(u+" failed = Can't modify data under /.info/")},Fm=function(u,r){const s=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Zu(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==s.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Pm(u)}(s))throw new Error((0,Oe.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ap{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wd(u,r){let s=null;for(let d=0;d<r.length;d++){const _=r[d],T=_.getPath();null!==s&&!Yc(T,s.path)&&(u.eventLists_.push(s),s=null),null===s&&(s={events:[],path:T}),s.events.push(_)}s&&u.eventLists_.push(s)}function xf(u,r,s){Wd(u,s),Kd(u,d=>Yc(d,r))}function Va(u,r,s){Wd(u,s),Kd(u,d=>Vo(d,r)||Vo(r,d))}function Kd(u,r){u.recursionDepth_++;let s=!0;for(let d=0;d<u.eventLists_.length;d++){const _=u.eventLists_[d];_&&(r(_.path)?(Nf(u.eventLists_[d]),u.eventLists_[d]=null):s=!1)}s&&(u.eventLists_=[]),u.recursionDepth_--}function Nf(u){for(let r=0;r<u.events.length;r++){const s=u.events[r];if(null!==s){u.events[r]=null;const d=s.getEventRunner();Gc&&Ss("event: "+s.toString()),Od(d)}}}const Mh="repo_interrupt";class Yd{constructor(r,s,d,_){this.repoInfo_=r,this.forceRestClient_=s,this.authTokenProvider_=d,this.appCheckProvider_=_,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ap,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mp(),this.transactionQueueTree_=new O_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Lm(u){const s=u.infoData_.getNode(new Hi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function Of(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:Lm(u)})}function Rf(u,r,s,d,_){u.dataUpdateCount++;const T=new Hi(r);s=u.interceptServerDataCallback_?u.interceptServerDataCallback_(r,s):s;let x=[];if(_)if(d){const ee=(0,Oe.UI)(s,he=>no(he));x=function Sg(u,r,s,d){const _=Cm(u,d);if(_){const T=Ip(_),x=T.path,j=T.queryId,ee=po(x,r),he=As.fromObject(s);return Ag(u,x,new pa(hf(j),ee,he))}return[]}(u.serverSyncTree_,T,ee,_)}else{const ee=no(s);x=yd(u.serverSyncTree_,T,ee,_)}else if(d){const ee=(0,Oe.UI)(s,he=>no(he));x=function pv(u,r,s){const d=As.fromObject(s);return Sh(u,new pa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,d))}(u.serverSyncTree_,T,ee)}else{const ee=no(s);x=_d(u.serverSyncTree_,T,ee)}let j=T;x.length>0&&(j=Pf(u,T)),Va(u.eventQueue_,j,x)}function Um(u,r){Na(u,"connected",r),!1===r&&function H_(u){io(u,"onDisconnectEvents");const r=Of(u),s=mp();ig(u.onDisconnect_,Ki(),(_,T)=>{const x=Mm(_,T,u.serverSyncTree_,r);Eh(s,_,x)});let d=[];ig(s,Ki(),(_,T)=>{d=d.concat(_d(u.serverSyncTree_,_,T));const x=Rg(u,_);Pf(u,x)}),u.onDisconnect_=mp(),Va(u.eventQueue_,Ki(),d)}(u)}function Na(u,r,s){const d=new Hi("/.info/"+r),_=no(s);u.infoData_.updateSnapshot(d,_);const T=_d(u.infoSyncTree_,d,_);Va(u.eventQueue_,d,T)}function Sc(u){return u.nextWriteId_++}function j_(u,r,s,d,_){io(u,"set",{path:r.toString(),value:s,priority:d});const T=Of(u),x=no(s,d),j=Tp(u.serverSyncTree_,r),ee=M_(x,j,T),he=Sc(u),je=Ic(u.serverSyncTree_,r,ee,he,!0);Wd(u.eventQueue_,je),u.server_.put(r.toString(),x.val(!0),(gt,Gt)=>{const Yt="ok"===gt;Yt||eo("set at "+r+" failed: "+gt);const vn=md(u.serverSyncTree_,he,!Yt);Va(u.eventQueue_,r,vn),Eu(0,_,gt,Gt)});const et=Rg(u,r);Pf(u,et),Va(u.eventQueue_,et,[])}function G_(u,r,s){u.server_.onDisconnectCancel(r.toString(),(d,_)=>{"ok"===d&&df(u.onDisconnect_,r),Eu(0,s,d,_)})}function $_(u,r,s,d){const _=no(s);u.server_.onDisconnectPut(r.toString(),_.val(!0),(T,x)=>{"ok"===T&&Eh(u.onDisconnect_,r,_),Eu(0,d,T,x)})}function Ts(u,r,s){let d;d=".info"===si(r._path)?Ep(u.infoSyncTree_,r,s):Ep(u.serverSyncTree_,r,s),xf(u.eventQueue_,r._path,d)}function Vm(u){u.persistentConnection_&&u.persistentConnection_.interrupt(Mh)}function io(u,...r){let s="";u.persistentConnection_&&(s=u.persistentConnection_.id+":"),Ss(s,...r)}function Eu(u,r,s,d){r&&Od(()=>{if("ok"===s)r(null);else{const _=(s||"error").toUpperCase();let T=_;d&&(T+=": "+d);const x=new Error(T);x.code=_,r(x)}})}function Mg(u,r,s){return Tp(u.serverSyncTree_,r,s)||Jr.EMPTY_NODE}function xp(u,r=u.transactionQueueTree_){if(r||Og(u,r),Df(r)){const s=My(u,r);(0,Oe.hu)(s.length>0,"Sending zero length transaction queue"),s.every(_=>0===_.status)&&function W_(u,r,s){const d=s.map(he=>he.currentWriteId),_=Mg(u,r,d);let T=_;const x=_.hash();for(let he=0;he<s.length;he++){const je=s[he];(0,Oe.hu)(0===je.status,"tryToSendTransactionQueue_: items in queue should all be run."),je.status=1,je.retryCount++;const et=po(r,je.path);T=T.updateChild(et,je.currentOutputSnapshotRaw)}const j=T.val(!0),ee=r;u.server_.put(ee.toString(),j,he=>{io(u,"transaction put response",{path:ee.toString(),status:he});let je=[];if("ok"===he){const et=[];for(let gt=0;gt<s.length;gt++)s[gt].status=2,je=je.concat(md(u.serverSyncTree_,s[gt].currentWriteId)),s[gt].onComplete&&et.push(()=>s[gt].onComplete(null,!0,s[gt].currentOutputSnapshotResolved)),s[gt].unwatcher();Og(u,Tf(u.transactionQueueTree_,r)),xp(u,u.transactionQueueTree_),Va(u.eventQueue_,r,je);for(let gt=0;gt<et.length;gt++)Od(et[gt])}else{if("datastale"===he)for(let et=0;et<s.length;et++)s[et].status=3===s[et].status?4:0;else{eo("transaction at "+ee.toString()+" failed: "+he);for(let et=0;et<s.length;et++)s[et].status=4,s[et].abortReason=he}Pf(u,r)}},x)}(u,Cf(r),s)}else P_(r)&&If(r,s=>{xp(u,s)})}function Pf(u,r){const s=Hm(u,r),d=Cf(s);return function Ny(u,r,s){if(0===r.length)return;const d=[];let _=[];const x=r.filter(j=>0===j.status).map(j=>j.currentWriteId);for(let j=0;j<r.length;j++){const ee=r[j],he=po(s,ee.path);let et,je=!1;if((0,Oe.hu)(null!==he,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ee.status)je=!0,et=ee.abortReason,_=_.concat(md(u.serverSyncTree_,ee.currentWriteId,!0));else if(0===ee.status)if(ee.retryCount>=25)je=!0,et="maxretry",_=_.concat(md(u.serverSyncTree_,ee.currentWriteId,!0));else{const gt=Mg(u,ee.path,x);ee.currentInputSnapshot=gt;const Gt=r[j].update(gt.val());if(void 0!==Gt){bu("transaction failed: Data returned ",Gt,ee.path);let Yt=no(Gt);"object"==typeof Gt&&null!=Gt&&(0,Oe.r3)(Gt,".priority")||(Yt=Yt.updatePriority(gt.getPriority()));const ir=ee.currentWriteId,Hr=Of(u),Ui=M_(Yt,gt,Hr);ee.currentOutputSnapshotRaw=Yt,ee.currentOutputSnapshotResolved=Ui,ee.currentWriteId=Sc(u),x.splice(x.indexOf(ir),1),_=_.concat(Ic(u.serverSyncTree_,ee.path,Ui,ee.currentWriteId,ee.applyLocally)),_=_.concat(md(u.serverSyncTree_,ir,!0))}else je=!0,et="nodata",_=_.concat(md(u.serverSyncTree_,ee.currentWriteId,!0))}Va(u.eventQueue_,s,_),_=[],je&&(r[j].status=2,setTimeout(r[j].unwatcher,Math.floor(0)),r[j].onComplete&&d.push("nodata"===et?()=>r[j].onComplete(null,!1,r[j].currentInputSnapshot):()=>r[j].onComplete(new Error(et),!1,null)))}Og(u,u.transactionQueueTree_);for(let j=0;j<d.length;j++)Od(d[j]);xp(u,u.transactionQueueTree_)}(u,My(u,s),d),d}function Hm(u,r){let s,d=u.transactionQueueTree_;for(s=si(r);null!==s&&void 0===Df(d);)d=Tf(d,s),s=si(r=ds(r));return d}function My(u,r){const s=[];return Oy(u,r,s),s.sort((d,_)=>d.order-_.order),s}function Oy(u,r,s){const d=Df(r);if(d)for(let _=0;_<d.length;_++)s.push(d[_]);If(r,_=>{Oy(u,_,s)})}function Og(u,r){const s=Df(r);if(s){let d=0;for(let _=0;_<s.length;_++)2!==s[_].status&&(s[d]=s[_],d++);s.length=d,R_(r,s.length>0?s:void 0)}If(r,d=>{Og(u,d)})}function Rg(u,r){const s=Cf(Hm(u,r)),d=Tf(u.transactionQueueTree_,r);return function F_(u,r,s){let d=s?u:u.parent;for(;null!==d;){if(r(d))return!0;d=d.parent}}(d,_=>{Oh(u,_)}),Oh(u,d),Cp(d,_=>{Oh(u,_)}),s}function Oh(u,r){const s=Df(r);if(s){const d=[];let _=[],T=-1;for(let x=0;x<s.length;x++)3===s[x].status||(1===s[x].status?((0,Oe.hu)(T===x-1,"All SENT items should be at beginning of queue."),T=x,s[x].status=3,s[x].abortReason="set"):((0,Oe.hu)(0===s[x].status,"Unexpected transaction status in abort"),s[x].unwatcher(),_=_.concat(md(u.serverSyncTree_,s[x].currentWriteId,!0)),s[x].onComplete&&d.push(s[x].onComplete.bind(null,new Error("set"),!1,null))));-1===T?R_(r,void 0):s.length=T+1,Va(u.eventQueue_,Cf(r),_);for(let x=0;x<d.length;x++)Od(d[x])}}const Tu=function(u,r){const s=vv(u),d=s.namespace;return"firebase.com"===s.domain&&yc(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==s.domain&&yc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&eo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rf(s.host,s.secure,d,"ws"===s.scheme||"wss"===s.scheme,r,"",d!==s.subdomain),path:new Hi(s.pathString)}},vv=function(u){let r="",s="",d="",_="",T="",x=!0,j="https",ee=443;if("string"==typeof u){let he=u.indexOf("//");he>=0&&(j=u.substring(0,he-1),u=u.substring(he+2));let je=u.indexOf("/");-1===je&&(je=u.length);let et=u.indexOf("?");-1===et&&(et=u.length),r=u.substring(0,Math.min(je,et)),je<et&&(_=function Ry(u){let r="";const s=u.split("/");for(let d=0;d<s.length;d++)if(s[d].length>0){let _=s[d];try{_=decodeURIComponent(_.replace(/\+/g," "))}catch{}r+="/"+_}return r}(u.substring(je,et)));const gt=function vd(u){const r={};"?"===u.charAt(0)&&(u=u.substring(1));for(const s of u.split("&")){if(0===s.length)continue;const d=s.split("=");2===d.length?r[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):eo(`Invalid query segment '${s}' in query '${u}'`)}return r}(u.substring(Math.min(u.length,et)));he=r.indexOf(":"),he>=0?(x="https"===j||"wss"===j,ee=parseInt(r.substring(he+1),10)):he=r.length;const Gt=r.slice(0,he);if("localhost"===Gt.toLowerCase())s="localhost";else if(Gt.split(".").length<=2)s=Gt;else{const Yt=r.indexOf(".");d=r.substring(0,Yt).toLowerCase(),s=r.substring(Yt+1),T=d}"ns"in gt&&(T=gt.ns)}return{host:r,port:ee,domain:s,subdomain:d,secure:x,scheme:j,pathString:_,namespace:T}},bd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kf=function(){let u=0;const r=[];return function(s){const d=s===u;let _;u=s;const T=new Array(8);for(_=7;_>=0;_--)T[_]=bd.charAt(s%64),s=Math.floor(s/64);(0,Oe.hu)(0===s,"Cannot push at time == 0");let x=T.join("");if(d){for(_=11;_>=0&&63===r[_];_--)r[_]=0;r[_]++}else for(_=0;_<12;_++)r[_]=Math.floor(64*Math.random());for(_=0;_<12;_++)x+=bd.charAt(r[_]);return(0,Oe.hu)(20===x.length,"nextPushId: Length should be 20."),x}}();class K_{constructor(r,s,d,_){this.eventType=r,this.eventRegistration=s,this.snapshot=d,this.prevName=_}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Oe.Wl)(this.snapshot.exportVal())}}class Y_{constructor(r,s,d){this.eventRegistration=r,this.error=s,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Pg{constructor(r,s){this.snapshotCallback=r,this.cancelCallback=s}onValue(r,s){this.snapshotCallback.call(null,r,s)}onCancel(r){return(0,Oe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Gm{constructor(r,s){this._repo=r,this._path=s}cancel(){const r=new Oe.BH;return G_(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){Ao("OnDisconnect.remove",this._path);const r=new Oe.BH;return $_(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){Ao("OnDisconnect.set",this._path),qu("OnDisconnect.set",r,this._path,!1);const s=new Oe.BH;return $_(this._repo,this._path,r,s.wrapCallback(()=>{})),s.promise}setWithPriority(r,s){Ao("OnDisconnect.setWithPriority",this._path),qu("OnDisconnect.setWithPriority",r,this._path,!1),Af("OnDisconnect.setWithPriority",s,!1);const d=new Oe.BH;return function Ng(u,r,s,d,_){const T=no(s,d);u.server_.onDisconnectPut(r.toString(),T.val(!0),(x,j)=>{"ok"===x&&Eh(u.onDisconnect_,r,T),Eu(0,_,x,j)})}(this._repo,this._path,r,s,d.wrapCallback(()=>{})),d.promise}update(r){Ao("OnDisconnect.update",this._path),Qu("OnDisconnect.update",r,this._path,!1);const s=new Oe.BH;return function z_(u,r,s,d){if((0,Oe.xb)(s))return Ss("onDisconnect().update() called with empty data.  Don't do anything."),void Eu(0,d,"ok",void 0);u.server_.onDisconnectMerge(r.toString(),s,(_,T)=>{"ok"===_&&Ca(s,(x,j)=>{const ee=no(j);Eh(u.onDisconnect_,ys(r,x),ee)}),Eu(0,d,_,T)})}(this._repo,this._path,r,s.wrapCallback(()=>{})),s.promise}}class Xa{constructor(r,s,d,_){this._repo=r,this._path=s,this._queryParams=d,this._orderByCalled=_}get key(){return Qr(this._path)?null:gh(this._path)}get ref(){return new rc(this._repo,this._path)}get _queryIdentifier(){const r=uv(this._queryParams),s=Co(r);return"{}"===s?"default":s}get _queryObject(){return uv(this._queryParams)}isEqual(r){if(!((r=(0,Oe.m9)(r))instanceof Xa))return!1;const s=this._repo===r._repo,d=Yc(this._path,r._path);return s&&d&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function sf(u){let r="";for(let s=u.pieceNum_;s<u.pieces_.length;s++)""!==u.pieces_[s]&&(r+="/"+encodeURIComponent(String(u.pieces_[s])));return r||"/"}(this._path)}}function kg(u,r){if(!0===u._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function nc(u){let r=null,s=null;if(u.hasStart()&&(r=u.getIndexStartValue()),u.hasEnd()&&(s=u.getIndexEndValue()),u.getIndex()===Gu){const d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",_="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==vc)throw new Error(d);if("string"!=typeof r)throw new Error(_)}if(u.hasEnd()){if(u.getIndexEndName()!==hu)throw new Error(d);if("string"!=typeof s)throw new Error(_)}}else if(u.getIndex()===Fs){if(null!=r&&!Sf(r)||null!=s&&!Sf(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Oe.hu)(u.getIndex()instanceof vh||u.getIndex()===eg,"unknown index type."),null!=r&&"object"==typeof r||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Rh(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class rc extends Xa{constructor(r,s){super(r,s,new pd,!1)}get parent(){const r=_h(this._path);return null===r?null:new rc(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Ph{constructor(r,s,d){this._node=r,this.ref=s,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const s=new Hi(r),d=Ff(this.ref,r);return new Ph(this._node.getChild(s),d,Fs)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,_)=>r(new Ph(_,Ff(this.ref,d),Fs)))}hasChild(r){const s=new Hi(r);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $m(u,r){return(u=(0,Oe.m9)(u))._checkNotDeleted("ref"),void 0!==r?Ff(u._root,r):u._root}function Z_(u,r){(u=(0,Oe.m9)(u))._checkNotDeleted("refFromURL");const s=Tu(r,u._repo.repoInfo_.nodeAdmin);Fm("refFromURL",s);const d=s.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&d.host!==u._repo.repoInfo_.host&&yc("refFromURL: Host name does not match the current database: (found "+d.host+" but expected "+u._repo.repoInfo_.host+")"),$m(u,s.path.toString())}function Ff(u,r){return null===si((u=(0,Oe.m9)(u))._path)?(s=r,s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),wu("child","path",s,!1)):wu("child","path",r,!1),new rc(u._repo,ys(u._path,r));var s}function Wm(u,r){u=(0,Oe.m9)(u),Ao("set",u._path),qu("set",r,u._path,!1);const s=new Oe.BH;return j_(u._repo,u._path,r,null,s.wrapCallback(()=>{})),s.promise}function Q_(u,r){Qu("update",r,u._path,!1);const s=new Oe.BH;return function Bm(u,r,s,d){io(u,"update",{path:r.toString(),value:s});let _=!0;const T=Of(u),x={};if(Ca(s,(j,ee)=>{_=!1,x[j]=Mm(ys(r,j),no(ee),u.serverSyncTree_,T)}),_)Ss("update() called with empty data.  Don't do anything."),Eu(0,d,"ok",void 0);else{const j=Sc(u),ee=function Cg(u,r,s,d){!function Wv(u,r,s,d){(0,Oe.hu)(d>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:r,children:s,writeId:d,visible:!0}),u.visibleWrites=Dh(u.visibleWrites,r,s),u.lastWriteId=d}(u.pendingWriteTree_,r,s,d);const _=As.fromObject(s);return Sh(u,new pa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,_))}(u.serverSyncTree_,r,x,j);Wd(u.eventQueue_,ee),u.server_.merge(r.toString(),s,(he,je)=>{const et="ok"===he;et||eo("update at "+r+" failed: "+he);const gt=md(u.serverSyncTree_,j,!et),Gt=gt.length>0?Pf(u,r):r;Va(u.eventQueue_,Gt,gt),Eu(0,d,he,je)}),Ca(s,he=>{const je=Rg(u,ys(r,he));Pf(u,je)}),Va(u.eventQueue_,r,[])}}(u._repo,u._path,r,s.wrapCallback(()=>{})),s.promise}function Km(u){u=(0,Oe.m9)(u);const r=new Pg(()=>{}),s=new Ac(r);return function V_(u,r,s){const d=function Dm(u,r){const s=r._path;let d=null;u.syncPointTree_.foreachOnPath(s,(he,je)=>{const et=po(he,s);d=d||zd(je,et)});let _=u.syncPointTree_.get(s);_?d=d||zd(_,Ki()):(_=new Dy,u.syncPointTree_=u.syncPointTree_.set(s,_));const T=null!=d,x=T?new ff(d,!0,!1):null;return function wy(u){return vu(u.viewCache_)}(Iy(_,r,cm(u.pendingWriteTree_,r._path),T?x.getNode():Jr.EMPTY_NODE,T))}(u.serverSyncTree_,r);return null!=d?Promise.resolve(d):u.server_.get(r).then(_=>{const T=no(_).withIndex(r._queryParams.getIndex());let x;if(x_(u.serverSyncTree_,r,s,!0),r._queryParams.loadsAllData())x=_d(u.serverSyncTree_,r._path,T);else{const j=Im(u.serverSyncTree_,r);x=yd(u.serverSyncTree_,r._path,T,j)}return Va(u.eventQueue_,r._path,x),Ep(u.serverSyncTree_,r,s,null,!0),T},_=>(io(u,"get for query "+(0,Oe.Wl)(r)+" failed: "+_),Promise.reject(new Error(_))))}(u._repo,u,s).then(d=>new Ph(d,new rc(u._repo,u._path),u._queryParams.getIndex()))}class Ac{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,s){const d=s._queryParams.getIndex();return new K_("value",this,new Ph(r.snapshotNode,new rc(s._repo,s._path),d))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,s){return this.callbackContext.hasCancelCallback?new Y_(this,r,s):null}matches(r){return r instanceof Ac&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ym{constructor(r,s){this.eventType=r,this.callbackContext=s}respondsTo(r){let s="children_added"===r?"child_added":r;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(r,s){return this.callbackContext.hasCancelCallback?new Y_(this,r,s):null}createEvent(r,s){(0,Oe.hu)(null!=r.childName,"Child events should have a childName.");const d=Ff(new rc(s._repo,s._path),r.childName),_=s._queryParams.getIndex();return new K_(r.type,this,new Ph(r.snapshotNode,d,_),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Ym&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Fh(u,r,s,d,_){let T;if("object"==typeof d&&(T=void 0,_=d),"function"==typeof d&&(T=d),_&&_.onlyOnce){const ee=s,he=(je,et)=>{Ts(u._repo,u,j),ee(je,et)};he.userCallback=s.userCallback,he.context=s.context,s=he}const x=new Pg(s,T||void 0),j="value"===r?new Ac(x):new Ym(r,x);return function yv(u,r,s){let d;d=".info"===si(r._path)?x_(u.infoSyncTree_,r,s):x_(u.serverSyncTree_,r,s),xf(u.eventQueue_,r._path,d)}(u._repo,u,j),()=>Ts(u._repo,u,j)}function Lf(u,r,s,d){return Fh(u,"value",r,s,d)}function J_(u,r,s,d){return Fh(u,"child_added",r,s,d)}function Uf(u,r,s,d){return Fh(u,"child_changed",r,s,d)}function bv(u,r,s,d){return Fh(u,"child_moved",r,s,d)}function Bf(u,r,s,d){return Fh(u,"child_removed",r,s,d)}function Fg(u,r,s){let d=null;const _=s?new Pg(s):null;"value"===r?d=new Ac(_):r&&(d=new Ym(r,_)),Ts(u._repo,u,d)}class ea{}class Np extends ea{constructor(r,s){super(),this._value=r,this._key=s}_apply(r){qu("endAt",this._value,r._path,!0);const s=ng(r._queryParams,this._value,this._key);if(Rh(s),nc(s),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xa(r._repo,r._path,s,r._orderByCalled)}}class xc extends ea{constructor(r,s){super(),this._value=r,this._key=s}_apply(r){qu("endBefore",this._value,r._path,!1);const s=function cv(u,r,s){let d;return d=ng(u,r,u.index_===Gu||s?s:vc),d.endBeforeSet_=!0,d}(r._queryParams,this._value,this._key);if(Rh(s),nc(s),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xa(r._repo,r._path,s,r._orderByCalled)}}class gl extends ea{constructor(r,s){super(),this._value=r,this._key=s}_apply(r){qu("startAt",this._value,r._path,!0);const s=wh(r._queryParams,this._value,this._key);if(Rh(s),nc(s),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xa(r._repo,r._path,s,r._orderByCalled)}}class Ev extends ea{constructor(r,s){super(),this._value=r,this._key=s}_apply(r){qu("startAfter",this._value,r._path,!1);const s=function my(u,r,s){let d;return d=wh(u,r,u.index_===Gu||s?s:hu),d.startAfterSet_=!0,d}(r._queryParams,this._value,this._key);if(Rh(s),nc(s),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xa(r._repo,r._path,s,r._orderByCalled)}}class Tv extends ea{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xa(r._repo,r._path,function h_(u,r){const s=u.copy();return s.limitSet_=!0,s.limit_=r,s.viewFrom_="l",s}(r._queryParams,this._limit),r._orderByCalled)}}class Dv extends ea{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xa(r._repo,r._path,function bh(u,r){const s=u.copy();return s.limitSet_=!0,s.limit_=r,s.viewFrom_="r",s}(r._queryParams,this._limit),r._orderByCalled)}}class Lh extends ea{constructor(r){super(),this._path=r}_apply(r){kg(r,"orderByChild");const s=new Hi(this._path);if(Qr(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const d=new vh(s),_=rg(r._queryParams,d);return nc(_),new Xa(r._repo,r._path,_,!0)}}class ky extends ea{_apply(r){kg(r,"orderByKey");const s=rg(r._queryParams,Gu);return nc(s),new Xa(r._repo,r._path,s,!0)}}class Fy extends ea{_apply(r){kg(r,"orderByPriority");const s=rg(r._queryParams,Fs);return nc(s),new Xa(r._repo,r._path,s,!0)}}class Lg extends ea{_apply(r){kg(r,"orderByValue");const s=rg(r._queryParams,eg);return nc(s),new Xa(r._repo,r._path,s,!0)}}class ty extends ea{constructor(r,s){super(),this._value=r,this._key=s}_apply(r){if(qu("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Np(this._value,this._key)._apply(new gl(this._value,this._key)._apply(r))}}function Nc(u,...r){let s=(0,Oe.m9)(u);for(const d of r)s=d._apply(s);return s}(function qc(u){(0,Oe.hu)(!Dg,"__referenceConstructor has already been defined"),Dg=u})(rc),function A_(u){(0,Oe.hu)(!wm,"__referenceConstructor has already been defined"),wm=u}(rc);const Vf={};function Vy(u,r,s,d,_){let T=d||u.options.databaseURL;void 0===T&&(u.options.projectId||yc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ss("Using default host for project ",u.options.projectId),T=`${u.options.projectId}-default-rtdb.firebaseio.com`);let ee,he,x=Tu(T,_),j=x.repoInfo;typeof process<"u"&&process.env&&(he=process.env.FIREBASE_DATABASE_EMULATOR_HOST),he?(ee=!0,T=`http://${he}?ns=${j.namespace}`,x=Tu(T,_),j=x.repoInfo):ee=!x.repoInfo.secure;const je=_&&ee?new ef(ef.OWNER):new r_(u.name,u.options,r);Fm("Invalid Firebase Database URL",x),Qr(x.path)||yc("Database URL must point to the root of a Firebase Database (not including a child path).");const et=function jy(u,r,s,d){let _=Vf[r.name];_||(_={},Vf[r.name]=_);let T=_[u.toURLString()];return T&&yc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new Yd(u,false,s,d),_[u.toURLString()]=T,T}(j,u,je,new Zg(u.name,s));return new Av(et,u)}class Av{constructor(r,s){this._repoInternal=r,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ai(u,r,s){if(u.stats_=g(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new pp(u.repoInfo_,(d,_,T,x)=>{Rf(u,d,_,T,x)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Um(u,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Oe.Wl)(s)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}u.persistentConnection_=new cf(u.repoInfo_,r,(d,_,T,x)=>{Rf(u,d,_,T,x)},d=>{Um(u,d)},d=>{!function ro(u,r){Ca(r,(s,d)=>{Na(u,s,d)})}(u,d)},u.authTokenProvider_,u.appCheckProvider_,s),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(d=>{u.server_.refreshAuthToken(d)}),u.appCheckProvider_.addTokenChangeListener(d=>{u.server_.refreshAppCheckToken(d.token)}),u.statsReporter_=function I(u,r){const s=u.toString();return Yp[s]||(Yp[s]=r()),Yp[s]}(u.repoInfo_,()=>new g_(u.stats_,u.server_)),u.infoData_=new gp,u.infoSyncTree_=new Ay({startListening:(d,_,T,x)=>{let j=[];const ee=u.infoData_.getNode(d._path);return ee.isEmpty()||(j=_d(u.infoSyncTree_,d._path,ee),setTimeout(()=>{x("ok")},0)),j},stopListening:()=>{}}),Na(u,"connected",!1),u.serverSyncTree_=new Ay({startListening:(d,_,T,x)=>(u.server_.listen(d,T,_,(j,ee)=>{const he=x(j,ee);Va(u.eventQueue_,d._path,he)}),[]),stopListening:(d,_)=>{u.server_.unlisten(d,_)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rc(this._repo,Ki())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Cv(u,r){const s=Vf[r];(!s||s[u.key]!==u)&&yc(`Database ${r}(${u.repoInfo_}) has already been deleted.`),Vm(u),delete s[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&yc("Cannot call "+r+" on a deleted database.")}}function qd(){So.IS_TRANSPORT_INITIALIZED&&eo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Qd(){qd(),qr.forceDisallow()}function Bg(){qd(),_s.forceDisallow(),qr.forceAllow()}function Bh(u,r){Xl(u,r)}const Mv={".sv":"timestamp"};class Pv{constructor(r,s){this.committed=r,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cf.prototype.simpleListen=function(u,r){this.sendRequest("q",{p:u},r)},cf.prototype.echo=function(u,r){this.sendRequest("echo",{d:u},r)},function Nv(u){Jh(Wa.SDK_VERSION),(0,Wa._registerComponent)(new Il.wA("database",(r,{instanceIdentifier:s})=>Vy(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,Wa.registerVersion)(qh,"0.14.4",u),(0,Wa.registerVersion)(qh,"0.14.4","esm2017")}();const Wy=new Vc.Yd("@firebase/database-compat"),Vh=function(u){Wy.warn("FIREBASE WARNING: "+u)};class Ky{constructor(r){this._delegate=r}cancel(r){(0,Oe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Oe.Wj)("OnDisconnect.cancel","onComplete",r,!0);const s=this._delegate.cancel();return r&&s.then(()=>r(null),d=>r(d)),s}remove(r){(0,Oe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Oe.Wj)("OnDisconnect.remove","onComplete",r,!0);const s=this._delegate.remove();return r&&s.then(()=>r(null),d=>r(d)),s}set(r,s){(0,Oe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Oe.Wj)("OnDisconnect.set","onComplete",s,!0);const d=this._delegate.set(r);return s&&d.then(()=>s(null),_=>s(_)),d}setWithPriority(r,s,d){(0,Oe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Oe.Wj)("OnDisconnect.setWithPriority","onComplete",d,!0);const _=this._delegate.setWithPriority(r,s);return d&&_.then(()=>d(null),T=>d(T)),_}update(r,s){if((0,Oe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const _={};for(let T=0;T<r.length;++T)_[""+T]=r[T];r=_,Vh("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Oe.Wj)("OnDisconnect.update","onComplete",s,!0);const d=this._delegate.update(r);return s&&d.then(()=>s(null),_=>s(_)),d}}class Yy{constructor(r,s){this.committed=r,this.snapshot=s}toJSON(){return(0,Oe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Jd{constructor(r,s){this._database=r,this._delegate=s}val(){return(0,Oe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Oe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Oe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Oe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,Oe.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),wu("DataSnapshot.child","path",r,!1),new Jd(this._database,this._delegate.child(r))}hasChild(r){return(0,Oe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wu("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,Oe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,Oe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Oe.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(s=>r(new Jd(this._database,s)))}hasChildren(){return(0,Oe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Oe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Oe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ml{constructor(r,s){this.database=r,this._delegate=s}on(r,s,d,_){var T;(0,Oe.Dv)("Query.on",2,4,arguments.length),(0,Oe.Wj)("Query.on","callback",s,!1);const x=ml.getCancelAndContextArgs_("Query.on",d,_),j=(he,je)=>{s.call(x.context,new Jd(this.database,he),je)};j.userCallback=s,j.context=x.context;const ee=null===(T=x.cancel)||void 0===T?void 0:T.bind(x.context);switch(r){case"value":return Lf(this._delegate,j,ee),s;case"child_added":return J_(this._delegate,j,ee),s;case"child_removed":return Bf(this._delegate,j,ee),s;case"child_changed":return Uf(this._delegate,j,ee),s;case"child_moved":return bv(this._delegate,j,ee),s;default:throw new Error((0,Oe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,s,d){if((0,Oe.Dv)("Query.off",0,3,arguments.length),function(u,r,s){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Oe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,Oe.Wj)("Query.off","callback",s,!0),(0,Oe.lb)("Query.off","context",d,!0),s){const _=()=>{};_.userCallback=s,_.context=d,Fg(this._delegate,r,_)}else Fg(this._delegate,r)}get(){return Km(this._delegate).then(r=>new Jd(this.database,r))}once(r,s,d,_){(0,Oe.Dv)("Query.once",1,4,arguments.length),(0,Oe.Wj)("Query.once","callback",s,!0);const T=ml.getCancelAndContextArgs_("Query.once",d,_),x=new Oe.BH,j=(he,je)=>{const et=new Jd(this.database,he);s&&s.call(T.context,et,je),x.resolve(et)};j.userCallback=s,j.context=T.context;const ee=he=>{T.cancel&&T.cancel.call(T.context,he),x.reject(he)};switch(r){case"value":Lf(this._delegate,j,ee,{onlyOnce:!0});break;case"child_added":J_(this._delegate,j,ee,{onlyOnce:!0});break;case"child_removed":Bf(this._delegate,j,ee,{onlyOnce:!0});break;case"child_changed":Uf(this._delegate,j,ee,{onlyOnce:!0});break;case"child_moved":bv(this._delegate,j,ee,{onlyOnce:!0});break;default:throw new Error((0,Oe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return x.promise}limitToFirst(r){return(0,Oe.Dv)("Query.limitToFirst",1,1,arguments.length),new ml(this.database,Nc(this._delegate,function Zm(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Tv(u)}(r)))}limitToLast(r){return(0,Oe.Dv)("Query.limitToLast",1,1,arguments.length),new ml(this.database,Nc(this._delegate,function ey(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Dv(u)}(r)))}orderByChild(r){return(0,Oe.Dv)("Query.orderByChild",1,1,arguments.length),new ml(this.database,Nc(this._delegate,function Iv(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wu("orderByChild","path",u,!1),new Lh(u)}(r)))}orderByKey(){return(0,Oe.Dv)("Query.orderByKey",0,0,arguments.length),new ml(this.database,Nc(this._delegate,function qm(){return new ky}()))}orderByPriority(){return(0,Oe.Dv)("Query.orderByPriority",0,0,arguments.length),new ml(this.database,Nc(this._delegate,function Ly(){return new Fy}()))}orderByValue(){return(0,Oe.Dv)("Query.orderByValue",0,0,arguments.length),new ml(this.database,Nc(this._delegate,function Uy(){return new Lg}()))}startAt(r=null,s){return(0,Oe.Dv)("Query.startAt",0,2,arguments.length),new ml(this.database,Nc(this._delegate,function wv(u=null,r){return xa("startAt","key",r,!0),new gl(u,r)}(r,s)))}startAfter(r=null,s){return(0,Oe.Dv)("Query.startAfter",0,2,arguments.length),new ml(this.database,Nc(this._delegate,function X_(u,r){return xa("startAfter","key",r,!0),new Ev(u,r)}(r,s)))}endAt(r=null,s){return(0,Oe.Dv)("Query.endAt",0,2,arguments.length),new ml(this.database,Nc(this._delegate,function Zd(u,r){return xa("endAt","key",r,!0),new Np(u,r)}(r,s)))}endBefore(r=null,s){return(0,Oe.Dv)("Query.endBefore",0,2,arguments.length),new ml(this.database,Nc(this._delegate,function Ju(u,r){return xa("endBefore","key",r,!0),new xc(u,r)}(r,s)))}equalTo(r,s){return(0,Oe.Dv)("Query.equalTo",1,2,arguments.length),new ml(this.database,Nc(this._delegate,function ny(u,r){return xa("equalTo","key",r,!0),new ty(u,r)}(r,s)))}toString(){return(0,Oe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Oe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,Oe.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof ml))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,s,d){const _={cancel:void 0,context:void 0};if(s&&d)_.cancel=s,(0,Oe.Wj)(r,"cancel",_.cancel,!0),_.context=d,(0,Oe.lb)(r,"context",_.context,!0);else if(s)if("object"==typeof s&&null!==s)_.context=s;else{if("function"!=typeof s)throw new Error((0,Oe.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");_.cancel=s}return _}get ref(){return new Qc(this.database,new rc(this._delegate._repo,this._delegate._path))}}class Qc extends ml{constructor(r,s){super(r,new Xa(s._repo,s._path,new pd,!1)),this.database=r,this._delegate=s}getKey(){return(0,Oe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,Oe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Qc(this.database,Ff(this._delegate,r))}getParent(){(0,Oe.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Qc(this.database,r):null}getRoot(){return(0,Oe.Dv)("Reference.root",0,0,arguments.length),new Qc(this.database,this._delegate.root)}set(r,s){(0,Oe.Dv)("Reference.set",1,2,arguments.length),(0,Oe.Wj)("Reference.set","onComplete",s,!0);const d=Wm(this._delegate,r);return s&&d.then(()=>s(null),_=>s(_)),d}update(r,s){if((0,Oe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const _={};for(let T=0;T<r.length;++T)_[""+T]=r[T];r=_,Vh("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ao("Reference.update",this._delegate._path),(0,Oe.Wj)("Reference.update","onComplete",s,!0);const d=Q_(this._delegate,r);return s&&d.then(()=>s(null),_=>s(_)),d}setWithPriority(r,s,d){(0,Oe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Oe.Wj)("Reference.setWithPriority","onComplete",d,!0);const _=function Py(u,r,s){if(Ao("setWithPriority",u._path),qu("setWithPriority",r,u._path,!1),Af("setWithPriority",s,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const d=new Oe.BH;return j_(u._repo,u._path,r,s,d.wrapCallback(()=>{})),d.promise}(this._delegate,r,s);return d&&_.then(()=>d(null),T=>d(T)),_}remove(r){(0,Oe.Dv)("Reference.remove",0,1,arguments.length),(0,Oe.Wj)("Reference.remove","onComplete",r,!0);const s=function q_(u){return Ao("remove",u._path),Wm(u,null)}(this._delegate);return r&&s.then(()=>r(null),d=>r(d)),s}transaction(r,s,d){(0,Oe.Dv)("Reference.transaction",1,3,arguments.length),(0,Oe.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,Oe.Wj)("Reference.transaction","onComplete",s,!0),function(u,r,s,d){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,Oe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,d);const _=function $y(u,r,s){var d;if(u=(0,Oe.m9)(u),Ao("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const _=null===(d=s?.applyLocally)||void 0===d||d,T=new Oe.BH,j=Lf(u,()=>{});return function jm(u,r,s,d,_,T){io(u,"transaction on "+r);const x={path:r,update:s,onComplete:d,status:null,order:Vp(),applyLocally:T,retryCount:0,unwatcher:_,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},j=Mg(u,r,void 0);x.currentInputSnapshot=j;const ee=x.update(j.val());if(void 0===ee)x.unwatcher(),x.currentOutputSnapshotRaw=null,x.currentOutputSnapshotResolved=null,x.onComplete&&x.onComplete(null,!1,x.currentInputSnapshot);else{bu("transaction failed: Data returned ",ee,x.path),x.status=0;const he=Tf(u.transactionQueueTree_,r),je=Df(he)||[];let et;je.push(x),R_(he,je),"object"==typeof ee&&null!==ee&&(0,Oe.r3)(ee,".priority")?(et=(0,Oe.DV)(ee,".priority"),(0,Oe.hu)(Sf(et),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):et=(Tp(u.serverSyncTree_,r)||Jr.EMPTY_NODE).getPriority().val();const gt=Of(u),Gt=no(ee,et),Yt=M_(Gt,j,gt);x.currentOutputSnapshotRaw=Gt,x.currentOutputSnapshotResolved=Yt,x.currentWriteId=Sc(u);const vn=Ic(u.serverSyncTree_,r,Yt,x.currentWriteId,x.applyLocally);Va(u.eventQueue_,r,vn),xp(u,u.transactionQueueTree_)}}(u._repo,u._path,r,(ee,he,je)=>{let et=null;ee?T.reject(ee):(et=new Ph(je,new rc(u._repo,u._path),Fs),T.resolve(new Pv(he,et)))},j,_),T.promise}(this._delegate,r,{applyLocally:d}).then(T=>new Yy(T.committed,new Jd(this.database,T.snapshot)));return s&&_.then(T=>s(null,T.committed,T.snapshot),T=>s(T,!1,null)),_}setPriority(r,s){(0,Oe.Dv)("Reference.setPriority",1,2,arguments.length),(0,Oe.Wj)("Reference.setPriority","onComplete",s,!0);const d=function kh(u,r){u=(0,Oe.m9)(u),Ao("setPriority",u._path),Af("setPriority",r,!1);const s=new Oe.BH;return j_(u._repo,ys(u._path,".priority"),r,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,r);return s&&d.then(()=>s(null),_=>s(_)),d}push(r,s){(0,Oe.Dv)("Reference.push",0,2,arguments.length),(0,Oe.Wj)("Reference.push","onComplete",s,!0);const d=function zm(u,r){u=(0,Oe.m9)(u),Ao("push",u._path),qu("push",r,u._path,!0);const s=Lm(u._repo),d=kf(s),_=Ff(u,d),T=Ff(u,d);let x;return x=null!=r?Wm(T,r).then(()=>T):Promise.resolve(T),_.then=x.then.bind(x),_.catch=x.then.bind(x,void 0),_}(this._delegate,r),_=d.then(x=>new Qc(this.database,x));s&&_.then(()=>s(null),x=>s(x));const T=new Qc(this.database,d);return T.then=_.then.bind(_),T.catch=_.catch.bind(_,void 0),T}onDisconnect(){return Ao("Reference.onDisconnect",this._delegate._path),new Ky(new Gm(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class jf{constructor(r,s){this._delegate=r,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Qd,forceLongPolling:Bg}}useEmulator(r,s,d={}){!function Hy(u,r,s,d={}){(u=(0,Oe.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&yc("Cannot call useEmulator() after instance has already been initialized.");const _=u._repoInternal;let T;if(_.repoInfo_.nodeAdmin)d.mockUserToken&&yc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new ef(ef.OWNER);else if(d.mockUserToken){const x="string"==typeof d.mockUserToken?d.mockUserToken:(0,Oe.Sg)(d.mockUserToken,u.app.options.projectId);T=new ef(x)}!function By(u,r,s,d){u.repoInfo_=new rf(`${r}:${s}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),d&&(u.authTokenProvider_=d)}(_,r,s,T)}(this._delegate,r,s,d)}ref(r){if((0,Oe.Dv)("database.ref",0,1,arguments.length),r instanceof Qc){const s=Z_(this._delegate,r.toString());return new Qc(this,s)}{const s=$m(this._delegate,r);return new Qc(this,s)}}refFromURL(r){(0,Oe.Dv)("database.refFromURL",1,1,arguments.length);const d=Z_(this._delegate,r);return new Qc(this,d)}goOffline(){return(0,Oe.Dv)("database.goOffline",0,0,arguments.length),function Gy(u){(u=(0,Oe.m9)(u))._checkNotDeleted("goOffline"),Vm(u._repo)}(this._delegate)}goOnline(){return(0,Oe.Dv)("database.goOnline",0,0,arguments.length),function xv(u){(u=(0,Oe.m9)(u))._checkNotDeleted("goOnline"),function xy(u){u.persistentConnection_&&u.persistentConnection_.resume(Mh)}(u._repo)}(this._delegate)}}jf.ServerValue={TIMESTAMP:function Ov(){return Mv}(),increment:u=>function Rv(u){return{".sv":{increment:u}}}(u)};var Hf=Object.freeze({__proto__:null,initStandalone:function Zy({app:u,url:r,version:s,customAuthImpl:d,namespace:_,nodeAdmin:T=!1}){Jh(s);const x=new Il.zt("auth-internal",new Il.H0("database-standalone"));return x.setComponent(new Il.wA("auth-internal",()=>d,"PRIVATE")),{instance:new jf(Vy(u,x,void 0,r,T),u),namespace:_}}});const Jv=jf.ServerValue;function Jm(u){return null==u}function Bv(u){return"function"==typeof u.set}function ry(u,r){return Bv(r)?r:u.ref(r)}function iy(u,r){if(function Gf(u){return"string"==typeof u}(u))return r.stringCase();if(Bv(u))return r.firebaseCase();if(function $f(u){return"function"==typeof u.exportVal}(u))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function Xm(u,r,s="on",d=Xf.z){return new Rs.y(_=>{let T=null;return T=u[s](r,(x,j)=>{d.schedule(()=>{_.next({snapshot:x,prevKey:j})}),"once"===s&&d.schedule(()=>_.complete())},x=>{d.schedule(()=>_.error(x))}),"on"===s?{unsubscribe(){null!=T&&u.off(r,T)}}:{unsubscribe(){}}}).pipe((0,cn.U)(_=>{const{snapshot:T,prevKey:x}=_;let j=null;return T.exists()&&(j=T.key),{type:r,payload:T,prevKey:x,key:j}}),(0,ep.B)())}function qy(u,r){const s=u.length;for(let d=0;d<s;d++)if(u[d].payload.key===r)return d;return-1}function e0(u,r){const{payload:s,prevKey:d,key:_}=r,T=qy(u,_),x=function Xv(u,r){if(Jm(r))return 0;{const s=qy(u,r);return-1===s?u.length:s+1}}(u,d);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let j=null;r.payload.forEach(ee=>{const he={payload:ee,type:"value",prevKey:j,key:ee.key};return j=ee.key,u=[...u,he],!1})}return u;case"child_added":if(T>-1){const j=u[T-1];(j&&j.key||null)!==d&&(u=u.filter(ee=>ee.payload.key!==s.key)).splice(x,0,r)}else{if(null==d)return[r,...u];(u=u.slice()).splice(x,0,r)}return u;case"child_removed":return u.filter(j=>j.payload.key!==s.key);case"child_changed":return u.map(j=>j.payload.key===_?r:j);case"child_moved":if(T>-1){const j=u.splice(T,1)[0];return(u=u.slice()).splice(x,0,j),u}return u;default:return u}}function jh(u){return(Jm(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function Qy(u,r,s){return function Pr(u,r,s){return Xm(u,"value","once",s).pipe((0,Tt.w)(d=>{const _=[(0,Sn.of)(d)];return r.forEach(T=>_.push(Xm(u,T,"on",s))),(0,uu.T)(..._).pipe((0,Kh.R)(e0,[]))}),(0,Yh.x)())}(u,r=jh(r),s)}function Vg(u,r,s){const d=(r=jh(r)).map(_=>Xm(u,_,"on",s));return(0,uu.T)(...d)}function zf(u,r){return function(d,_){return iy(d,{stringCase:()=>u.child(d)[r](_),firebaseCase:()=>d[r](_),snapshotCase:()=>d.ref[r](_)})}}function e_(u){return function(s){return s?iy(s,{stringCase:()=>u.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):u.remove()}}function sy(u,r){return function(){return Xm(u,"value","on",r)}}!function Uv(u){u.INTERNAL.registerComponent(new Il.wA("database-compat",(r,{instanceIdentifier:s})=>{const d=r.getProvider("app-compat").getImmediate(),_=r.getProvider("database").getImmediate({identifier:s});return new jf(_,d)},"PUBLIC").setServiceProps({Reference:Qc,Query:ml,Database:jf,DataSnapshot:Jd,enableLogging:Bh,INTERNAL:Hf,ServerValue:Jv}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.3.4")}(zi.Z);const jg=new E.OlP("angularfire2.realtimeDatabaseURL"),Jy=new E.OlP("angularfire2.database.use-emulator");let Xy=(()=>{class u{constructor(s,d,_,T,x,j,ee,he,je,et,gt,Gt,Yt,vn,ir){this.schedulers=j;const Hr=ee,Ui=(0,mr.on)(s,x,d);he&&(0,Ri.nw)(Ui,x,je,gt,Gt,Yt,et,vn),this.database=(0,mr.cc)(`${Ui.name}.database.${_}`,"AngularFireDatabase",Ui.name,()=>{const vi=x.runOutsideAngular(()=>Ui.database(_||void 0));return Hr&&vi.useEmulator(...Hr),vi},[Hr])}list(s,d){const _=this.schedulers.ngZone.runOutsideAngular(()=>ry(this.database,s));let T=_;return d&&(T=d(_)),function jv(u,r){const s=r.schedulers.outsideAngular,d=r.schedulers.ngZone.run(()=>u.ref);return{query:u,update:zf(d,"update"),set:zf(d,"set"),push:_=>d.push(_),remove:e_(d),snapshotChanges:_=>Qy(u,_,s).pipe(Ut.iC),stateChanges:_=>Vg(u,_,s).pipe(Ut.iC),auditTrail:_=>function Op(u,r,s){return function Vv(u,r,s){return function jo(u,r){return Xm(u,"value","on",r).pipe((0,cn.U)(s=>{let d;return s.payload.forEach(_=>(d=_.key,!1)),{data:s,lastKeyToLoad:d}}))}(u,s).pipe((0,$g.M)(r),(0,cn.U)(([_,T])=>{const x=_.lastKeyToLoad,j=T.map(ee=>ee.key);return{actions:T,lastKeyToLoad:x,loadedKeys:j}}),function du(u){return(0,Zh.e)((r,s)=>{let d=!1,_=0;r.subscribe((0,Lu.x)(s,T=>(d||(d=!u(T,_++)))&&s.next(T)))})}(_=>-1===_.loadedKeys.indexOf(_.lastKeyToLoad)),(0,cn.U)(_=>_.actions))}(u,Vg(u,r).pipe((0,Kh.R)((_,T)=>[..._,T],[])),s)}(u,_,s).pipe(Ut.iC),valueChanges:(_,T)=>Qy(u,_,s).pipe((0,cn.U)(j=>j.map(ee=>T&&T.idField?Object.assign(Object.assign({},ee.payload.val()),{[T.idField]:ee.key}):ee.payload.val())),Ut.iC)}}(T,this)}object(s){return function oy(u,r){return{query:u,snapshotChanges:()=>sy(u,r.schedulers.outsideAngular)().pipe(Ut.iC),update:s=>u.ref.update(s),set:s=>u.ref.set(s),remove:()=>u.ref.remove(),valueChanges:()=>sy(u,r.schedulers.outsideAngular)().pipe(Ut.iC,(0,cn.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ry(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(s){return new(s||u)(E.LFG(mr.Dh),E.LFG(mr.xv,8),E.LFG(jg,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Ut.HU),E.LFG(Jy,8),E.LFG(Ri.zQ,8),E.LFG(Ri.Qv,8),E.LFG(Ri.L6,8),E.LFG(Ri._Q,8),E.LFG(Ri.rT,8),E.LFG(Ri.lh,8),E.LFG(Ri.f7,8),E.LFG(Xn.nm,8))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),ev=(()=>{class u{constructor(){Kr.Z.registerVersion("angularfire",Ut.q4.full,"rtdb-compat")}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({providers:[Xy]}),u})();var Wf=M(9832),_l=M(2340),ic=M(529);let tv=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=E.oAB({type:u,bootstrap:[zt]}),u.\u0275inj=E.cJS({providers:[Mt,al.e,{provide:Wf.rN,useValue:{coreLibraryLoader:()=>M.e(112).then(M.bind(M,9112)),languages:{xml:()=>M.e(142).then(M.bind(M,9142)),typescript:()=>M.e(535).then(M.bind(M,2535)),scss:()=>M.e(596).then(M.bind(M,2596))}}}],imports:[a.b2,Or,wa,Di,mr.hO.initializeApp(_l.q),Ri.ww,Fl.yb,ld,ev,ic.JF]}),u})();_l.N.production&&(0,E.G48)(),a.q6().bootstrapModule(tv).catch(u=>console.error(u))},9245:function(nn){typeof self<"u"&&self,nn.exports=function(we){var M={};function a(E){if(M[E])return M[E].exports;var B=M[E]={i:E,l:!1,exports:{}};return we[E].call(B.exports,B,B.exports,a),B.l=!0,B.exports}return a.m=we,a.c=M,a.d=function(E,B,ce){a.o(E,B)||Object.defineProperty(E,B,{configurable:!1,enumerable:!0,get:ce})},a.r=function(E){Object.defineProperty(E,"__esModule",{value:!0})},a.n=function(E){var B=E&&E.__esModule?function(){return E.default}:function(){return E};return a.d(B,"a",B),B},a.o=function(E,B){return Object.prototype.hasOwnProperty.call(E,B)},a.p="",a(a.s=0)}({"./dist/icons.json":function(we){we.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',table:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(we,M,a){var B;!function(){"use strict";var ce=function(){function de(){}function pe(Me,Ne){for(var ot=Ne.length,qe=0;qe<ot;++qe)ye(Me,Ne[qe])}de.prototype=Object.create(null);var Ee={}.hasOwnProperty;var ae=/\s+/;function ye(Me,Ne){if(Ne){var ot=typeof Ne;"string"===ot?function le(Me,Ne){for(var ot=Ne.split(ae),qe=ot.length,nt=0;nt<qe;++nt)Me[ot[nt]]=!0}(Me,Ne):Array.isArray(Ne)?pe(Me,Ne):"object"===ot?function Ie(Me,Ne){for(var ot in Ne)Ee.call(Ne,ot)&&(Me[ot]=!!Ne[ot])}(Me,Ne):"number"===ot&&function oe(Me,Ne){Me[Ne]=!0}(Me,Ne)}}return function Be(){for(var Me=arguments.length,Ne=Array(Me),ot=0;ot<Me;ot++)Ne[ot]=arguments[ot];var qe=new de;pe(qe,Ne);var nt=[];for(var We in qe)qe[We]&&nt.push(We);return nt.join(" ")}}();typeof we<"u"&&we.exports?we.exports=ce:void 0!==(B=function(){return ce}.apply(M,[]))&&(we.exports=B)}()},"./node_modules/core-js/es/array/from.js":function(we,M,a){a("./node_modules/core-js/modules/es.string.iterator.js"),a("./node_modules/core-js/modules/es.array.from.js");var E=a("./node_modules/core-js/internals/path.js");we.exports=E.Array.from},"./node_modules/core-js/internals/a-function.js":function(we,M){we.exports=function(a){if("function"!=typeof a)throw TypeError(String(a)+" is not a function");return a}},"./node_modules/core-js/internals/an-object.js":function(we,M,a){var E=a("./node_modules/core-js/internals/is-object.js");we.exports=function(B){if(!E(B))throw TypeError(String(B)+" is not an object");return B}},"./node_modules/core-js/internals/array-from.js":function(we,M,a){"use strict";var E=a("./node_modules/core-js/internals/bind-context.js"),B=a("./node_modules/core-js/internals/to-object.js"),ce=a("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),de=a("./node_modules/core-js/internals/is-array-iterator-method.js"),pe=a("./node_modules/core-js/internals/to-length.js"),Ee=a("./node_modules/core-js/internals/create-property.js"),oe=a("./node_modules/core-js/internals/get-iterator-method.js");we.exports=function(ae){var nt,We,Ft,it,le=B(ae),ye="function"==typeof this?this:Array,Be=arguments.length,Me=Be>1?arguments[1]:void 0,Ne=void 0!==Me,ot=0,qe=oe(le);if(Ne&&(Me=E(Me,Be>2?arguments[2]:void 0,2)),null==qe||ye==Array&&de(qe))for(We=new ye(nt=pe(le.length));nt>ot;ot++)Ee(We,ot,Ne?Me(le[ot],ot):le[ot]);else for(it=qe.call(le),We=new ye;!(Ft=it.next()).done;ot++)Ee(We,ot,Ne?ce(it,Me,[Ft.value,ot],!0):Ft.value);return We.length=ot,We}},"./node_modules/core-js/internals/array-includes.js":function(we,M,a){var E=a("./node_modules/core-js/internals/to-indexed-object.js"),B=a("./node_modules/core-js/internals/to-length.js"),ce=a("./node_modules/core-js/internals/to-absolute-index.js");we.exports=function(de){return function(pe,Ee,oe){var ye,Ie=E(pe),ae=B(Ie.length),le=ce(oe,ae);if(de&&Ee!=Ee){for(;ae>le;)if((ye=Ie[le++])!=ye)return!0}else for(;ae>le;le++)if((de||le in Ie)&&Ie[le]===Ee)return de||le||0;return!de&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(we,M,a){var E=a("./node_modules/core-js/internals/a-function.js");we.exports=function(B,ce,de){if(E(B),void 0===ce)return B;switch(de){case 0:return function(){return B.call(ce)};case 1:return function(pe){return B.call(ce,pe)};case 2:return function(pe,Ee){return B.call(ce,pe,Ee)};case 3:return function(pe,Ee,oe){return B.call(ce,pe,Ee,oe)}}return function(){return B.apply(ce,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(we,M,a){var E=a("./node_modules/core-js/internals/an-object.js");we.exports=function(B,ce,de,pe){try{return pe?ce(E(de)[0],de[1]):ce(de)}catch(oe){var Ee=B.return;throw void 0!==Ee&&E(Ee.call(B)),oe}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(we,M,a){var B=a("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),ce=!1;try{var de=0,pe={next:function(){return{done:!!de++}},return:function(){ce=!0}};pe[B]=function(){return this},Array.from(pe,function(){throw 2})}catch{}we.exports=function(Ee,oe){if(!oe&&!ce)return!1;var Ie=!1;try{var ae={};ae[B]=function(){return{next:function(){return{done:Ie=!0}}}},Ee(ae)}catch{}return Ie}},"./node_modules/core-js/internals/classof-raw.js":function(we,M){var a={}.toString;we.exports=function(E){return a.call(E).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(we,M,a){var E=a("./node_modules/core-js/internals/classof-raw.js"),ce=a("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),de="Arguments"==E(function(){return arguments}());we.exports=function(Ee){var oe,Ie,ae;return void 0===Ee?"Undefined":null===Ee?"Null":"string"==typeof(Ie=function(Ee,oe){try{return Ee[oe]}catch{}}(oe=Object(Ee),ce))?Ie:de?E(oe):"Object"==(ae=E(oe))&&"function"==typeof oe.callee?"Arguments":ae}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(we,M,a){var E=a("./node_modules/core-js/internals/has.js"),B=a("./node_modules/core-js/internals/own-keys.js"),ce=a("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),de=a("./node_modules/core-js/internals/object-define-property.js");we.exports=function(pe,Ee){for(var oe=B(Ee),Ie=de.f,ae=ce.f,le=0;le<oe.length;le++){var ye=oe[le];E(pe,ye)||Ie(pe,ye,ae(Ee,ye))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(we,M,a){var E=a("./node_modules/core-js/internals/fails.js");we.exports=!E(function(){function B(){}return B.prototype.constructor=null,Object.getPrototypeOf(new B)!==B.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(we,M,a){"use strict";var E=a("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,B=a("./node_modules/core-js/internals/object-create.js"),ce=a("./node_modules/core-js/internals/create-property-descriptor.js"),de=a("./node_modules/core-js/internals/set-to-string-tag.js"),pe=a("./node_modules/core-js/internals/iterators.js"),Ee=function(){return this};we.exports=function(oe,Ie,ae){var le=Ie+" Iterator";return oe.prototype=B(E,{next:ce(1,ae)}),de(oe,le,!1,!0),pe[le]=Ee,oe}},"./node_modules/core-js/internals/create-property-descriptor.js":function(we,M){we.exports=function(a,E){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:E}}},"./node_modules/core-js/internals/create-property.js":function(we,M,a){"use strict";var E=a("./node_modules/core-js/internals/to-primitive.js"),B=a("./node_modules/core-js/internals/object-define-property.js"),ce=a("./node_modules/core-js/internals/create-property-descriptor.js");we.exports=function(de,pe,Ee){var oe=E(pe);oe in de?B.f(de,oe,ce(0,Ee)):de[oe]=Ee}},"./node_modules/core-js/internals/define-iterator.js":function(we,M,a){"use strict";var E=a("./node_modules/core-js/internals/export.js"),B=a("./node_modules/core-js/internals/create-iterator-constructor.js"),ce=a("./node_modules/core-js/internals/object-get-prototype-of.js"),de=a("./node_modules/core-js/internals/object-set-prototype-of.js"),pe=a("./node_modules/core-js/internals/set-to-string-tag.js"),Ee=a("./node_modules/core-js/internals/hide.js"),oe=a("./node_modules/core-js/internals/redefine.js"),Ie=a("./node_modules/core-js/internals/well-known-symbol.js"),ae=a("./node_modules/core-js/internals/is-pure.js"),le=a("./node_modules/core-js/internals/iterators.js"),ye=a("./node_modules/core-js/internals/iterators-core.js"),Be=ye.IteratorPrototype,Me=ye.BUGGY_SAFARI_ITERATORS,Ne=Ie("iterator"),qe="values",nt="entries",We=function(){return this};we.exports=function(Ft,it,Ke,Xe,Ct,dt,Te){B(Ke,it,Xe);var It,$t,jt,Ge=function(vt){if(vt===Ct&&pt)return pt;if(!Me&&vt in ln)return ln[vt];switch(vt){case"keys":case qe:case nt:return function(){return new Ke(this,vt)}}return function(){return new Ke(this)}},Qe=it+" Iterator",At=!1,ln=Ft.prototype,Lt=ln[Ne]||ln["@@iterator"]||Ct&&ln[Ct],pt=!Me&&Lt||Ge(Ct),bt="Array"==it&&ln.entries||Lt;if(bt&&(It=ce(bt.call(new Ft)),Be!==Object.prototype&&It.next&&(!ae&&ce(It)!==Be&&(de?de(It,Be):"function"!=typeof It[Ne]&&Ee(It,Ne,We)),pe(It,Qe,!0,!0),ae&&(le[Qe]=We))),Ct==qe&&Lt&&Lt.name!==qe&&(At=!0,pt=function(){return Lt.call(this)}),(!ae||Te)&&ln[Ne]!==pt&&Ee(ln,Ne,pt),le[it]=pt,Ct)if($t={values:Ge(qe),keys:dt?pt:Ge("keys"),entries:Ge(nt)},Te)for(jt in $t)(Me||At||!(jt in ln))&&oe(ln,jt,$t[jt]);else E({target:it,proto:!0,forced:Me||At},$t);return $t}},"./node_modules/core-js/internals/descriptors.js":function(we,M,a){var E=a("./node_modules/core-js/internals/fails.js");we.exports=!E(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/internals/document-create-element.js":function(we,M,a){var E=a("./node_modules/core-js/internals/global.js"),B=a("./node_modules/core-js/internals/is-object.js"),ce=E.document,de=B(ce)&&B(ce.createElement);we.exports=function(pe){return de?ce.createElement(pe):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(we,M){we.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(we,M,a){var E=a("./node_modules/core-js/internals/global.js"),B=a("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,ce=a("./node_modules/core-js/internals/hide.js"),de=a("./node_modules/core-js/internals/redefine.js"),pe=a("./node_modules/core-js/internals/set-global.js"),Ee=a("./node_modules/core-js/internals/copy-constructor-properties.js"),oe=a("./node_modules/core-js/internals/is-forced.js");we.exports=function(Ie,ae){var Ne,ot,qe,nt,We,le=Ie.target,ye=Ie.global,Be=Ie.stat;if(Ne=ye?E:Be?E[le]||pe(le,{}):(E[le]||{}).prototype)for(ot in ae){if(nt=ae[ot],qe=Ie.noTargetGet?(We=B(Ne,ot))&&We.value:Ne[ot],!oe(ye?ot:le+(Be?".":"#")+ot,Ie.forced)&&void 0!==qe){if(typeof nt==typeof qe)continue;Ee(nt,qe)}(Ie.sham||qe&&qe.sham)&&ce(nt,"sham",!0),de(Ne,ot,nt,Ie)}}},"./node_modules/core-js/internals/fails.js":function(we,M){we.exports=function(a){try{return!!a()}catch{return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(we,M,a){var E=a("./node_modules/core-js/internals/shared.js");we.exports=E("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(we,M,a){var E=a("./node_modules/core-js/internals/classof.js"),B=a("./node_modules/core-js/internals/iterators.js"),de=a("./node_modules/core-js/internals/well-known-symbol.js")("iterator");we.exports=function(pe){if(null!=pe)return pe[de]||pe["@@iterator"]||B[E(pe)]}},"./node_modules/core-js/internals/global.js":function(we,M,a){(function(E){var B="object",ce=function(de){return de&&de.Math==Math&&de};we.exports=ce(typeof globalThis==B&&globalThis)||ce(typeof window==B&&window)||ce(typeof self==B&&self)||ce(typeof E==B&&E)||Function("return this")()}).call(this,a("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(we,M){var a={}.hasOwnProperty;we.exports=function(E,B){return a.call(E,B)}},"./node_modules/core-js/internals/hidden-keys.js":function(we,M){we.exports={}},"./node_modules/core-js/internals/hide.js":function(we,M,a){var E=a("./node_modules/core-js/internals/descriptors.js"),B=a("./node_modules/core-js/internals/object-define-property.js"),ce=a("./node_modules/core-js/internals/create-property-descriptor.js");we.exports=E?function(de,pe,Ee){return B.f(de,pe,ce(1,Ee))}:function(de,pe,Ee){return de[pe]=Ee,de}},"./node_modules/core-js/internals/html.js":function(we,M,a){var B=a("./node_modules/core-js/internals/global.js").document;we.exports=B&&B.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(we,M,a){var E=a("./node_modules/core-js/internals/descriptors.js"),B=a("./node_modules/core-js/internals/fails.js"),ce=a("./node_modules/core-js/internals/document-create-element.js");we.exports=!E&&!B(function(){return 7!=Object.defineProperty(ce("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/internals/indexed-object.js":function(we,M,a){var E=a("./node_modules/core-js/internals/fails.js"),B=a("./node_modules/core-js/internals/classof-raw.js"),ce="".split;we.exports=E(function(){return!Object("z").propertyIsEnumerable(0)})?function(de){return"String"==B(de)?ce.call(de,""):Object(de)}:Object},"./node_modules/core-js/internals/internal-state.js":function(we,M,a){var ae,le,ye,E=a("./node_modules/core-js/internals/native-weak-map.js"),B=a("./node_modules/core-js/internals/global.js"),ce=a("./node_modules/core-js/internals/is-object.js"),de=a("./node_modules/core-js/internals/hide.js"),pe=a("./node_modules/core-js/internals/has.js"),Ee=a("./node_modules/core-js/internals/shared-key.js"),oe=a("./node_modules/core-js/internals/hidden-keys.js");if(E){var Ne=new(0,B.WeakMap),ot=Ne.get,qe=Ne.has,nt=Ne.set;ae=function(Ft,it){return nt.call(Ne,Ft,it),it},le=function(Ft){return ot.call(Ne,Ft)||{}},ye=function(Ft){return qe.call(Ne,Ft)}}else{var We=Ee("state");oe[We]=!0,ae=function(Ft,it){return de(Ft,We,it),it},le=function(Ft){return pe(Ft,We)?Ft[We]:{}},ye=function(Ft){return pe(Ft,We)}}we.exports={set:ae,get:le,has:ye,enforce:function(Ft){return ye(Ft)?le(Ft):ae(Ft,{})},getterFor:function(Ft){return function(it){var Ke;if(!ce(it)||(Ke=le(it)).type!==Ft)throw TypeError("Incompatible receiver, "+Ft+" required");return Ke}}}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(we,M,a){var E=a("./node_modules/core-js/internals/well-known-symbol.js"),B=a("./node_modules/core-js/internals/iterators.js"),ce=E("iterator"),de=Array.prototype;we.exports=function(pe){return void 0!==pe&&(B.Array===pe||de[ce]===pe)}},"./node_modules/core-js/internals/is-forced.js":function(we,M,a){var E=a("./node_modules/core-js/internals/fails.js"),B=/#|\.prototype\./,ce=function(Ie,ae){var le=pe[de(Ie)];return le==oe||le!=Ee&&("function"==typeof ae?E(ae):!!ae)},de=ce.normalize=function(Ie){return String(Ie).replace(B,".").toLowerCase()},pe=ce.data={},Ee=ce.NATIVE="N",oe=ce.POLYFILL="P";we.exports=ce},"./node_modules/core-js/internals/is-object.js":function(we,M){we.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},"./node_modules/core-js/internals/is-pure.js":function(we,M){we.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(we,M,a){"use strict";var ae,le,ye,E=a("./node_modules/core-js/internals/object-get-prototype-of.js"),B=a("./node_modules/core-js/internals/hide.js"),ce=a("./node_modules/core-js/internals/has.js"),de=a("./node_modules/core-js/internals/well-known-symbol.js"),pe=a("./node_modules/core-js/internals/is-pure.js"),Ee=de("iterator"),oe=!1;[].keys&&("next"in(ye=[].keys())?(le=E(E(ye)))!==Object.prototype&&(ae=le):oe=!0),null==ae&&(ae={}),!pe&&!ce(ae,Ee)&&B(ae,Ee,function(){return this}),we.exports={IteratorPrototype:ae,BUGGY_SAFARI_ITERATORS:oe}},"./node_modules/core-js/internals/iterators.js":function(we,M){we.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(we,M,a){var E=a("./node_modules/core-js/internals/fails.js");we.exports=!!Object.getOwnPropertySymbols&&!E(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(we,M,a){var E=a("./node_modules/core-js/internals/global.js"),B=a("./node_modules/core-js/internals/function-to-string.js"),ce=E.WeakMap;we.exports="function"==typeof ce&&/native code/.test(B.call(ce))},"./node_modules/core-js/internals/object-create.js":function(we,M,a){var E=a("./node_modules/core-js/internals/an-object.js"),B=a("./node_modules/core-js/internals/object-define-properties.js"),ce=a("./node_modules/core-js/internals/enum-bug-keys.js"),de=a("./node_modules/core-js/internals/hidden-keys.js"),pe=a("./node_modules/core-js/internals/html.js"),Ee=a("./node_modules/core-js/internals/document-create-element.js"),Ie=a("./node_modules/core-js/internals/shared-key.js")("IE_PROTO"),ae="prototype",le=function(){},ye=function(){var We,Be=Ee("iframe"),Me=ce.length;for(Be.style.display="none",pe.appendChild(Be),Be.src=String("javascript:"),(We=Be.contentWindow.document).open(),We.write("<script>document.F=Object<\/script>"),We.close(),ye=We.F;Me--;)delete ye[ae][ce[Me]];return ye()};we.exports=Object.create||function(Me,Ne){var ot;return null!==Me?(le[ae]=E(Me),ot=new le,le[ae]=null,ot[Ie]=Me):ot=ye(),void 0===Ne?ot:B(ot,Ne)},de[Ie]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(we,M,a){var E=a("./node_modules/core-js/internals/descriptors.js"),B=a("./node_modules/core-js/internals/object-define-property.js"),ce=a("./node_modules/core-js/internals/an-object.js"),de=a("./node_modules/core-js/internals/object-keys.js");we.exports=E?Object.defineProperties:function(Ee,oe){ce(Ee);for(var ye,Ie=de(oe),ae=Ie.length,le=0;ae>le;)B.f(Ee,ye=Ie[le++],oe[ye]);return Ee}},"./node_modules/core-js/internals/object-define-property.js":function(we,M,a){var E=a("./node_modules/core-js/internals/descriptors.js"),B=a("./node_modules/core-js/internals/ie8-dom-define.js"),ce=a("./node_modules/core-js/internals/an-object.js"),de=a("./node_modules/core-js/internals/to-primitive.js"),pe=Object.defineProperty;M.f=E?pe:function(oe,Ie,ae){if(ce(oe),Ie=de(Ie,!0),ce(ae),B)try{return pe(oe,Ie,ae)}catch{}if("get"in ae||"set"in ae)throw TypeError("Accessors not supported");return"value"in ae&&(oe[Ie]=ae.value),oe}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(we,M,a){var E=a("./node_modules/core-js/internals/descriptors.js"),B=a("./node_modules/core-js/internals/object-property-is-enumerable.js"),ce=a("./node_modules/core-js/internals/create-property-descriptor.js"),de=a("./node_modules/core-js/internals/to-indexed-object.js"),pe=a("./node_modules/core-js/internals/to-primitive.js"),Ee=a("./node_modules/core-js/internals/has.js"),oe=a("./node_modules/core-js/internals/ie8-dom-define.js"),Ie=Object.getOwnPropertyDescriptor;M.f=E?Ie:function(le,ye){if(le=de(le),ye=pe(ye,!0),oe)try{return Ie(le,ye)}catch{}if(Ee(le,ye))return ce(!B.f.call(le,ye),le[ye])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(we,M,a){var E=a("./node_modules/core-js/internals/object-keys-internal.js"),ce=a("./node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");M.f=Object.getOwnPropertyNames||function(pe){return E(pe,ce)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(we,M){M.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(we,M,a){var E=a("./node_modules/core-js/internals/has.js"),B=a("./node_modules/core-js/internals/to-object.js"),ce=a("./node_modules/core-js/internals/shared-key.js"),de=a("./node_modules/core-js/internals/correct-prototype-getter.js"),pe=ce("IE_PROTO"),Ee=Object.prototype;we.exports=de?Object.getPrototypeOf:function(oe){return oe=B(oe),E(oe,pe)?oe[pe]:"function"==typeof oe.constructor&&oe instanceof oe.constructor?oe.constructor.prototype:oe instanceof Object?Ee:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(we,M,a){var E=a("./node_modules/core-js/internals/has.js"),B=a("./node_modules/core-js/internals/to-indexed-object.js"),ce=a("./node_modules/core-js/internals/array-includes.js"),de=a("./node_modules/core-js/internals/hidden-keys.js"),pe=ce(!1);we.exports=function(Ee,oe){var ye,Ie=B(Ee),ae=0,le=[];for(ye in Ie)!E(de,ye)&&E(Ie,ye)&&le.push(ye);for(;oe.length>ae;)E(Ie,ye=oe[ae++])&&(~pe(le,ye)||le.push(ye));return le}},"./node_modules/core-js/internals/object-keys.js":function(we,M,a){var E=a("./node_modules/core-js/internals/object-keys-internal.js"),B=a("./node_modules/core-js/internals/enum-bug-keys.js");we.exports=Object.keys||function(de){return E(de,B)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(we,M,a){"use strict";var E={}.propertyIsEnumerable,B=Object.getOwnPropertyDescriptor,ce=B&&!E.call({1:2},1);M.f=ce?function(pe){var Ee=B(this,pe);return!!Ee&&Ee.enumerable}:E},"./node_modules/core-js/internals/object-set-prototype-of.js":function(we,M,a){var E=a("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");we.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var de,B=!1,ce={};try{(de=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(ce,[]),B=ce instanceof Array}catch{}return function(Ee,oe){return E(Ee,oe),B?de.call(Ee,oe):Ee.__proto__=oe,Ee}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(we,M,a){var E=a("./node_modules/core-js/internals/global.js"),B=a("./node_modules/core-js/internals/object-get-own-property-names.js"),ce=a("./node_modules/core-js/internals/object-get-own-property-symbols.js"),de=a("./node_modules/core-js/internals/an-object.js"),pe=E.Reflect;we.exports=pe&&pe.ownKeys||function(oe){var Ie=B.f(de(oe)),ae=ce.f;return ae?Ie.concat(ae(oe)):Ie}},"./node_modules/core-js/internals/path.js":function(we,M,a){we.exports=a("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(we,M,a){var E=a("./node_modules/core-js/internals/global.js"),B=a("./node_modules/core-js/internals/shared.js"),ce=a("./node_modules/core-js/internals/hide.js"),de=a("./node_modules/core-js/internals/has.js"),pe=a("./node_modules/core-js/internals/set-global.js"),Ee=a("./node_modules/core-js/internals/function-to-string.js"),oe=a("./node_modules/core-js/internals/internal-state.js"),Ie=oe.get,ae=oe.enforce,le=String(Ee).split("toString");B("inspectSource",function(ye){return Ee.call(ye)}),(we.exports=function(ye,Be,Me,Ne){var ot=!!Ne&&!!Ne.unsafe,qe=!!Ne&&!!Ne.enumerable,nt=!!Ne&&!!Ne.noTargetGet;"function"==typeof Me&&("string"==typeof Be&&!de(Me,"name")&&ce(Me,"name",Be),ae(Me).source=le.join("string"==typeof Be?Be:"")),ye!==E?(ot?!nt&&ye[Be]&&(qe=!0):delete ye[Be],qe?ye[Be]=Me:ce(ye,Be,Me)):qe?ye[Be]=Me:pe(Be,Me)})(Function.prototype,"toString",function(){return"function"==typeof this&&Ie(this).source||Ee.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(we,M){we.exports=function(a){if(null==a)throw TypeError("Can't call method on "+a);return a}},"./node_modules/core-js/internals/set-global.js":function(we,M,a){var E=a("./node_modules/core-js/internals/global.js"),B=a("./node_modules/core-js/internals/hide.js");we.exports=function(ce,de){try{B(E,ce,de)}catch{E[ce]=de}return de}},"./node_modules/core-js/internals/set-to-string-tag.js":function(we,M,a){var E=a("./node_modules/core-js/internals/object-define-property.js").f,B=a("./node_modules/core-js/internals/has.js"),de=a("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag");we.exports=function(pe,Ee,oe){pe&&!B(pe=oe?pe:pe.prototype,de)&&E(pe,de,{configurable:!0,value:Ee})}},"./node_modules/core-js/internals/shared-key.js":function(we,M,a){var E=a("./node_modules/core-js/internals/shared.js"),B=a("./node_modules/core-js/internals/uid.js"),ce=E("keys");we.exports=function(de){return ce[de]||(ce[de]=B(de))}},"./node_modules/core-js/internals/shared.js":function(we,M,a){var E=a("./node_modules/core-js/internals/global.js"),B=a("./node_modules/core-js/internals/set-global.js"),ce=a("./node_modules/core-js/internals/is-pure.js"),de="__core-js_shared__",pe=E[de]||B(de,{});(we.exports=function(Ee,oe){return pe[Ee]||(pe[Ee]=void 0!==oe?oe:{})})("versions",[]).push({version:"3.1.3",mode:ce?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(we,M,a){var E=a("./node_modules/core-js/internals/to-integer.js"),B=a("./node_modules/core-js/internals/require-object-coercible.js");we.exports=function(ce,de,pe){var ae,le,Ee=String(B(ce)),oe=E(de),Ie=Ee.length;return oe<0||oe>=Ie?pe?"":void 0:(ae=Ee.charCodeAt(oe))<55296||ae>56319||oe+1===Ie||(le=Ee.charCodeAt(oe+1))<56320||le>57343?pe?Ee.charAt(oe):ae:pe?Ee.slice(oe,oe+2):le-56320+(ae-55296<<10)+65536}},"./node_modules/core-js/internals/to-absolute-index.js":function(we,M,a){var E=a("./node_modules/core-js/internals/to-integer.js"),B=Math.max,ce=Math.min;we.exports=function(de,pe){var Ee=E(de);return Ee<0?B(Ee+pe,0):ce(Ee,pe)}},"./node_modules/core-js/internals/to-indexed-object.js":function(we,M,a){var E=a("./node_modules/core-js/internals/indexed-object.js"),B=a("./node_modules/core-js/internals/require-object-coercible.js");we.exports=function(ce){return E(B(ce))}},"./node_modules/core-js/internals/to-integer.js":function(we,M){var a=Math.ceil,E=Math.floor;we.exports=function(B){return isNaN(B=+B)?0:(B>0?E:a)(B)}},"./node_modules/core-js/internals/to-length.js":function(we,M,a){var E=a("./node_modules/core-js/internals/to-integer.js"),B=Math.min;we.exports=function(ce){return ce>0?B(E(ce),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(we,M,a){var E=a("./node_modules/core-js/internals/require-object-coercible.js");we.exports=function(B){return Object(E(B))}},"./node_modules/core-js/internals/to-primitive.js":function(we,M,a){var E=a("./node_modules/core-js/internals/is-object.js");we.exports=function(B,ce){if(!E(B))return B;var de,pe;if(ce&&"function"==typeof(de=B.toString)&&!E(pe=de.call(B))||"function"==typeof(de=B.valueOf)&&!E(pe=de.call(B))||!ce&&"function"==typeof(de=B.toString)&&!E(pe=de.call(B)))return pe;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(we,M){var a=0,E=Math.random();we.exports=function(B){return"Symbol(".concat(void 0===B?"":B,")_",(++a+E).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(we,M,a){var E=a("./node_modules/core-js/internals/is-object.js"),B=a("./node_modules/core-js/internals/an-object.js");we.exports=function(ce,de){if(B(ce),!E(de)&&null!==de)throw TypeError("Can't set "+String(de)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(we,M,a){var E=a("./node_modules/core-js/internals/global.js"),B=a("./node_modules/core-js/internals/shared.js"),ce=a("./node_modules/core-js/internals/uid.js"),de=a("./node_modules/core-js/internals/native-symbol.js"),pe=E.Symbol,Ee=B("wks");we.exports=function(oe){return Ee[oe]||(Ee[oe]=de&&pe[oe]||(de?pe:ce)("Symbol."+oe))}},"./node_modules/core-js/modules/es.array.from.js":function(we,M,a){var E=a("./node_modules/core-js/internals/export.js"),B=a("./node_modules/core-js/internals/array-from.js");E({target:"Array",stat:!0,forced:!a("./node_modules/core-js/internals/check-correctness-of-iteration.js")(function(pe){Array.from(pe)})},{from:B})},"./node_modules/core-js/modules/es.string.iterator.js":function(we,M,a){"use strict";var E=a("./node_modules/core-js/internals/string-at.js"),B=a("./node_modules/core-js/internals/internal-state.js"),ce=a("./node_modules/core-js/internals/define-iterator.js"),de="String Iterator",pe=B.set,Ee=B.getterFor(de);ce(String,"String",function(oe){pe(this,{type:de,string:String(oe),index:0})},function(){var ye,Ie=Ee(this),ae=Ie.string,le=Ie.index;return le>=ae.length?{value:void 0,done:!0}:(ye=E(ae,le,!0),Ie.index+=ye.length,{value:ye,done:!1})})},"./node_modules/webpack/buildin/global.js":function(we,M){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch{"object"==typeof window&&(a=window)}we.exports=a},"./src/default-attrs.json":function(we){we.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(we,M,a){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var E=Object.assign||function(ye){for(var Be=1;Be<arguments.length;Be++){var Me=arguments[Be];for(var Ne in Me)Object.prototype.hasOwnProperty.call(Me,Ne)&&(ye[Ne]=Me[Ne])}return ye},B=function(){function ye(Be,Me){for(var Ne=0;Ne<Me.length;Ne++){var ot=Me[Ne];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(Be,ot.key,ot)}}return function(Be,Me,Ne){return Me&&ye(Be.prototype,Me),Ne&&ye(Be,Ne),Be}}(),de=oe(a("./node_modules/classnames/dedupe.js")),Ee=oe(a("./src/default-attrs.json"));function oe(ye){return ye&&ye.__esModule?ye:{default:ye}}function Ie(ye,Be){if(!(ye instanceof Be))throw new TypeError("Cannot call a class as a function")}var ae=function(){function ye(Be,Me){var Ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Ie(this,ye),this.name=Be,this.contents=Me,this.tags=Ne,this.attrs=E({},Ee.default,{class:"feather feather-"+Be})}return B(ye,[{key:"toSvg",value:function(){var Me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"<svg "+le(E({},this.attrs,Me,{class:(0,de.default)(this.attrs.class,Me.class)}))+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),ye}();function le(ye){return Object.keys(ye).map(function(Be){return Be+'="'+ye[Be]+'"'}).join(" ")}M.default=ae},"./src/icons.js":function(we,M,a){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var B=oe(a("./src/icon.js")),de=oe(a("./dist/icons.json")),Ee=oe(a("./src/tags.json"));function oe(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}M.default=Object.keys(de.default).map(function(Ie){return new B.default(Ie,de.default[Ie],Ee.default[Ie])}).reduce(function(Ie,ae){return Ie[ae.name]=ae,Ie},{})},"./src/index.js":function(we,M,a){"use strict";var B=oe(a("./src/icons.js")),de=oe(a("./src/to-svg.js")),Ee=oe(a("./src/replace.js"));function oe(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}we.exports={icons:B.default,toSvg:de.default,replace:Ee.default}},"./src/replace.js":function(we,M,a){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var E=Object.assign||function(le){for(var ye=1;ye<arguments.length;ye++){var Be=arguments[ye];for(var Me in Be)Object.prototype.hasOwnProperty.call(Be,Me)&&(le[Me]=Be[Me])}return le},ce=Ee(a("./node_modules/classnames/dedupe.js")),pe=Ee(a("./src/icons.js"));function Ee(le){return le&&le.__esModule?le:{default:le}}function Ie(le){var ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Be=ae(le),Me=Be["data-feather"];delete Be["data-feather"];var Ne=pe.default[Me].toSvg(E({},ye,Be,{class:(0,ce.default)(ye.class,Be.class)})),qe=(new DOMParser).parseFromString(Ne,"image/svg+xml").querySelector("svg");le.parentNode.replaceChild(qe,le)}function ae(le){return Array.from(le.attributes).reduce(function(ye,Be){return ye[Be.name]=Be.value,ye},{})}M.default=function oe(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var ye=document.querySelectorAll("[data-feather]");Array.from(ye).forEach(function(Be){return Ie(Be,le)})}},"./src/tags.json":function(we){we.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],"chevron-down":["expand"],"chevron-up":["collapse"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-bouy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(we,M,a){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var B=function ce(pe){return pe&&pe.__esModule?pe:{default:pe}}(a("./src/icons.js"));M.default=function de(pe){var Ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!pe)throw new Error("The required `key` (icon name) parameter is missing.");if(!B.default[pe])throw new Error("No icon matching '"+pe+"'. See the complete list of icons at https://feathericons.com");return B.default[pe].toSvg(Ee)}},0:function(we,M,a){a("./node_modules/core-js/es/array/from.js"),we.exports=a("./src/index.js")}})},4841:(nn,we,M)=>{"use strict";M.d(we,{op:()=>Ht,$V:()=>vr,Xd:()=>Se});var a=M(7579),E=M(4968),ce=(M(6451),M(3601)),de=M(2722),oe=(M(1884),M(9718),M(4650)),Ie=M(6895);function ae(F){return getComputedStyle(F)}function le(F,V){for(var ne in V){var xe=V[ne];"number"==typeof xe&&(xe+="px"),F.style[ne]=xe}return F}function ye(F){var V=document.createElement("div");return V.className=F,V}var Be=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Me(F,V){if(!Be)throw new Error("No element matching method supported");return Be.call(F,V)}function Ne(F){F.remove?F.remove():F.parentNode&&F.parentNode.removeChild(F)}function ot(F,V){return Array.prototype.filter.call(F.children,function(ne){return Me(ne,V)})}var qe_element_thumb=function(F){return"ps__thumb-"+F},qe_element_rail=function(F){return"ps__rail-"+F},qe_element_consuming="ps__child--consume",qe_state_focus="ps--focus",qe_state_clicking="ps--clicking",qe_state_active=function(F){return"ps--active-"+F},qe_state_scrolling=function(F){return"ps--scrolling-"+F},nt={x:null,y:null};function We(F,V){var ne=F.element.classList,xe=qe_state_scrolling(V);ne.contains(xe)?clearTimeout(nt[V]):ne.add(xe)}function Ft(F,V){nt[V]=setTimeout(function(){return F.isAlive&&F.element.classList.remove(qe_state_scrolling(V))},F.settings.scrollingThreshold)}var Ke=function(V){this.element=V,this.handlers={}},Xe={isEmpty:{configurable:!0}};Ke.prototype.bind=function(V,ne){typeof this.handlers[V]>"u"&&(this.handlers[V]=[]),this.handlers[V].push(ne),this.element.addEventListener(V,ne,!1)},Ke.prototype.unbind=function(V,ne){var xe=this;this.handlers[V]=this.handlers[V].filter(function(tt){return!(!ne||tt===ne)||(xe.element.removeEventListener(V,tt,!1),!1)})},Ke.prototype.unbindAll=function(){for(var V in this.handlers)this.unbind(V)},Xe.isEmpty.get=function(){var F=this;return Object.keys(this.handlers).every(function(V){return 0===F.handlers[V].length})},Object.defineProperties(Ke.prototype,Xe);var Ct=function(){this.eventElements=[]};function dt(F){if("function"==typeof window.CustomEvent)return new CustomEvent(F);var V=document.createEvent("CustomEvent");return V.initCustomEvent(F,!1,!1,void 0),V}function Te(F,V,ne,xe,tt){var Nt;if(void 0===xe&&(xe=!0),void 0===tt&&(tt=!1),"top"===V)Nt=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==V)throw new Error("A proper axis should be provided");Nt=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function Ge(F,V,ne,xe,tt){var Nt=ne[0],ve=ne[1],De=ne[2],ue=ne[3],$e=ne[4],rt=ne[5];void 0===xe&&(xe=!0),void 0===tt&&(tt=!1);var Zt=F.element;F.reach[ue]=null,Zt[De]<1&&(F.reach[ue]="start"),Zt[De]>F[Nt]-F[ve]-1&&(F.reach[ue]="end"),V&&(Zt.dispatchEvent(dt("ps-scroll-"+ue)),V<0?Zt.dispatchEvent(dt("ps-scroll-"+$e)):V>0&&Zt.dispatchEvent(dt("ps-scroll-"+rt)),xe&&function it(F,V){We(F,V),Ft(F,V)}(F,ue)),F.reach[ue]&&(V||tt)&&Zt.dispatchEvent(dt("ps-"+ue+"-reach-"+F.reach[ue]))}(F,ne,Nt,xe,tt)}function Qe(F){return parseInt(F,10)||0}Ct.prototype.eventElement=function(V){var ne=this.eventElements.filter(function(xe){return xe.element===V})[0];return ne||(ne=new Ke(V),this.eventElements.push(ne)),ne},Ct.prototype.bind=function(V,ne,xe){this.eventElement(V).bind(ne,xe)},Ct.prototype.unbind=function(V,ne,xe){var tt=this.eventElement(V);tt.unbind(ne,xe),tt.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(tt),1)},Ct.prototype.unbindAll=function(){this.eventElements.forEach(function(V){return V.unbindAll()}),this.eventElements=[]},Ct.prototype.once=function(V,ne,xe){var tt=this.eventElement(V),Nt=function(ve){tt.unbind(ne,Nt),xe(ve)};tt.bind(ne,Nt)};var Lt={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function pt(F){var V=F.element,ne=Math.floor(V.scrollTop),xe=V.getBoundingClientRect();F.containerWidth=Math.ceil(xe.width),F.containerHeight=Math.ceil(xe.height),F.contentWidth=V.scrollWidth,F.contentHeight=V.scrollHeight,V.contains(F.scrollbarXRail)||(ot(V,qe_element_rail("x")).forEach(function(tt){return Ne(tt)}),V.appendChild(F.scrollbarXRail)),V.contains(F.scrollbarYRail)||(ot(V,qe_element_rail("y")).forEach(function(tt){return Ne(tt)}),V.appendChild(F.scrollbarYRail)),!F.settings.suppressScrollX&&F.containerWidth+F.settings.scrollXMarginOffset<F.contentWidth?(F.scrollbarXActive=!0,F.railXWidth=F.containerWidth-F.railXMarginWidth,F.railXRatio=F.containerWidth/F.railXWidth,F.scrollbarXWidth=bt(F,Qe(F.railXWidth*F.containerWidth/F.contentWidth)),F.scrollbarXLeft=Qe((F.negativeScrollAdjustment+V.scrollLeft)*(F.railXWidth-F.scrollbarXWidth)/(F.contentWidth-F.containerWidth))):F.scrollbarXActive=!1,!F.settings.suppressScrollY&&F.containerHeight+F.settings.scrollYMarginOffset<F.contentHeight?(F.scrollbarYActive=!0,F.railYHeight=F.containerHeight-F.railYMarginHeight,F.railYRatio=F.containerHeight/F.railYHeight,F.scrollbarYHeight=bt(F,Qe(F.railYHeight*F.containerHeight/F.contentHeight)),F.scrollbarYTop=Qe(ne*(F.railYHeight-F.scrollbarYHeight)/(F.contentHeight-F.containerHeight))):F.scrollbarYActive=!1,F.scrollbarXLeft>=F.railXWidth-F.scrollbarXWidth&&(F.scrollbarXLeft=F.railXWidth-F.scrollbarXWidth),F.scrollbarYTop>=F.railYHeight-F.scrollbarYHeight&&(F.scrollbarYTop=F.railYHeight-F.scrollbarYHeight),function It(F,V){var ne={width:V.railXWidth},xe=Math.floor(F.scrollTop);ne.left=V.isRtl?V.negativeScrollAdjustment+F.scrollLeft+V.containerWidth-V.contentWidth:F.scrollLeft,V.isScrollbarXUsingBottom?ne.bottom=V.scrollbarXBottom-xe:ne.top=V.scrollbarXTop+xe,le(V.scrollbarXRail,ne);var tt={top:xe,height:V.railYHeight};V.isScrollbarYUsingRight?tt.right=V.isRtl?V.contentWidth-(V.negativeScrollAdjustment+F.scrollLeft)-V.scrollbarYRight-V.scrollbarYOuterWidth-9:V.scrollbarYRight-F.scrollLeft:tt.left=V.isRtl?V.negativeScrollAdjustment+F.scrollLeft+2*V.containerWidth-V.contentWidth-V.scrollbarYLeft-V.scrollbarYOuterWidth:V.scrollbarYLeft+F.scrollLeft,le(V.scrollbarYRail,tt),le(V.scrollbarX,{left:V.scrollbarXLeft,width:V.scrollbarXWidth-V.railBorderXWidth}),le(V.scrollbarY,{top:V.scrollbarYTop,height:V.scrollbarYHeight-V.railBorderYWidth})}(V,F),F.scrollbarXActive?V.classList.add(qe_state_active("x")):(V.classList.remove(qe_state_active("x")),F.scrollbarXWidth=0,F.scrollbarXLeft=0,V.scrollLeft=!0===F.isRtl?F.contentWidth:0),F.scrollbarYActive?V.classList.add(qe_state_active("y")):(V.classList.remove(qe_state_active("y")),F.scrollbarYHeight=0,F.scrollbarYTop=0,V.scrollTop=0)}function bt(F,V){return F.settings.minScrollbarLength&&(V=Math.max(V,F.settings.minScrollbarLength)),F.settings.maxScrollbarLength&&(V=Math.min(V,F.settings.maxScrollbarLength)),V}function vt(F,V){var ne=V[0],xe=V[1],tt=V[2],Nt=V[3],ve=V[4],De=V[5],ue=V[6],$e=V[7],rt=V[8],Zt=F.element,Un=null,qn=null,Cn=null;function Sr(Tr){Tr.touches&&Tr.touches[0]&&(Tr[tt]=Tr.touches[0].pageY),Zt[ue]=Un+Cn*(Tr[tt]-qn),We(F,$e),pt(F),Tr.stopPropagation(),Tr.preventDefault()}function Rn(){Ft(F,$e),F[rt].classList.remove(qe_state_clicking),F.event.unbind(F.ownerDocument,"mousemove",Sr)}function pr(Tr,Yi){Un=Zt[ue],Yi&&Tr.touches&&(Tr[tt]=Tr.touches[0].pageY),qn=Tr[tt],Cn=(F[xe]-F[ne])/(F[Nt]-F[De]),Yi?F.event.bind(F.ownerDocument,"touchmove",Sr):(F.event.bind(F.ownerDocument,"mousemove",Sr),F.event.once(F.ownerDocument,"mouseup",Rn),Tr.preventDefault()),F[rt].classList.add(qe_state_clicking),Tr.stopPropagation()}F.event.bind(F[ve],"mousedown",function(Tr){pr(Tr)}),F.event.bind(F[ve],"touchstart",function(Tr){pr(Tr,!0)})}var Pn={"click-rail":function $t(F){F.event.bind(F.scrollbarY,"mousedown",function(ne){return ne.stopPropagation()}),F.event.bind(F.scrollbarYRail,"mousedown",function(ne){var xe=ne.pageY-window.pageYOffset-F.scrollbarYRail.getBoundingClientRect().top;F.element.scrollTop+=(xe>F.scrollbarYTop?1:-1)*F.containerHeight,pt(F),ne.stopPropagation()}),F.event.bind(F.scrollbarX,"mousedown",function(ne){return ne.stopPropagation()}),F.event.bind(F.scrollbarXRail,"mousedown",function(ne){var xe=ne.pageX-window.pageXOffset-F.scrollbarXRail.getBoundingClientRect().left;F.element.scrollLeft+=(xe>F.scrollbarXLeft?1:-1)*F.containerWidth,pt(F),ne.stopPropagation()})},"drag-thumb":function jt(F){vt(F,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),vt(F,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function yn(F){var V=F.element;F.event.bind(F.ownerDocument,"keydown",function(Nt){if(!(Nt.isDefaultPrevented&&Nt.isDefaultPrevented()||Nt.defaultPrevented)&&(Me(V,":hover")||Me(F.scrollbarX,":focus")||Me(F.scrollbarY,":focus"))){var ve=document.activeElement?document.activeElement:F.ownerDocument.activeElement;if(ve){if("IFRAME"===ve.tagName)ve=ve.contentDocument.activeElement;else for(;ve.shadowRoot;)ve=ve.shadowRoot.activeElement;if(function At(F){return Me(F,"input,[contenteditable]")||Me(F,"select,[contenteditable]")||Me(F,"textarea,[contenteditable]")||Me(F,"button,[contenteditable]")}(ve))return}var De=0,ue=0;switch(Nt.which){case 37:De=Nt.metaKey?-F.contentWidth:Nt.altKey?-F.containerWidth:-30;break;case 38:ue=Nt.metaKey?F.contentHeight:Nt.altKey?F.containerHeight:30;break;case 39:De=Nt.metaKey?F.contentWidth:Nt.altKey?F.containerWidth:30;break;case 40:ue=Nt.metaKey?-F.contentHeight:Nt.altKey?-F.containerHeight:-30;break;case 32:ue=Nt.shiftKey?F.containerHeight:-F.containerHeight;break;case 33:ue=F.containerHeight;break;case 34:ue=-F.containerHeight;break;case 36:ue=F.contentHeight;break;case 35:ue=-F.contentHeight;break;default:return}F.settings.suppressScrollX&&0!==De||F.settings.suppressScrollY&&0!==ue||(V.scrollTop-=ue,V.scrollLeft+=De,pt(F),function tt(Nt,ve){var De=Math.floor(V.scrollTop);if(0===Nt){if(!F.scrollbarYActive)return!1;if(0===De&&ve>0||De>=F.contentHeight-F.containerHeight&&ve<0)return!F.settings.wheelPropagation}var ue=V.scrollLeft;if(0===ve){if(!F.scrollbarXActive)return!1;if(0===ue&&Nt<0||ue>=F.contentWidth-F.containerWidth&&Nt>0)return!F.settings.wheelPropagation}return!0}(De,ue)&&Nt.preventDefault())}})},wheel:function Jt(F){var V=F.element;function Nt(ve){var De=function xe(ve){var De=ve.deltaX,ue=-1*ve.deltaY;return(typeof De>"u"||typeof ue>"u")&&(De=-1*ve.wheelDeltaX/6,ue=ve.wheelDeltaY/6),ve.deltaMode&&1===ve.deltaMode&&(De*=10,ue*=10),De!=De&&ue!=ue&&(De=0,ue=ve.wheelDelta),ve.shiftKey?[-ue,-De]:[De,ue]}(ve),ue=De[0],$e=De[1];if(!function tt(ve,De,ue){if(!Lt.isWebKit&&V.querySelector("select:focus"))return!0;if(!V.contains(ve))return!1;for(var $e=ve;$e&&$e!==V;){if($e.classList.contains(qe_element_consuming))return!0;var rt=ae($e);if(ue&&rt.overflowY.match(/(scroll|auto)/)){var Zt=$e.scrollHeight-$e.clientHeight;if(Zt>0&&($e.scrollTop>0&&ue<0||$e.scrollTop<Zt&&ue>0))return!0}if(De&&rt.overflowX.match(/(scroll|auto)/)){var Un=$e.scrollWidth-$e.clientWidth;if(Un>0&&($e.scrollLeft>0&&De<0||$e.scrollLeft<Un&&De>0))return!0}$e=$e.parentNode}return!1}(ve.target,ue,$e)){var rt=!1;F.settings.useBothWheelAxes?F.scrollbarYActive&&!F.scrollbarXActive?($e?V.scrollTop-=$e*F.settings.wheelSpeed:V.scrollTop+=ue*F.settings.wheelSpeed,rt=!0):F.scrollbarXActive&&!F.scrollbarYActive&&(ue?V.scrollLeft+=ue*F.settings.wheelSpeed:V.scrollLeft-=$e*F.settings.wheelSpeed,rt=!0):(V.scrollTop-=$e*F.settings.wheelSpeed,V.scrollLeft+=ue*F.settings.wheelSpeed),pt(F),rt=rt||function ne(ve,De){var ue=Math.floor(V.scrollTop),$e=0===V.scrollTop,rt=ue+V.offsetHeight===V.scrollHeight,Zt=0===V.scrollLeft,Un=V.scrollLeft+V.offsetWidth===V.scrollWidth;return!(Math.abs(De)>Math.abs(ve)?$e||rt:Zt||Un)||!F.settings.wheelPropagation}(ue,$e),rt&&!ve.ctrlKey&&(ve.stopPropagation(),ve.preventDefault())}}typeof window.onwheel<"u"?F.event.bind(V,"wheel",Nt):typeof window.onmousewheel<"u"&&F.event.bind(V,"mousewheel",Nt)},touch:function Mn(F){if(Lt.supportsTouch||Lt.supportsIePointer){var V=F.element,tt={},Nt=0,ve={},De=null;Lt.supportsTouch?(F.event.bind(V,"touchstart",rt),F.event.bind(V,"touchmove",Un),F.event.bind(V,"touchend",qn)):Lt.supportsIePointer&&(window.PointerEvent?(F.event.bind(V,"pointerdown",rt),F.event.bind(V,"pointermove",Un),F.event.bind(V,"pointerup",qn)):window.MSPointerEvent&&(F.event.bind(V,"MSPointerDown",rt),F.event.bind(V,"MSPointerMove",Un),F.event.bind(V,"MSPointerUp",qn)))}function xe(Cn,Sr){V.scrollTop-=Sr,V.scrollLeft-=Cn,pt(F)}function ue(Cn){return Cn.targetTouches?Cn.targetTouches[0]:Cn}function $e(Cn){return!(Cn.pointerType&&"pen"===Cn.pointerType&&0===Cn.buttons||!(Cn.targetTouches&&1===Cn.targetTouches.length||Cn.pointerType&&"mouse"!==Cn.pointerType&&Cn.pointerType!==Cn.MSPOINTER_TYPE_MOUSE))}function rt(Cn){if($e(Cn)){var Sr=ue(Cn);tt.pageX=Sr.pageX,tt.pageY=Sr.pageY,Nt=(new Date).getTime(),null!==De&&clearInterval(De)}}function Un(Cn){if($e(Cn)){var Sr=ue(Cn),Rn={pageX:Sr.pageX,pageY:Sr.pageY},pr=Rn.pageX-tt.pageX,Tr=Rn.pageY-tt.pageY;if(function Zt(Cn,Sr,Rn){if(!V.contains(Cn))return!1;for(var pr=Cn;pr&&pr!==V;){if(pr.classList.contains(qe_element_consuming))return!0;var Tr=ae(pr);if(Rn&&Tr.overflowY.match(/(scroll|auto)/)){var Yi=pr.scrollHeight-pr.clientHeight;if(Yi>0&&(pr.scrollTop>0&&Rn<0||pr.scrollTop<Yi&&Rn>0))return!0}if(Sr&&Tr.overflowX.match(/(scroll|auto)/)){var Gi=pr.scrollWidth-pr.clientWidth;if(Gi>0&&(pr.scrollLeft>0&&Sr<0||pr.scrollLeft<Gi&&Sr>0))return!0}pr=pr.parentNode}return!1}(Cn.target,pr,Tr))return;xe(pr,Tr),tt=Rn;var Yi=(new Date).getTime(),Gi=Yi-Nt;Gi>0&&(ve.x=pr/Gi,ve.y=Tr/Gi,Nt=Yi),function ne(Cn,Sr){var Rn=Math.floor(V.scrollTop),pr=V.scrollLeft,Tr=Math.abs(Cn),Yi=Math.abs(Sr);if(Yi>Tr){if(Sr<0&&Rn===F.contentHeight-F.containerHeight||Sr>0&&0===Rn)return 0===window.scrollY&&Sr>0&&Lt.isChrome}else if(Tr>Yi&&(Cn<0&&pr===F.contentWidth-F.containerWidth||Cn>0&&0===pr))return!0;return!0}(pr,Tr)&&Cn.preventDefault()}}function qn(){F.settings.swipeEasing&&(clearInterval(De),De=setInterval(function(){F.isInitialized?clearInterval(De):ve.x||ve.y?Math.abs(ve.x)<.01&&Math.abs(ve.y)<.01?clearInterval(De):(xe(30*ve.x,30*ve.y),ve.x*=.8,ve.y*=.8):clearInterval(De)},10))}}},xn=function(V,ne){var xe=this;if(void 0===ne&&(ne={}),"string"==typeof V&&(V=document.querySelector(V)),!V||!V.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var tt in this.element=V,V.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},ne)this.settings[tt]=ne[tt];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var rt,$e,Nt=function(){return V.classList.add(qe_state_focus)},ve=function(){return V.classList.remove(qe_state_focus)};this.isRtl="rtl"===ae(V).direction,!0===this.isRtl&&V.classList.add("ps__rtl"),this.isNegativeScroll=($e=V.scrollLeft,V.scrollLeft=-1,rt=V.scrollLeft<0,V.scrollLeft=$e,rt),this.negativeScrollAdjustment=this.isNegativeScroll?V.scrollWidth-V.clientWidth:0,this.event=new Ct,this.ownerDocument=V.ownerDocument||document,this.scrollbarXRail=ye(qe_element_rail("x")),V.appendChild(this.scrollbarXRail),this.scrollbarX=ye(qe_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",Nt),this.event.bind(this.scrollbarX,"blur",ve),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var De=ae(this.scrollbarXRail);this.scrollbarXBottom=parseInt(De.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Qe(De.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Qe(De.borderLeftWidth)+Qe(De.borderRightWidth),le(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Qe(De.marginLeft)+Qe(De.marginRight),le(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=ye(qe_element_rail("y")),V.appendChild(this.scrollbarYRail),this.scrollbarY=ye(qe_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",Nt),this.event.bind(this.scrollbarY,"blur",ve),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var ue=ae(this.scrollbarYRail);this.scrollbarYRight=parseInt(ue.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Qe(ue.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function ln(F){var V=ae(F);return Qe(V.width)+Qe(V.paddingLeft)+Qe(V.paddingRight)+Qe(V.borderLeftWidth)+Qe(V.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=Qe(ue.borderTopWidth)+Qe(ue.borderBottomWidth),le(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Qe(ue.marginTop)+Qe(ue.marginBottom),le(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:V.scrollLeft<=0?"start":V.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:V.scrollTop<=0?"start":V.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function($e){return Pn[$e](xe)}),this.lastScrollTop=Math.floor(V.scrollTop),this.lastScrollLeft=V.scrollLeft,this.event.bind(this.element,"scroll",function($e){return xe.onScroll($e)}),pt(this)};xn.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,le(this.scrollbarXRail,{display:"block"}),le(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Qe(ae(this.scrollbarXRail).marginLeft)+Qe(ae(this.scrollbarXRail).marginRight),this.railYMarginHeight=Qe(ae(this.scrollbarYRail).marginTop)+Qe(ae(this.scrollbarYRail).marginBottom),le(this.scrollbarXRail,{display:"none"}),le(this.scrollbarYRail,{display:"none"}),pt(this),Te(this,"top",0,!1,!0),Te(this,"left",0,!1,!0),le(this.scrollbarXRail,{display:""}),le(this.scrollbarYRail,{display:""}))},xn.prototype.onScroll=function(V){!this.isAlive||(pt(this),Te(this,"top",this.element.scrollTop-this.lastScrollTop),Te(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},xn.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),Ne(this.scrollbarX),Ne(this.scrollbarY),Ne(this.scrollbarXRail),Ne(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},xn.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(V){return!V.match(/^ps([-_].+|)$/)}).join(" ")};const Tn=xn;var Wn=function(){if(typeof Map<"u")return Map;function F(V,ne){var xe=-1;return V.some(function(tt,Nt){return tt[0]===ne&&(xe=Nt,!0)}),xe}return function(){function V(){this.__entries__=[]}return Object.defineProperty(V.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),V.prototype.get=function(ne){var xe=F(this.__entries__,ne),tt=this.__entries__[xe];return tt&&tt[1]},V.prototype.set=function(ne,xe){var tt=F(this.__entries__,ne);~tt?this.__entries__[tt][1]=xe:this.__entries__.push([ne,xe])},V.prototype.delete=function(ne){var xe=this.__entries__,tt=F(xe,ne);~tt&&xe.splice(tt,1)},V.prototype.has=function(ne){return!!~F(this.__entries__,ne)},V.prototype.clear=function(){this.__entries__.splice(0)},V.prototype.forEach=function(ne,xe){void 0===xe&&(xe=null);for(var tt=0,Nt=this.__entries__;tt<Nt.length;tt++){var ve=Nt[tt];ne.call(xe,ve[1],ve[0])}},V}()}(),lr=typeof window<"u"&&typeof document<"u"&&window.document===document,Yn=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Cr="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Yn):function(F){return setTimeout(function(){return F(Date.now())},1e3/60)},tr=["top","right","bottom","left","width","height","size","weight"],Nr=typeof MutationObserver<"u",hn=function(){function F(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function Gr(F,V){var ne=!1,xe=!1,tt=0;function Nt(){ne&&(ne=!1,F()),xe&&De()}function ve(){Cr(Nt)}function De(){var ue=Date.now();if(ne){if(ue-tt<2)return;xe=!0}else ne=!0,xe=!1,setTimeout(ve,V);tt=ue}return De}(this.refresh.bind(this),20)}return F.prototype.addObserver=function(V){~this.observers_.indexOf(V)||this.observers_.push(V),this.connected_||this.connect_()},F.prototype.removeObserver=function(V){var ne=this.observers_,xe=ne.indexOf(V);~xe&&ne.splice(xe,1),!ne.length&&this.connected_&&this.disconnect_()},F.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},F.prototype.updateObservers_=function(){var V=this.observers_.filter(function(ne){return ne.gatherActive(),ne.hasActive()});return V.forEach(function(ne){return ne.broadcastActive()}),V.length>0},F.prototype.connect_=function(){!lr||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Nr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},F.prototype.disconnect_=function(){!lr||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},F.prototype.onTransitionEnd_=function(V){var ne=V.propertyName,xe=void 0===ne?"":ne;tr.some(function(Nt){return!!~xe.indexOf(Nt)})&&this.refresh()},F.getInstance=function(){return this.instance_||(this.instance_=new F),this.instance_},F.instance_=null,F}(),Fr=function(F,V){for(var ne=0,xe=Object.keys(V);ne<xe.length;ne++){var tt=xe[ne];Object.defineProperty(F,tt,{value:V[tt],enumerable:!1,writable:!1,configurable:!0})}return F},hr=function(F){return F&&F.ownerDocument&&F.ownerDocument.defaultView||Yn},gr=In(0,0,0,0);function ci(F){return parseFloat(F)||0}function xs(F){for(var V=[],ne=1;ne<arguments.length;ne++)V[ne-1]=arguments[ne];return V.reduce(function(xe,tt){return xe+ci(F["border-"+tt+"-width"])},0)}var Le=typeof SVGGraphicsElement<"u"?function(F){return F instanceof hr(F).SVGGraphicsElement}:function(F){return F instanceof hr(F).SVGElement&&"function"==typeof F.getBBox};function Ot(F){return lr?Le(F)?function Pt(F){var V=F.getBBox();return In(0,0,V.width,V.height)}(F):function Ze(F){var V=F.clientWidth,ne=F.clientHeight;if(!V&&!ne)return gr;var xe=hr(F).getComputedStyle(F),tt=function $r(F){for(var ne={},xe=0,tt=["top","right","bottom","left"];xe<tt.length;xe++){var Nt=tt[xe];ne[Nt]=ci(F["padding-"+Nt])}return ne}(xe),Nt=tt.left+tt.right,ve=tt.top+tt.bottom,De=ci(xe.width),ue=ci(xe.height);if("border-box"===xe.boxSizing&&(Math.round(De+Nt)!==V&&(De-=xs(xe,"left","right")+Nt),Math.round(ue+ve)!==ne&&(ue-=xs(xe,"top","bottom")+ve)),!function wt(F){return F===hr(F).document.documentElement}(F)){var $e=Math.round(De+Nt)-V,rt=Math.round(ue+ve)-ne;1!==Math.abs($e)&&(De-=$e),1!==Math.abs(rt)&&(ue-=rt)}return In(tt.left,tt.top,De,ue)}(F):gr}function In(F,V,ne,xe){return{x:F,y:V,width:ne,height:xe}}var Zn=function(){function F(V){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=In(0,0,0,0),this.target=V}return F.prototype.isActive=function(){var V=Ot(this.target);return this.contentRect_=V,V.width!==this.broadcastWidth||V.height!==this.broadcastHeight},F.prototype.broadcastRect=function(){var V=this.contentRect_;return this.broadcastWidth=V.width,this.broadcastHeight=V.height,V},F}(),on=function F(V,ne){var xe=function Wt(F){var V=F.x,ne=F.y,xe=F.width,tt=F.height,Nt=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,ve=Object.create(Nt.prototype);return Fr(ve,{x:V,y:ne,width:xe,height:tt,top:ne,right:V+xe,bottom:tt+ne,left:V}),ve}(ne);Fr(this,{target:V,contentRect:xe})},fr=function(){function F(V,ne,xe){if(this.activeObservations_=[],this.observations_=new Wn,"function"!=typeof V)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=V,this.controller_=ne,this.callbackCtx_=xe}return F.prototype.observe=function(V){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(V instanceof hr(V).Element))throw new TypeError('parameter 1 is not of type "Element".');var ne=this.observations_;ne.has(V)||(ne.set(V,new Zn(V)),this.controller_.addObserver(this),this.controller_.refresh())}},F.prototype.unobserve=function(V){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(V instanceof hr(V).Element))throw new TypeError('parameter 1 is not of type "Element".');var ne=this.observations_;!ne.has(V)||(ne.delete(V),ne.size||this.controller_.removeObserver(this))}},F.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},F.prototype.gatherActive=function(){var V=this;this.clearActive(),this.observations_.forEach(function(ne){ne.isActive()&&V.activeObservations_.push(ne)})},F.prototype.broadcastActive=function(){if(this.hasActive()){var V=this.callbackCtx_,ne=this.activeObservations_.map(function(xe){return new on(xe.target,xe.broadcastRect())});this.callback_.call(V,ne,V),this.clearActive()}},F.prototype.clearActive=function(){this.activeObservations_.splice(0)},F.prototype.hasActive=function(){return this.activeObservations_.length>0},F}(),kn=typeof WeakMap<"u"?new WeakMap:new Wn,Br=function F(V){if(!(this instanceof F))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var ne=hn.getInstance(),xe=new fr(V,ne,this);kn.set(this,xe)};["observe","unobserve","disconnect"].forEach(function(F){Br.prototype[F]=function(){var V;return(V=kn.get(this))[F].apply(V,arguments)}});const Qn=typeof Yn.ResizeObserver<"u"?Yn.ResizeObserver:Br,Ht=new oe.OlP("PERFECT_SCROLLBAR_CONFIG");class sn{constructor(V,ne,xe,tt){this.x=V,this.y=ne,this.w=xe,this.h=tt}}class Fn{constructor(V,ne){this.x=V,this.y=ne}}const On=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class sr{constructor(V={}){this.assign(V)}assign(V={}){for(const ne in V)this[ne]=V[ne]}}let vr=(()=>{class F{constructor(ne,xe,tt,Nt,ve){this.zone=ne,this.differs=xe,this.elementRef=tt,this.platformId=Nt,this.defaults=ve,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new a.x,this.disabled=!1,this.psScrollY=new oe.vpe,this.psScrollX=new oe.vpe,this.psScrollUp=new oe.vpe,this.psScrollDown=new oe.vpe,this.psScrollLeft=new oe.vpe,this.psScrollRight=new oe.vpe,this.psYReachEnd=new oe.vpe,this.psYReachStart=new oe.vpe,this.psXReachEnd=new oe.vpe,this.psXReachStart=new oe.vpe}ngOnInit(){if(!this.disabled&&(0,Ie.NF)(this.platformId)){const ne=new sr(this.defaults);ne.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new Tn(this.elementRef.nativeElement,ne)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new Qn(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{On.forEach(xe=>{const tt=xe.replace(/([A-Z])/g,Nt=>`-${Nt.toLowerCase()}`);(0,E.R)(this.elementRef.nativeElement,tt).pipe((0,ce.e)(20),(0,de.R)(this.ngDestroy)).subscribe(Nt=>{this[xe].emit(Nt)})})})}}ngOnDestroy(){(0,Ie.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&typeof window<"u"&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,Ie.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(ne){ne.disabled&&!ne.disabled.isFirstChange()&&(0,Ie.NF)(this.platformId)&&ne.disabled.currentValue!==ne.disabled.previousValue&&(!0===ne.disabled.currentValue?this.ngOnDestroy():!1===ne.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){typeof window<"u"&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch{}},0))}geometry(ne="scroll"){return new sn(this.elementRef.nativeElement[ne+"Left"],this.elementRef.nativeElement[ne+"Top"],this.elementRef.nativeElement[ne+"Width"],this.elementRef.nativeElement[ne+"Height"])}position(ne=!1){return!ne&&this.instance?new Fn(this.instance.reach.x||0,this.instance.reach.y||0):new Fn(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(ne="any"){const xe=this.elementRef.nativeElement;return"any"===ne?xe.classList.contains("ps--active-x")||xe.classList.contains("ps--active-y"):"both"===ne?xe.classList.contains("ps--active-x")&&xe.classList.contains("ps--active-y"):xe.classList.contains("ps--active-"+ne)}scrollTo(ne,xe,tt){this.disabled||(null==xe&&null==tt?this.animateScrolling("scrollTop",ne,tt):(null!=ne&&this.animateScrolling("scrollLeft",ne,tt),null!=xe&&this.animateScrolling("scrollTop",xe,tt)))}scrollToX(ne,xe){this.animateScrolling("scrollLeft",ne,xe)}scrollToY(ne,xe){this.animateScrolling("scrollTop",ne,xe)}scrollToTop(ne,xe){this.animateScrolling("scrollTop",ne||0,xe)}scrollToLeft(ne,xe){this.animateScrolling("scrollLeft",ne||0,xe)}scrollToRight(ne,xe){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(ne||0),xe)}scrollToBottom(ne,xe){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(ne||0),xe)}scrollToElement(ne,xe,tt){if("string"==typeof ne&&(ne=this.elementRef.nativeElement.querySelector(ne)),ne){const Nt=ne.getBoundingClientRect(),ve=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",Nt.left-ve.left+this.elementRef.nativeElement.scrollLeft+(xe||0),tt),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",Nt.top-ve.top+this.elementRef.nativeElement.scrollTop+(xe||0),tt)}}animateScrolling(ne,xe,tt){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),!tt||typeof window>"u")this.elementRef.nativeElement[ne]=xe;else if(xe!==this.elementRef.nativeElement[ne]){let Nt=0,ve=0,De=performance.now(),ue=this.elementRef.nativeElement[ne];const $e=(ue-xe)/2,rt=Zt=>{ve+=Math.PI/(tt/(Zt-De)),Nt=Math.round(xe+$e+$e*Math.cos(ve)),this.elementRef.nativeElement[ne]===ue&&(ve>=Math.PI?this.animateScrolling(ne,xe,0):(this.elementRef.nativeElement[ne]=Nt,ue=this.elementRef.nativeElement[ne],De=Zt,this.animation=window.requestAnimationFrame(rt)))};window.requestAnimationFrame(rt)}}}return F.\u0275fac=function(ne){return new(ne||F)(oe.Y36(oe.R0b),oe.Y36(oe.aQg),oe.Y36(oe.SBq),oe.Y36(oe.Lbi),oe.Y36(Ht,8))},F.\u0275dir=oe.lG2({type:F,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[oe.TTD]}),F})(),Se=(()=>{class F{}return F.\u0275fac=function(ne){return new(ne||F)},F.\u0275mod=oe.oAB({type:F}),F.\u0275inj=oe.cJS({imports:[Ie.ez,Ie.ez]}),F})()},1135:(nn,we,M)=>{"use strict";M.d(we,{X:()=>E});var a=M(7579);class E extends a.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const de=super._subscribe(ce);return!de.closed&&ce.next(this._value),de}getValue(){const{hasError:ce,thrownError:de,_value:pe}=this;if(ce)throw de;return this._throwIfClosed(),pe}next(ce){super.next(this._value=ce)}}},9751:(nn,we,M)=>{"use strict";M.d(we,{y:()=>oe});var a=M(930),E=M(727),B=M(8822),ce=M(9635),de=M(2416),pe=M(576),Ee=M(2806);let oe=(()=>{class ye{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ne=new ye;return Ne.source=this,Ne.operator=Me,Ne}subscribe(Me,Ne,ot){const qe=function le(ye){return ye&&ye instanceof a.Lv||function ae(ye){return ye&&(0,pe.m)(ye.next)&&(0,pe.m)(ye.error)&&(0,pe.m)(ye.complete)}(ye)&&(0,E.Nn)(ye)}(Me)?Me:new a.Hp(Me,Ne,ot);return(0,Ee.x)(()=>{const{operator:nt,source:We}=this;qe.add(nt?nt.call(qe,We):We?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ne){Me.error(Ne)}}forEach(Me,Ne){return new(Ne=Ie(Ne))((ot,qe)=>{const nt=new a.Hp({next:We=>{try{Me(We)}catch(Ft){qe(Ft),nt.unsubscribe()}},error:qe,complete:ot});this.subscribe(nt)})}_subscribe(Me){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(Me)}[B.L](){return this}pipe(...Me){return(0,ce.U)(Me)(this)}toPromise(Me){return new(Me=Ie(Me))((Ne,ot)=>{let qe;this.subscribe(nt=>qe=nt,nt=>ot(nt),()=>Ne(qe))})}}return ye.create=Be=>new ye(Be),ye})();function Ie(ye){var Be;return null!==(Be=ye??de.v.Promise)&&void 0!==Be?Be:Promise}},7579:(nn,we,M)=>{"use strict";M.d(we,{x:()=>Ee});var a=M(9751),E=M(727);const ce=(0,M(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=M(8737),pe=M(2806);let Ee=(()=>{class Ie extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const ye=new oe(this,this);return ye.operator=le,ye}_throwIfClosed(){if(this.closed)throw new ce}next(le){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(le)}})}error(le){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:ye}=this;for(;ye.length;)ye.shift().error(le)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:ye,isStopped:Be,observers:Me}=this;return ye||Be?E.Lc:(this.currentObservers=null,Me.push(le),new E.w0(()=>{this.currentObservers=null,(0,de.P)(Me,le)}))}_checkFinalizedStatuses(le){const{hasError:ye,thrownError:Be,isStopped:Me}=this;ye?le.error(Be):Me&&le.complete()}asObservable(){const le=new a.y;return le.source=this,le}}return Ie.create=(ae,le)=>new oe(ae,le),Ie})();class oe extends Ee{constructor(ae,le){super(),this.destination=ae,this.source=le}next(ae){var le,ye;null===(ye=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===ye||ye.call(le,ae)}error(ae){var le,ye;null===(ye=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===ye||ye.call(le,ae)}complete(){var ae,le;null===(le=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===le||le.call(ae)}_subscribe(ae){var le,ye;return null!==(ye=null===(le=this.source)||void 0===le?void 0:le.subscribe(ae))&&void 0!==ye?ye:E.Lc}}},930:(nn,we,M)=>{"use strict";M.d(we,{Hp:()=>ot,Lv:()=>ye});var a=M(576),E=M(727),B=M(2416),ce=M(7849),de=M(5032);const pe=Ie("C",void 0,void 0);function Ie(it,Ke,Xe){return{kind:it,value:Ke,error:Xe}}var ae=M(3410),le=M(2806);class ye extends E.w0{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,E.Nn)(Ke)&&Ke.add(this)):this.destination=Ft}static create(Ke,Xe,Ct){return new ot(Ke,Xe,Ct)}next(Ke){this.isStopped?We(function oe(it){return Ie("N",it,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?We(function Ee(it){return Ie("E",void 0,it)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?We(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Me(it,Ke){return Be.call(it,Ke)}class Ne{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(Ke)}catch(Ct){qe(Ct)}}error(Ke){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(Ke)}catch(Ct){qe(Ct)}else qe(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(Xe){qe(Xe)}}}class ot extends ye{constructor(Ke,Xe,Ct){let dt;if(super(),(0,a.m)(Ke)||!Ke)dt={next:Ke??void 0,error:Xe??void 0,complete:Ct??void 0};else{let Te;this&&B.v.useDeprecatedNextContext?(Te=Object.create(Ke),Te.unsubscribe=()=>this.unsubscribe(),dt={next:Ke.next&&Me(Ke.next,Te),error:Ke.error&&Me(Ke.error,Te),complete:Ke.complete&&Me(Ke.complete,Te)}):dt=Ke}this.destination=new Ne(dt)}}function qe(it){B.v.useDeprecatedSynchronousErrorHandling?(0,le.O)(it):(0,ce.h)(it)}function We(it,Ke){const{onStoppedNotification:Xe}=B.v;Xe&&ae.z.setTimeout(()=>Xe(it,Ke))}const Ft={closed:!0,next:de.Z,error:function nt(it){throw it},complete:de.Z}},727:(nn,we,M)=>{"use strict";M.d(we,{Lc:()=>pe,w0:()=>de,Nn:()=>Ee});var a=M(576);const B=(0,M(3888).d)(Ie=>function(le){Ie(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((ye,Be)=>`${Be+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ce=M(8737);class de{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Me of le)Me.remove(this);else le.remove(this);const{initialTeardown:ye}=this;if((0,a.m)(ye))try{ye()}catch(Me){ae=Me instanceof B?Me.errors:[Me]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Me of Be)try{oe(Me)}catch(Ne){ae=ae??[],Ne instanceof B?ae=[...ae,...Ne.errors]:ae.push(Ne)}}if(ae)throw new B(ae)}}add(ae){var le;if(ae&&ae!==this)if(this.closed)oe(ae);else{if(ae instanceof de){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ae)}}_hasParent(ae){const{_parentage:le}=this;return le===ae||Array.isArray(le)&&le.includes(ae)}_addParent(ae){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ae),le):le?[le,ae]:ae}_removeParent(ae){const{_parentage:le}=this;le===ae?this._parentage=null:Array.isArray(le)&&(0,ce.P)(le,ae)}remove(ae){const{_finalizers:le}=this;le&&(0,ce.P)(le,ae),ae instanceof de&&ae._removeParent(this)}}de.EMPTY=(()=>{const Ie=new de;return Ie.closed=!0,Ie})();const pe=de.EMPTY;function Ee(Ie){return Ie instanceof de||Ie&&"closed"in Ie&&(0,a.m)(Ie.remove)&&(0,a.m)(Ie.add)&&(0,a.m)(Ie.unsubscribe)}function oe(Ie){(0,a.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(nn,we,M)=>{"use strict";M.d(we,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(nn,we,M)=>{"use strict";M.d(we,{a:()=>ae});var a=M(9751),E=M(4742),B=M(8996),ce=M(4671),de=M(3268),pe=M(3269),Ee=M(1810),oe=M(5403),Ie=M(9672);function ae(...Be){const Me=(0,pe.yG)(Be),Ne=(0,pe.jO)(Be),{args:ot,keys:qe}=(0,E.D)(Be);if(0===ot.length)return(0,B.D)([],Me);const nt=new a.y(function le(Be,Me,Ne=ce.y){return ot=>{ye(Me,()=>{const{length:qe}=Be,nt=new Array(qe);let We=qe,Ft=qe;for(let it=0;it<qe;it++)ye(Me,()=>{const Ke=(0,B.D)(Be[it],Me);let Xe=!1;Ke.subscribe((0,oe.x)(ot,Ct=>{nt[it]=Ct,Xe||(Xe=!0,Ft--),Ft||ot.next(Ne(nt.slice()))},()=>{--We||ot.complete()}))},ot)},ot)}}(ot,Me,qe?We=>(0,Ee.n)(qe,We):ce.y));return Ne?nt.pipe((0,de.Z)(Ne)):nt}function ye(Be,Me,Ne){Be?(0,Ie.f)(Ne,Be,Me):Me()}},7272:(nn,we,M)=>{"use strict";M.d(we,{z:()=>de});var a=M(8189),B=M(3269),ce=M(8996);function de(...pe){return function E(){return(0,a.J)(1)}()((0,ce.D)(pe,(0,B.yG)(pe)))}},9770:(nn,we,M)=>{"use strict";M.d(we,{P:()=>B});var a=M(9751),E=M(8421);function B(ce){return new a.y(de=>{(0,E.Xf)(ce()).subscribe(de)})}},515:(nn,we,M)=>{"use strict";M.d(we,{E:()=>E});const E=new(M(9751).y)(de=>de.complete())},8996:(nn,we,M)=>{"use strict";M.d(we,{D:()=>Ke});var a=M(8421),E=M(5363),B=M(9468),pe=M(9751),oe=M(2202),Ie=M(576),ae=M(9672);function ye(Xe,Ct){if(!Xe)throw new Error("Iterable cannot be null");return new pe.y(dt=>{(0,ae.f)(dt,Ct,()=>{const Te=Xe[Symbol.asyncIterator]();(0,ae.f)(dt,Ct,()=>{Te.next().then(Ge=>{Ge.done?dt.complete():dt.next(Ge.value)})},0,!0)})})}var Be=M(3670),Me=M(8239),Ne=M(1144),ot=M(6495),qe=M(2206),nt=M(4532),We=M(3260);function Ke(Xe,Ct){return Ct?function it(Xe,Ct){if(null!=Xe){if((0,Be.c)(Xe))return function ce(Xe,Ct){return(0,a.Xf)(Xe).pipe((0,B.R)(Ct),(0,E.Q)(Ct))}(Xe,Ct);if((0,Ne.z)(Xe))return function Ee(Xe,Ct){return new pe.y(dt=>{let Te=0;return Ct.schedule(function(){Te===Xe.length?dt.complete():(dt.next(Xe[Te++]),dt.closed||this.schedule())})})}(Xe,Ct);if((0,Me.t)(Xe))return function de(Xe,Ct){return(0,a.Xf)(Xe).pipe((0,B.R)(Ct),(0,E.Q)(Ct))}(Xe,Ct);if((0,qe.D)(Xe))return ye(Xe,Ct);if((0,ot.T)(Xe))return function le(Xe,Ct){return new pe.y(dt=>{let Te;return(0,ae.f)(dt,Ct,()=>{Te=Xe[oe.h](),(0,ae.f)(dt,Ct,()=>{let Ge,Qe;try{({value:Ge,done:Qe}=Te.next())}catch(At){return void dt.error(At)}Qe?dt.complete():dt.next(Ge)},0,!0)}),()=>(0,Ie.m)(Te?.return)&&Te.return()})}(Xe,Ct);if((0,We.L)(Xe))return function Ft(Xe,Ct){return ye((0,We.Q)(Xe),Ct)}(Xe,Ct)}throw(0,nt.z)(Xe)}(Xe,Ct):(0,a.Xf)(Xe)}},4968:(nn,we,M)=>{"use strict";M.d(we,{R:()=>ae});var a=M(8421),E=M(9751),B=M(5577),ce=M(1144),de=M(576),pe=M(3268);const Ee=["addListener","removeListener"],oe=["addEventListener","removeEventListener"],Ie=["on","off"];function ae(Ne,ot,qe,nt){if((0,de.m)(qe)&&(nt=qe,qe=void 0),nt)return ae(Ne,ot,qe).pipe((0,pe.Z)(nt));const[We,Ft]=function Me(Ne){return(0,de.m)(Ne.addEventListener)&&(0,de.m)(Ne.removeEventListener)}(Ne)?oe.map(it=>Ke=>Ne[it](ot,Ke,qe)):function ye(Ne){return(0,de.m)(Ne.addListener)&&(0,de.m)(Ne.removeListener)}(Ne)?Ee.map(le(Ne,ot)):function Be(Ne){return(0,de.m)(Ne.on)&&(0,de.m)(Ne.off)}(Ne)?Ie.map(le(Ne,ot)):[];if(!We&&(0,ce.z)(Ne))return(0,B.z)(it=>ae(it,ot,qe))((0,a.Xf)(Ne));if(!We)throw new TypeError("Invalid event target");return new E.y(it=>{const Ke=(...Xe)=>it.next(1<Xe.length?Xe:Xe[0]);return We(Ke),()=>Ft(Ke)})}function le(Ne,ot){return qe=>nt=>Ne[qe](ot,nt)}},8421:(nn,we,M)=>{"use strict";M.d(we,{Xf:()=>Be});var a=M(655),E=M(1144),B=M(8239),ce=M(9751),de=M(3670),pe=M(2206),Ee=M(4532),oe=M(6495),Ie=M(3260),ae=M(576),le=M(7849),ye=M(8822);function Be(it){if(it instanceof ce.y)return it;if(null!=it){if((0,de.c)(it))return function Me(it){return new ce.y(Ke=>{const Xe=it[ye.L]();if((0,ae.m)(Xe.subscribe))return Xe.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,E.z)(it))return function Ne(it){return new ce.y(Ke=>{for(let Xe=0;Xe<it.length&&!Ke.closed;Xe++)Ke.next(it[Xe]);Ke.complete()})}(it);if((0,B.t)(it))return function ot(it){return new ce.y(Ke=>{it.then(Xe=>{Ke.closed||(Ke.next(Xe),Ke.complete())},Xe=>Ke.error(Xe)).then(null,le.h)})}(it);if((0,pe.D)(it))return nt(it);if((0,oe.T)(it))return function qe(it){return new ce.y(Ke=>{for(const Xe of it)if(Ke.next(Xe),Ke.closed)return;Ke.complete()})}(it);if((0,Ie.L)(it))return function We(it){return nt((0,Ie.Q)(it))}(it)}throw(0,Ee.z)(it)}function nt(it){return new ce.y(Ke=>{(function Ft(it,Ke){var Xe,Ct,dt,Te;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,a.KL)(it);!(Ct=yield Xe.next()).done;)if(Ke.next(Ct.value),Ke.closed)return}catch(Ge){dt={error:Ge}}finally{try{Ct&&!Ct.done&&(Te=Xe.return)&&(yield Te.call(Xe))}finally{if(dt)throw dt.error}}Ke.complete()})})(it,Ke).catch(Xe=>Ke.error(Xe))})}},6451:(nn,we,M)=>{"use strict";M.d(we,{T:()=>pe});var a=M(8189),E=M(8421),B=M(515),ce=M(3269),de=M(8996);function pe(...Ee){const oe=(0,ce.yG)(Ee),Ie=(0,ce._6)(Ee,1/0),ae=Ee;return ae.length?1===ae.length?(0,E.Xf)(ae[0]):(0,a.J)(Ie)((0,de.D)(ae,oe)):B.E}},9646:(nn,we,M)=>{"use strict";M.d(we,{of:()=>B});var a=M(3269),E=M(8996);function B(...ce){const de=(0,a.yG)(ce);return(0,E.D)(ce,de)}},2843:(nn,we,M)=>{"use strict";M.d(we,{_:()=>B});var a=M(9751),E=M(576);function B(ce,de){const pe=(0,E.m)(ce)?ce:()=>ce,Ee=oe=>oe.error(pe());return new a.y(de?oe=>de.schedule(Ee,0,oe):Ee)}},5963:(nn,we,M)=>{"use strict";M.d(we,{H:()=>de});var a=M(9751),E=M(4986),B=M(3532);function de(pe=0,Ee,oe=E.P){let Ie=-1;return null!=Ee&&((0,B.K)(Ee)?oe=Ee:Ie=Ee),new a.y(ae=>{let le=function ce(pe){return pe instanceof Date&&!isNaN(pe)}(pe)?+pe-oe.now():pe;le<0&&(le=0);let ye=0;return oe.schedule(function(){ae.closed||(ae.next(ye++),0<=Ie?this.schedule(void 0,Ie):ae.complete())},le)})}},2557:(nn,we,M)=>{"use strict";M.d(we,{$:()=>Ee});var a=M(9751),E=M(8421),B=M(5797),ce=M(515),de=M(5403),pe=M(3269);function Ee(...oe){const Ie=(0,pe.jO)(oe),ae=(0,B.k)(oe);return ae.length?new a.y(le=>{let ye=ae.map(()=>[]),Be=ae.map(()=>!1);le.add(()=>{ye=Be=null});for(let Me=0;!le.closed&&Me<ae.length;Me++)(0,E.Xf)(ae[Me]).subscribe((0,de.x)(le,Ne=>{if(ye[Me].push(Ne),ye.every(ot=>ot.length)){const ot=ye.map(qe=>qe.shift());le.next(Ie?Ie(...ot):ot),ye.some((qe,nt)=>!qe.length&&Be[nt])&&le.complete()}},()=>{Be[Me]=!0,!ye[Me].length&&le.complete()}));return()=>{ye=Be=null}}):ce.E}},5403:(nn,we,M)=>{"use strict";M.d(we,{x:()=>E});var a=M(930);function E(ce,de,pe,Ee,oe){return new B(ce,de,pe,Ee,oe)}class B extends a.Lv{constructor(de,pe,Ee,oe,Ie,ae){super(de),this.onFinalize=Ie,this.shouldUnsubscribe=ae,this._next=pe?function(le){try{pe(le)}catch(ye){de.error(ye)}}:super._next,this._error=oe?function(le){try{oe(le)}catch(ye){de.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(le){de.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},3601:(nn,we,M)=>{"use strict";M.d(we,{e:()=>Ee});var a=M(4986),E=M(4482),B=M(8421),ce=M(5403),pe=M(5963);function Ee(oe,Ie=a.z){return function de(oe){return(0,E.e)((Ie,ae)=>{let le=!1,ye=null,Be=null,Me=!1;const Ne=()=>{if(Be?.unsubscribe(),Be=null,le){le=!1;const qe=ye;ye=null,ae.next(qe)}Me&&ae.complete()},ot=()=>{Be=null,Me&&ae.complete()};Ie.subscribe((0,ce.x)(ae,qe=>{le=!0,ye=qe,Be||(0,B.Xf)(oe(qe)).subscribe(Be=(0,ce.x)(ae,Ne,ot))},()=>{Me=!0,(!le||!Be||Be.closed)&&ae.complete()}))})}(()=>(0,pe.H)(oe,Ie))}},262:(nn,we,M)=>{"use strict";M.d(we,{K:()=>ce});var a=M(8421),E=M(5403),B=M(4482);function ce(de){return(0,B.e)((pe,Ee)=>{let ae,oe=null,Ie=!1;oe=pe.subscribe((0,E.x)(Ee,void 0,void 0,le=>{ae=(0,a.Xf)(de(le,ce(de)(pe))),oe?(oe.unsubscribe(),oe=null,ae.subscribe(Ee)):Ie=!0})),Ie&&(oe.unsubscribe(),oe=null,ae.subscribe(Ee))})}},4351:(nn,we,M)=>{"use strict";M.d(we,{b:()=>B});var a=M(5577),E=M(576);function B(ce,de){return(0,E.m)(de)?(0,a.z)(ce,de,1):(0,a.z)(ce,1)}},8372:(nn,we,M)=>{"use strict";M.d(we,{b:()=>ce});var a=M(4986),E=M(4482),B=M(5403);function ce(de,pe=a.z){return(0,E.e)((Ee,oe)=>{let Ie=null,ae=null,le=null;const ye=()=>{if(Ie){Ie.unsubscribe(),Ie=null;const Me=ae;ae=null,oe.next(Me)}};function Be(){const Me=le+de,Ne=pe.now();if(Ne<Me)return Ie=this.schedule(void 0,Me-Ne),void oe.add(Ie);ye()}Ee.subscribe((0,B.x)(oe,Me=>{ae=Me,le=pe.now(),Ie||(Ie=pe.schedule(Be,de),oe.add(Ie))},()=>{ye(),oe.complete()},void 0,()=>{ae=Ie=null}))})}},6590:(nn,we,M)=>{"use strict";M.d(we,{d:()=>B});var a=M(4482),E=M(5403);function B(ce){return(0,a.e)((de,pe)=>{let Ee=!1;de.subscribe((0,E.x)(pe,oe=>{Ee=!0,pe.next(oe)},()=>{Ee||pe.next(ce),pe.complete()}))})}},1005:(nn,we,M)=>{"use strict";M.d(we,{g:()=>ye});var a=M(4986),E=M(7272),B=M(5698),ce=M(4482),de=M(5403),pe=M(5032),oe=M(9718),Ie=M(5577);function ae(Be,Me){return Me?Ne=>(0,E.z)(Me.pipe((0,B.q)(1),function Ee(){return(0,ce.e)((Be,Me)=>{Be.subscribe((0,de.x)(Me,pe.Z))})}()),Ne.pipe(ae(Be))):(0,Ie.z)((Ne,ot)=>Be(Ne,ot).pipe((0,B.q)(1),(0,oe.h)(Ne)))}var le=M(5963);function ye(Be,Me=a.z){const Ne=(0,le.H)(Be,Me);return ae(()=>Ne)}},1884:(nn,we,M)=>{"use strict";M.d(we,{x:()=>ce});var a=M(4671),E=M(4482),B=M(5403);function ce(pe,Ee=a.y){return pe=pe??de,(0,E.e)((oe,Ie)=>{let ae,le=!0;oe.subscribe((0,B.x)(Ie,ye=>{const Be=Ee(ye);(le||!pe(ae,Be))&&(le=!1,ae=Be,Ie.next(ye))}))})}function de(pe,Ee){return pe===Ee}},9300:(nn,we,M)=>{"use strict";M.d(we,{h:()=>B});var a=M(4482),E=M(5403);function B(ce,de){return(0,a.e)((pe,Ee)=>{let oe=0;pe.subscribe((0,E.x)(Ee,Ie=>ce.call(de,Ie,oe++)&&Ee.next(Ie)))})}},590:(nn,we,M)=>{"use strict";M.d(we,{P:()=>Ee});var a=M(6805),E=M(9300),B=M(5698),ce=M(6590),de=M(8068),pe=M(4671);function Ee(oe,Ie){const ae=arguments.length>=2;return le=>le.pipe(oe?(0,E.h)((ye,Be)=>oe(ye,Be,le)):pe.y,(0,B.q)(1),ae?(0,ce.d)(Ie):(0,de.T)(()=>new a.K))}},4004:(nn,we,M)=>{"use strict";M.d(we,{U:()=>B});var a=M(4482),E=M(5403);function B(ce,de){return(0,a.e)((pe,Ee)=>{let oe=0;pe.subscribe((0,E.x)(Ee,Ie=>{Ee.next(ce.call(de,Ie,oe++))}))})}},9718:(nn,we,M)=>{"use strict";M.d(we,{h:()=>E});var a=M(4004);function E(B){return(0,a.U)(()=>B)}},8189:(nn,we,M)=>{"use strict";M.d(we,{J:()=>B});var a=M(5577),E=M(4671);function B(ce=1/0){return(0,a.z)(E.y,ce)}},5577:(nn,we,M)=>{"use strict";M.d(we,{z:()=>oe});var a=M(4004),E=M(8421),B=M(4482),ce=M(9672),de=M(5403),Ee=M(576);function oe(Ie,ae,le=1/0){return(0,Ee.m)(ae)?oe((ye,Be)=>(0,a.U)((Me,Ne)=>ae(ye,Me,Be,Ne))((0,E.Xf)(Ie(ye,Be))),le):("number"==typeof ae&&(le=ae),(0,B.e)((ye,Be)=>function pe(Ie,ae,le,ye,Be,Me,Ne,ot){const qe=[];let nt=0,We=0,Ft=!1;const it=()=>{Ft&&!qe.length&&!nt&&ae.complete()},Ke=Ct=>nt<ye?Xe(Ct):qe.push(Ct),Xe=Ct=>{Me&&ae.next(Ct),nt++;let dt=!1;(0,E.Xf)(le(Ct,We++)).subscribe((0,de.x)(ae,Te=>{Be?.(Te),Me?Ke(Te):ae.next(Te)},()=>{dt=!0},void 0,()=>{if(dt)try{for(nt--;qe.length&&nt<ye;){const Te=qe.shift();Ne?(0,ce.f)(ae,Ne,()=>Xe(Te)):Xe(Te)}it()}catch(Te){ae.error(Te)}}))};return Ie.subscribe((0,de.x)(ae,Ke,()=>{Ft=!0,it()})),()=>{ot?.()}}(ye,Be,Ie,le)))}},5363:(nn,we,M)=>{"use strict";M.d(we,{Q:()=>ce});var a=M(9672),E=M(4482),B=M(5403);function ce(de,pe=0){return(0,E.e)((Ee,oe)=>{Ee.subscribe((0,B.x)(oe,Ie=>(0,a.f)(oe,de,()=>oe.next(Ie),pe),()=>(0,a.f)(oe,de,()=>oe.complete(),pe),Ie=>(0,a.f)(oe,de,()=>oe.error(Ie),pe)))})}},2940:(nn,we,M)=>{"use strict";M.d(we,{R:()=>B});var a=M(4482),E=M(7359);function B(ce,de){return(0,a.e)((0,E.U)(ce,de,arguments.length>=2,!0))}},7359:(nn,we,M)=>{"use strict";M.d(we,{U:()=>E});var a=M(5403);function E(B,ce,de,pe,Ee){return(oe,Ie)=>{let ae=de,le=ce,ye=0;oe.subscribe((0,a.x)(Ie,Be=>{const Me=ye++;le=ae?B(le,Be,Me):(ae=!0,Be),pe&&Ie.next(le)},Ee&&(()=>{ae&&Ie.next(le),Ie.complete()})))}}},3099:(nn,we,M)=>{"use strict";M.d(we,{B:()=>de});var a=M(8421),E=M(7579),B=M(930),ce=M(4482);function de(Ee={}){const{connector:oe=(()=>new E.x),resetOnError:Ie=!0,resetOnComplete:ae=!0,resetOnRefCountZero:le=!0}=Ee;return ye=>{let Be,Me,Ne,ot=0,qe=!1,nt=!1;const We=()=>{Me?.unsubscribe(),Me=void 0},Ft=()=>{We(),Be=Ne=void 0,qe=nt=!1},it=()=>{const Ke=Be;Ft(),Ke?.unsubscribe()};return(0,ce.e)((Ke,Xe)=>{ot++,!nt&&!qe&&We();const Ct=Ne=Ne??oe();Xe.add(()=>{ot--,0===ot&&!nt&&!qe&&(Me=pe(it,le))}),Ct.subscribe(Xe),!Be&&ot>0&&(Be=new B.Hp({next:dt=>Ct.next(dt),error:dt=>{nt=!0,We(),Me=pe(Ft,Ie,dt),Ct.error(dt)},complete:()=>{qe=!0,We(),Me=pe(Ft,ae),Ct.complete()}}),(0,a.Xf)(Ke).subscribe(Be))})(ye)}}function pe(Ee,oe,...Ie){if(!0===oe)return void Ee();if(!1===oe)return;const ae=new B.Hp({next:()=>{ae.unsubscribe(),Ee()}});return oe(...Ie).subscribe(ae)}},3151:(nn,we,M)=>{"use strict";M.d(we,{d:()=>de});var a=M(7579),E=M(6063);class B extends a.x{constructor(Ee=1/0,oe=1/0,Ie=E.l){super(),this._bufferSize=Ee,this._windowTime=oe,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=oe===1/0,this._bufferSize=Math.max(1,Ee),this._windowTime=Math.max(1,oe)}next(Ee){const{isStopped:oe,_buffer:Ie,_infiniteTimeWindow:ae,_timestampProvider:le,_windowTime:ye}=this;oe||(Ie.push(Ee),!ae&&Ie.push(le.now()+ye)),this._trimBuffer(),super.next(Ee)}_subscribe(Ee){this._throwIfClosed(),this._trimBuffer();const oe=this._innerSubscribe(Ee),{_infiniteTimeWindow:Ie,_buffer:ae}=this,le=ae.slice();for(let ye=0;ye<le.length&&!Ee.closed;ye+=Ie?1:2)Ee.next(le[ye]);return this._checkFinalizedStatuses(Ee),oe}_trimBuffer(){const{_bufferSize:Ee,_timestampProvider:oe,_buffer:Ie,_infiniteTimeWindow:ae}=this,le=(ae?1:2)*Ee;if(Ee<1/0&&le<Ie.length&&Ie.splice(0,Ie.length-le),!ae){const ye=oe.now();let Be=0;for(let Me=1;Me<Ie.length&&Ie[Me]<=ye;Me+=2)Be=Me;Be&&Ie.splice(0,Be+1)}}}var ce=M(3099);function de(pe,Ee,oe){let Ie,ae=!1;return pe&&"object"==typeof pe?({bufferSize:Ie=1/0,windowTime:Ee=1/0,refCount:ae=!1,scheduler:oe}=pe):Ie=pe??1/0,(0,ce.B)({connector:()=>new B(Ie,Ee,oe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ae})}},5684:(nn,we,M)=>{"use strict";M.d(we,{T:()=>E});var a=M(9300);function E(B){return(0,a.h)((ce,de)=>B<=de)}},8675:(nn,we,M)=>{"use strict";M.d(we,{O:()=>ce});var a=M(7272),E=M(3269),B=M(4482);function ce(...de){const pe=(0,E.yG)(de);return(0,B.e)((Ee,oe)=>{(pe?(0,a.z)(de,Ee,pe):(0,a.z)(de,Ee)).subscribe(oe)})}},9468:(nn,we,M)=>{"use strict";M.d(we,{R:()=>E});var a=M(4482);function E(B,ce=0){return(0,a.e)((de,pe)=>{pe.add(B.schedule(()=>de.subscribe(pe),ce))})}},3900:(nn,we,M)=>{"use strict";M.d(we,{w:()=>ce});var a=M(8421),E=M(4482),B=M(5403);function ce(de,pe){return(0,E.e)((Ee,oe)=>{let Ie=null,ae=0,le=!1;const ye=()=>le&&!Ie&&oe.complete();Ee.subscribe((0,B.x)(oe,Be=>{Ie?.unsubscribe();let Me=0;const Ne=ae++;(0,a.Xf)(de(Be,Ne)).subscribe(Ie=(0,B.x)(oe,ot=>oe.next(pe?pe(Be,ot,Ne,Me++):ot),()=>{Ie=null,ye()}))},()=>{le=!0,ye()}))})}},5698:(nn,we,M)=>{"use strict";M.d(we,{q:()=>ce});var a=M(515),E=M(4482),B=M(5403);function ce(de){return de<=0?()=>a.E:(0,E.e)((pe,Ee)=>{let oe=0;pe.subscribe((0,B.x)(Ee,Ie=>{++oe<=de&&(Ee.next(Ie),de<=oe&&Ee.complete())}))})}},2722:(nn,we,M)=>{"use strict";M.d(we,{R:()=>de});var a=M(4482),E=M(5403),B=M(8421),ce=M(5032);function de(pe){return(0,a.e)((Ee,oe)=>{(0,B.Xf)(pe).subscribe((0,E.x)(oe,()=>oe.complete(),ce.Z)),!oe.closed&&Ee.subscribe(oe)})}},8505:(nn,we,M)=>{"use strict";M.d(we,{b:()=>de});var a=M(576),E=M(4482),B=M(5403),ce=M(4671);function de(pe,Ee,oe){const Ie=(0,a.m)(pe)||Ee||oe?{next:pe,error:Ee,complete:oe}:pe;return Ie?(0,E.e)((ae,le)=>{var ye;null===(ye=Ie.subscribe)||void 0===ye||ye.call(Ie);let Be=!0;ae.subscribe((0,B.x)(le,Me=>{var Ne;null===(Ne=Ie.next)||void 0===Ne||Ne.call(Ie,Me),le.next(Me)},()=>{var Me;Be=!1,null===(Me=Ie.complete)||void 0===Me||Me.call(Ie),le.complete()},Me=>{var Ne;Be=!1,null===(Ne=Ie.error)||void 0===Ne||Ne.call(Ie,Me),le.error(Me)},()=>{var Me,Ne;Be&&(null===(Me=Ie.unsubscribe)||void 0===Me||Me.call(Ie)),null===(Ne=Ie.finalize)||void 0===Ne||Ne.call(Ie)}))}):ce.y}},8068:(nn,we,M)=>{"use strict";M.d(we,{T:()=>ce});var a=M(6805),E=M(4482),B=M(5403);function ce(pe=de){return(0,E.e)((Ee,oe)=>{let Ie=!1;Ee.subscribe((0,B.x)(oe,ae=>{Ie=!0,oe.next(ae)},()=>Ie?oe.complete():oe.error(pe())))})}function de(){return new a.K}},1365:(nn,we,M)=>{"use strict";M.d(we,{M:()=>Ee});var a=M(4482),E=M(5403),B=M(8421),ce=M(4671),de=M(5032),pe=M(3269);function Ee(...oe){const Ie=(0,pe.jO)(oe);return(0,a.e)((ae,le)=>{const ye=oe.length,Be=new Array(ye);let Me=oe.map(()=>!1),Ne=!1;for(let ot=0;ot<ye;ot++)(0,B.Xf)(oe[ot]).subscribe((0,E.x)(le,qe=>{Be[ot]=qe,!Ne&&!Me[ot]&&(Me[ot]=!0,(Ne=Me.every(ce.y))&&(Me=null))},de.Z));ae.subscribe((0,E.x)(le,ot=>{if(Ne){const qe=[ot,...Be];le.next(Ie?Ie(...qe):qe)}}))})}},4408:(nn,we,M)=>{"use strict";M.d(we,{o:()=>de});var a=M(727);class E extends a.w0{constructor(Ee,oe){super()}schedule(Ee,oe=0){return this}}const B={setInterval(pe,Ee,...oe){const{delegate:Ie}=B;return Ie?.setInterval?Ie.setInterval(pe,Ee,...oe):setInterval(pe,Ee,...oe)},clearInterval(pe){const{delegate:Ee}=B;return(Ee?.clearInterval||clearInterval)(pe)},delegate:void 0};var ce=M(8737);class de extends E{constructor(Ee,oe){super(Ee,oe),this.scheduler=Ee,this.work=oe,this.pending=!1}schedule(Ee,oe=0){var Ie;if(this.closed)return this;this.state=Ee;const ae=this.id,le=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(le,ae,oe)),this.pending=!0,this.delay=oe,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(le,this.id,oe),this}requestAsyncId(Ee,oe,Ie=0){return B.setInterval(Ee.flush.bind(Ee,this),Ie)}recycleAsyncId(Ee,oe,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return oe;null!=oe&&B.clearInterval(oe)}execute(Ee,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Ee,oe);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,oe){let ae,Ie=!1;try{this.work(Ee)}catch(le){Ie=!0,ae=le||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:oe}=this,{actions:Ie}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Ie,this),null!=Ee&&(this.id=this.recycleAsyncId(oe,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(nn,we,M)=>{"use strict";M.d(we,{v:()=>B});var a=M(6063);class E{constructor(de,pe=E.now){this.schedulerActionCtor=de,this.now=pe}schedule(de,pe=0,Ee){return new this.schedulerActionCtor(this,de).schedule(Ee,pe)}}E.now=a.l.now;class B extends E{constructor(de,pe=E.now){super(de,pe),this.actions=[],this._active=!1}flush(de){const{actions:pe}=this;if(this._active)return void pe.push(de);let Ee;this._active=!0;do{if(Ee=de.execute(de.state,de.delay))break}while(de=pe.shift());if(this._active=!1,Ee){for(;de=pe.shift();)de.unsubscribe();throw Ee}}}},6406:(nn,we,M)=>{"use strict";M.d(we,{Z:()=>Ee});var a=M(4408),E=M(727);const B={schedule(Ie){let ae=requestAnimationFrame,le=cancelAnimationFrame;const{delegate:ye}=B;ye&&(ae=ye.requestAnimationFrame,le=ye.cancelAnimationFrame);const Be=ae(Me=>{le=void 0,Ie(Me)});return new E.w0(()=>le?.(Be))},requestAnimationFrame(...Ie){const{delegate:ae}=B;return(ae?.requestAnimationFrame||requestAnimationFrame)(...Ie)},cancelAnimationFrame(...Ie){const{delegate:ae}=B;return(ae?.cancelAnimationFrame||cancelAnimationFrame)(...Ie)},delegate:void 0};var de=M(7565);const Ee=new class pe extends de.v{flush(ae){this._active=!0;const le=this._scheduled;this._scheduled=void 0;const{actions:ye}=this;let Be;ae=ae||ye.shift();do{if(Be=ae.execute(ae.state,ae.delay))break}while((ae=ye[0])&&ae.id===le&&ye.shift());if(this._active=!1,Be){for(;(ae=ye[0])&&ae.id===le&&ye.shift();)ae.unsubscribe();throw Be}}}(class ce extends a.o{constructor(ae,le){super(ae,le),this.scheduler=ae,this.work=le}requestAsyncId(ae,le,ye=0){return null!==ye&&ye>0?super.requestAsyncId(ae,le,ye):(ae.actions.push(this),ae._scheduled||(ae._scheduled=B.requestAnimationFrame(()=>ae.flush(void 0))))}recycleAsyncId(ae,le,ye=0){var Be;if(null!=ye?ye>0:this.delay>0)return super.recycleAsyncId(ae,le,ye);const{actions:Me}=ae;null!=le&&(null===(Be=Me[Me.length-1])||void 0===Be?void 0:Be.id)!==le&&(B.cancelAnimationFrame(le),ae._scheduled=void 0)}})},4986:(nn,we,M)=>{"use strict";M.d(we,{P:()=>ce,z:()=>B});var a=M(4408);const B=new(M(7565).v)(a.o),ce=B},6063:(nn,we,M)=>{"use strict";M.d(we,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(nn,we,M)=>{"use strict";M.d(we,{z:()=>a});const a={setTimeout(E,B,...ce){const{delegate:de}=a;return de?.setTimeout?de.setTimeout(E,B,...ce):setTimeout(E,B,...ce)},clearTimeout(E){const{delegate:B}=a;return(B?.clearTimeout||clearTimeout)(E)},delegate:void 0}},2202:(nn,we,M)=>{"use strict";M.d(we,{h:()=>E});const E=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nn,we,M)=>{"use strict";M.d(we,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(nn,we,M)=>{"use strict";M.d(we,{K:()=>E});const E=(0,M(3888).d)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(nn,we,M)=>{"use strict";M.d(we,{_6:()=>pe,jO:()=>ce,yG:()=>de});var a=M(576),E=M(3532);function B(Ee){return Ee[Ee.length-1]}function ce(Ee){return(0,a.m)(B(Ee))?Ee.pop():void 0}function de(Ee){return(0,E.K)(B(Ee))?Ee.pop():void 0}function pe(Ee,oe){return"number"==typeof B(Ee)?Ee.pop():oe}},4742:(nn,we,M)=>{"use strict";M.d(we,{D:()=>de});const{isArray:a}=Array,{getPrototypeOf:E,prototype:B,keys:ce}=Object;function de(Ee){if(1===Ee.length){const oe=Ee[0];if(a(oe))return{args:oe,keys:null};if(function pe(Ee){return Ee&&"object"==typeof Ee&&E(Ee)===B}(oe)){const Ie=ce(oe);return{args:Ie.map(ae=>oe[ae]),keys:Ie}}}return{args:Ee,keys:null}}},5797:(nn,we,M)=>{"use strict";M.d(we,{k:()=>E});const{isArray:a}=Array;function E(B){return 1===B.length&&a(B[0])?B[0]:B}},8737:(nn,we,M)=>{"use strict";function a(E,B){if(E){const ce=E.indexOf(B);0<=ce&&E.splice(ce,1)}}M.d(we,{P:()=>a})},3888:(nn,we,M)=>{"use strict";function a(E){const ce=E(de=>{Error.call(de),de.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}M.d(we,{d:()=>a})},1810:(nn,we,M)=>{"use strict";function a(E,B){return E.reduce((ce,de,pe)=>(ce[de]=B[pe],ce),{})}M.d(we,{n:()=>a})},2806:(nn,we,M)=>{"use strict";M.d(we,{O:()=>ce,x:()=>B});var a=M(2416);let E=null;function B(de){if(a.v.useDeprecatedSynchronousErrorHandling){const pe=!E;if(pe&&(E={errorThrown:!1,error:null}),de(),pe){const{errorThrown:Ee,error:oe}=E;if(E=null,Ee)throw oe}}else de()}function ce(de){a.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=de)}},9672:(nn,we,M)=>{"use strict";function a(E,B,ce,de=0,pe=!1){const Ee=B.schedule(function(){ce(),pe?E.add(this.schedule(null,de)):this.unsubscribe()},de);if(E.add(Ee),!pe)return Ee}M.d(we,{f:()=>a})},4671:(nn,we,M)=>{"use strict";function a(E){return E}M.d(we,{y:()=>a})},1144:(nn,we,M)=>{"use strict";M.d(we,{z:()=>a});const a=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(nn,we,M)=>{"use strict";M.d(we,{D:()=>E});var a=M(576);function E(B){return Symbol.asyncIterator&&(0,a.m)(B?.[Symbol.asyncIterator])}},576:(nn,we,M)=>{"use strict";function a(E){return"function"==typeof E}M.d(we,{m:()=>a})},3670:(nn,we,M)=>{"use strict";M.d(we,{c:()=>B});var a=M(8822),E=M(576);function B(ce){return(0,E.m)(ce[a.L])}},6495:(nn,we,M)=>{"use strict";M.d(we,{T:()=>B});var a=M(2202),E=M(576);function B(ce){return(0,E.m)(ce?.[a.h])}},8239:(nn,we,M)=>{"use strict";M.d(we,{t:()=>E});var a=M(576);function E(B){return(0,a.m)(B?.then)}},3260:(nn,we,M)=>{"use strict";M.d(we,{L:()=>ce,Q:()=>B});var a=M(655),E=M(576);function B(de){return(0,a.FC)(this,arguments,function*(){const Ee=de.getReader();try{for(;;){const{value:oe,done:Ie}=yield(0,a.qq)(Ee.read());if(Ie)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(oe)}}finally{Ee.releaseLock()}})}function ce(de){return(0,E.m)(de?.getReader)}},3532:(nn,we,M)=>{"use strict";M.d(we,{K:()=>E});var a=M(576);function E(B){return B&&(0,a.m)(B.schedule)}},4482:(nn,we,M)=>{"use strict";M.d(we,{A:()=>E,e:()=>B});var a=M(576);function E(ce){return(0,a.m)(ce?.lift)}function B(ce){return de=>{if(E(de))return de.lift(function(pe){try{return ce(pe,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(nn,we,M)=>{"use strict";M.d(we,{Z:()=>ce});var a=M(4004);const{isArray:E}=Array;function ce(de){return(0,a.U)(pe=>function B(de,pe){return E(pe)?de(...pe):de(pe)}(de,pe))}},5032:(nn,we,M)=>{"use strict";function a(){}M.d(we,{Z:()=>a})},9635:(nn,we,M)=>{"use strict";M.d(we,{U:()=>B,z:()=>E});var a=M(4671);function E(...ce){return B(ce)}function B(ce){return 0===ce.length?a.y:1===ce.length?ce[0]:function(pe){return ce.reduce((Ee,oe)=>oe(Ee),pe)}}},7849:(nn,we,M)=>{"use strict";M.d(we,{h:()=>B});var a=M(2416),E=M(3410);function B(ce){E.z.setTimeout(()=>{const{onUnhandledError:de}=a.v;if(!de)throw ce;de(ce)})}},4532:(nn,we,M)=>{"use strict";function a(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(we,{z:()=>a})},655:(nn,we,M)=>{"use strict";M.d(we,{FC:()=>Ke,KL:()=>Ct,ZT:()=>E,_T:()=>ce,ev:()=>Ft,gn:()=>de,mG:()=>ye,pi:()=>B,qq:()=>it});var a=function(pt,bt){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(It,$t){It.__proto__=$t}||function(It,$t){for(var jt in $t)Object.prototype.hasOwnProperty.call($t,jt)&&(It[jt]=$t[jt])})(pt,bt)};function E(pt,bt){if("function"!=typeof bt&&null!==bt)throw new TypeError("Class extends value "+String(bt)+" is not a constructor or null");function It(){this.constructor=pt}a(pt,bt),pt.prototype=null===bt?Object.create(bt):(It.prototype=bt.prototype,new It)}var B=function(){return B=Object.assign||function(bt){for(var It,$t=1,jt=arguments.length;$t<jt;$t++)for(var vt in It=arguments[$t])Object.prototype.hasOwnProperty.call(It,vt)&&(bt[vt]=It[vt]);return bt},B.apply(this,arguments)};function ce(pt,bt){var It={};for(var $t in pt)Object.prototype.hasOwnProperty.call(pt,$t)&&bt.indexOf($t)<0&&(It[$t]=pt[$t]);if(null!=pt&&"function"==typeof Object.getOwnPropertySymbols){var jt=0;for($t=Object.getOwnPropertySymbols(pt);jt<$t.length;jt++)bt.indexOf($t[jt])<0&&Object.prototype.propertyIsEnumerable.call(pt,$t[jt])&&(It[$t[jt]]=pt[$t[jt]])}return It}function de(pt,bt,It,$t){var yn,jt=arguments.length,vt=jt<3?bt:null===$t?$t=Object.getOwnPropertyDescriptor(bt,It):$t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)vt=Reflect.decorate(pt,bt,It,$t);else for(var Jt=pt.length-1;Jt>=0;Jt--)(yn=pt[Jt])&&(vt=(jt<3?yn(vt):jt>3?yn(bt,It,vt):yn(bt,It))||vt);return jt>3&&vt&&Object.defineProperty(bt,It,vt),vt}function ye(pt,bt,It,$t){return new(It||(It=Promise))(function(vt,yn){function Jt(Pn){try{Bt($t.next(Pn))}catch(xn){yn(xn)}}function Mn(Pn){try{Bt($t.throw(Pn))}catch(xn){yn(xn)}}function Bt(Pn){Pn.done?vt(Pn.value):function jt(vt){return vt instanceof It?vt:new It(function(yn){yn(vt)})}(Pn.value).then(Jt,Mn)}Bt(($t=$t.apply(pt,bt||[])).next())})}function Ft(pt,bt,It){if(It||2===arguments.length)for(var vt,$t=0,jt=bt.length;$t<jt;$t++)(vt||!($t in bt))&&(vt||(vt=Array.prototype.slice.call(bt,0,$t)),vt[$t]=bt[$t]);return pt.concat(vt||Array.prototype.slice.call(bt))}function it(pt){return this instanceof it?(this.v=pt,this):new it(pt)}function Ke(pt,bt,It){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var jt,$t=It.apply(pt,bt||[]),vt=[];return jt={},yn("next"),yn("throw"),yn("return"),jt[Symbol.asyncIterator]=function(){return this},jt;function yn(Tn){$t[Tn]&&(jt[Tn]=function(Wn){return new Promise(function(lr,Yn){vt.push([Tn,Wn,lr,Yn])>1||Jt(Tn,Wn)})})}function Jt(Tn,Wn){try{!function Mn(Tn){Tn.value instanceof it?Promise.resolve(Tn.value.v).then(Bt,Pn):xn(vt[0][2],Tn)}($t[Tn](Wn))}catch(lr){xn(vt[0][3],lr)}}function Bt(Tn){Jt("next",Tn)}function Pn(Tn){Jt("throw",Tn)}function xn(Tn,Wn){Tn(Wn),vt.shift(),vt.length&&Jt(vt[0][0],vt[0][1])}}function Ct(pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,bt=pt[Symbol.asyncIterator];return bt?bt.call(pt):(pt=function ot(pt){var bt="function"==typeof Symbol&&Symbol.iterator,It=bt&&pt[bt],$t=0;if(It)return It.call(pt);if(pt&&"number"==typeof pt.length)return{next:function(){return pt&&$t>=pt.length&&(pt=void 0),{value:pt&&pt[$t++],done:!pt}}};throw new TypeError(bt?"Object is not iterable.":"Symbol.iterator is not defined.")}(pt),It={},$t("next"),$t("throw"),$t("return"),It[Symbol.asyncIterator]=function(){return this},It);function $t(vt){It[vt]=pt[vt]&&function(yn){return new Promise(function(Jt,Mn){!function jt(vt,yn,Jt,Mn){Promise.resolve(Mn).then(function(Bt){vt({value:Bt,done:Jt})},yn)}(Jt,Mn,(yn=pt[vt](yn)).done,yn.value)})}}}},7340:(nn,we,M)=>{"use strict";M.d(we,{F4:()=>ae,LC:()=>E,SB:()=>Ie,X$:()=>ce,ZE:()=>We,ZN:()=>nt,_j:()=>a,eR:()=>le,jt:()=>de,k1:()=>Ft,l3:()=>B,oB:()=>oe,vP:()=>Ee});class a{}class E{}const B="*";function ce(it,Ke){return{type:7,name:it,definitions:Ke,options:{}}}function de(it,Ke=null){return{type:4,styles:Ke,timings:it}}function Ee(it,Ke=null){return{type:2,steps:it,options:Ke}}function oe(it){return{type:6,styles:it,offset:null}}function Ie(it,Ke,Xe){return{type:0,name:it,styles:Ke,options:Xe}}function ae(it){return{type:5,steps:it}}function le(it,Ke,Xe=null){return{type:1,expr:it,animation:Ke,options:Xe}}function qe(it){Promise.resolve().then(it)}class nt{constructor(Ke=0,Xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ke+Xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ke=>Ke()),this._onDoneFns=[])}onStart(Ke){this._originalOnStartFns.push(Ke),this._onStartFns.push(Ke)}onDone(Ke){this._originalOnDoneFns.push(Ke),this._onDoneFns.push(Ke)}onDestroy(Ke){this._onDestroyFns.push(Ke)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ke=>Ke()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ke=>Ke()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ke){this._position=this.totalTime?Ke*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ke){const Xe="start"==Ke?this._onStartFns:this._onDoneFns;Xe.forEach(Ct=>Ct()),Xe.length=0}}class We{constructor(Ke){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ke;let Xe=0,Ct=0,dt=0;const Te=this.players.length;0==Te?qe(()=>this._onFinish()):this.players.forEach(Ge=>{Ge.onDone(()=>{++Xe==Te&&this._onFinish()}),Ge.onDestroy(()=>{++Ct==Te&&this._onDestroy()}),Ge.onStart(()=>{++dt==Te&&this._onStart()})}),this.totalTime=this.players.reduce((Ge,Qe)=>Math.max(Ge,Qe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ke=>Ke()),this._onDoneFns=[])}init(){this.players.forEach(Ke=>Ke.init())}onStart(Ke){this._onStartFns.push(Ke)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ke=>Ke()),this._onStartFns=[])}onDone(Ke){this._onDoneFns.push(Ke)}onDestroy(Ke){this._onDestroyFns.push(Ke)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ke=>Ke.play())}pause(){this.players.forEach(Ke=>Ke.pause())}restart(){this.players.forEach(Ke=>Ke.restart())}finish(){this._onFinish(),this.players.forEach(Ke=>Ke.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ke=>Ke.destroy()),this._onDestroyFns.forEach(Ke=>Ke()),this._onDestroyFns=[])}reset(){this.players.forEach(Ke=>Ke.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ke){const Xe=Ke*this.totalTime;this.players.forEach(Ct=>{const dt=Ct.totalTime?Math.min(1,Xe/Ct.totalTime):1;Ct.setPosition(dt)})}getPosition(){const Ke=this.players.reduce((Xe,Ct)=>null===Xe||Ct.totalTime>Xe.totalTime?Ct:Xe,null);return null!=Ke?Ke.getPosition():0}beforeDestroy(){this.players.forEach(Ke=>{Ke.beforeDestroy&&Ke.beforeDestroy()})}triggerCallback(Ke){const Xe="start"==Ke?this._onStartFns:this._onDoneFns;Xe.forEach(Ct=>Ct()),Xe.length=0}}const Ft="!"},6895:(nn,we,M)=>{"use strict";M.d(we,{Do:()=>Ft,ED:()=>ga,EM:()=>ss,HT:()=>de,JF:()=>ko,JJ:()=>ma,K0:()=>Ee,Mn:()=>$t,Mx:()=>Ds,NF:()=>na,O5:()=>pi,Ov:()=>rn,PC:()=>yl,PM:()=>Oo,RF:()=>oo,S$:()=>qe,Tn:()=>At,Ts:()=>fs,UT:()=>jt,V_:()=>ae,Ye:()=>it,Zx:()=>Ra,b0:()=>We,bD:()=>lo,ez:()=>rl,gd:()=>ni,mk:()=>Mr,n9:()=>Bi,ol:()=>It,p6:()=>Ot,q:()=>B,sg:()=>Ls,tP:()=>qi,w_:()=>pe,x:()=>Qe});var a=M(4650);let E=null;function B(){return E}function de($){E||(E=$)}class pe{}const Ee=new a.OlP("DocumentToken");let oe=(()=>{class ${historyGo(W){throw new Error("Not implemented")}}return $.\u0275fac=function(W){return new(W||$)},$.\u0275prov=a.Yz7({token:$,factory:function(){return function Ie(){return(0,a.LFG)(le)}()},providedIn:"platform"}),$})();const ae=new a.OlP("Location Initialized");let le=(()=>{class $ extends oe{constructor(W){super(),this._doc=W,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(W){const ge=B().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("popstate",W,!1),()=>ge.removeEventListener("popstate",W)}onHashChange(W){const ge=B().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("hashchange",W,!1),()=>ge.removeEventListener("hashchange",W)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(W){this.location.pathname=W}pushState(W,ge,ze){ye()?this._history.pushState(W,ge,ze):this.location.hash=ze}replaceState(W,ge,ze){ye()?this._history.replaceState(W,ge,ze):this.location.hash=ze}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return $.\u0275fac=function(W){return new(W||$)(a.LFG(Ee))},$.\u0275prov=a.Yz7({token:$,factory:function(){return function Be(){return new le((0,a.LFG)(Ee))}()},providedIn:"platform"}),$})();function ye(){return!!window.history.pushState}function Me($,re){if(0==$.length)return re;if(0==re.length)return $;let W=0;return $.endsWith("/")&&W++,re.startsWith("/")&&W++,2==W?$+re.substring(1):1==W?$+re:$+"/"+re}function Ne($){const re=$.match(/#|\?|$/),W=re&&re.index||$.length;return $.slice(0,W-("/"===$[W-1]?1:0))+$.slice(W)}function ot($){return $&&"?"!==$[0]?"?"+$:$}let qe=(()=>{class ${historyGo(W){throw new Error("Not implemented")}}return $.\u0275fac=function(W){return new(W||$)},$.\u0275prov=a.Yz7({token:$,factory:function(){return(0,a.f3M)(We)},providedIn:"root"}),$})();const nt=new a.OlP("appBaseHref");let We=(()=>{class $ extends qe{constructor(W,ge){var ze,Dt,Mt;super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=null!==(ze=null!==(Dt=ge??this._platformLocation.getBaseHrefFromDOM())&&void 0!==Dt?Dt:null===(Mt=(0,a.f3M)(Ee).location)||void 0===Mt?void 0:Mt.origin)&&void 0!==ze?ze:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return Me(this._baseHref,W)}path(W=!1){const ge=this._platformLocation.pathname+ot(this._platformLocation.search),ze=this._platformLocation.hash;return ze&&W?`${ge}${ze}`:ge}pushState(W,ge,ze,Dt){const Mt=this.prepareExternalUrl(ze+ot(Dt));this._platformLocation.pushState(W,ge,Mt)}replaceState(W,ge,ze,Dt){const Mt=this.prepareExternalUrl(ze+ot(Dt));this._platformLocation.replaceState(W,ge,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){var ge,ze;null===(ge=(ze=this._platformLocation).historyGo)||void 0===ge||ge.call(ze,W)}}return $.\u0275fac=function(W){return new(W||$)(a.LFG(oe),a.LFG(nt,8))},$.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),Ft=(()=>{class $ extends qe{constructor(W,ge){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=ge&&(this._baseHref=ge)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let ge=this._platformLocation.hash;return null==ge&&(ge="#"),ge.length>0?ge.substring(1):ge}prepareExternalUrl(W){const ge=Me(this._baseHref,W);return ge.length>0?"#"+ge:ge}pushState(W,ge,ze,Dt){let Mt=this.prepareExternalUrl(ze+ot(Dt));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.pushState(W,ge,Mt)}replaceState(W,ge,ze,Dt){let Mt=this.prepareExternalUrl(ze+ot(Dt));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.replaceState(W,ge,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){var ge,ze;null===(ge=(ze=this._platformLocation).historyGo)||void 0===ge||ge.call(ze,W)}}return $.\u0275fac=function(W){return new(W||$)(a.LFG(oe),a.LFG(nt,8))},$.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac}),$})(),it=(()=>{class ${constructor(W){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const ge=this._locationStrategy.getBaseHref();this._baseHref=Ne(Ct(ge)),this._locationStrategy.onPopState(ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:ze.state,type:ze.type})})}ngOnDestroy(){var W;null===(W=this._urlChangeSubscription)||void 0===W||W.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,ge=""){return this.path()==this.normalize(W+ot(ge))}normalize(W){return $.stripTrailingSlash(function Xe($,re){return $&&re.startsWith($)?re.substring($.length):re}(this._baseHref,Ct(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,ge="",ze=null){this._locationStrategy.pushState(ze,"",W,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+ot(ge)),ze)}replaceState(W,ge="",ze=null){this._locationStrategy.replaceState(ze,"",W,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+ot(ge)),ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){var ge,ze;null===(ge=(ze=this._locationStrategy).historyGo)||void 0===ge||ge.call(ze,W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ge=>{this._notifyUrlChangeListeners(ge.url,ge.state)})),()=>{const ge=this._urlChangeListeners.indexOf(W);var ze;this._urlChangeListeners.splice(ge,1),0===this._urlChangeListeners.length&&(null===(ze=this._urlChangeSubscription)||void 0===ze||ze.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",ge){this._urlChangeListeners.forEach(ze=>ze(W,ge))}subscribe(W,ge,ze){return this._subject.subscribe({next:W,error:ge,complete:ze})}}return $.normalizeQueryParams=ot,$.joinWithSlash=Me,$.stripTrailingSlash=Ne,$.\u0275fac=function(W){return new(W||$)(a.LFG(qe))},$.\u0275prov=a.Yz7({token:$,factory:function(){return function Ke(){return new it((0,a.LFG)(qe))}()},providedIn:"root"}),$})();function Ct($){return $.replace(/\/index.html$/,"")}var Te=(()=>((Te=Te||{})[Te.Decimal=0]="Decimal",Te[Te.Percent=1]="Percent",Te[Te.Currency=2]="Currency",Te[Te.Scientific=3]="Scientific",Te))(),Qe=(()=>((Qe=Qe||{})[Qe.Format=0]="Format",Qe[Qe.Standalone=1]="Standalone",Qe))(),At=(()=>((At=At||{})[At.Narrow=0]="Narrow",At[At.Abbreviated=1]="Abbreviated",At[At.Wide=2]="Wide",At[At.Short=3]="Short",At))(),ln=(()=>((ln=ln||{})[ln.Short=0]="Short",ln[ln.Medium=1]="Medium",ln[ln.Long=2]="Long",ln[ln.Full=3]="Full",ln))(),Lt=(()=>((Lt=Lt||{})[Lt.Decimal=0]="Decimal",Lt[Lt.Group=1]="Group",Lt[Lt.List=2]="List",Lt[Lt.PercentSign=3]="PercentSign",Lt[Lt.PlusSign=4]="PlusSign",Lt[Lt.MinusSign=5]="MinusSign",Lt[Lt.Exponential=6]="Exponential",Lt[Lt.SuperscriptingExponent=7]="SuperscriptingExponent",Lt[Lt.PerMille=8]="PerMille",Lt[Lt.Infinity=9]="Infinity",Lt[Lt.NaN=10]="NaN",Lt[Lt.TimeSeparator=11]="TimeSeparator",Lt[Lt.CurrencyDecimal=12]="CurrencyDecimal",Lt[Lt.CurrencyGroup=13]="CurrencyGroup",Lt))();function It($,re,W){const ge=(0,a.cg1)($),Dt=hn([ge[a.wAp.DayPeriodsFormat],ge[a.wAp.DayPeriodsStandalone]],re);return hn(Dt,W)}function $t($,re,W){const ge=(0,a.cg1)($),Dt=hn([ge[a.wAp.DaysFormat],ge[a.wAp.DaysStandalone]],re);return hn(Dt,W)}function jt($,re,W){const ge=(0,a.cg1)($),Dt=hn([ge[a.wAp.MonthsFormat],ge[a.wAp.MonthsStandalone]],re);return hn(Dt,W)}function Mn($,re){return hn((0,a.cg1)($)[a.wAp.DateFormat],re)}function Bt($,re){return hn((0,a.cg1)($)[a.wAp.TimeFormat],re)}function Pn($,re){return hn((0,a.cg1)($)[a.wAp.DateTimeFormat],re)}function xn($,re){const W=(0,a.cg1)($),ge=W[a.wAp.NumberSymbols][re];if(typeof ge>"u"){if(re===Lt.CurrencyDecimal)return W[a.wAp.NumberSymbols][Lt.Decimal];if(re===Lt.CurrencyGroup)return W[a.wAp.NumberSymbols][Lt.Group]}return ge}function Tn($,re){return(0,a.cg1)($)[a.wAp.NumberFormats][re]}function Gr($){if(!$[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${$[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hn($,re){for(let W=re;W>-1;W--)if(typeof $[W]<"u")return $[W];throw new Error("Locale data API: locale data undefined")}function Fr($){const[re,W]=$.split(":");return{hours:+re,minutes:+W}}const xs=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$r={},Pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.ShortGMT=1]="ShortGMT",Ze[Ze.Long=2]="Long",Ze[Ze.Extended=3]="Extended",Ze))(),Le=(()=>((Le=Le||{})[Le.FullYear=0]="FullYear",Le[Le.Month=1]="Month",Le[Le.Date=2]="Date",Le[Le.Hours=3]="Hours",Le[Le.Minutes=4]="Minutes",Le[Le.Seconds=5]="Seconds",Le[Le.FractionalSeconds=6]="FractionalSeconds",Le[Le.Day=7]="Day",Le))(),wt=(()=>((wt=wt||{})[wt.DayPeriods=0]="DayPeriods",wt[wt.Days=1]="Days",wt[wt.Months=2]="Months",wt[wt.Eras=3]="Eras",wt))();function Ot($,re,W,ge){let ze=function V($){if(xe($))return $;if("number"==typeof $&&!isNaN($))return new Date($);if("string"==typeof $){if($=$.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($)){const[ze,Dt=1,Mt=1]=$.split("-").map(pn=>+pn);return Wt(ze,Dt-1,Mt)}const W=parseFloat($);if(!isNaN($-W))return new Date(W);let ge;if(ge=$.match(xs))return function ne($){const re=new Date(0);let W=0,ge=0;const ze=$[8]?re.setUTCFullYear:re.setFullYear,Dt=$[8]?re.setUTCHours:re.setHours;$[9]&&(W=Number($[9]+$[10]),ge=Number($[9]+$[11])),ze.call(re,Number($[1]),Number($[2])-1,Number($[3]));const Mt=Number($[4]||0)-W,pn=Number($[5]||0)-ge,nr=Number($[6]||0),Or=Math.floor(1e3*parseFloat("0."+($[7]||0)));return Dt.call(re,Mt,pn,nr,Or),re}(ge)}const re=new Date($);if(!xe(re))throw new Error(`Unable to convert "${$}" into a date`);return re}($);re=In(W,re)||re;let pn,Mt=[];for(;re;){if(pn=Pt.exec(re),!pn){Mt.push(re);break}{Mt=Mt.concat(pn.slice(1));const Lr=Mt.pop();if(!Lr)break;re=Lr}}let nr=ze.getTimezoneOffset();ge&&(nr=Ve(ge,nr),ze=function F($,re,W){const ge=W?-1:1,ze=$.getTimezoneOffset();return function Se($,re){return($=new Date($.getTime())).setMinutes($.getMinutes()+re),$}($,ge*(Ve(re,ze)-ze))}(ze,ge,!0));let Or="";return Mt.forEach(Lr=>{const xr=function Ye($){if(vr[$])return vr[$];let re;switch($){case"G":case"GG":case"GGG":re=er(wt.Eras,At.Abbreviated);break;case"GGGG":re=er(wt.Eras,At.Wide);break;case"GGGGG":re=er(wt.Eras,At.Narrow);break;case"y":re=kn(Le.FullYear,1,0,!1,!0);break;case"yy":re=kn(Le.FullYear,2,0,!0,!0);break;case"yyy":re=kn(Le.FullYear,3,0,!1,!0);break;case"yyyy":re=kn(Le.FullYear,4,0,!1,!0);break;case"Y":re=sr(1);break;case"YY":re=sr(2,!0);break;case"YYY":re=sr(3);break;case"YYYY":re=sr(4);break;case"M":case"L":re=kn(Le.Month,1,1);break;case"MM":case"LL":re=kn(Le.Month,2,1);break;case"MMM":re=er(wt.Months,At.Abbreviated);break;case"MMMM":re=er(wt.Months,At.Wide);break;case"MMMMM":re=er(wt.Months,At.Narrow);break;case"LLL":re=er(wt.Months,At.Abbreviated,Qe.Standalone);break;case"LLLL":re=er(wt.Months,At.Wide,Qe.Standalone);break;case"LLLLL":re=er(wt.Months,At.Narrow,Qe.Standalone);break;case"w":re=On(1);break;case"ww":re=On(2);break;case"W":re=On(1,!0);break;case"d":re=kn(Le.Date,1);break;case"dd":re=kn(Le.Date,2);break;case"c":case"cc":re=kn(Le.Day,1);break;case"ccc":re=er(wt.Days,At.Abbreviated,Qe.Standalone);break;case"cccc":re=er(wt.Days,At.Wide,Qe.Standalone);break;case"ccccc":re=er(wt.Days,At.Narrow,Qe.Standalone);break;case"cccccc":re=er(wt.Days,At.Short,Qe.Standalone);break;case"E":case"EE":case"EEE":re=er(wt.Days,At.Abbreviated);break;case"EEEE":re=er(wt.Days,At.Wide);break;case"EEEEE":re=er(wt.Days,At.Narrow);break;case"EEEEEE":re=er(wt.Days,At.Short);break;case"a":case"aa":case"aaa":re=er(wt.DayPeriods,At.Abbreviated);break;case"aaaa":re=er(wt.DayPeriods,At.Wide);break;case"aaaaa":re=er(wt.DayPeriods,At.Narrow);break;case"b":case"bb":case"bbb":re=er(wt.DayPeriods,At.Abbreviated,Qe.Standalone,!0);break;case"bbbb":re=er(wt.DayPeriods,At.Wide,Qe.Standalone,!0);break;case"bbbbb":re=er(wt.DayPeriods,At.Narrow,Qe.Standalone,!0);break;case"B":case"BB":case"BBB":re=er(wt.DayPeriods,At.Abbreviated,Qe.Format,!0);break;case"BBBB":re=er(wt.DayPeriods,At.Wide,Qe.Format,!0);break;case"BBBBB":re=er(wt.DayPeriods,At.Narrow,Qe.Format,!0);break;case"h":re=kn(Le.Hours,1,-12);break;case"hh":re=kn(Le.Hours,2,-12);break;case"H":re=kn(Le.Hours,1);break;case"HH":re=kn(Le.Hours,2);break;case"m":re=kn(Le.Minutes,1);break;case"mm":re=kn(Le.Minutes,2);break;case"s":re=kn(Le.Seconds,1);break;case"ss":re=kn(Le.Seconds,2);break;case"S":re=kn(Le.FractionalSeconds,1);break;case"SS":re=kn(Le.FractionalSeconds,2);break;case"SSS":re=kn(Le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=Hn(Ze.Short);break;case"ZZZZZ":re=Hn(Ze.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=Hn(Ze.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=Hn(Ze.Long);break;default:return null}return vr[$]=re,re}(Lr);Or+=xr?xr(ze,W,nr):"''"===Lr?"'":Lr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Or}function Wt($,re,W){const ge=new Date(0);return ge.setFullYear($,re,W),ge.setHours(0,0,0),ge}function In($,re){const W=function bt($){return(0,a.cg1)($)[a.wAp.LocaleId]}($);if($r[W]=$r[W]||{},$r[W][re])return $r[W][re];let ge="";switch(re){case"shortDate":ge=Mn($,ln.Short);break;case"mediumDate":ge=Mn($,ln.Medium);break;case"longDate":ge=Mn($,ln.Long);break;case"fullDate":ge=Mn($,ln.Full);break;case"shortTime":ge=Bt($,ln.Short);break;case"mediumTime":ge=Bt($,ln.Medium);break;case"longTime":ge=Bt($,ln.Long);break;case"fullTime":ge=Bt($,ln.Full);break;case"short":const ze=In($,"shortTime"),Dt=In($,"shortDate");ge=Zn(Pn($,ln.Short),[ze,Dt]);break;case"medium":const Mt=In($,"mediumTime"),pn=In($,"mediumDate");ge=Zn(Pn($,ln.Medium),[Mt,pn]);break;case"long":const nr=In($,"longTime"),Or=In($,"longDate");ge=Zn(Pn($,ln.Long),[nr,Or]);break;case"full":const Lr=In($,"fullTime"),xr=In($,"fullDate");ge=Zn(Pn($,ln.Full),[Lr,xr])}return ge&&($r[W][re]=ge),ge}function Zn($,re){return re&&($=$.replace(/\{([^}]+)}/g,function(W,ge){return null!=re&&ge in re?re[ge]:W})),$}function on($,re,W="-",ge,ze){let Dt="";($<0||ze&&$<=0)&&(ze?$=1-$:($=-$,Dt=W));let Mt=String($);for(;Mt.length<re;)Mt="0"+Mt;return ge&&(Mt=Mt.slice(Mt.length-re)),Dt+Mt}function kn($,re,W=0,ge=!1,ze=!1){return function(Dt,Mt){let pn=function Br($,re){switch($){case Le.FullYear:return re.getFullYear();case Le.Month:return re.getMonth();case Le.Date:return re.getDate();case Le.Hours:return re.getHours();case Le.Minutes:return re.getMinutes();case Le.Seconds:return re.getSeconds();case Le.FractionalSeconds:return re.getMilliseconds();case Le.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${$}".`)}}($,Dt);if((W>0||pn>-W)&&(pn+=W),$===Le.Hours)0===pn&&-12===W&&(pn=12);else if($===Le.FractionalSeconds)return function fr($,re){return on($,3).substring(0,re)}(pn,re);const nr=xn(Mt,Lt.MinusSign);return on(pn,re,nr,ge,ze)}}function er($,re,W=Qe.Format,ge=!1){return function(ze,Dt){return function Qn($,re,W,ge,ze,Dt){switch(W){case wt.Months:return jt(re,ze,ge)[$.getMonth()];case wt.Days:return $t(re,ze,ge)[$.getDay()];case wt.DayPeriods:const Mt=$.getHours(),pn=$.getMinutes();if(Dt){const Or=function Jn($){const re=(0,a.cg1)($);return Gr(re),(re[a.wAp.ExtraData][2]||[]).map(ge=>"string"==typeof ge?Fr(ge):[Fr(ge[0]),Fr(ge[1])])}(re),Lr=function tr($,re,W){const ge=(0,a.cg1)($);Gr(ge);const Dt=hn([ge[a.wAp.ExtraData][0],ge[a.wAp.ExtraData][1]],re)||[];return hn(Dt,W)||[]}(re,ze,ge),xr=Or.findIndex(Di=>{if(Array.isArray(Di)){const[zt,mr]=Di,Ri=Mt>=zt.hours&&pn>=zt.minutes,Rs=Mt<mr.hours||Mt===mr.hours&&pn<mr.minutes;if(zt.hours<mr.hours){if(Ri&&Rs)return!0}else if(Ri||Rs)return!0}else if(Di.hours===Mt&&Di.minutes===pn)return!0;return!1});if(-1!==xr)return Lr[xr]}return It(re,ze,ge)[Mt<12?0:1];case wt.Eras:return function vt($,re){return hn((0,a.cg1)($)[a.wAp.Eras],re)}(re,ge)[$.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(ze,Dt,$,re,W,ge)}}function Hn($){return function(re,W,ge){const ze=-1*ge,Dt=xn(W,Lt.MinusSign),Mt=ze>0?Math.floor(ze/60):Math.ceil(ze/60);switch($){case Ze.Short:return(ze>=0?"+":"")+on(Mt,2,Dt)+on(Math.abs(ze%60),2,Dt);case Ze.ShortGMT:return"GMT"+(ze>=0?"+":"")+on(Mt,1,Dt);case Ze.Long:return"GMT"+(ze>=0?"+":"")+on(Mt,2,Dt)+":"+on(Math.abs(ze%60),2,Dt);case Ze.Extended:return 0===ge?"Z":(ze>=0?"+":"")+on(Mt,2,Dt)+":"+on(Math.abs(ze%60),2,Dt);default:throw new Error(`Unknown zone width "${$}"`)}}}function Fn($){return Wt($.getFullYear(),$.getMonth(),$.getDate()+(4-$.getDay()))}function On($,re=!1){return function(W,ge){let ze;if(re){const Dt=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,Mt=W.getDate();ze=1+Math.floor((Mt+Dt)/7)}else{const Dt=Fn(W),Mt=function sn($){const re=Wt($,0,1).getDay();return Wt($,0,1+(re<=4?4:11)-re)}(Dt.getFullYear()),pn=Dt.getTime()-Mt.getTime();ze=1+Math.round(pn/6048e5)}return on(ze,$,xn(ge,Lt.MinusSign))}}function sr($,re=!1){return function(W,ge){return on(Fn(W).getFullYear(),$,xn(ge,Lt.MinusSign),re)}}const vr={};function Ve($,re){$=$.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+$)/6e4;return isNaN(W)?re:W}function xe($){return $ instanceof Date&&!isNaN($.valueOf())}const tt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qn($,re,W,ge,ze,Dt,Mt=!1){let pn="",nr=!1;if(isFinite($)){let Or=function Yi($){let ge,ze,Dt,Mt,pn,re=Math.abs($)+"",W=0;for((ze=re.indexOf("."))>-1&&(re=re.replace(".","")),(Dt=re.search(/e/i))>0?(ze<0&&(ze=Dt),ze+=+re.slice(Dt+1),re=re.substring(0,Dt)):ze<0&&(ze=re.length),Dt=0;"0"===re.charAt(Dt);Dt++);if(Dt===(pn=re.length))ge=[0],ze=1;else{for(pn--;"0"===re.charAt(pn);)pn--;for(ze-=Dt,ge=[],Mt=0;Dt<=pn;Dt++,Mt++)ge[Mt]=Number(re.charAt(Dt))}return ze>22&&(ge=ge.splice(0,21),W=ze-1,ze=1),{digits:ge,exponent:W,integerLen:ze}}($);Mt&&(Or=function Tr($){if(0===$.digits[0])return $;const re=$.digits.length-$.integerLen;return $.exponent?$.exponent+=2:(0===re?$.digits.push(0,0):1===re&&$.digits.push(0),$.integerLen+=2),$}(Or));let Lr=re.minInt,xr=re.minFrac,Di=re.maxFrac;if(Dt){const bn=Dt.match(tt);if(null===bn)throw new Error(`${Dt} is not a valid digit info`);const Dl=bn[1],cn=bn[3],Tt=bn[5];null!=Dl&&(Lr=fi(Dl)),null!=cn&&(xr=fi(cn)),null!=Tt?Di=fi(Tt):null!=cn&&xr>Di&&(Di=xr)}!function Gi($,re,W){if(re>W)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${W}).`);let ge=$.digits,ze=ge.length-$.integerLen;const Dt=Math.min(Math.max(re,ze),W);let Mt=Dt+$.integerLen,pn=ge[Mt];if(Mt>0){ge.splice(Math.max($.integerLen,Mt));for(let xr=Mt;xr<ge.length;xr++)ge[xr]=0}else{ze=Math.max(0,ze),$.integerLen=1,ge.length=Math.max(1,Mt=Dt+1),ge[0]=0;for(let xr=1;xr<Mt;xr++)ge[xr]=0}if(pn>=5)if(Mt-1<0){for(let xr=0;xr>Mt;xr--)ge.unshift(0),$.integerLen++;ge.unshift(1),$.integerLen++}else ge[Mt-1]++;for(;ze<Math.max(0,Dt);ze++)ge.push(0);let nr=0!==Dt;const Or=re+$.integerLen,Lr=ge.reduceRight(function(xr,Di,zt,mr){return mr[zt]=(Di+=xr)<10?Di:Di-10,nr&&(0===mr[zt]&&zt>=Or?mr.pop():nr=!1),Di>=10?1:0},0);Lr&&(ge.unshift(Lr),$.integerLen++)}(Or,xr,Di);let zt=Or.digits,mr=Or.integerLen;const Ri=Or.exponent;let Rs=[];for(nr=zt.every(bn=>!bn);mr<Lr;mr++)zt.unshift(0);for(;mr<0;mr++)zt.unshift(0);mr>0?Rs=zt.splice(mr,zt.length):(Rs=zt,zt=[0]);const Sn=[];for(zt.length>=re.lgSize&&Sn.unshift(zt.splice(-re.lgSize,zt.length).join(""));zt.length>re.gSize;)Sn.unshift(zt.splice(-re.gSize,zt.length).join(""));zt.length&&Sn.unshift(zt.join("")),pn=Sn.join(xn(W,ge)),Rs.length&&(pn+=xn(W,ze)+Rs.join("")),Ri&&(pn+=xn(W,Lt.Exponential)+"+"+Ri)}else pn=xn(W,Lt.Infinity);return pn=$<0&&!nr?re.negPre+pn+re.negSuf:re.posPre+pn+re.posSuf,pn}function pr($,re="-"){const W={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ge=$.split(";"),ze=ge[0],Dt=ge[1],Mt=-1!==ze.indexOf(".")?ze.split("."):[ze.substring(0,ze.lastIndexOf("0")+1),ze.substring(ze.lastIndexOf("0")+1)],pn=Mt[0],nr=Mt[1]||"";W.posPre=pn.substring(0,pn.indexOf("#"));for(let Lr=0;Lr<nr.length;Lr++){const xr=nr.charAt(Lr);"0"===xr?W.minFrac=W.maxFrac=Lr+1:"#"===xr?W.maxFrac=Lr+1:W.posSuf+=xr}const Or=pn.split(",");if(W.gSize=Or[1]?Or[1].length:0,W.lgSize=Or[2]||Or[1]?(Or[2]||Or[1]).length:0,Dt){const Lr=ze.length-W.posPre.length-W.posSuf.length,xr=Dt.indexOf("#");W.negPre=Dt.substring(0,xr).replace(/'/g,""),W.negSuf=Dt.slice(xr+Lr).replace(/'/g,"")}else W.negPre=re+W.posPre,W.negSuf=W.posSuf;return W}function fi($){const re=parseInt($);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+$);return re}function Ds($,re){re=encodeURIComponent(re);for(const W of $.split(";")){const ge=W.indexOf("="),[ze,Dt]=-1==ge?[W,""]:[W.slice(0,ge),W.slice(ge+1)];if(ze.trim()===re)return decodeURIComponent(Dt)}return null}let Mr=(()=>{class ${constructor(W,ge,ze,Dt){this._iterableDiffers=W,this._keyValueDiffers=ge,this._ngEl=ze,this._renderer=Dt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(W){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof W?W.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(W){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof W?W.split(/\s+/):W,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const W=this._iterableDiffer.diff(this._rawClass);W&&this._applyIterableChanges(W)}else if(this._keyValueDiffer){const W=this._keyValueDiffer.diff(this._rawClass);W&&this._applyKeyValueChanges(W)}}_applyKeyValueChanges(W){W.forEachAddedItem(ge=>this._toggleClass(ge.key,ge.currentValue)),W.forEachChangedItem(ge=>this._toggleClass(ge.key,ge.currentValue)),W.forEachRemovedItem(ge=>{ge.previousValue&&this._toggleClass(ge.key,!1)})}_applyIterableChanges(W){W.forEachAddedItem(ge=>{if("string"!=typeof ge.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(ge.item)}`);this._toggleClass(ge.item,!0)}),W.forEachRemovedItem(ge=>this._toggleClass(ge.item,!1))}_applyClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(ge=>this._toggleClass(ge,!0)):Object.keys(W).forEach(ge=>this._toggleClass(ge,!!W[ge])))}_removeClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(ge=>this._toggleClass(ge,!1)):Object.keys(W).forEach(ge=>this._toggleClass(ge,!1)))}_toggleClass(W,ge){(W=W.trim())&&W.split(/\s+/g).forEach(ze=>{ge?this._renderer.addClass(this._ngEl.nativeElement,ze):this._renderer.removeClass(this._ngEl.nativeElement,ze)})}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},$.\u0275dir=a.lG2({type:$,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),$})();class mo{constructor(re,W,ge,ze){this.$implicit=re,this.ngForOf=W,this.index=ge,this.count=ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ls=(()=>{class ${constructor(W,ge,ze){this._viewContainer=W,this._template=ge,this._differs=ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const ge=this._viewContainer;W.forEachOperation((ze,Dt,Mt)=>{if(null==ze.previousIndex)ge.createEmbeddedView(this._template,new mo(ze.item,this._ngForOf,-1,-1),null===Mt?void 0:Mt);else if(null==Mt)ge.remove(null===Dt?void 0:Dt);else if(null!==Dt){const pn=ge.get(Dt);ge.move(pn,Mt),vs(pn,ze)}});for(let ze=0,Dt=ge.length;ze<Dt;ze++){const pn=ge.get(ze).context;pn.index=ze,pn.count=Dt,pn.ngForOf=this._ngForOf}W.forEachIdentityChange(ze=>{vs(ge.get(ze.currentIndex),ze)})}static ngTemplateContextGuard(W,ge){return!0}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},$.\u0275dir=a.lG2({type:$,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),$})();function vs($,re){$.context.$implicit=re.item}let pi=(()=>{class ${constructor(W,ge){this._viewContainer=W,this._context=new ta,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ge}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){gi("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){gi("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,ge){return!0}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.s_b),a.Y36(a.Rgc))},$.\u0275dir=a.lG2({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),$})();class ta{constructor(){this.$implicit=null,this.ngIf=null}}function gi($,re){if(re&&!re.createEmbeddedView)throw new Error(`${$} must be a TemplateRef, but received '${(0,a.AaK)(re)}'.`)}class Ws{constructor(re,W){this._viewContainerRef=re,this._templateRef=W,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let oo=(()=>{class ${constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(W){this._ngSwitch=W,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(W){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(W)}_matchCase(W){const ge=W==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ge,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ge}_updateDefaultCases(W){if(this._defaultViews&&W!==this._defaultUsed){this._defaultUsed=W;for(let ge=0;ge<this._defaultViews.length;ge++)this._defaultViews[ge].enforceState(W)}}}return $.\u0275fac=function(W){return new(W||$)},$.\u0275dir=a.lG2({type:$,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),$})(),Bi=(()=>{class ${constructor(W,ge,ze){this.ngSwitch=ze,ze._addCase(),this._view=new Ws(W,ge)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(oo,9))},$.\u0275dir=a.lG2({type:$,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),$})(),ga=(()=>{class ${constructor(W,ge,ze){ze._addDefault(new Ws(W,ge))}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(oo,9))},$.\u0275dir=a.lG2({type:$,selectors:[["","ngSwitchDefault",""]],standalone:!0}),$})(),yl=(()=>{class ${constructor(W,ge,ze){this._ngEl=W,this._differs=ge,this._renderer=ze,this._ngStyle=null,this._differ=null}set ngStyle(W){this._ngStyle=W,!this._differ&&W&&(this._differ=this._differs.find(W).create())}ngDoCheck(){if(this._differ){const W=this._differ.diff(this._ngStyle);W&&this._applyChanges(W)}}_setStyle(W,ge){const[ze,Dt]=W.split("."),Mt=-1===ze.indexOf("-")?void 0:a.JOm.DashCase;null!=ge?this._renderer.setStyle(this._ngEl.nativeElement,ze,Dt?`${ge}${Dt}`:ge,Mt):this._renderer.removeStyle(this._ngEl.nativeElement,ze,Mt)}_applyChanges(W){W.forEachRemovedItem(ge=>this._setStyle(ge.key,null)),W.forEachAddedItem(ge=>this._setStyle(ge.key,ge.currentValue)),W.forEachChangedItem(ge=>this._setStyle(ge.key,ge.currentValue))}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},$.\u0275dir=a.lG2({type:$,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),$})(),qi=(()=>{class ${constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(W.ngTemplateOutlet||W.ngTemplateOutletInjector){const ge=this._viewContainerRef;if(this._viewRef&&ge.remove(ge.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ze,ngTemplateOutletContext:Dt,ngTemplateOutletInjector:Mt}=this;this._viewRef=ge.createEmbeddedView(ze,Dt,Mt?{injector:Mt}:void 0)}else this._viewRef=null}else this._viewRef&&W.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.s_b))},$.\u0275dir=a.lG2({type:$,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),$})();function bs($,re){return new a.vHH(2100,!1)}class ht{createSubscription(re,W){return re.subscribe({next:W,error:ge=>{throw ge}})}dispose(re){re.unsubscribe()}}class at{createSubscription(re,W){return re.then(W,ge=>{throw ge})}dispose(re){}}const yt=new at,Kt=new ht;let rn=(()=>{class ${constructor(W){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=W}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(W){return this._obj?W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue:(W&&this._subscribe(W),this._latestValue)}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,ge=>this._updateLatestValue(W,ge))}_selectStrategy(W){if((0,a.QGY)(W))return yt;if((0,a.F4k)(W))return Kt;throw bs()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,ge){W===this._obj&&(this._latestValue=ge,this._ref.markForCheck())}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.sBO,16))},$.\u0275pipe=a.Yjl({name:"async",type:$,pure:!1,standalone:!0}),$})(),ni=(()=>{class ${transform(W){if(null==W)return null;if("string"!=typeof W)throw bs();return W.toUpperCase()}}return $.\u0275fac=function(W){return new(W||$)},$.\u0275pipe=a.Yjl({name:"uppercase",type:$,pure:!0,standalone:!0}),$})(),fs=(()=>{class ${transform(W){return JSON.stringify(W,null,2)}}return $.\u0275fac=function(W){return new(W||$)},$.\u0275pipe=a.Yjl({name:"json",type:$,pure:!1,standalone:!0}),$})(),ma=(()=>{class ${constructor(W){this._locale=W}transform(W,ge,ze){if(!Pa(W))return null;ze=ze||this._locale;try{return function Rn($,re,W){return qn($,pr(Tn(re,Te.Decimal),xn(re,Lt.MinusSign)),re,Lt.Group,Lt.Decimal,W)}(_a(W),ze,ge)}catch(Dt){throw bs()}}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.soG,16))},$.\u0275pipe=a.Yjl({name:"number",type:$,pure:!0,standalone:!0}),$})(),Ra=(()=>{class ${constructor(W){this._locale=W}transform(W,ge,ze){if(!Pa(W))return null;ze=ze||this._locale;try{return function Sr($,re,W){return qn($,pr(Tn(re,Te.Percent),xn(re,Lt.MinusSign)),re,Lt.Group,Lt.Decimal,W,!0).replace(new RegExp("%","g"),xn(re,Lt.PercentSign))}(_a(W),ze,ge)}catch(Dt){throw bs()}}}return $.\u0275fac=function(W){return new(W||$)(a.Y36(a.soG,16))},$.\u0275pipe=a.Yjl({name:"percent",type:$,pure:!0,standalone:!0}),$})();function Pa($){return!(null==$||""===$||$!=$)}function _a($){if("string"==typeof $&&!isNaN(Number($)-parseFloat($)))return Number($);if("number"!=typeof $)throw new Error(`${$} is not a number`);return $}let rl=(()=>{class ${}return $.\u0275fac=function(W){return new(W||$)},$.\u0275mod=a.oAB({type:$}),$.\u0275inj=a.cJS({}),$})();const lo="browser";function na($){return $===lo}function Oo($){return"server"===$}let ss=(()=>{class ${}return $.\u0275prov=(0,a.Yz7)({token:$,providedIn:"root",factory:()=>new Ci((0,a.LFG)(Ee),window)}),$})();class Ci{constructor(re,W){this.document=re,this.window=W,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const W=function Qi($,re){const W=$.getElementById(re)||$.getElementsByName(re)[0];if(W)return W;if("function"==typeof $.createTreeWalker&&$.body&&($.body.createShadowRoot||$.body.attachShadow)){const ge=$.createTreeWalker($.body,NodeFilter.SHOW_ELEMENT);let ze=ge.currentNode;for(;ze;){const Dt=ze.shadowRoot;if(Dt){const Mt=Dt.getElementById(re)||Dt.querySelector(`[name="${re}"]`);if(Mt)return Mt}ze=ge.nextNode()}}return null}(this.document,re);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const W=this.window.history;W&&W.scrollRestoration&&(W.scrollRestoration=re)}}scrollToElement(re){const W=re.getBoundingClientRect(),ge=W.left+this.window.pageXOffset,ze=W.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(ge-Dt[0],ze-Dt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=ws(this.window.history)||ws(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ws($){return Object.getOwnPropertyDescriptor($,"scrollRestoration")}class ko{}},529:(nn,we,M)=>{"use strict";M.d(we,{JF:()=>ci,eN:()=>bt});var a=M(6895),E=M(4650),B=M(9646),ce=M(9751),de=M(4351),pe=M(9300),Ee=M(4004);class oe{}class Ie{}class ae{constructor(Ze){this.normalizedNames=new Map,this.lazyUpdate=null,Ze?this.lazyInit="string"==typeof Ze?()=>{this.headers=new Map,Ze.split("\n").forEach(Le=>{const wt=Le.indexOf(":");if(wt>0){const Ot=Le.slice(0,wt),Wt=Ot.toLowerCase(),In=Le.slice(wt+1).trim();this.maybeSetNormalizedName(Ot,Wt),this.headers.has(Wt)?this.headers.get(Wt).push(In):this.headers.set(Wt,[In])}})}:()=>{this.headers=new Map,Object.keys(Ze).forEach(Le=>{let wt=Ze[Le];const Ot=Le.toLowerCase();"string"==typeof wt&&(wt=[wt]),wt.length>0&&(this.headers.set(Ot,wt),this.maybeSetNormalizedName(Le,Ot))})}:this.headers=new Map}has(Ze){return this.init(),this.headers.has(Ze.toLowerCase())}get(Ze){this.init();const Le=this.headers.get(Ze.toLowerCase());return Le&&Le.length>0?Le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ze){return this.init(),this.headers.get(Ze.toLowerCase())||null}append(Ze,Le){return this.clone({name:Ze,value:Le,op:"a"})}set(Ze,Le){return this.clone({name:Ze,value:Le,op:"s"})}delete(Ze,Le){return this.clone({name:Ze,value:Le,op:"d"})}maybeSetNormalizedName(Ze,Le){this.normalizedNames.has(Le)||this.normalizedNames.set(Le,Ze)}init(){this.lazyInit&&(this.lazyInit instanceof ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ze=>this.applyUpdate(Ze)),this.lazyUpdate=null))}copyFrom(Ze){Ze.init(),Array.from(Ze.headers.keys()).forEach(Le=>{this.headers.set(Le,Ze.headers.get(Le)),this.normalizedNames.set(Le,Ze.normalizedNames.get(Le))})}clone(Ze){const Le=new ae;return Le.lazyInit=this.lazyInit&&this.lazyInit instanceof ae?this.lazyInit:this,Le.lazyUpdate=(this.lazyUpdate||[]).concat([Ze]),Le}applyUpdate(Ze){const Le=Ze.name.toLowerCase();switch(Ze.op){case"a":case"s":let wt=Ze.value;if("string"==typeof wt&&(wt=[wt]),0===wt.length)return;this.maybeSetNormalizedName(Ze.name,Le);const Ot=("a"===Ze.op?this.headers.get(Le):void 0)||[];Ot.push(...wt),this.headers.set(Le,Ot);break;case"d":const Wt=Ze.value;if(Wt){let In=this.headers.get(Le);if(!In)return;In=In.filter(Zn=>-1===Wt.indexOf(Zn)),0===In.length?(this.headers.delete(Le),this.normalizedNames.delete(Le)):this.headers.set(Le,In)}else this.headers.delete(Le),this.normalizedNames.delete(Le)}}forEach(Ze){this.init(),Array.from(this.normalizedNames.keys()).forEach(Le=>Ze(this.normalizedNames.get(Le),this.headers.get(Le)))}}class ye{encodeKey(Ze){return ot(Ze)}encodeValue(Ze){return ot(Ze)}decodeKey(Ze){return decodeURIComponent(Ze)}decodeValue(Ze){return decodeURIComponent(Ze)}}const Me=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ot(Pt){return encodeURIComponent(Pt).replace(Me,(Ze,Le)=>{var wt;return null!==(wt=Ne[Le])&&void 0!==wt?wt:Ze})}function qe(Pt){return`${Pt}`}class nt{constructor(Ze={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ze.encoder||new ye,Ze.fromString){if(Ze.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Be(Pt,Ze){const Le=new Map;return Pt.length>0&&Pt.replace(/^\?/,"").split("&").forEach(Ot=>{const Wt=Ot.indexOf("="),[In,Zn]=-1==Wt?[Ze.decodeKey(Ot),""]:[Ze.decodeKey(Ot.slice(0,Wt)),Ze.decodeValue(Ot.slice(Wt+1))],on=Le.get(In)||[];on.push(Zn),Le.set(In,on)}),Le}(Ze.fromString,this.encoder)}else Ze.fromObject?(this.map=new Map,Object.keys(Ze.fromObject).forEach(Le=>{const wt=Ze.fromObject[Le],Ot=Array.isArray(wt)?wt.map(qe):[qe(wt)];this.map.set(Le,Ot)})):this.map=null}has(Ze){return this.init(),this.map.has(Ze)}get(Ze){this.init();const Le=this.map.get(Ze);return Le?Le[0]:null}getAll(Ze){return this.init(),this.map.get(Ze)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ze,Le){return this.clone({param:Ze,value:Le,op:"a"})}appendAll(Ze){const Le=[];return Object.keys(Ze).forEach(wt=>{const Ot=Ze[wt];Array.isArray(Ot)?Ot.forEach(Wt=>{Le.push({param:wt,value:Wt,op:"a"})}):Le.push({param:wt,value:Ot,op:"a"})}),this.clone(Le)}set(Ze,Le){return this.clone({param:Ze,value:Le,op:"s"})}delete(Ze,Le){return this.clone({param:Ze,value:Le,op:"d"})}toString(){return this.init(),this.keys().map(Ze=>{const Le=this.encoder.encodeKey(Ze);return this.map.get(Ze).map(wt=>Le+"="+this.encoder.encodeValue(wt)).join("&")}).filter(Ze=>""!==Ze).join("&")}clone(Ze){const Le=new nt({encoder:this.encoder});return Le.cloneFrom=this.cloneFrom||this,Le.updates=(this.updates||[]).concat(Ze),Le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ze=>this.map.set(Ze,this.cloneFrom.map.get(Ze))),this.updates.forEach(Ze=>{switch(Ze.op){case"a":case"s":const Le=("a"===Ze.op?this.map.get(Ze.param):void 0)||[];Le.push(qe(Ze.value)),this.map.set(Ze.param,Le);break;case"d":if(void 0===Ze.value){this.map.delete(Ze.param);break}{let wt=this.map.get(Ze.param)||[];const Ot=wt.indexOf(qe(Ze.value));-1!==Ot&&wt.splice(Ot,1),wt.length>0?this.map.set(Ze.param,wt):this.map.delete(Ze.param)}}}),this.cloneFrom=this.updates=null)}}class Ft{constructor(){this.map=new Map}set(Ze,Le){return this.map.set(Ze,Le),this}get(Ze){return this.map.has(Ze)||this.map.set(Ze,Ze.defaultValue()),this.map.get(Ze)}delete(Ze){return this.map.delete(Ze),this}has(Ze){return this.map.has(Ze)}keys(){return this.map.keys()}}function Ke(Pt){return typeof ArrayBuffer<"u"&&Pt instanceof ArrayBuffer}function Xe(Pt){return typeof Blob<"u"&&Pt instanceof Blob}function Ct(Pt){return typeof FormData<"u"&&Pt instanceof FormData}class Te{constructor(Ze,Le,wt,Ot){let Wt;if(this.url=Le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ze.toUpperCase(),function it(Pt){switch(Pt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ot?(this.body=void 0!==wt?wt:null,Wt=Ot):Wt=wt,Wt&&(this.reportProgress=!!Wt.reportProgress,this.withCredentials=!!Wt.withCredentials,Wt.responseType&&(this.responseType=Wt.responseType),Wt.headers&&(this.headers=Wt.headers),Wt.context&&(this.context=Wt.context),Wt.params&&(this.params=Wt.params)),this.headers||(this.headers=new ae),this.context||(this.context=new Ft),this.params){const In=this.params.toString();if(0===In.length)this.urlWithParams=Le;else{const Zn=Le.indexOf("?");this.urlWithParams=Le+(-1===Zn?"?":Zn<Le.length-1?"&":"")+In}}else this.params=new nt,this.urlWithParams=Le}serializeBody(){return null===this.body?null:Ke(this.body)||Xe(this.body)||Ct(this.body)||function dt(Pt){return typeof URLSearchParams<"u"&&Pt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ct(this.body)?null:Xe(this.body)?this.body.type||null:Ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ze={}){var Le;const wt=Ze.method||this.method,Ot=Ze.url||this.url,Wt=Ze.responseType||this.responseType,In=void 0!==Ze.body?Ze.body:this.body,Zn=void 0!==Ze.withCredentials?Ze.withCredentials:this.withCredentials,on=void 0!==Ze.reportProgress?Ze.reportProgress:this.reportProgress;let fr=Ze.headers||this.headers,kn=Ze.params||this.params;const Br=null!==(Le=Ze.context)&&void 0!==Le?Le:this.context;return void 0!==Ze.setHeaders&&(fr=Object.keys(Ze.setHeaders).reduce((er,Qn)=>er.set(Qn,Ze.setHeaders[Qn]),fr)),Ze.setParams&&(kn=Object.keys(Ze.setParams).reduce((er,Qn)=>er.set(Qn,Ze.setParams[Qn]),kn)),new Te(wt,Ot,In,{params:kn,headers:fr,context:Br,reportProgress:on,responseType:Wt,withCredentials:Zn})}}var Ge=(()=>((Ge=Ge||{})[Ge.Sent=0]="Sent",Ge[Ge.UploadProgress=1]="UploadProgress",Ge[Ge.ResponseHeader=2]="ResponseHeader",Ge[Ge.DownloadProgress=3]="DownloadProgress",Ge[Ge.Response=4]="Response",Ge[Ge.User=5]="User",Ge))();class Qe{constructor(Ze,Le=200,wt="OK"){this.headers=Ze.headers||new ae,this.status=void 0!==Ze.status?Ze.status:Le,this.statusText=Ze.statusText||wt,this.url=Ze.url||null,this.ok=this.status>=200&&this.status<300}}class At extends Qe{constructor(Ze={}){super(Ze),this.type=Ge.ResponseHeader}clone(Ze={}){return new At({headers:Ze.headers||this.headers,status:void 0!==Ze.status?Ze.status:this.status,statusText:Ze.statusText||this.statusText,url:Ze.url||this.url||void 0})}}class ln extends Qe{constructor(Ze={}){super(Ze),this.type=Ge.Response,this.body=void 0!==Ze.body?Ze.body:null}clone(Ze={}){return new ln({body:void 0!==Ze.body?Ze.body:this.body,headers:Ze.headers||this.headers,status:void 0!==Ze.status?Ze.status:this.status,statusText:Ze.statusText||this.statusText,url:Ze.url||this.url||void 0})}}class Lt extends Qe{constructor(Ze){super(Ze,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ze.url||"(unknown url)"}`:`Http failure response for ${Ze.url||"(unknown url)"}: ${Ze.status} ${Ze.statusText}`,this.error=Ze.error||null}}function pt(Pt,Ze){return{body:Ze,headers:Pt.headers,context:Pt.context,observe:Pt.observe,params:Pt.params,reportProgress:Pt.reportProgress,responseType:Pt.responseType,withCredentials:Pt.withCredentials}}let bt=(()=>{class Pt{constructor(Le){this.handler=Le}request(Le,wt,Ot={}){let Wt;if(Le instanceof Te)Wt=Le;else{let on,fr;on=Ot.headers instanceof ae?Ot.headers:new ae(Ot.headers),Ot.params&&(fr=Ot.params instanceof nt?Ot.params:new nt({fromObject:Ot.params})),Wt=new Te(Le,wt,void 0!==Ot.body?Ot.body:null,{headers:on,context:Ot.context,params:fr,reportProgress:Ot.reportProgress,responseType:Ot.responseType||"json",withCredentials:Ot.withCredentials})}const In=(0,B.of)(Wt).pipe((0,de.b)(on=>this.handler.handle(on)));if(Le instanceof Te||"events"===Ot.observe)return In;const Zn=In.pipe((0,pe.h)(on=>on instanceof ln));switch(Ot.observe||"body"){case"body":switch(Wt.responseType){case"arraybuffer":return Zn.pipe((0,Ee.U)(on=>{if(null!==on.body&&!(on.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return on.body}));case"blob":return Zn.pipe((0,Ee.U)(on=>{if(null!==on.body&&!(on.body instanceof Blob))throw new Error("Response is not a Blob.");return on.body}));case"text":return Zn.pipe((0,Ee.U)(on=>{if(null!==on.body&&"string"!=typeof on.body)throw new Error("Response is not a string.");return on.body}));default:return Zn.pipe((0,Ee.U)(on=>on.body))}case"response":return Zn;default:throw new Error(`Unreachable: unhandled observe type ${Ot.observe}}`)}}delete(Le,wt={}){return this.request("DELETE",Le,wt)}get(Le,wt={}){return this.request("GET",Le,wt)}head(Le,wt={}){return this.request("HEAD",Le,wt)}jsonp(Le,wt){return this.request("JSONP",Le,{params:(new nt).append(wt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Le,wt={}){return this.request("OPTIONS",Le,wt)}patch(Le,wt,Ot={}){return this.request("PATCH",Le,pt(Ot,wt))}post(Le,wt,Ot={}){return this.request("POST",Le,pt(Ot,wt))}put(Le,wt,Ot={}){return this.request("PUT",Le,pt(Ot,wt))}}return Pt.\u0275fac=function(Le){return new(Le||Pt)(E.LFG(oe))},Pt.\u0275prov=E.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();class It{constructor(Ze,Le){this.next=Ze,this.interceptor=Le}handle(Ze){return this.interceptor.intercept(Ze,this.next)}}const $t=new E.OlP("HTTP_INTERCEPTORS");let jt=(()=>{class Pt{intercept(Le,wt){return wt.handle(Le)}}return Pt.\u0275fac=function(Le){return new(Le||Pt)},Pt.\u0275prov=E.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();const lr=/^\)\]\}',?\n/;let Cr=(()=>{class Pt{constructor(Le){this.xhrFactory=Le}handle(Le){if("JSONP"===Le.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ce.y(wt=>{const Ot=this.xhrFactory.build();if(Ot.open(Le.method,Le.urlWithParams),Le.withCredentials&&(Ot.withCredentials=!0),Le.headers.forEach((Qn,Hn)=>Ot.setRequestHeader(Qn,Hn.join(","))),Le.headers.has("Accept")||Ot.setRequestHeader("Accept","application/json, text/plain, */*"),!Le.headers.has("Content-Type")){const Qn=Le.detectContentTypeHeader();null!==Qn&&Ot.setRequestHeader("Content-Type",Qn)}if(Le.responseType){const Qn=Le.responseType.toLowerCase();Ot.responseType="json"!==Qn?Qn:"text"}const Wt=Le.serializeBody();let In=null;const Zn=()=>{if(null!==In)return In;const Qn=Ot.statusText||"OK",Hn=new ae(Ot.getAllResponseHeaders()),en=function Yn(Pt){return"responseURL"in Pt&&Pt.responseURL?Pt.responseURL:/^X-Request-URL:/m.test(Pt.getAllResponseHeaders())?Pt.getResponseHeader("X-Request-URL"):null}(Ot)||Le.url;return In=new At({headers:Hn,status:Ot.status,statusText:Qn,url:en}),In},on=()=>{let{headers:Qn,status:Hn,statusText:en,url:Ht}=Zn(),sn=null;204!==Hn&&(sn=typeof Ot.response>"u"?Ot.responseText:Ot.response),0===Hn&&(Hn=sn?200:0);let Fn=Hn>=200&&Hn<300;if("json"===Le.responseType&&"string"==typeof sn){const On=sn;sn=sn.replace(lr,"");try{sn=""!==sn?JSON.parse(sn):null}catch(sr){sn=On,Fn&&(Fn=!1,sn={error:sr,text:sn})}}Fn?(wt.next(new ln({body:sn,headers:Qn,status:Hn,statusText:en,url:Ht||void 0})),wt.complete()):wt.error(new Lt({error:sn,headers:Qn,status:Hn,statusText:en,url:Ht||void 0}))},fr=Qn=>{const{url:Hn}=Zn(),en=new Lt({error:Qn,status:Ot.status||0,statusText:Ot.statusText||"Unknown Error",url:Hn||void 0});wt.error(en)};let kn=!1;const Br=Qn=>{kn||(wt.next(Zn()),kn=!0);let Hn={type:Ge.DownloadProgress,loaded:Qn.loaded};Qn.lengthComputable&&(Hn.total=Qn.total),"text"===Le.responseType&&!!Ot.responseText&&(Hn.partialText=Ot.responseText),wt.next(Hn)},er=Qn=>{let Hn={type:Ge.UploadProgress,loaded:Qn.loaded};Qn.lengthComputable&&(Hn.total=Qn.total),wt.next(Hn)};return Ot.addEventListener("load",on),Ot.addEventListener("error",fr),Ot.addEventListener("timeout",fr),Ot.addEventListener("abort",fr),Le.reportProgress&&(Ot.addEventListener("progress",Br),null!==Wt&&Ot.upload&&Ot.upload.addEventListener("progress",er)),Ot.send(Wt),wt.next({type:Ge.Sent}),()=>{Ot.removeEventListener("error",fr),Ot.removeEventListener("abort",fr),Ot.removeEventListener("load",on),Ot.removeEventListener("timeout",fr),Le.reportProgress&&(Ot.removeEventListener("progress",Br),null!==Wt&&Ot.upload&&Ot.upload.removeEventListener("progress",er)),Ot.readyState!==Ot.DONE&&Ot.abort()}})}}return Pt.\u0275fac=function(Le){return new(Le||Pt)(E.LFG(a.JF))},Pt.\u0275prov=E.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();const dr=new E.OlP("XSRF_COOKIE_NAME"),Gr=new E.OlP("XSRF_HEADER_NAME");class Jn{}let tr=(()=>{class Pt{constructor(Le,wt,Ot){this.doc=Le,this.platform=wt,this.cookieName=Ot,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Le=this.doc.cookie||"";return Le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,a.Mx)(Le,this.cookieName),this.lastCookieString=Le),this.lastToken}}return Pt.\u0275fac=function(Le){return new(Le||Pt)(E.LFG(a.K0),E.LFG(E.Lbi),E.LFG(dr))},Pt.\u0275prov=E.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})(),Nr=(()=>{class Pt{constructor(Le,wt){this.tokenService=Le,this.headerName=wt}intercept(Le,wt){const Ot=Le.url.toLowerCase();if("GET"===Le.method||"HEAD"===Le.method||Ot.startsWith("http://")||Ot.startsWith("https://"))return wt.handle(Le);const Wt=this.tokenService.getToken();return null!==Wt&&!Le.headers.has(this.headerName)&&(Le=Le.clone({headers:Le.headers.set(this.headerName,Wt)})),wt.handle(Le)}}return Pt.\u0275fac=function(Le){return new(Le||Pt)(E.LFG(Jn),E.LFG(Gr))},Pt.\u0275prov=E.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})(),hn=(()=>{class Pt{constructor(Le,wt){this.backend=Le,this.injector=wt,this.chain=null}handle(Le){if(null===this.chain){const wt=this.injector.get($t,[]);this.chain=wt.reduceRight((Ot,Wt)=>new It(Ot,Wt),this.backend)}return this.chain.handle(Le)}}return Pt.\u0275fac=function(Le){return new(Le||Pt)(E.LFG(Ie),E.LFG(E.zs3))},Pt.\u0275prov=E.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})(),gr=(()=>{class Pt{static disable(){return{ngModule:Pt,providers:[{provide:Nr,useClass:jt}]}}static withOptions(Le={}){return{ngModule:Pt,providers:[Le.cookieName?{provide:dr,useValue:Le.cookieName}:[],Le.headerName?{provide:Gr,useValue:Le.headerName}:[]]}}}return Pt.\u0275fac=function(Le){return new(Le||Pt)},Pt.\u0275mod=E.oAB({type:Pt}),Pt.\u0275inj=E.cJS({providers:[Nr,{provide:$t,useExisting:Nr,multi:!0},{provide:Jn,useClass:tr},{provide:dr,useValue:"XSRF-TOKEN"},{provide:Gr,useValue:"X-XSRF-TOKEN"}]}),Pt})(),ci=(()=>{class Pt{}return Pt.\u0275fac=function(Le){return new(Le||Pt)},Pt.\u0275mod=E.oAB({type:Pt}),Pt.\u0275inj=E.cJS({providers:[bt,{provide:oe,useClass:hn},Cr,{provide:Ie,useExisting:Cr}],imports:[gr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Pt})()},4650:(nn,we,M)=>{"use strict";M.d(we,{$8M:()=>qo,$Z:()=>cg,AFp:()=>cb,ALo:()=>A1,AaK:()=>oe,AsE:()=>Vf,BQk:()=>jm,CHM:()=>ol,CRH:()=>B1,CZH:()=>o0,CqO:()=>Ny,D6c:()=>kE,DdM:()=>g1,DjV:()=>Uh,EJc:()=>qw,EiD:()=>O,EpF:()=>xp,Ez6:()=>Pn,F$t:()=>Tu,F4k:()=>Pf,FYo:()=>lp,FiY:()=>ft,G48:()=>_E,Gf:()=>L1,GfV:()=>kd,GkF:()=>Mg,Gpc:()=>le,Gre:()=>qd,HTZ:()=>w1,Hh0:()=>E1,Hsn:()=>vv,IIB:()=>zw,Ikx:()=>jf,JOm:()=>Rl,JVY:()=>np,Jf7:()=>Xg,KtG:()=>ra,L6k:()=>Yg,LAX:()=>Od,LFG:()=>Cs,LMc:()=>LE,LSH:()=>kt,Lbi:()=>Ww,Lck:()=>Yb,MAs:()=>$_,MGl:()=>kf,MMx:()=>y0,NdJ:()=>Hm,O4$:()=>Gl,OlP:()=>Ar,Oqu:()=>Nc,PXZ:()=>dE,Q6J:()=>Ng,QGY:()=>W_,QP$:()=>xe,QbO:()=>Kw,Qsj:()=>o_,QtT:()=>r1,R0b:()=>Hh,RDi:()=>Gp,Rgc:()=>$v,SBq:()=>Vo,SDv:()=>n1,Sil:()=>Jw,Suo:()=>U1,TTD:()=>Ra,TgZ:()=>Ts,Tol:()=>Zd,Udp:()=>Bf,VKq:()=>m1,W1O:()=>G1,WLB:()=>_1,X6Q:()=>mE,XFs:()=>hn,Xpm:()=>Ht,Xts:()=>qr,Y36:()=>pf,YKP:()=>o1,YNc:()=>H_,Yjl:()=>Se,Yz7:()=>Bt,Z0I:()=>Wn,ZZ4:()=>G0,_Bn:()=>s1,_UZ:()=>xy,_Vd:()=>po,_c5:()=>RE,_uU:()=>ny,aQg:()=>$0,c2e:()=>Yw,cJS:()=>xn,cg1:()=>Jm,dDg:()=>aE,dqk:()=>Ot,eBb:()=>$p,eFA:()=>Eb,ekj:()=>Fg,eoX:()=>vb,evT:()=>Gu,f3M:()=>ks,g9A:()=>db,h0i:()=>rv,hGG:()=>PE,hij:()=>Ug,iGM:()=>F1,ifc:()=>wt,ip1:()=>lb,jDz:()=>l1,kEZ:()=>y1,kL8:()=>ry,kYT:()=>vr,l5B:()=>v1,lG2:()=>Ve,lcZ:()=>x1,lqb:()=>wc,lri:()=>_b,mCW:()=>fh,n5z:()=>Vi,oAB:()=>sr,oJD:()=>ut,oxw:()=>Ry,pB0:()=>zp,pQV:()=>h0,q3G:()=>Ue,q4F:()=>Zp,qLn:()=>_u,qOj:()=>k_,qZA:()=>Vm,qbA:()=>b1,qzn:()=>Bu,rWj:()=>yb,s9C:()=>bd,sBO:()=>yE,sIi:()=>Sp,s_b:()=>n0,soG:()=>a0,tb:()=>hb,tp0:()=>An,uIk:()=>Fm,vHH:()=>Ne,vpe:()=>kp,wAp:()=>Pr,xi3:()=>N1,xp6:()=>nm,ynx:()=>Eu,z2F:()=>l0,z3N:()=>Wc,zSh:()=>ec,zs3:()=>pd});var a=M(7579),E=M(727),B=M(9751),ce=M(6451),de=M(3099);function pe(n){for(let i in n)if(n[i]===pe)return i;throw Error("Could not find renamed property on target object.")}function Ee(n,i){for(const c in i)i.hasOwnProperty(c)&&!n.hasOwnProperty(c)&&(n[c]=i[c])}function oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const c=i.indexOf("\n");return-1===c?i:i.substring(0,c)}function Ie(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ae=pe({__forward_ref__:pe});function le(n){return n.__forward_ref__=le,n.toString=function(){return oe(this())},n}function ye(n){return Be(n)?n():n}function Be(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===le}class Ne extends Error{constructor(i,c){super(function ot(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,c)),this.code=i}}function qe(n){return"string"==typeof n?n:null==n?"":String(n)}function Ke(n,i){throw new Ne(-201,!1)}function vt(n,i,c,f){throw new Error(`ASSERTION ERROR: ${n}`+(null==f?"":` [Expected=> ${c} ${f} ${i} <=Actual]`))}function Bt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}const Pn=Bt;function xn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Tn(n){return lr(n,Gr)||lr(n,tr)}function Wn(n){return null!==Tn(n)}function lr(n,i){return n.hasOwnProperty(i)?n[i]:null}function dr(n){return n&&(n.hasOwnProperty(Jn)||n.hasOwnProperty(Nr))?n[Jn]:null}const Gr=pe({\u0275prov:pe}),Jn=pe({\u0275inj:pe}),tr=pe({ngInjectableDef:pe}),Nr=pe({ngInjectorDef:pe});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let Fr;function gr(n){const i=Fr;return Fr=n,i}function ci(n,i,c){const f=Tn(n);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&hn.Optional?null:void 0!==i?i:void Ke(oe(n))}function $r(n){return{toString:n}.toString()}var Pt=(()=>((Pt=Pt||{})[Pt.OnPush=0]="OnPush",Pt[Pt.Default=1]="Default",Pt))(),wt=(()=>{return(n=wt||(wt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wt;var n})();const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zn={},on=[],fr=pe({\u0275cmp:pe}),kn=pe({\u0275dir:pe}),Br=pe({\u0275pipe:pe}),er=pe({\u0275mod:pe}),Qn=pe({\u0275fac:pe}),Hn=pe({__NG_ELEMENT_ID__:pe});let en=0;function Ht(n){return $r(()=>{const c=!0===n.standalone,f={},m={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Pt.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wt.Emulated,id:"c"+en++,styles:n.styles||on,_:null,setInput:null,schemas:n.schemas||null,tView:null},w=n.dependencies,A=n.features;return m.inputs=Ye(n.inputs,f),m.outputs=Ye(n.outputs),A&&A.forEach(U=>U(m)),m.directiveDefs=w?()=>("function"==typeof w?w():w).map(Fn).filter(On):null,m.pipeDefs=w?()=>("function"==typeof w?w():w).map(ne).filter(On):null,m})}function Fn(n){return F(n)||V(n)}function On(n){return null!==n}function sr(n){return $r(()=>({type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vr(n,i){return $r(()=>{const c=tt(n,!0);c.declarations=i.declarations||on,c.imports=i.imports||on,c.exports=i.exports||on})}function Ye(n,i){if(null==n)return Zn;const c={};for(const f in n)if(n.hasOwnProperty(f)){let m=n[f],w=m;Array.isArray(m)&&(w=m[1],m=m[0]),c[m]=f,i&&(i[m]=w)}return c}const Ve=Ht;function Se(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function F(n){return n[fr]||null}function V(n){return n[kn]||null}function ne(n){return n[Br]||null}function xe(n){const i=F(n)||V(n)||ne(n);return null!==i&&i.standalone}function tt(n,i){const c=n[er]||null;if(!c&&!0===i)throw new Error(`Type ${oe(n)} does not have '\u0275mod' property.`);return c}function gi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ws(n){return Array.isArray(n)&&!0===n[1]}function oo(n){return 0!=(8&n.flags)}function Bi(n){return 2==(2&n.flags)}function ga(n){return 1==(1&n.flags)}function Zi(n){return null!==n.template}function _o(n){return 0!=(256&n[2])}function is(n,i){return n.hasOwnProperty(Qn)?n[Qn]:null}class ma{constructor(i,c,f){this.previousValue=i,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function Ra(){return yo}function yo(n){return n.type.prototype.ngOnChanges&&(n.setInput=_a),Pa}function Pa(){const n=ya(this),i=n?.current;if(i){const c=n.previous;if(c===Zn)n.previous=i;else for(let f in i)c[f]=i[f];n.current=null,this.ngOnChanges(i)}}function _a(n,i,c,f){const m=ya(n)||function rl(n,i){return n[Ns]=i}(n,{previous:Zn,current:null}),w=m.current||(m.current={}),A=m.previous,U=this.declaredInputs[c],z=A[U];w[U]=new ma(z&&z.currentValue,i,A===Zn),n[f]=i}Ra.ngInherit=!0;const Ns="__ngSimpleChanges__";function ya(n){return n[Ns]||null}function mi(n){for(;Array.isArray(n);)n=n[0];return n}function ws(n,i){return mi(i[n])}function Qi(n,i){return mi(i[n.index])}function ko(n,i){return n.data[i]}function Fo(n,i){return n[i]}function os(n,i){const c=i[n];return gi(c)?c:c[0]}function bo(n){return 64==(64&n[2])}function ui(n,i){return null==i?null:n[i]}function ps(n){n[18]=0}function Ji(n,i){n[5]+=i;let c=n,f=n[3];for(;null!==f&&(1===i&&1===c[5]||-1===i&&0===c[5]);)f[5]+=i,c=f,f=f[3]}const zn={lFrame:oc(null),bindingsEnabled:!0};function uo(){return zn.bindingsEnabled}function Qt(){return zn.lFrame.lView}function Dr(){return zn.lFrame.tView}function ol(n){return zn.lFrame.contextLView=n,n[8]}function ra(n){return zn.lFrame.contextLView=null,n}function Oi(){let n=Ys();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ys(){return zn.lFrame.currentTNode}function Ha(){const n=zn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Zs(n,i){const c=zn.lFrame;c.currentTNode=n,c.isParent=i}function ba(){return zn.lFrame.isParent}function ia(){zn.lFrame.isParent=!1}function H(){const n=zn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function me(){return zn.lFrame.bindingIndex}function En(){return zn.lFrame.bindingIndex++}function Vr(n){const i=zn.lFrame,c=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,c}function wo(n){zn.lFrame.inI18n=n}function Ko(n,i){const c=zn.lFrame;c.bindingIndex=c.bindingRootIndex=n,wa(i)}function wa(n){zn.lFrame.currentDirectiveIndex=n}function Ga(){return zn.lFrame.currentQueryIndex}function Os(n){zn.lFrame.currentQueryIndex=n}function Xi(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function al(n,i,c){if(c&hn.SkipSelf){let m=i,w=n;for(;!(m=m.parent,null!==m||c&hn.Host||(m=Xi(w),null===m||(w=w[15],10&m.type))););if(null===m)return!1;i=m,n=w}const f=zn.lFrame=ho();return f.currentTNode=i,f.lView=n,!0}function oa(n){const i=ho(),c=n[1];zn.lFrame=i,i.currentTNode=c.firstChild,i.lView=n,i.tView=c,i.contextLView=n,i.bindingIndex=c.bindingStartIndex,i.inI18n=!1}function ho(){const n=zn.lFrame,i=null===n?null:n.child;return null===i?oc(n):i}function oc(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function wl(){const n=zn.lFrame;return zn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const aa=wl;function la(){const n=wl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qs(){return zn.lFrame.selectedIndex}function Hs(n){zn.lFrame.selectedIndex=n}function $i(){const n=zn.lFrame;return ko(n.tView,n.selectedIndex)}function Gl(){zn.lFrame.currentNamespace="svg"}function zl(n,i){for(let c=i.directiveStart,f=i.directiveEnd;c<f;c++){const w=n.data[c].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:U,ngAfterViewInit:z,ngAfterViewChecked:te,ngOnDestroy:be}=w;A&&(n.contentHooks||(n.contentHooks=[])).push(-c,A),U&&((n.contentHooks||(n.contentHooks=[])).push(c,U),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(c,U)),z&&(n.viewHooks||(n.viewHooks=[])).push(-c,z),te&&((n.viewHooks||(n.viewHooks=[])).push(c,te),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(c,te)),null!=be&&(n.destroyHooks||(n.destroyHooks=[])).push(c,be)}}function Yo(n,i,c){Wl(n,i,3,c)}function El(n,i,c,f){(3&n[2])===c&&Wl(n,i,c,f)}function eu(n,i){let c=n[2];(3&c)===i&&(c&=2047,c+=1,n[2]=c)}function Wl(n,i,c,f){const w=f??-1,A=i.length-1;let U=0;for(let z=void 0!==f?65535&n[18]:0;z<A;z++)if("number"==typeof i[z+1]){if(U=i[z],null!=f&&U>=f)break}else i[z]<0&&(n[18]+=65536),(U<w||-1==w)&&(Du(n,c,i,z),n[18]=(4294901760&n[18])+z+2),z++}function Du(n,i,c,f){const m=c[f]<0,w=c[f+1],U=n[m?-c[f]:c[f]];if(m){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{w.call(U)}finally{}}}else try{w.call(U)}finally{}}class Qs{constructor(i,c,f){this.factory=i,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function ge(n,i,c){let f=0;for(;f<c.length;){const m=c[f];if("number"==typeof m){if(0!==m)break;f++;const w=c[f++],A=c[f++],U=c[f++];n.setAttribute(i,A,U,w)}else{const w=m,A=c[++f];Dt(w)?n.setProperty(i,w,A):n.setAttribute(i,w,A),f++}}return f}function ze(n){return 3===n||4===n||6===n}function Dt(n){return 64===n.charCodeAt(0)}function Mt(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let c=-1;for(let f=0;f<i.length;f++){const m=i[f];"number"==typeof m?c=m:0===c||pn(n,c,m,null,-1===c||2===c?i[++f]:null)}}return n}function pn(n,i,c,f,m){let w=0,A=n.length;if(-1===i)A=-1;else for(;w<n.length;){const U=n[w++];if("number"==typeof U){if(U===i){A=-1;break}if(U>i){A=w-1;break}}}for(;w<n.length;){const U=n[w];if("number"==typeof U)break;if(U===c){if(null===f)return void(null!==m&&(n[w+1]=m));if(f===n[w+1])return void(n[w+2]=m)}w++,null!==f&&w++,null!==m&&w++}-1!==A&&(n.splice(A,0,i),w=A+1),n.splice(w++,0,c),null!==f&&n.splice(w++,0,f),null!==m&&n.splice(w++,0,m)}function nr(n){return-1!==n}function Or(n){return 32767&n}function xr(n,i){let c=function Lr(n){return n>>16}(n),f=i;for(;c>0;)f=f[15],c--;return f}let Di=!0;function zt(n){const i=Di;return Di=n,i}let Sn=0;const bn={};function cn(n,i){const c=Ut(n,i);if(-1!==c)return c;const f=i[1];f.firstCreatePass&&(n.injectorIndex=i.length,Tt(f.data,n),Tt(i,null),Tt(f.blueprint,null));const m=zi(n,i),w=n.injectorIndex;if(nr(m)){const A=Or(m),U=xr(m,i),z=U[1].data;for(let te=0;te<8;te++)i[w+te]=U[A+te]|z[A+te]}return i[w+8]=m,w}function Tt(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ut(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function zi(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let c=0,f=null,m=i;for(;null!==m;){if(f=Wr(m),null===f)return-1;if(c++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function za(n,i,c){!function Dl(n,i,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(Hn)&&(f=c[Hn]),null==f&&(f=c[Hn]=Sn++);const m=255&f;i.data[n+(m>>5)]|=1<<m}(n,i,c)}function Oe(n,i,c){if(c&hn.Optional||void 0!==n)return n;Ke()}function Il(n,i,c,f){if(c&hn.Optional&&void 0===f&&(f=null),0==(c&(hn.Self|hn.Host))){const m=n[9],w=gr(void 0);try{return m?m.get(i,f,c&hn.Optional):ci(i,f,c&hn.Optional)}finally{gr(w)}}return Oe(f,0,c)}function Pc(n,i,c,f=hn.Default,m){if(null!==n){if(1024&i[2]){const A=function ul(n,i,c,f,m){let w=n,A=i;for(;null!==w&&null!==A&&1024&A[2]&&!(256&A[2]);){const U=gs(w,A,c,f|hn.Self,bn);if(U!==bn)return U;let z=w.parent;if(!z){const te=A[21];if(te){const be=te.get(c,bn,f);if(be!==bn)return be}z=Wr(A),A=A[15]}w=z}return m}(n,i,c,f,bn);if(A!==bn)return A}const w=gs(n,i,c,f,bn);if(w!==bn)return w}return Il(i,c,f,m)}function gs(n,i,c,f,m){const w=function Wi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Hn)?n[Hn]:void 0;return"number"==typeof i?i>=0?255&i:Fc:i}(c);if("function"==typeof w){if(!al(i,n,f))return f&hn.Host?Oe(m,0,f):Il(i,c,f,m);try{const A=w(f);if(null!=A||f&hn.Optional)return A;Ke()}finally{aa()}}else if("number"==typeof w){let A=null,U=Ut(n,i),z=-1,te=f&hn.Host?i[16][6]:null;for((-1===U||f&hn.SkipSelf)&&(z=-1===U?zi(n,i):i[U+8],-1!==z&&br(f,!1)?(A=i[1],U=Or(z),i=xr(z,i)):U=-1);-1!==U;){const be=i[1];if(ei(w,U,be.data)){const Pe=kc(U,i,c,A,f,te);if(Pe!==bn)return Pe}z=i[U+8],-1!==z&&br(f,i[1].data[U+8]===te)&&ei(w,U,i)?(A=be,U=Or(z),i=xr(z,i)):U=-1}}return m}function kc(n,i,c,f,m,w){const A=i[1],U=A.data[n+8],be=cl(U,A,c,null==f?Bi(U)&&Di:f!=A&&0!=(3&U.type),m&hn.Host&&w===U);return null!==be?ka(i,A,be,U):bn}function cl(n,i,c,f,m){const w=n.providerIndexes,A=i.data,U=1048575&w,z=n.directiveStart,be=w>>20,st=m?U+be:n.directiveEnd;for(let St=f?U:U+be;St<st;St++){const tn=A[St];if(St<z&&c===tn||St>=z&&tn.type===c)return St}if(m){const St=A[z];if(St&&Zi(St)&&St.type===c)return z}return null}function ka(n,i,c,f){let m=n[c];const w=i.data;if(function Tl(n){return n instanceof Qs}(m)){const A=m;A.resolving&&function We(n,i){const c=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${n}${c}`)}(function nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():qe(n)}(w[c]));const U=zt(A.canSeeViewProviders);A.resolving=!0;const z=A.injectImpl?gr(A.injectImpl):null;al(n,f,hn.Default);try{m=n[c]=A.factory(void 0,w,n,f),i.firstCreatePass&&c>=f.directiveStart&&function cc(n,i,c){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:w}=i.type.prototype;if(f){const A=yo(i);(c.preOrderHooks||(c.preOrderHooks=[])).push(n,A),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(n,A)}m&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-n,m),w&&((c.preOrderHooks||(c.preOrderHooks=[])).push(n,w),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(n,w))}(c,w[c],i)}finally{null!==z&&gr(z),zt(U),A.resolving=!1,aa()}}return m}function ei(n,i,c){return!!(c[i+(n>>5)]&1<<n)}function br(n,i){return!(n&hn.Self||n&hn.Host&&i)}class di{constructor(i,c){this._tNode=i,this._lView=c}get(i,c,f){return Pc(this._tNode,this._lView,i,f,c)}}function Fc(){return new di(Oi(),Qt())}function Vi(n){return $r(()=>{const i=n.prototype.constructor,c=i[Qn]||rr(i),f=Object.prototype;let m=Object.getPrototypeOf(n.prototype).constructor;for(;m&&m!==f;){const w=m[Qn]||rr(m);if(w&&w!==c)return w;m=Object.getPrototypeOf(m)}return w=>new w})}function rr(n){return Be(n)?()=>{const i=rr(ye(n));return i&&i()}:is(n)}function Wr(n){const i=n[1],c=i.type;return 2===c?i.declTNode:1===c?n[6]:null}function qo(n){return function Wa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const c=n.attrs;if(c){const f=c.length;let m=0;for(;m<f;){const w=c[m];if(ze(w))break;if(0===w)m+=2;else if("number"==typeof w)for(m++;m<f&&"string"==typeof c[m];)m++;else{if(w===i)return c[m+1];m+=2}}}return null}(Oi(),n)}const gn="__parameters__",Pi="__prop__metadata__";function Qo(n){return function(...c){if(n){const f=n(...c);for(const m in f)this[m]=f[m]}}}function ca(n,i,c){return $r(()=>{const f=Qo(i);function m(...w){if(this instanceof m)return f.apply(this,w),this;const A=new m(...w);return U.annotation=A,U;function U(z,te,be){const Pe=z.hasOwnProperty(gn)?z[gn]:Object.defineProperty(z,gn,{value:[]})[gn];for(;Pe.length<=be;)Pe.push(null);return(Pe[be]=Pe[be]||[]).push(A),z}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=n,m.annotationCls=m,m})}function uc(n,i,c,f){return $r(()=>{const m=Qo(i);function w(...A){if(this instanceof w)return m.apply(this,A),this;const U=new w(...A);return function z(te,be){const Pe=te.constructor,st=Pe.hasOwnProperty(Pi)?Pe[Pi]:Object.defineProperty(Pe,Pi,{value:{}})[Pi];st[be]=st.hasOwnProperty(be)&&st[be]||[],st[be].unshift(U),f&&f(te,be,...A)}}return c&&(w.prototype=Object.create(c.prototype)),w.prototype.ngMetadataName=n,w.annotationCls=w,w})}class Ar{constructor(i,c){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Bt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fi(n,i){void 0===i&&(i=n);for(let c=0;c<n.length;c++){let f=n[c];Array.isArray(f)?(i===n&&(i=n.slice(0,c)),Fi(f,i)):i!==n&&i.push(f)}return i}function ua(n,i){n.forEach(c=>Array.isArray(c)?ua(c,i):i(c))}function da(n,i,c){i>=n.length?n.push(c):n.splice(i,0,c)}function tu(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function R(n,i){const c=[];for(let f=0;f<n;f++)c.push(i);return c}function Fe(n,i,c){let f=an(n,i);return f>=0?n[1|f]=c:(f=~f,function G(n,i,c,f){let m=n.length;if(m==i)n.push(c,f);else if(1===m)n.push(f,n[0]),n[0]=c;else{for(m--,n.push(n[m-1],n[m]);m>i;)n[m]=n[m-2],m--;n[i]=c,n[i+1]=f}}(n,f,i,c)),f}function mt(n,i){const c=an(n,i);if(c>=0)return n[1|c]}function an(n,i){return function un(n,i,c){let f=0,m=n.length>>c;for(;m!==f;){const w=f+(m-f>>1),A=n[w<<c];if(i===A)return w<<c;A>i?m=w:f=w+1}return~(m<<c)}(n,i,1)}const Js={},xl="__NG_DI_FLAG__",hc="ngTempTokenPath",nd=/\n/gm,Gs="__source";let ha;function Nl(n){const i=ha;return ha=n,i}function ru(n,i=hn.Default){if(void 0===ha)throw new Ne(-203,!1);return null===ha?ci(n,void 0,i):ha.get(n,i&hn.Optional?null:void 0,i)}function Cs(n,i=hn.Default){return(function hr(){return Fr}()||ru)(ye(n),i)}function ks(n,i=hn.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),Cs(n,i)}function Iu(n){const i=[];for(let c=0;c<n.length;c++){const f=ye(n[c]);if(Array.isArray(f)){if(0===f.length)throw new Ne(900,!1);let m,w=hn.Default;for(let A=0;A<f.length;A++){const U=f[A],z=X(U);"number"==typeof z?-1===z?m=U.token:w|=z:m=U}i.push(Cs(m,w))}else i.push(Cs(f))}return i}function K(n,i){return n[xl]=i,n.prototype[xl]=i,n}function X(n){return n[xl]}const ft=K(ca("Optional"),8),An=K(ca("SkipSelf"),4);var Rl=(()=>((Rl=Rl||{})[Rl.Important=1]="Important",Rl[Rl.DashCase=2]="DashCase",Rl))();const Td=/^>|^->|<!--|-->|--!>|<!-$/g,yi=/(<|>)/;const ql=new Map;let au=0;const oh="__ngContext__";function Xo(n,i){gi(i)?(n[oh]=i[20],function rh(n){ql.set(n[20],n)}(i)):n[oh]=i}let Ql;function Id(n,i){return Ql(n,i)}function mc(n){const i=n[3];return Ws(i)?i[3]:i}function N(n){return D(n[13])}function b(n){return D(n[4])}function D(n){for(;null!==n&&!Ws(n);)n=n[4];return n}function se(n,i,c,f,m){if(null!=f){let w,A=!1;Ws(f)?w=f:gi(f)&&(A=!0,f=f[0]);const U=mi(f);0===n&&null!==c?null==m?Xf(i,c,U):Fl(i,c,U,m||null,!0):1===n&&null!==c?Fl(i,c,U,m||null,!0):2===n?Ad(i,U,A):3===n&&i.destroyNode(U),null!=w&&function Uu(n,i,c,f,m){const w=c[7];w!==mi(c)&&se(i,n,f,w,m);for(let U=10;U<c.length;U++){const z=c[U];xd(z[1],z,n,i,f,w)}}(i,n,w,c,m)}}function Ae(n,i){return n.createText(i)}function ct(n,i,c){n.setValue(i,c)}function Vt(n,i){return n.createComment(function Pl(n){return n.replace(Td,i=>i.replace(yi,"\u200b$1\u200b"))}(i))}function _n(n,i,c){return n.createElement(i,c)}function uh(n,i){const c=n[9],f=c.indexOf(i),m=i[3];512&i[2]&&(i[2]&=-513,Ji(m,-1)),c.splice(f,1)}function Ia(n,i){if(n.length<=10)return;const c=10+i,f=n[c];if(f){const m=f[17];null!==m&&m!==n&&uh(m,f),i>0&&(n[c-1][4]=f[4]);const w=tu(n,10+i);!function Ln(n,i){xd(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(f[1],f);const A=w[19];null!==A&&A.detachView(w[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Fu(n,i){if(!(128&i[2])){const c=i[11];c.destroyNode&&xd(n,i,c,3,null,null),function cs(n){let i=n[13];if(!i)return Jl(n[1],n);for(;i;){let c=null;if(gi(i))c=i[13];else{const f=i[10];f&&(c=f)}if(!c){for(;i&&!i[4]&&i!==n;)gi(i)&&Jl(i[1],i),i=i[3];null===i&&(i=n),gi(i)&&Jl(i[1],i),c=i&&i[4]}i=c}}(i)}}function Jl(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Up(n,i){let c;if(null!=n&&null!=(c=n.destroyHooks))for(let f=0;f<c.length;f+=2){const m=i[c[f]];if(!(m instanceof Qs)){const w=c[f+1];if(Array.isArray(w))for(let A=0;A<w.length;A+=2){const U=m[w[A]],z=w[A+1];try{z.call(U)}finally{}}else try{w.call(m)}finally{}}}}(n,i),function Sd(n,i){const c=n.cleanup,f=i[7];let m=-1;if(null!==c)for(let w=0;w<c.length-1;w+=2)if("string"==typeof c[w]){const A=c[w+1],U="function"==typeof A?A(i):mi(i[A]),z=f[m=c[w+2]],te=c[w+3];"boolean"==typeof te?U.removeEventListener(c[w],z,te):te>=0?f[m=te]():f[m=-te].unsubscribe(),w+=2}else{const A=f[m=c[w+1]];c[w].call(A)}if(null!==f){for(let w=m+1;w<f.length;w++)(0,f[w])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const c=i[17];if(null!==c&&Ws(i[3])){c!==i[3]&&uh(c,i);const f=i[19];null!==f&&f.detachView(n)}!function lu(n){ql.delete(n[20])}(i)}}function zr(n,i,c){return ld(n,i.parent,c)}function ld(n,i,c){let f=i;for(;null!==f&&40&f.type;)f=(i=f).parent;if(null===f)return c[0];if(2&f.flags){const m=n.data[f.directiveStart].encapsulation;if(m===wt.None||m===wt.Emulated)return null}return Qi(f,c)}function Fl(n,i,c,f,m){n.insertBefore(i,c,f,m)}function Xf(n,i,c){n.appendChild(i,c)}function uu(n,i,c,f,m){null!==f?Fl(n,i,c,f,m):Xf(n,i,c)}function Yh(n,i){return n.parentNode(i)}function Zh(n,i,c){return du(n,i,c)}function Lu(n,i,c){return 40&n.type?Qi(n,c):null}let tp,Gc,eo,Md,du=Lu;function Vc(n,i){du=n,tp=i}function qh(n,i,c,f){const m=zr(n,f,i),w=i[11],U=Zh(f.parent||i[6],f,i);if(null!=m)if(Array.isArray(c))for(let z=0;z<c.length;z++)uu(w,m,c[z],U,!1);else uu(w,m,c,U,!1);void 0!==tp&&tp(w,f,i,c,m)}function jc(n,i){if(null!==i){const c=i.type;if(3&c)return Qi(i,n);if(4&c)return Jh(-1,n[i.index]);if(8&c){const f=i.child;if(null!==f)return jc(n,f);{const m=n[i.index];return Ws(m)?Jh(-1,m):mi(m)}}if(32&c)return Id(i,n)()||mi(n[i.index]);{const f=Qh(n,i);return null!==f?Array.isArray(f)?f[0]:jc(mc(n[16]),f):jc(n,i.next)}}return null}function Qh(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Jh(n,i){const c=10+n+1;if(c<i.length){const f=i[c],m=f[1].firstChild;if(null!==m)return jc(f,m)}return i[7]}function Ad(n,i,c){const f=Yh(n,i);f&&function ep(n,i,c,f){n.removeChild(i,c,f)}(n,f,i,c)}function Bp(n,i,c,f,m,w,A){for(;null!=c;){const U=f[c.index],z=c.type;if(A&&0===i&&(U&&Xo(mi(U),f),c.flags|=4),64!=(64&c.flags))if(8&z)Bp(n,i,c.child,f,m,w,!1),se(i,n,m,U,w);else if(32&z){const te=Id(c,f);let be;for(;be=te();)se(i,n,m,be,w);se(i,n,m,U,w)}else 16&z?cd(n,i,f,c,m,w):se(i,n,m,U,w);c=A?c.projectionNext:c.next}}function xd(n,i,c,f,m,w){Bp(c,f,n.firstChild,i,m,w,!1)}function cd(n,i,c,f,m,w){const A=c[16],z=A[6].projection[f.projection];if(Array.isArray(z))for(let te=0;te<z.length;te++)se(i,n,m,z[te],w);else Bp(n,i,z,A[3],m,w,!0)}function jp(n,i,c){n.setAttribute(i,"style",c)}function Hc(n,i,c){""===c?n.removeAttribute(i,"class"):n.setAttribute(i,"class",c)}function Xl(n){var i;return(null===(i=function Xh(){if(void 0===Gc&&(Gc=null,Ot.trustedTypes))try{Gc=Ot.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gc}())||void 0===i?void 0:i.createHTML(n))||n}function Gp(n){eo=n}function Nd(){return void 0!==eo?eo:typeof document<"u"?document:void 0}function hu(n){var i;return(null===(i=function vc(){if(void 0===Md&&(Md=null,Ot.trustedTypes))try{Md=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Md}())||void 0===i?void 0:i.createHTML(n))||n}class zc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Co extends zc{getTypeName(){return"HTML"}}class Ii extends zc{getTypeName(){return"Style"}}class Ca extends zc{getTypeName(){return"Script"}}class Wg extends zc{getTypeName(){return"URL"}}class Kg extends zc{getTypeName(){return"ResourceURL"}}function Wc(n){return n instanceof zc?n.changingThisBreaksApplicationSecurity:n}function Bu(n,i){const c=function hh(n){return n instanceof zc&&n.getTypeName()||null}(n);if(null!=c&&c!==i){if("ResourceURL"===c&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===i}function np(n){return new Co(n)}function Yg(n){return new Ii(n)}function $p(n){return new Ca(n)}function Od(n){return new Wg(n)}function zp(n){return new Kg(n)}function ud(n){const i=new r_(n);return function ef(){try{return!!(new window.DOMParser).parseFromString(Xl(""),"text/html")}catch{return!1}}()?new Zg(i):i}class Zg{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const c=(new window.DOMParser).parseFromString(Xl(i),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(i):(c.removeChild(c.firstChild),c)}catch{return null}}}class r_{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(i){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Xl(i),c;const f=this.inertDocument.createElement("body");return f.innerHTML=Xl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(i){const c=i.attributes;for(let m=c.length-1;0<m;m--){const A=c.item(m).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&i.removeAttribute(A)}let f=i.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const rp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function fh(n){return(n=String(n)).match(rp)?n:"unsafe:"+n}function fl(n){const i={};for(const c of n.split(","))i[c]=!0;return i}function Rd(...n){const i={};for(const c of n)for(const f in c)c.hasOwnProperty(f)&&(i[f]=!0);return i}const Wp=fl("area,br,col,hr,img,wbr"),to=fl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ip=fl("rp,rt"),nf=Rd(Wp,Rd(to,fl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rd(ip,fl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rd(ip,to)),rf=fl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sp=Rd(rf,fl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),op=fl("script,style,template");class Yp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let c=i.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let m=this.checkClobberedElement(c,c.nextSibling);if(m){c=m;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(i){const c=i.nodeName.toLowerCase();if(!nf.hasOwnProperty(c))return this.sanitizedSomething=!0,!op.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=i.attributes;for(let m=0;m<f.length;m++){const w=f.item(m),A=w.name,U=A.toLowerCase();if(!sp.hasOwnProperty(U)){this.sanitizedSomething=!0;continue}let z=w.value;rf[U]&&(z=fh(z)),this.buf.push(" ",A,'="',h(z),'"')}return this.buf.push(">"),!0}endElement(i){const c=i.nodeName.toLowerCase();nf.hasOwnProperty(c)&&!Wp.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(i){this.buf.push(h(i))}checkClobberedElement(i,c){if(c&&(i.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return c}}const g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I=/([^\#-~ |!])/g;function h(n){return n.replace(/&/g,"&amp;").replace(g,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(I,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let y;function O(n,i){let c=null;try{y=y||ud(n);let f=i?String(i):"";c=y.getInertBodyElement(f);let m=5,w=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=w,w=c.innerHTML,c=y.getInertBodyElement(f)}while(f!==w);return Xl((new Yp).sanitizeChildren(Z(c)||c))}finally{if(c){const f=Z(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Z(n){return"content"in n&&function Re(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ue=(()=>((Ue=Ue||{})[Ue.NONE=0]="NONE",Ue[Ue.HTML=1]="HTML",Ue[Ue.STYLE=2]="STYLE",Ue[Ue.SCRIPT=3]="SCRIPT",Ue[Ue.URL=4]="URL",Ue[Ue.RESOURCE_URL=5]="RESOURCE_URL",Ue))();function ut(n){const i=ms();return i?hu(i.sanitize(Ue.HTML,n)||""):Bu(n,"HTML")?hu(Wc(n)):O(Nd(),qe(n))}function kt(n){const i=ms();return i?i.sanitize(Ue.URL,n)||"":Bu(n,"URL")?Wc(n):fh(qe(n))}function ms(){const n=Qt();return n&&n[12]}const qr=new Ar("ENVIRONMENT_INITIALIZER"),ai=new Ar("INJECTOR",-1),hi=new Ar("INJECTOR_DEF_TYPES");class ji{get(i,c=Js){if(c===Js){const f=new Error(`NullInjectorError: No provider for ${oe(i)}!`);throw f.name="NullInjectorError",f}return c}}function Ti(...n){return{\u0275providers:_s(0,n)}}function _s(n,...i){const c=[],f=new Set;let m;return ua(i,w=>{const A=w;zs(A,c,[],f)&&(m||(m=[]),m.push(A))}),void 0!==m&&So(m,c),c}function So(n,i){for(let c=0;c<n.length;c++){const{providers:m}=n[c];ua(m,w=>{i.push(w)})}}function zs(n,i,c,f){if(!(n=ye(n)))return!1;let m=null,w=dr(n);const A=!w&&F(n);if(w||A){if(A&&!A.standalone)return!1;m=n}else{const z=n.ngModule;if(w=dr(z),!w)return!1;m=z}const U=f.has(m);if(A){if(U)return!1;if(f.add(m),A.dependencies){const z="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const te of z)zs(te,i,c,f)}}else{if(!w)return!1;{if(null!=w.imports&&!U){let te;f.add(m);try{ua(w.imports,be=>{zs(be,i,c,f)&&(te||(te=[]),te.push(be))})}finally{}void 0!==te&&So(te,i)}if(!U){const te=is(m)||(()=>new m);i.push({provide:m,useFactory:te,deps:on},{provide:hi,useValue:m,multi:!0},{provide:qr,useValue:()=>Cs(m),multi:!0})}const z=w.providers;null==z||U||ua(z,be=>{i.push(be)})}}return m!==n&&void 0!==n.providers}const Qa=pe({provide:String,useValue:pe});function fu(n){return null!==n&&"object"==typeof n&&Qa in n}function Sa(n){return"function"==typeof n}const ec=new Ar("Set Injector scope."),Ll={},ap={};let ju;function hd(){return void 0===ju&&(ju=new ji),ju}class wc{}class gu extends wc{constructor(i,c,f,m){super(),this.parent=c,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ds(i,A=>this.processProvider(A)),this.records.set(ai,Pd(void 0,this)),m.has("environment")&&this.records.set(wc,Pd(void 0,this));const w=this.records.get(ec);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(hi.multi,on,hn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const c=Nl(this),f=gr(void 0);try{return i()}finally{Nl(c),gr(f)}}get(i,c=Js,f=hn.Default){this.assertNotDestroyed();const m=Nl(this),w=gr(void 0);try{if(!(f&hn.SkipSelf)){let U=this.records.get(i);if(void 0===U){const z=function si(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ar}(i)&&Tn(i);U=z&&this.injectableDefInScope(z)?Pd(Ec(i),Ll):null,this.records.set(i,U)}if(null!=U)return this.hydrate(i,U)}return(f&hn.Self?hd():this.parent).get(i,c=f&hn.Optional&&c===Js?null:c)}catch(A){if("NullInjectorError"===A.name){if((A[hc]=A[hc]||[]).unshift(oe(i)),m)throw A;return function fe(n,i,c,f){const m=n[hc];throw i[Gs]&&m.unshift(i[Gs]),n.message=function He(n,i,c,f=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let m=oe(i);if(Array.isArray(i))m=i.map(oe).join(" -> ");else if("object"==typeof i){let w=[];for(let A in i)if(i.hasOwnProperty(A)){let U=i[A];w.push(A+":"+("string"==typeof U?JSON.stringify(U):oe(U)))}m=`{${w.join(", ")}}`}return`${c}${f?"("+f+")":""}[${m}]: ${n.replace(nd,"\n  ")}`}("\n"+n.message,m,c,f),n.ngTokenPath=m,n[hc]=null,n}(A,i,"R3InjectorError",this.source)}throw A}finally{gr(w),Nl(m)}}resolveInjectorInitializers(){const i=Nl(this),c=gr(void 0);try{const f=this.get(qr.multi,on,hn.Self);for(const m of f)m()}finally{Nl(i),gr(c)}}toString(){const i=[],c=this.records;for(const f of c.keys())i.push(oe(f));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(i){let c=Sa(i=ye(i))?i:ye(i&&i.provide);const f=function Ua(n){return fu(n)?Pd(void 0,n.useValue):Pd(ph(n),Ll)}(i);if(Sa(i)||!0!==i.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=Pd(void 0,Ll,!0),m.factory=()=>Iu(m.multi),this.records.set(c,m)),c=i,m.multi.push(i)}this.records.set(c,f)}hydrate(i,c){return c.value===Ll&&(c.value=ap,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Ki(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(i){if(!i.providedIn)return!1;const c=ye(i.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Ec(n){const i=Tn(n),c=null!==i?i.factory:is(n);if(null!==c)return c;if(n instanceof Ar)throw new Ne(204,!1);if(n instanceof Function)return function Kc(n){const i=n.length;if(i>0)throw R(i,"?"),new Ne(204,!1);const c=function Yn(n){const i=n&&(n[Gr]||n[tr]);if(i){const c=function Cr(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),i}return null}(n);return null!==c?()=>c.factory(n):()=>new n}(n);throw new Ne(204,!1)}function ph(n,i,c){let f;if(Sa(n)){const m=ye(n);return is(m)||Ec(m)}if(fu(n))f=()=>ye(n.useValue);else if(function Ja(n){return!(!n||!n.useFactory)}(n))f=()=>n.useFactory(...Iu(n.deps||[]));else if(function pu(n){return!(!n||!n.useExisting)}(n))f=()=>Cs(ye(n.useExisting));else{const m=ye(n&&(n.useClass||n.provide));if(!function Hi(n){return!!n.deps}(n))return is(m)||Ec(m);f=()=>new m(...Iu(n.deps))}return f}function Pd(n,i,c=!1){return{factory:n,value:i,multi:c?[]:void 0}}function mu(n){return!!n.\u0275providers}function ds(n,i){for(const c of n)Array.isArray(c)?ds(c,i):mu(c)?ds(c.\u0275providers,i):i(c)}class sf{}class Qr{resolveComponentFactory(i){throw function mh(n){const i=Error(`No component factory found for ${oe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let po=(()=>{class n{}return n.NULL=new Qr,n})();function qg(){return Yc(Oi(),Qt())}function Yc(n,i){return new Vo(Qi(n,i))}let Vo=(()=>{class n{constructor(c){this.nativeElement=c}}return n.__NG_ELEMENT_ID__=qg,n})();function af(n){return n instanceof Vo?n.nativeElement:n}class lp{}let o_=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Aa(){const n=Qt(),c=os(Oi().index,n);return(gi(c)?c:n)[11]}(),n})(),Qg=(()=>{class n{}return n.\u0275prov=Bt({token:n,providedIn:"root",factory:()=>null}),n})();class kd{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Zp=new kd("14.3.0"),qp={};function Jg(n){return n.ngOriginalError}class _u{constructor(){this._console=console}handleError(i){const c=this._findOriginalError(i);this._console.error("ERROR",i),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(i){let c=i&&Jg(i);for(;c&&Jg(c);)c=Jg(c);return c||null}}function Xg(n){return n.ownerDocument.defaultView}function Gu(n){return n.ownerDocument}function Fd(n){return n instanceof Function?n():n}function Ld(n,i,c){let f=n.length;for(;;){const m=n.indexOf(i,c);if(-1===m)return m;if(0===m||n.charCodeAt(m-1)<=32){const w=i.length;if(m+w===f||n.charCodeAt(m+w)<=32)return m}c=m+1}}const yh="ng-template";function l_(n,i,c){let f=0;for(;f<n.length;){let m=n[f++];if(c&&"class"===m){if(m=n[f],-1!==Ld(m.toLowerCase(),i,0))return!0}else if(1===m){for(;f<n.length&&"string"==typeof(m=n[f++]);)if(m.toLowerCase()===i)return!0;return!1}}return!1}function c_(n){return 4===n.type&&n.value!==yh}function fy(n,i,c){return i===(4!==n.type||c?n.value:yh)}function ov(n,i,c){let f=4;const m=n.attrs||[],w=function tm(n){for(let i=0;i<n.length;i++)if(ze(n[i]))return i;return n.length}(m);let A=!1;for(let U=0;U<i.length;U++){const z=i[U];if("number"!=typeof z){if(!A)if(4&f){if(f=2|1&f,""!==z&&!fy(n,z,c)||""===z&&1===i.length){if($u(f))return!1;A=!0}}else{const te=8&f?z:i[++U];if(8&f&&null!==n.attrs){if(!l_(n.attrs,te,c)){if($u(f))return!1;A=!0}continue}const Pe=Fs(8&f?"class":z,m,c_(n),c);if(-1===Pe){if($u(f))return!1;A=!0;continue}if(""!==te){let st;st=Pe>w?"":m[Pe+1].toLowerCase();const St=8&f?st:null;if(St&&-1!==Ld(St,te,0)||2&f&&te!==st){if($u(f))return!1;A=!0}}}}else{if(!A&&!$u(f)&&!$u(z))return!1;if(A&&$u(z))continue;A=!1,f=z|1&f}}return $u(f)||A}function $u(n){return 0==(1&n)}function Fs(n,i,c,f){if(null===i)return-1;let m=0;if(f||!c){let w=!1;for(;m<i.length;){const A=i[m];if(A===n)return m;if(3===A||6===A)w=!0;else{if(1===A||2===A){let U=i[++m];for(;"string"==typeof U;)U=i[++m];continue}if(4===A)break;if(0===A){m+=4;continue}}m+=w?1:2}return-1}return function u_(n,i){let c=n.indexOf(4);if(c>-1)for(c++;c<n.length;){const f=n[c];if("number"==typeof f)return-1;if(f===i)return c;c++}return-1}(i,n)}function Ba(n,i,c=!1){for(let f=0;f<i.length;f++)if(ov(n,i[f],c))return!0;return!1}function up(n,i){e:for(let c=0;c<i.length;c++){const f=i[c];if(n.length===f.length){for(let m=0;m<n.length;m++)if(n[m]!==f[m])continue e;return!0}}return!1}function zu(n,i){return n?":not("+i.trim()+")":i}function Xp(n){let i=n[0],c=1,f=2,m="",w=!1;for(;c<n.length;){let A=n[c];if("string"==typeof A)if(2&f){const U=n[++c];m+="["+A+(U.length>0?'="'+U+'"':"")+"]"}else 8&f?m+="."+A:4&f&&(m+=" "+A);else""!==m&&!$u(A)&&(i+=zu(w,m),m=""),f=A,w=w||!$u(f);c++}return""!==m&&(i+=zu(w,m)),i}const jr={};function nm(n){no(Dr(),Qt(),qs()+n,!1)}function no(n,i,c,f){if(!f)if(3==(3&i[2])){const w=n.preOrderCheckHooks;null!==w&&Yo(i,w,c)}else{const w=n.preOrderHooks;null!==w&&El(i,w,0,c)}Hs(c)}function fp(n,i=null,c=null,f){const m=d_(n,i,c,f);return m.resolveInjectorInitializers(),m}function d_(n,i=null,c=null,f,m=new Set){const w=[c||on,Ti(n)];return f=f||("object"==typeof n?void 0:oe(n)),new gu(w,i||hd(),f||null,m)}let pd=(()=>{class n{static create(c,f){if(Array.isArray(c))return fp({name:""},f,c,"");{var m;const w=null!==(m=c.name)&&void 0!==m?m:"";return fp({name:w},c.parent,c.providers,w)}}}return n.THROW_IF_NOT_FOUND=Js,n.NULL=new ji,n.\u0275prov=Bt({token:n,providedIn:"any",factory:()=>Cs(ai)}),n.__NG_ELEMENT_ID__=-1,n})();function pf(n,i=hn.Default){const c=Qt();return null===c?Cs(n,i):Pc(Oi(),c,ye(n),i)}function cg(){throw new Error("invalid")}function _p(n,i){return n<<17|i<<2}function yu(n){return n>>17&32767}function am(n){return 2|n}function vu(n){return(131068&n)>>2}function Wu(n,i){return-131069&n|i<<2}function __(n){return 1|n}function gf(n,i){const c=n.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const m=c[f],w=c[f+1];if(-1!==w){const A=n.data[w];Os(m),A.contentQueries(2,i[w],w)}}}function bp(n,i,c,f,m,w,A,U,z,te,be){const Pe=i.blueprint.slice();return Pe[0]=m,Pe[2]=76|f,(null!==be||n&&1024&n[2])&&(Pe[2]|=1024),ps(Pe),Pe[3]=Pe[15]=n,Pe[8]=c,Pe[10]=A||n&&n[10],Pe[11]=U||n&&n[11],Pe[12]=z||n&&n[12]||null,Pe[9]=te||n&&n[9]||null,Pe[6]=w,Pe[20]=function sd(){return au++}(),Pe[21]=be,Pe[16]=2==i.type?n[16]:Pe,Pe}function mf(n,i,c,f,m){let w=n.data[i];if(null===w)w=wg(n,i,c,f,m),function Wo(){return zn.lFrame.inI18n}()&&(w.flags|=64);else if(64&w.type){w.type=c,w.value=f,w.attrs=m;const A=Ha();w.injectorIndex=null===A?-1:A.injectorIndex}return Zs(w,!0),w}function wg(n,i,c,f,m){const w=Ys(),A=ba(),z=n.data[i]=function Ty(n,i,c,f,m,w){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?w:w&&w.parent,c,i,f,m);return null===n.firstChild&&(n.firstChild=z),null!==w&&(A?null==w.child&&null!==z.parent&&(w.child=z):null===w.next&&(w.next=z)),z}function $d(n,i,c,f){if(0===c)return-1;const m=i.length;for(let w=0;w<c;w++)i.push(f),n.blueprint.push(f),n.data.push(null);return m}function _f(n,i,c){oa(i);try{const f=n.viewQuery;null!==f&&Dp(1,f,c);const m=n.template;null!==m&&vy(n,i,m,1,c),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gf(n,i),n.staticViewQueries&&Dp(2,n.viewQuery,c);const w=n.components;null!==w&&function Gd(n,i){for(let c=0;c<i.length;c++)x_(n,i[c])}(i,w)}catch(f){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),f}finally{i[2]&=-5,la()}}function wp(n,i,c,f){const m=i[2];if(128!=(128&m)){oa(i);try{ps(i),function _t(n){return zn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==c&&vy(n,i,c,2,f);const A=3==(3&m);if(A){const te=n.preOrderCheckHooks;null!==te&&Yo(i,te,null)}else{const te=n.preOrderHooks;null!==te&&El(i,te,0,null),eu(i,0)}if(function Ep(n){for(let i=N(n);null!==i;i=b(i)){if(!i[2])continue;const c=i[9];for(let f=0;f<c.length;f++){const m=c[f],w=m[3];0==(512&m[2])&&Ji(w,1),m[2]|=512}}}(i),function gv(n){for(let i=N(n);null!==i;i=b(i))for(let c=10;c<i.length;c++){const f=i[c],m=f[1];bo(f)&&wp(m,f,m.template,f[8])}}(i),null!==n.contentQueries&&gf(n,i),A){const te=n.contentCheckHooks;null!==te&&Yo(i,te)}else{const te=n.contentHooks;null!==te&&El(i,te,1),eu(i,1)}!function vp(n,i){const c=n.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const m=c[f];if(m<0)Hs(~m);else{const w=m,A=c[++f],U=c[++f];Ko(A,w),U(2,i[w])}}}finally{Hs(-1)}}(n,i);const U=n.components;null!==U&&function D_(n,i){for(let c=0;c<i.length;c++)yd(n,i[c])}(i,U);const z=n.viewQuery;if(null!==z&&Dp(2,z,f),A){const te=n.viewCheckHooks;null!==te&&Yo(i,te)}else{const te=n.viewHooks;null!==te&&El(i,te,2),eu(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Ji(i[3],-1))}finally{la()}}}function vy(n,i,c,f,m){const w=qs(),A=2&f;try{Hs(-1),A&&i.length>22&&no(n,i,22,!1),c(f,m)}finally{Hs(w)}}function by(n,i,c){if(oo(i)){const m=i.directiveEnd;for(let w=i.directiveStart;w<m;w++){const A=n.data[w];A.contentQueries&&A.contentQueries(1,c[w],w)}}}function Eg(n,i,c){!uo()||(function zd(n,i,c,f){const m=c.directiveStart,w=c.directiveEnd;n.firstCreatePass||cn(c,i),Xo(f,i);const A=c.initialInputs;for(let U=m;U<w;U++){const z=n.data[U],te=Zi(z);te&&Ay(i,c,z);const be=ka(i,n,U,c);Xo(be,i),null!==A&&md(0,U-m,be,z,0,A),te&&(os(c.index,i)[8]=be)}}(n,i,c,Qi(c,i)),128==(128&c.flags)&&function vm(n,i,c){const f=c.directiveStart,m=c.directiveEnd,w=c.index,A=function Bo(){return zn.lFrame.currentDirectiveIndex}();try{Hs(w);for(let U=f;U<m;U++){const z=n.data[U],te=i[U];wa(U),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&bm(z,te)}}finally{Hs(-1),wa(A)}}(n,i,c))}function Tg(n,i,c=Qi){const f=i.localNames;if(null!==f){let m=i.index+1;for(let w=0;w<f.length;w+=2){const A=f[w+1],U=-1===A?c(i,n):n[A];n[m++]=U}}}function wy(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=pm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function pm(n,i,c,f,m,w,A,U,z,te){const be=22+f,Pe=be+m,st=function Ey(n,i){const c=[];for(let f=0;f<i;f++)c.push(f<n?null:jr);return c}(be,Pe),St="function"==typeof te?te():te;return st[1]={type:n,blueprint:st,template:c,queries:null,viewQuery:U,declTNode:i,data:st.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:z,consts:St,incompleteFirstPass:!1}}function gm(n,i,c,f){const m=bf(i);null===c?m.push(f):(m.push(c),n.firstCreatePass&&Cm(n).push(f,m.length-1))}function C_(n,i,c){for(let f in n)if(n.hasOwnProperty(f)){const m=n[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(i,m):c[f]=[i,m]}return c}function Dg(n,i){const f=i.directiveEnd,m=n.data,w=i.attrs,A=[];let U=null,z=null;for(let te=i.directiveStart;te<f;te++){const be=m[te],Pe=be.inputs,st=null===w||c_(i)?null:_d(Pe,w);A.push(st),U=C_(Pe,te,U),z=C_(be.outputs,te,z)}null!==U&&(U.hasOwnProperty("class")&&(i.flags|=16),U.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=A,i.inputs=U,i.outputs=z}function qc(n,i,c,f,m,w,A,U){const z=Qi(i,c);let be,te=i.inputs;!U&&null!=te&&(be=te[f])?(xg(n,c,be,f,m),Bi(i)&&mm(c,i.index)):3&i.type&&(f=function Dy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(f),m=null!=A?A(m,i.value||"",f):m,w.setProperty(z,f,m))}function mm(n,i){const c=os(i,n);16&c[2]||(c[2]|=32)}function Ig(n,i,c,f){let m=!1;if(uo()){const w=function Ch(n,i,c){const f=n.directiveRegistry;let m=null;if(f)for(let w=0;w<f.length;w++){const A=f[w];Ba(c,A.selectors,!1)&&(m||(m=[]),za(cn(c,i),n,A.type),Zi(A)?(yf(n,c),m.unshift(A)):m.push(A))}return m}(n,i,c),A=null===f?null:{"":-1};if(null!==w){m=!0,Sy(c,n.data.length,w.length);for(let be=0;be<w.length;be++){const Pe=w[be];Pe.providersResolver&&Pe.providersResolver(Pe)}let U=!1,z=!1,te=$d(n,i,w.length,null);for(let be=0;be<w.length;be++){const Pe=w[be];c.mergedAttrs=Mt(c.mergedAttrs,Pe.hostAttrs),Em(n,c,i,te,Pe),A_(te,Pe,A),null!==Pe.contentQueries&&(c.flags|=8),(null!==Pe.hostBindings||null!==Pe.hostAttrs||0!==Pe.hostVars)&&(c.flags|=128);const st=Pe.type.prototype;!U&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(c.index),U=!0),!z&&(st.ngOnChanges||st.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(c.index),z=!0),te++}Dg(n,c)}A&&function wm(n,i,c){if(i){const f=n.localNames=[];for(let m=0;m<i.length;m+=2){const w=c[i[m+1]];if(null==w)throw new Ne(-301,!1);f.push(i[m],w)}}}(c,f,A)}return c.mergedAttrs=Mt(c.mergedAttrs,c.attrs),m}function Cy(n,i,c,f,m,w){const A=w.hostBindings;if(A){let U=n.hostBindingOpCodes;null===U&&(U=n.hostBindingOpCodes=[]);const z=~i.index;(function ym(n){let i=n.length;for(;i>0;){const c=n[--i];if("number"==typeof c&&c<0)return c}return 0})(U)!=z&&U.push(z),U.push(f,m,A)}}function bm(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function yf(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function A_(n,i,c){if(c){if(i.exportAs)for(let f=0;f<i.exportAs.length;f++)c[i.exportAs[f]]=n;Zi(i)&&(c[""]=n)}}function Sy(n,i,c){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+c,n.providerIndexes=i}function Em(n,i,c,f,m){n.data[f]=m;const w=m.factory||(m.factory=is(m.type)),A=new Qs(w,Zi(m),pf);n.blueprint[f]=A,c[f]=A,Cy(n,i,0,f,$d(n,c,m.hostVars,jr),m)}function Ay(n,i,c){const f=Qi(i,n),m=wy(c),w=n[10],A=Dm(n,bp(n,m,null,c.onPush?32:16,f,i,w,w.createRenderer(f,c),null,null,null));n[i.index]=A}function Cg(n,i,c,f,m,w,A){if(null==w)n.removeAttribute(i,m,c);else{const U=null==A?qe(w):A(w,f||"",m);n.setAttribute(i,m,U,c)}}function md(n,i,c,f,m,w){const A=w[i];if(null!==A){const U=f.setInput;for(let z=0;z<A.length;){const te=A[z++],be=A[z++],Pe=A[z++];null!==U?f.setInput(c,Pe,te,be):c[be]=Pe}}}function _d(n,i){let c=null,f=0;for(;f<i.length;){const m=i[f];if(0!==m)if(5!==m){if("number"==typeof m)break;n.hasOwnProperty(m)&&(null===c&&(c=[]),c.push(m,n[m],i[f+1])),f+=2}else f+=2;else f+=4}return c}function Tm(n,i,c,f){return new Array(n,!0,!1,i,null,0,f,c,null,null)}function yd(n,i){const c=os(i,n);if(bo(c)){const f=c[1];48&c[2]?wp(f,c,f.template,c[8]):c[5]>0&&Sg(c)}}function Sg(n){for(let f=N(n);null!==f;f=b(f))for(let m=10;m<f.length;m++){const w=f[m];if(bo(w))if(512&w[2]){const A=w[1];wp(A,w,A.template,w[8])}else w[5]>0&&Sg(w)}const c=n[1].components;if(null!==c)for(let f=0;f<c.length;f++){const m=os(c[f],n);bo(m)&&m[5]>0&&Sg(m)}}function x_(n,i){const c=os(i,n),f=c[1];(function Tp(n,i){for(let c=i.length;c<n.blueprint.length;c++)i.push(n.blueprint[c])})(f,c),_f(f,c,c[8])}function Dm(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Sh(n){for(;n;){n[2]|=32;const i=mc(n);if(_o(n)&&!i)return n;n=i}return null}function vf(n,i,c,f=!0){const m=i[10];m.begin&&m.begin();try{wp(n,i,n.template,c)}catch(A){throw f&&Ag(i,A),A}finally{m.end&&m.end()}}function Dp(n,i,c){Os(0),i(n,c)}function bf(n){return n[7]||(n[7]=[])}function Cm(n){return n.cleanup||(n.cleanup=[])}function Ag(n,i){const c=n[9],f=c?c.get(_u,null):null;f&&f.handleError(i)}function xg(n,i,c,f,m){for(let w=0;w<c.length;){const A=c[w++],U=c[w++],z=i[A],te=n.data[A];null!==te.setInput?te.setInput(z,m,f,U):z[U]=m}}function Cc(n,i,c){const f=ws(i,n);ct(n[11],f,c)}function Sm(n,i,c){let f=c?n.styles:null,m=c?n.classes:null,w=0;if(null!==i)for(let A=0;A<i.length;A++){const U=i[A];"number"==typeof U?w=U:1==w?m=Ie(m,U):2==w&&(f=Ie(f,U+": "+i[++A]+";"))}c?n.styles=f:n.stylesWithoutHost=f,c?n.classes=m:n.classesWithoutHost=m}function Am(n,i,c,f,m=!1){for(;null!==c;){const w=i[c.index];if(null!==w&&f.push(mi(w)),Ws(w))for(let U=10;U<w.length;U++){const z=w[U],te=z[1].firstChild;null!==te&&Am(z[1],z,te,f)}const A=c.type;if(8&A)Am(n,i,c.child,f);else if(32&A){const U=Id(c,i);let z;for(;z=U();)f.push(z)}else if(16&A){const U=Qh(i,c);if(Array.isArray(U))f.push(...U);else{const z=mc(i[16]);Am(z[1],z,U,f,!0)}}c=m?c.projectionNext:c.next}return f}class wf{constructor(i,c){this._lView=i,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,c=i[1];return Am(c,i,c.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ws(i)){const c=i[8],f=c?c.indexOf(this):-1;f>-1&&(Ia(i,f),tu(c,f))}this._attachedToViewContainer=!1}Fu(this._lView[1],this._lView)}onDestroy(i){gm(this._lView[1],this._lView,null,i)}markForCheck(){Sh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){vf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kr(n,i){xd(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=i}}class N_ extends wf{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;vf(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Ef extends po{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const c=F(i);return new Ah(c,this.ngModule)}}function xm(n){const i=[];for(let c in n)n.hasOwnProperty(c)&&i.push({propName:n[c],templateName:c});return i}class _v{constructor(i,c){this.injector=i,this.parentInjector=c}get(i,c,f){const m=this.injector.get(i,qp,f);return m!==qp||c===qp?m:this.parentInjector.get(i,c,f)}}class Ah extends sf{constructor(i,c){super(),this.componentDef=i,this.ngModule=c,this.componentType=i.type,this.selector=function Jr(n){return n.map(Xp).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return xm(this.componentDef.inputs)}get outputs(){return xm(this.componentDef.outputs)}create(i,c,f,m){var w;let A=(m=m||this.ngModule)instanceof wc?m:null===(w=m)||void 0===w?void 0:w.injector;A&&null!==this.componentDef.getStandaloneInjector&&(A=this.componentDef.getStandaloneInjector(A)||A);const U=A?new _v(i,A):i,z=U.get(lp,null);if(null===z)throw new Ne(407,!1);const te=U.get(Qg,null),be=z.createRenderer(null,this.componentDef),Pe=this.componentDef.selectors[0][0]||"div",st=f?function I_(n,i,c){return n.selectRootElement(i,c===wt.ShadowDom)}(be,f,this.componentDef.encapsulation):_n(be,Pe,function Nm(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Pe)),St=this.componentDef.onPush?288:272,tn=pm(0,null,null,1,0,null,null,null,null,null),wn=bp(null,tn,null,St,null,null,z,be,te,U,null);let Kn,ar;oa(wn);try{const Zr=function Tf(n,i,c,f,m,w){const A=c[1];c[22]=n;const z=mf(A,22,2,"#host",null),te=z.mergedAttrs=i.hostAttrs;null!==te&&(Sm(z,te,!0),null!==n&&(ge(m,n,te),null!==z.classes&&Hc(m,n,z.classes),null!==z.styles&&jp(m,n,z.styles)));const be=f.createRenderer(n,i),Pe=bp(c,wy(i),null,i.onPush?32:16,c[22],z,f,be,w||null,null,null);return A.firstCreatePass&&(za(cn(z,c),A,i.type),yf(A,z),Sy(z,c.length,1)),Dm(c,Pe),c[22]=Pe}(st,this.componentDef,wn,z,be);if(st)if(f)ge(be,st,["ng-version",Zp.full]);else{const{attrs:dn,classes:Ur}=function lv(n){const i=[],c=[];let f=1,m=2;for(;f<n.length;){let w=n[f];if("string"==typeof w)2===m?""!==w&&i.push(w,n[++f]):8===m&&c.push(w);else{if(!$u(m))break;m=w}f++}return{attrs:i,classes:c}}(this.componentDef.selectors[0]);dn&&ge(be,st,dn),Ur&&Ur.length>0&&Hc(be,st,Ur.join(" "))}if(ar=ko(tn,22),void 0!==c){const dn=ar.projection=[];for(let Ur=0;Ur<this.ngContentSelectors.length;Ur++){const rs=c[Ur];dn.push(null!=rs?Array.from(rs):null)}}Kn=function Df(n,i,c,f){const m=c[1],w=function Iy(n,i,c){const f=Oi();n.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Em(n,f,i,$d(n,i,1,null),c),Dg(n,f));const m=ka(i,n,f.directiveStart,f);Xo(m,i);const w=Qi(f,i);return w&&Xo(w,i),m}(m,c,i);if(n[8]=c[8]=w,null!==f)for(const U of f)U(w,i);if(i.contentQueries){const U=Oi();i.contentQueries(1,w,U.directiveStart)}const A=Oi();return!m.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Hs(A.index),Cy(c[1],A,0,A.directiveStart,A.directiveEnd,i),bm(i,w)),w}(Zr,this.componentDef,wn,[R_]),_f(tn,wn,null)}finally{la()}return new xh(this.componentType,Kn,Yc(ar,wn),wn,ar)}}class xh extends class gh{}{constructor(i,c,f,m,w){super(),this.location=f,this._rootLView=m,this._tNode=w,this.instance=c,this.hostView=this.changeDetectorRef=new N_(m),this.componentType=i}setInput(i,c){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[i])){const w=this._rootLView;xg(w[1],w,m,i,c),mm(w,this._tNode.index)}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function R_(){const n=Oi();zl(Qt()[1],n)}function k_(n){let i=function P_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),c=!0;const f=[n];for(;i;){let m;if(Zi(n))m=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ne(903,!1);m=i.\u0275dir}if(m){if(c){f.push(m);const A=n;A.inputs=Cp(n.inputs),A.declaredInputs=Cp(n.declaredInputs),A.outputs=Cp(n.outputs);const U=m.hostBindings;U&&Om(n,U);const z=m.viewQuery,te=m.contentQueries;if(z&&F_(n,z),te&&Cf(n,te),Ee(n.inputs,m.inputs),Ee(n.declaredInputs,m.declaredInputs),Ee(n.outputs,m.outputs),Zi(m)&&m.data.animation){const be=n.data;be.animation=(be.animation||[]).concat(m.data.animation)}}const w=m.features;if(w)for(let A=0;A<w.length;A++){const U=w[A];U&&U.ngInherit&&U(n),U===k_&&(c=!1)}}i=Object.getPrototypeOf(i)}!function If(n){let i=0,c=null;for(let f=n.length-1;f>=0;f--){const m=n[f];m.hostVars=i+=m.hostVars,m.hostAttrs=Mt(m.hostAttrs,c=Mt(c,m.hostAttrs))}}(f)}function Cp(n){return n===Zn?{}:n===on?[]:n}function F_(n,i){const c=n.viewQuery;n.viewQuery=c?(f,m)=>{i(f,m),c(f,m)}:i}function Cf(n,i){const c=n.contentQueries;n.contentQueries=c?(f,m,w)=>{i(f,m,w),c(f,m,w)}:i}function Om(n,i){const c=n.hostBindings;n.hostBindings=c?(f,m)=>{i(f,m),c(f,m)}:i}let Nh=null;function Zu(){if(!Nh){const n=Ot.Symbol;if(n&&n.iterator)Nh=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<i.length;++c){const f=i[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Nh=f)}}}return Nh}function Sp(n){return!!bu(n)&&(Array.isArray(n)||!(n instanceof Map)&&Zu()in n)}function bu(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qu(n,i,c){return n[i]=c}function Af(n,i){return n[i]}function xa(n,i,c){return!Object.is(n[i],c)&&(n[i]=c,!0)}function wu(n,i,c,f){const m=xa(n,i,c);return xa(n,i+1,f)||m}function km(n,i,c,f,m){const w=wu(n,i,c,f);return xa(n,i+2,m)||w}function Ao(n,i,c,f,m,w){const A=wu(n,i,c,f);return wu(n,i+2,m,w)||A}function Fm(n,i,c,f){const m=Qt();return xa(m,En(),i)&&(Dr(),function Ic(n,i,c,f,m,w){const A=Qi(n,i);Cg(i[11],A,w,n.value,c,f,m)}($i(),m,n,i,c,f)),Fm}function Wd(n,i,c,f){return xa(n,En(),c)?i+qe(c)+f:jr}function H_(n,i,c,f,m,w,A,U){const z=Qt(),te=Dr(),be=n+22,Pe=te.firstCreatePass?function Bm(n,i,c,f,m,w,A,U,z){const te=i.consts,be=mf(i,n,4,A||null,ui(te,U));Ig(i,c,be,ui(te,z)),zl(i,be);const Pe=be.tViews=pm(2,be,f,m,w,i.directiveRegistry,i.pipeRegistry,null,i.schemas,te);return null!==i.queries&&(i.queries.template(i,be),Pe.queries=i.queries.embeddedTView(be)),be}(be,te,z,i,c,f,m,w,A):te.data[be];Zs(Pe,!1);const st=z[11].createComment("");qh(te,z,st,Pe),Xo(st,z),Dm(z,z[be]=Tm(st,z,st,Pe)),ga(Pe)&&Eg(te,z,Pe),null!=A&&Tg(z,Pe,U)}function $_(n){return Fo(function _i(){return zn.lFrame.contextLView}(),22+n)}function Ng(n,i,c){const f=Qt();return xa(f,En(),i)&&qc(Dr(),$i(),f,n,i,f[11],c,!1),Ng}function z_(n,i,c,f,m){const A=m?"class":"style";xg(n,c,i.inputs[A],A,f)}function Ts(n,i,c,f){const m=Qt(),w=Dr(),A=22+n,U=m[11],z=m[A]=_n(U,i,function $l(){return zn.lFrame.currentNamespace}()),te=w.firstCreatePass?function yv(n,i,c,f,m,w,A){const U=i.consts,te=mf(i,n,2,m,ui(U,w));return Ig(i,c,te,ui(U,A)),null!==te.attrs&&Sm(te,te.attrs,!1),null!==te.mergedAttrs&&Sm(te,te.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,te),te}(A,w,m,0,i,c,f):w.data[A];Zs(te,!0);const be=te.mergedAttrs;null!==be&&ge(U,z,be);const Pe=te.classes;null!==Pe&&Hc(U,z,Pe);const st=te.styles;return null!==st&&jp(U,z,st),64!=(64&te.flags)&&qh(w,m,z,te),0===function Hl(){return zn.lFrame.elementDepthCount}()&&Xo(z,m),function il(){zn.lFrame.elementDepthCount++}(),ga(te)&&(Eg(w,m,te),by(w,te,m)),null!==f&&Tg(m,te),Ts}function Vm(){let n=Oi();ba()?ia():(n=n.parent,Zs(n,!1));const i=n;!function Uo(){zn.lFrame.elementDepthCount--}();const c=Dr();return c.firstCreatePass&&(zl(c,n),oo(n)&&c.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Eo(n){return 0!=(16&n.flags)}(i)&&z_(c,i,Qt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function $(n){return 0!=(32&n.flags)}(i)&&z_(c,i,Qt(),i.stylesWithoutHost,!1),Vm}function xy(n,i,c,f){return Ts(n,i,c,f),Vm(),xy}function Eu(n,i,c){const f=Qt(),m=Dr(),w=n+22,A=m.firstCreatePass?function io(n,i,c,f,m){const w=i.consts,A=ui(w,f),U=mf(i,n,8,"ng-container",A);return null!==A&&Sm(U,A,!0),Ig(i,c,U,ui(w,m)),null!==i.queries&&i.queries.elementStart(i,U),U}(w,m,f,i,c):m.data[w];Zs(A,!0);const U=f[w]=f[11].createComment("");return qh(m,f,U,A),Xo(U,f),ga(A)&&(Eg(m,f,A),by(m,A,f)),null!=c&&Tg(f,A),Eu}function jm(){let n=Oi();const i=Dr();return ba()?ia():(n=n.parent,Zs(n,!1)),i.firstCreatePass&&(zl(i,n),oo(n)&&i.queries.elementEnd(n)),jm}function Mg(n,i,c){return Eu(n,i,c),jm(),Mg}function xp(){return Qt()}function W_(n){return!!n&&"function"==typeof n.then}function Pf(n){return!!n&&"function"==typeof n.subscribe}const Ny=Pf;function Hm(n,i,c,f){const m=Qt(),w=Dr(),A=Oi();return function Og(n,i,c,f,m,w,A,U){const z=ga(f),be=n.firstCreatePass&&Cm(n),Pe=i[8],st=bf(i);let St=!0;if(3&f.type||U){const Kn=Qi(f,i),ar=U?U(Kn):Kn,Zr=st.length,dn=U?rs=>U(mi(rs[f.index])):f.index;let Ur=null;if(!U&&z&&(Ur=function Oy(n,i,c,f){const m=n.cleanup;if(null!=m)for(let w=0;w<m.length-1;w+=2){const A=m[w];if(A===c&&m[w+1]===f){const U=i[7],z=m[w+2];return U.length>z?U[z]:null}"string"==typeof A&&(w+=2)}return null}(n,i,m,f.index)),null!==Ur)(Ur.__ngLastListenerFn__||Ur).__ngNextListenerFn__=w,Ur.__ngLastListenerFn__=w,St=!1;else{w=Oh(f,i,Pe,w,!1);const rs=c.listen(ar,m,w);st.push(w,rs),be&&be.push(m,dn,Zr,Zr+1)}}else w=Oh(f,i,Pe,w,!1);const tn=f.outputs;let wn;if(St&&null!==tn&&(wn=tn[m])){const Kn=wn.length;if(Kn)for(let ar=0;ar<Kn;ar+=2){const Ma=i[wn[ar]][wn[ar+1]].subscribe(w),ly=st.length;st.push(w,Ma),be&&be.push(m,f.index,ly,-(ly+1))}}}(w,m,m[11],A,n,i,0,f),Hm}function Rg(n,i,c,f){try{return!1!==c(f)}catch(m){return Ag(n,m),!1}}function Oh(n,i,c,f,m){return function w(A){if(A===Function)return f;Sh(2&n.flags?os(n.index,i):i);let z=Rg(i,0,f,A),te=w.__ngNextListenerFn__;for(;te;)z=Rg(i,0,te,A)&&z,te=te.__ngNextListenerFn__;return m&&!1===z&&(A.preventDefault(),A.returnValue=!1),z}}function Ry(n=1){return function ll(n){return(zn.lFrame.contextLView=function $a(n,i){for(;n>0;)i=i[15],n--;return i}(n,zn.lFrame.contextLView))[8]}(n)}function vd(n,i){let c=null;const f=function av(n){const i=n.attrs;if(null!=i){const c=i.indexOf(5);if(0==(1&c))return i[c+1]}return null}(n);for(let m=0;m<i.length;m++){const w=i[m];if("*"!==w){if(null===f?Ba(n,w,!0):up(f,w))return m}else c=m}return c}function Tu(n){const i=Qt()[16][6];if(!i.projection){const f=i.projection=R(n?n.length:1,null),m=f.slice();let w=i.child;for(;null!==w;){const A=n?vd(w,n):0;null!==A&&(m[A]?m[A].projectionNext=w:f[A]=w,m[A]=w),w=w.next}}}function vv(n,i=0,c){const f=Qt(),m=Dr(),w=mf(m,22+n,16,null,c||null);null===w.projection&&(w.projection=i),ia(),64!=(64&w.flags)&&function us(n,i,c){cd(i[11],0,i,c,zr(n,c,i),Zh(c.parent||i[6],c,i))}(m,f,w)}function bd(n,i,c){return kf(n,"",i,"",c),bd}function kf(n,i,c,f,m){const w=Qt(),A=Wd(w,i,c,f);return A!==jr&&qc(Dr(),$i(),w,n,A,w[11],m,!1),kf}function Z_(n,i,c,f,m){const w=n[c+1],A=null===i;let U=f?yu(w):vu(w),z=!1;for(;0!==U&&(!1===z||A);){const be=n[U+1];Ff(n[U],i)&&(z=!0,n[U+1]=f?__(be):am(be)),U=f?yu(be):vu(be)}z&&(n[c+1]=f?am(w):__(w))}function Ff(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&an(n,i)>=0}const el={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zm(n){return n.substring(el.key,el.keyEnd)}function kh(n,i){const c=el.textEnd;return c===i?-1:(i=el.keyEnd=function Ym(n,i,c){for(;i<c&&n.charCodeAt(i)>32;)i++;return i}(n,el.key=i,c),Ac(n,i,c))}function Ac(n,i,c){for(;i<c&&n.charCodeAt(i)<=32;)i++;return i}function Bf(n,i,c){return Ju(n,i,c,!1),Bf}function Fg(n,i){return Ju(n,i,null,!0),Fg}function Zd(n){gl(Fe,xc,n,!0)}function xc(n,i){for(let c=function Wm(n){return function Km(n){el.key=0,el.keyEnd=0,el.value=0,el.valueEnd=0,el.textEnd=n.length}(n),kh(n,Ac(n,0,el.textEnd))}(i);c>=0;c=kh(i,c))Fe(n,zm(i),!0)}function Ju(n,i,c,f){const m=Qt(),w=Dr(),A=Vr(2);w.firstUpdatePass&&Ev(w,n,A,f),i!==jr&&xa(m,A,i)&&Fy(w,w.data[qs()],m,m[11],n,m[A+1]=function Uy(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=oe(Wc(n)))),n}(i,c),f,A)}function gl(n,i,c,f){const m=Dr(),w=Vr(2);m.firstUpdatePass&&Ev(m,null,w,f);const A=Qt();if(c!==jr&&xa(A,w,c)){const U=m.data[qs()];if(ty(U,f)&&!wv(m,w)){let z=f?U.classesWithoutHost:U.stylesWithoutHost;null!==z&&(c=Ie(z,c||"")),z_(m,U,A,c,f)}else!function qm(n,i,c,f,m,w,A,U){m===jr&&(m=on);let z=0,te=0,be=0<m.length?m[0]:null,Pe=0<w.length?w[0]:null;for(;null!==be||null!==Pe;){const st=z<m.length?m[z+1]:void 0,St=te<w.length?w[te+1]:void 0;let wn,tn=null;be===Pe?(z+=2,te+=2,st!==St&&(tn=Pe,wn=St)):null===Pe||null!==be&&be<Pe?(z+=2,tn=be):(te+=2,tn=Pe,wn=St),null!==tn&&Fy(n,i,c,f,tn,wn,A,U),be=z<m.length?m[z]:null,Pe=te<w.length?w[te]:null}}(m,U,A,A[11],A[w+1],A[w+1]=function Iv(n,i,c){if(null==c||""===c)return on;const f=[],m=Wc(c);if(Array.isArray(m))for(let w=0;w<m.length;w++)n(f,m[w],!0);else if("object"==typeof m)for(const w in m)m.hasOwnProperty(w)&&n(f,w,m[w]);else"string"==typeof m&&i(f,m);return f}(n,i,c),f,w)}}function wv(n,i){return i>=n.expandoStartIndex}function Ev(n,i,c,f){const m=n.data;if(null===m[c+1]){const w=m[qs()],A=wv(n,c);ty(w,f)&&null===i&&!A&&(i=!1),i=function X_(n,i,c,f){const m=function sa(n){const i=zn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let w=f?i.residualClasses:i.residualStyles;if(null===m)0===(f?i.classBindings:i.styleBindings)&&(c=Lh(c=ey(null,n,i,c,f),i.attrs,f),w=null);else{const A=i.directiveStylingLast;if(-1===A||n[A]!==m)if(c=ey(m,n,i,c,f),null===w){let z=function Tv(n,i,c){const f=c?i.classBindings:i.styleBindings;if(0!==vu(f))return n[yu(f)]}(n,i,f);void 0!==z&&Array.isArray(z)&&(z=ey(null,n,i,z[1],f),z=Lh(z,i.attrs,f),function Zm(n,i,c,f){n[yu(c?i.classBindings:i.styleBindings)]=f}(n,i,f,z))}else w=function Dv(n,i,c){let f;const m=i.directiveEnd;for(let w=1+i.directiveStylingLast;w<m;w++)f=Lh(f,n[w].hostAttrs,c);return Lh(f,i.attrs,c)}(n,i,f)}return void 0!==w&&(f?i.residualClasses=w:i.residualStyles=w),c}(m,w,i,f),function Ph(n,i,c,f,m,w){let A=w?i.classBindings:i.styleBindings,U=yu(A),z=vu(A);n[f]=c;let be,te=!1;if(Array.isArray(c)){const Pe=c;be=Pe[1],(null===be||an(Pe,be)>0)&&(te=!0)}else be=c;if(m)if(0!==z){const st=yu(n[U+1]);n[f+1]=_p(st,U),0!==st&&(n[st+1]=Wu(n[st+1],f)),n[U+1]=function dg(n,i){return 131071&n|i<<17}(n[U+1],f)}else n[f+1]=_p(U,0),0!==U&&(n[U+1]=Wu(n[U+1],f)),U=f;else n[f+1]=_p(z,0),0===U?U=f:n[z+1]=Wu(n[z+1],f),z=f;te&&(n[f+1]=am(n[f+1])),Z_(n,be,f,!0),Z_(n,be,f,!1),function $m(n,i,c,f,m){const w=m?n.residualClasses:n.residualStyles;null!=w&&"string"==typeof i&&an(w,i)>=0&&(c[f+1]=__(c[f+1]))}(i,be,n,f,w),A=_p(U,z),w?i.classBindings=A:i.styleBindings=A}(m,w,i,c,A,f)}}function ey(n,i,c,f,m){let w=null;const A=c.directiveEnd;let U=c.directiveStylingLast;for(-1===U?U=c.directiveStart:U++;U<A&&(w=i[U],f=Lh(f,w.hostAttrs,m),w!==n);)U++;return null!==n&&(c.directiveStylingLast=U),f}function Lh(n,i,c){const f=c?1:2;let m=-1;if(null!==i)for(let w=0;w<i.length;w++){const A=i[w];"number"==typeof A?m=A:m===f&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Fe(n,A,!!c||i[++w]))}return void 0===n?null:n}function Fy(n,i,c,f,m,w,A,U){if(!(3&i.type))return;const z=n.data,te=z[U+1];Lg(function lm(n){return 1==(1&n)}(te)?Ly(z,i,c,m,vu(te),A):void 0)||(Lg(w)||function ug(n){return 2==(2&n)}(te)&&(w=Ly(z,null,c,m,U,A)),function Vp(n,i,c,f,m){if(i)m?n.addClass(c,f):n.removeClass(c,f);else{let w=-1===f.indexOf("-")?void 0:Rl.DashCase;null==m?n.removeStyle(c,f,w):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),w|=Rl.Important),n.setStyle(c,f,m,w))}}(f,A,ws(qs(),c),m,w))}function Ly(n,i,c,f,m,w){const A=null===i;let U;for(;m>0;){const z=n[m],te=Array.isArray(z),be=te?z[1]:z,Pe=null===be;let st=c[m+1];st===jr&&(st=Pe?on:void 0);let St=Pe?mt(st,f):be===f?st:void 0;if(te&&!Lg(St)&&(St=mt(z,f)),Lg(St)&&(U=St,A))return U;const tn=n[m+1];m=A?yu(tn):vu(tn)}if(null!==i){let z=w?i.residualClasses:i.residualStyles;null!=z&&(U=mt(z,f))}return U}function Lg(n){return void 0!==n}function ty(n,i){return 0!=(n.flags&(i?16:32))}function ny(n,i=""){const c=Qt(),f=Dr(),m=n+22,w=f.firstCreatePass?mf(f,m,1,i,null):f.data[m],A=c[m]=Ae(c[11],i);qh(f,c,A,w),Zs(w,!1)}function Nc(n){return Ug("",n,""),Nc}function Ug(n,i,c){const f=Qt(),m=Wd(f,n,i,c);return m!==jr&&Cc(f,qs(),m),Ug}function Vf(n,i,c,f,m){const w=Qt(),A=function xf(n,i,c,f,m,w){const U=wu(n,me(),c,m);return Vr(2),U?i+qe(c)+f+qe(m)+w:jr}(w,n,i,c,f,m);return A!==jr&&Cc(w,qs(),A),Vf}function qd(n,i,c){gl(Fe,xc,Wd(Qt(),n,i,c),!0)}function Uh(n,i,c,f,m,w,A,U,z){gl(Fe,xc,function Kd(n,i,c,f,m,w,A,U,z,te){const Pe=Ao(n,me(),c,m,A,z);return Vr(4),Pe?i+qe(c)+f+qe(m)+w+qe(A)+U+qe(z)+te:jr}(Qt(),n,i,c,f,m,w,A,U,z),!0)}function jf(n,i,c){const f=Qt();return xa(f,En(),i)&&qc(Dr(),$i(),f,n,i,f[11],c,!0),jf}const Hf=void 0;var Uv=["en",[["a","p"],["AM","PM"],Hf],[["AM","PM"],Hf,Hf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hf,"{1} 'at' {0}",Hf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jv(n){const c=Math.floor(Math.abs(n)),f=n.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let Gf={};function Jm(n){const i=function qy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let c=iy(i);if(c)return c;const f=i.split("-")[0];if(c=iy(f),c)return c;if("en"===f)return Uv;throw new Ne(701,!1)}function ry(n){return Jm(n)[Pr.PluralCase]}function iy(n){return n in Gf||(Gf[n]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[n]),Gf[n]}var Pr=(()=>((Pr=Pr||{})[Pr.LocaleId=0]="LocaleId",Pr[Pr.DayPeriodsFormat=1]="DayPeriodsFormat",Pr[Pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pr[Pr.DaysFormat=3]="DaysFormat",Pr[Pr.DaysStandalone=4]="DaysStandalone",Pr[Pr.MonthsFormat=5]="MonthsFormat",Pr[Pr.MonthsStandalone=6]="MonthsStandalone",Pr[Pr.Eras=7]="Eras",Pr[Pr.FirstDayOfWeek=8]="FirstDayOfWeek",Pr[Pr.WeekendRange=9]="WeekendRange",Pr[Pr.DateFormat=10]="DateFormat",Pr[Pr.TimeFormat=11]="TimeFormat",Pr[Pr.DateTimeFormat=12]="DateTimeFormat",Pr[Pr.NumberSymbols=13]="NumberSymbols",Pr[Pr.NumberFormats=14]="NumberFormats",Pr[Pr.CurrencyCode=15]="CurrencyCode",Pr[Pr.CurrencySymbol=16]="CurrencySymbol",Pr[Pr.CurrencyName=17]="CurrencyName",Pr[Pr.Currencies=18]="Currencies",Pr[Pr.Directionality=19]="Directionality",Pr[Pr.PluralCase=20]="PluralCase",Pr[Pr.ExtraData=21]="ExtraData",Pr))();const Xv=["zero","one","two","few","many"],jh="en-US",Vg={marker:"element"},Op={marker:"ICU"};var jo=(()=>((jo=jo||{})[jo.SHIFT=2]="SHIFT",jo[jo.APPEND_EAGERLY=1]="APPEND_EAGERLY",jo[jo.COMMENT=2]="COMMENT",jo))();let zf=jh;function e_(n){(function jt(n,i){null==n&&vt(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(zf=n.toLowerCase().replace(/_/g,"-"))}function sy(n,i,c){const f=i.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?Lu(n,0,c):mi(c[m])}function oy(n,i,c,f,m){const w=i.insertBeforeIndex;if(Array.isArray(w)){let A=f,U=null;if(3&i.type||(U=A,A=m),null!==A&&0==(2&i.flags))for(let z=1;z<w.length;z++)Fl(n,A,c[w[z]],U,!1)}}function jg(n,i){if(n.push(i),n.length>1)for(let c=n.length-2;c>=0;c--){const f=n[c];Jy(f)||Xy(f,i)&&null===ev(f)&&Wf(f,i.index)}}function Jy(n){return!(64&n.type)}function Xy(n,i){return Jy(i)||n.index>i.index}function ev(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function Wf(n,i){const c=n.insertBeforeIndex;Array.isArray(c)?c[0]=i:(Vc(sy,oy),n.insertBeforeIndex=i)}function _l(n,i){const c=n.data[i];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function u(n,i,c){const f=wg(n,c,64,null,null);return jg(i,f),f}function r(n,i){const c=i[n.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function s(n){return n>>>17}function d(n){return(131070&n)>>>1}let x=0,j=0;function et(n,i,c,f){const m=c[11];let A,w=null;for(let U=0;U<i.length;U++){const z=i[U];if("string"==typeof z){const te=i[++U];null===c[te]&&(c[te]=Ae(m,z))}else if("number"==typeof z)switch(1&z){case 0:const te=s(z);let be,Pe;if(null===w&&(w=te,A=Yh(m,f)),te===w?(be=f,Pe=A):(be=null,Pe=mi(c[te])),null!==Pe){const wn=d(z);Fl(m,Pe,c[wn],be,!1);const ar=_l(n,wn);if(null!==ar&&"object"==typeof ar){const Zr=r(ar,c);null!==Zr&&et(n,ar.create[Zr],c,c[ar.anchorIdx])}}break;case 1:const St=i[++U],tn=i[++U];Cg(m,ws(z>>>1,c),null,null,St,tn,null)}else switch(z){case Op:const te=i[++U],be=i[++U];null===c[be]&&Xo(c[be]=Vt(m,te),c);break;case Vg:const Pe=i[++U],st=i[++U];null===c[st]&&Xo(c[st]=_n(m,Pe,null),c)}}}function gt(n,i,c,f,m){for(let w=0;w<c.length;w++){const A=c[w],U=c[++w];if(A&m){let z="";for(let te=w+1;te<=w+U;te++){const be=c[te];if("string"==typeof be)z+=be;else if("number"==typeof be)if(be<0)z+=qe(i[f-be]);else{const Pe=be>>>2;switch(3&be){case 1:const st=c[++te],St=c[++te],tn=n.data[Pe];"string"==typeof tn?Cg(i[11],i[Pe],null,tn,st,z,St):qc(n,tn,i,st,z,i[11],St,!1);break;case 0:const wn=i[Pe];null!==wn&&ct(i[11],wn,z);break;case 2:Yt(n,_l(n,Pe),i,z);break;case 3:Gt(n,_l(n,Pe),f,i)}}}}else{const z=c[w+1];if(z>0&&3==(3&z)){const be=_l(n,z>>>2);i[be.currentCaseLViewIndex]<0&&Gt(n,be,f,i)}}w+=U}}function Gt(n,i,c,f){let m=f[i.currentCaseLViewIndex];if(null!==m){let w=x;m<0&&(m=f[i.currentCaseLViewIndex]=~m,w=-1),gt(n,f,i.update[m],c,w)}}function Yt(n,i,c,f){const m=function ir(n,i){let c=n.cases.indexOf(i);if(-1===c)switch(n.type){case 1:{const f=function e0(n,i){const c=ry(i)(parseInt(n,10)),f=Xv[c];return void 0!==f?f:"other"}(i,function jv(){return zf}());c=n.cases.indexOf(f),-1===c&&"other"!==f&&(c=n.cases.indexOf("other"));break}case 0:c=n.cases.indexOf("other")}return-1===c?null:c}(i,f);if(r(i,c)!==m&&(vn(n,i,c),c[i.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const A=c[i.anchorIdx];A&&et(n,i.create[m],c,A)}}function vn(n,i,c){let f=r(i,c);if(null!==f){const m=i.remove[f];for(let w=0;w<m.length;w++){const A=m[w];if(A>0){const U=ws(A,c);null!==U&&Ad(c[11],U)}else vn(n,_l(n,~A),c)}}}function Hr(){const n=[];let c,f,i=-1;function w(U,z){i=0;const te=r(U,z);f=null!==te?U.remove[te]:on}function A(){if(i<f.length){const U=f[i++];return U>0?c[U]:(n.push(i,f),w(c[1].data[~U],c),A())}return 0===n.length?null:(f=n.pop(),i=n.pop(),A())}return function m(U,z){for(c=z;n.length;)n.pop();return w(U.value,z),A}}const Ho=/\ufffd(\d+):?\d*\ufffd/gi,Xd=/\ufffd(\d+)\ufffd/,Jc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Hg=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Rp=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Kf=/\uE500/g;function Er(n,i,c,f,m,w,A){const U=$d(n,f,1,null);let z=U<<jo.SHIFT,te=Ha();i===te&&(te=null),null===te&&(z|=jo.APPEND_EAGERLY),A&&(z|=jo.COMMENT,function Bc(n){void 0===Ql&&(Ql=n())}(Hr)),m.push(z,null===w?"":w);const be=wg(n,U,A?32:1,null===w?"":w,null);jg(c,be);const Pe=be.index;return Zs(be,!1),null!==te&&i!==te&&function tv(n,i){let c=n.insertBeforeIndex;null===c?(Vc(sy,oy),c=n.insertBeforeIndex=[null,i]):(function Ge(n,i,c){n!=i&&vt(c,n,i,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(i))}(te,Pe),be}function kr(n,i,c,f,m,w,A){const U=A.match(Ho),z=Er(n,i,c,w,f,U?null:A,!1);U&&o(m,A,z.index,null,0,null)}function o(n,i,c,f,m,w){const A=n.length,U=A+1;n.push(null,null);const z=A+2,te=i.split(Ho);let be=0;for(let Pe=0;Pe<te.length;Pe++){const st=te[Pe];if(1&Pe){const St=m+parseInt(st,10);n.push(-1-St),be|=t(St)}else""!==st&&n.push(st)}return n.push(c<<2|(f?1:0)),f&&n.push(f,w),n[A]=be,n[U]=n.length-z,be}function t(n){return 1<<Math.min(n,31)}function p(n){let i,w,c="",f=0,m=!1;for(;null!==(i=Hg.exec(n));)m?i[0]===`\ufffd/*${w}\ufffd`&&(f=i.index,m=!1):(c+=n.substring(f,i.index+i[0].length),w=i[1],m=!0);return c+=n.slice(f),c}function C(n,i,c,f,m,w){let A=0;const U={type:m.type,currentCaseLViewIndex:$d(n,i,1,null),anchorIdx:w,cases:[],create:[],remove:[],update:[]};(function qt(n,i,c){n.push(t(i.mainBinding),2,-1-i.mainBinding,c<<2|2)})(c,m,w),function ic(n,i,c){const f=n.data[i];null===f?n.data[i]=c:f.value=c}(n,w,U);const z=m.values;for(let te=0;te<z.length;te++){const be=z[te],Pe=[];for(let st=0;st<be.length;st++){const St=be[st];if("string"!=typeof St){const tn=Pe.push(St)-1;be[st]=`\x3c!--\ufffd${tn}\ufffd--\x3e`}}A=ie(n,U,i,c,f,m.cases[te],be.join(""),Pe)|A}A&&function mn(n,i,c){n.push(i,1,c<<2|3)}(c,A,w)}function L(n){const i=[],c=[];let f=1,m=0;const w=Q(n=n.replace(Jc,function(A,U,z){return f="select"===z?0:1,m=parseInt(U.slice(1),10),""}));for(let A=0;A<w.length;){let U=w[A++].trim();1===f&&(U=U.replace(/\s*(?:=)?(\w+)\s*/,"$1")),U.length&&i.push(U);const z=Q(w[A++]);i.length>c.length&&c.push(z)}return{type:f,mainBinding:m,cases:i,values:c}}function Q(n){if(!n)return[];let i=0;const c=[],f=[],m=/[{}]/g;let w;for(m.lastIndex=0;w=m.exec(n);){const U=w.index;if("}"==w[0]){if(c.pop(),0==c.length){const z=n.substring(i,U);Jc.test(z)?f.push(L(z)):f.push(z),i=U+1}}else{if(0==c.length){const z=n.substring(i,U);f.push(z),i=U+1}c.push("{")}}const A=n.substring(i);return f.push(A),f}function ie(n,i,c,f,m,w,A,U){const z=[],te=[],be=[];i.cases.push(w),i.create.push(z),i.remove.push(te),i.update.push(be);const st=ud(Nd()).getInertBodyElement(A),St=Z(st)||st;return St?Ce(n,i,c,f,z,te,be,St,m,U,0):0}function Ce(n,i,c,f,m,w,A,U,z,te,be){let Pe=0,st=U.firstChild;for(;st;){const St=$d(n,c,1,null);switch(st.nodeType){case Node.ELEMENT_NODE:const tn=st,wn=tn.tagName.toLowerCase();if(nf.hasOwnProperty(wn)){$n(m,Vg,wn,z,St),n.data[St]=wn;const dn=tn.attributes;for(let Ur=0;Ur<dn.length;Ur++){const rs=dn.item(Ur),Ma=rs.name.toLowerCase();rs.value.match(Ho)?sp.hasOwnProperty(Ma)&&o(A,rs.value,St,rs.name,0,rf[Ma]?fh:null):yr(m,St,rs)}Pe=Ce(n,i,c,f,m,w,A,st,St,te,be+1)|Pe,Je(w,St,be)}break;case Node.TEXT_NODE:const Kn=st.textContent||"",ar=Kn.match(Ho);$n(m,null,ar?"":Kn,z,St),Je(w,St,be),ar&&(Pe=o(A,Kn,St,null,0,null)|Pe);break;case Node.COMMENT_NODE:const Zr=Xd.exec(st.textContent||"");if(Zr){const Ur=te[parseInt(Zr[1],10)];$n(m,Op,"",z,St),C(n,c,f,z,Ur,St),Et(w,St,be)}}st=st.nextSibling}return Pe}function Je(n,i,c){0===c&&n.push(i)}function Et(n,i,c){0===c&&(n.push(~i),n.push(i))}function $n(n,i,c,f,m){null!==i&&n.push(i),n.push(c,m,function T(n,i,c){return n|i<<17|c<<1}(0,f,m))}function yr(n,i,c){n.push(i<<1|1,c.name,c.value)}function e1(n,i,c=-1){const f=Dr(),m=Qt(),w=22+n,A=ui(f.consts,i),U=Ha();f.firstCreatePass&&function ur(n,i,c,f,m,w){const A=Ha(),U=[],z=[],te=[[]];m=function v(n,i){if(function l(n){return-1===n}(i))return p(n);{const c=n.indexOf(`:${i}\ufffd`)+2+i.toString().length,f=n.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return p(n.substring(c,f))}}(m,w);const be=function nv(n){return n.replace(Kf," ")}(m).split(Rp);for(let Pe=0;Pe<be.length;Pe++){let st=be[Pe];if(0==(1&Pe)){const St=Q(st);for(let tn=0;tn<St.length;tn++){let wn=St[tn];if(0==(1&tn)){const Kn=wn;""!==Kn&&kr(n,A,te[0],U,z,c,Kn)}else{const Kn=wn;if("object"!=typeof Kn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);C(n,c,z,i,Kn,Er(n,A,te[0],c,U,"",!0).index)}}}else{const St=47===st.charCodeAt(0),wn=(st.charCodeAt(St?1:0),22+Number.parseInt(st.substring(St?2:1)));if(St)te.shift(),Zs(Ha(),!1);else{const Kn=u(n,te[0],wn);te.unshift([]),Zs(Kn,!0)}}}n.data[f]={create:U,update:z}}(f,null===U?0:U.index,m,w,A,c);const z=f.data[w],be=ld(f,U===m[6]?null:U,m);(function je(n,i,c,f){const m=n[11];for(let w=0;w<i.length;w++){const A=i[w++],U=i[w],z=(A&jo.COMMENT)===jo.COMMENT,te=(A&jo.APPEND_EAGERLY)===jo.APPEND_EAGERLY,be=A>>>jo.SHIFT;let Pe=n[be];null===Pe&&(Pe=n[be]=z?m.createComment(U):Ae(m,U)),te&&null!==c&&Fl(m,c,Pe,f,!1)}})(m,z.create,be,U&&8&U.type?m[U.index]:null),wo(!0)}function n1(n,i,c){e1(n,i,c),function t1(){wo(!1)}()}function h0(n){return function ee(n){n&&(x|=1<<Math.min(j,31)),j++}(xa(Qt(),En(),n)),h0}function r1(n){!function he(n,i,c){if(j>0){const f=n.data[c];gt(n,i,Array.isArray(f)?f:f.update,me()-j-1,x)}x=0,j=0}(Dr(),Qt(),n+22)}function f0(n,i,c,f,m){if(n=ye(n),Array.isArray(n))for(let w=0;w<n.length;w++)f0(n[w],i,c,f,m);else{const w=Dr(),A=Qt();let U=Sa(n)?n:ye(n.provide),z=ph(n);const te=Oi(),be=1048575&te.providerIndexes,Pe=te.directiveStart,st=te.providerIndexes>>20;if(Sa(n)||!n.multi){const St=new Qs(z,m,pf),tn=g0(U,i,m?be:be+st,Pe);-1===tn?(za(cn(te,A),w,U),p0(w,n,i.length),i.push(U),te.directiveStart++,te.directiveEnd++,m&&(te.providerIndexes+=1048576),c.push(St),A.push(St)):(c[tn]=St,A[tn]=St)}else{const St=g0(U,i,be+st,Pe),tn=g0(U,i,be,be+st),wn=St>=0&&c[St],Kn=tn>=0&&c[tn];if(m&&!Kn||!m&&!wn){za(cn(te,A),w,U);const ar=function Kb(n,i,c,f,m){const w=new Qs(n,c,pf);return w.multi=[],w.index=i,w.componentProviders=0,i1(w,m,f&&!c),w}(m?Wb:zb,c.length,m,f,z);!m&&Kn&&(c[tn].providerFactory=ar),p0(w,n,i.length,0),i.push(U),te.directiveStart++,te.directiveEnd++,m&&(te.providerIndexes+=1048576),c.push(ar),A.push(ar)}else p0(w,n,St>-1?St:tn,i1(c[m?tn:St],z,!m&&f));!m&&f&&Kn&&c[tn].componentProviders++}}}function p0(n,i,c,f){const m=Sa(i),w=function dd(n){return!!n.useClass}(i);if(m||w){const z=(w?ye(i.useClass):i).prototype.ngOnDestroy;if(z){const te=n.destroyHooks||(n.destroyHooks=[]);if(!m&&i.multi){const be=te.indexOf(c);-1===be?te.push(c,[f,z]):te[be+1].push(f,z)}else te.push(c,z)}}}function i1(n,i,c){return c&&n.componentProviders++,n.multi.push(i)-1}function g0(n,i,c,f){for(let m=c;m<f;m++)if(i[m]===n)return m;return-1}function zb(n,i,c,f){return m0(this.multi,[])}function Wb(n,i,c,f){const m=this.multi;let w;if(this.providerFactory){const A=this.providerFactory.componentProviders,U=ka(c,c[1],this.providerFactory.index,f);w=U.slice(0,A),m0(m,w);for(let z=A;z<U.length;z++)w.push(U[z])}else w=[],m0(m,w);return w}function m0(n,i){for(let c=0;c<n.length;c++)i.push((0,n[c])());return i}function s1(n,i=[]){return c=>{c.providersResolver=(f,m)=>function $b(n,i,c){const f=Dr();if(f.firstCreatePass){const m=Zi(n);f0(c,f.data,f.blueprint,m,!0),f0(i,f.data,f.blueprint,m,!1)}}(f,m?m(n):n,i)}}class rv{}class o1{}function Yb(n,i){return new a1(n,i??null)}class a1 extends rv{constructor(i,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ef(this);const f=tt(i);this._bootstrapComponents=Fd(f.bootstrap),this._r3Injector=d_(i,c,[{provide:rv,useValue:this},{provide:po,useValue:this.componentFactoryResolver}],oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class _0 extends o1{constructor(i){super(),this.moduleType=i}create(i){return new a1(this.moduleType,i)}}class Zb extends rv{constructor(i,c,f){super(),this.componentFactoryResolver=new Ef(this),this.instance=null;const m=new gu([...i,{provide:rv,useValue:this},{provide:po,useValue:this.componentFactoryResolver}],c||hd(),f,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function y0(n,i,c=null){return new Zb(n,i,c).injector}let qb=(()=>{class n{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const f=_s(0,c.type),m=f.length>0?y0([f],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,m)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Bt({token:n,providedIn:"environment",factory:()=>new n(Cs(wc))}),n})();function l1(n){n.getStandaloneInjector=i=>i.get(qb).getOrCreateStandaloneInjector(n)}function g1(n,i,c){const f=H()+n,m=Qt();return m[f]===jr?Qu(m,f,c?i.call(c):i()):Af(m,f)}function m1(n,i,c,f){return T1(Qt(),H(),n,i,c,f)}function _1(n,i,c,f,m){return D1(Qt(),H(),n,i,c,f,m)}function y1(n,i,c,f,m,w){return function I1(n,i,c,f,m,w,A,U){const z=i+c;return km(n,z,m,w,A)?Qu(n,z+3,U?f.call(U,m,w,A):f(m,w,A)):Hv(n,z+3)}(Qt(),H(),n,i,c,f,m,w)}function v1(n,i,c,f,m,w,A){return function C1(n,i,c,f,m,w,A,U,z){const te=i+c;return Ao(n,te,m,w,A,U)?Qu(n,te+4,z?f.call(z,m,w,A,U):f(m,w,A,U)):Hv(n,te+4)}(Qt(),H(),n,i,c,f,m,w,A)}function b1(n,i,c,f,m,w,A,U){const z=H()+n,te=Qt(),be=Ao(te,z,c,f,m,w);return xa(te,z+4,A)||be?Qu(te,z+5,U?i.call(U,c,f,m,w,A):i(c,f,m,w,A)):Af(te,z+5)}function w1(n,i,c,f,m,w,A,U,z){const te=H()+n,be=Qt(),Pe=Ao(be,te,c,f,m,w);return wu(be,te+4,A,U)||Pe?Qu(be,te+6,z?i.call(z,c,f,m,w,A,U):i(c,f,m,w,A,U)):Af(be,te+6)}function E1(n,i,c,f,m,w,A,U,z,te){const be=H()+n,Pe=Qt();let st=Ao(Pe,be,c,f,m,w);return km(Pe,be+4,A,U,z)||st?Qu(Pe,be+7,te?i.call(te,c,f,m,w,A,U,z):i(c,f,m,w,A,U,z)):Af(Pe,be+7)}function Hv(n,i){const c=n[i];return c===jr?void 0:c}function T1(n,i,c,f,m,w){const A=i+c;return xa(n,A,m)?Qu(n,A+1,w?f.call(w,m):f(m)):Hv(n,A+1)}function D1(n,i,c,f,m,w,A){const U=i+c;return wu(n,U,m,w)?Qu(n,U+2,A?f.call(A,m,w):f(m,w)):Hv(n,U+2)}function A1(n,i){const c=Dr();let f;const m=n+22;c.firstCreatePass?(f=function aw(n,i){if(i)for(let c=i.length-1;c>=0;c--){const f=i[c];if(n===f.name)return f}}(i,c.pipeRegistry),c.data[m]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(m,f.onDestroy)):f=c.data[m];const w=f.factory||(f.factory=is(f.type)),A=gr(pf);try{const U=zt(!1),z=w();return zt(U),function G_(n,i,c,f){c>=n.data.length&&(n.data[c]=null,n.blueprint[c]=null),i[c]=f}(c,Qt(),m,z),z}finally{gr(A)}}function x1(n,i,c){const f=n+22,m=Qt(),w=Fo(m,f);return Gv(m,f)?T1(m,H(),i,w.transform,c,w):w.transform(c)}function N1(n,i,c,f){const m=n+22,w=Qt(),A=Fo(w,m);return Gv(w,m)?D1(w,H(),i,A.transform,c,f,A):A.transform(c,f)}function Gv(n,i){return n[1].data[i].pure}function b0(n){return i=>{setTimeout(n,void 0,i)}}const kp=class dw extends a.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,c,f){let m=i,w=c||(()=>null),A=f;if(i&&"object"==typeof i){var U,z,te;const Pe=i;m=null===(U=Pe.next)||void 0===U?void 0:U.bind(Pe),w=null===(z=Pe.error)||void 0===z?void 0:z.bind(Pe),A=null===(te=Pe.complete)||void 0===te?void 0:te.bind(Pe)}this.__isAsync&&(w=b0(w),m&&(m=b0(m)),A&&(A=b0(A)));const be=super.subscribe({next:m,error:w,complete:A});return i instanceof E.w0&&i.add(be),be}};function hw(){return this._results[Zu()]()}class w0{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Zu(),f=w0.prototype;f[c]||(f[c]=hw)}get changes(){return this._changes||(this._changes=new kp)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,c){return this._results.reduce(i,c)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,c){const f=this;f.dirty=!1;const m=Fi(i);(this._changesDetected=!function td(n,i,c){if(n.length!==i.length)return!1;for(let f=0;f<n.length;f++){let m=n[f],w=i[f];if(c&&(m=c(m),w=c(w)),w!==m)return!1}return!0}(f._results,m,c))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $v=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();const fw=$v,pw=class extends fw{constructor(i,c,f){super(),this._declarationLView=i,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(i,c){const f=this._declarationTContainer.tViews,m=bp(this._declarationLView,f,i,16,null,f.declTNode,null,null,null,null,c||null);m[17]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[19];return null!==A&&(m[19]=A.createEmbeddedView(f)),_f(f,m,i),new wf(m)}};function gw(){return t0(Oi(),Qt())}function t0(n,i){return 4&n.type?new pw(i,n,Yc(n,i)):null}let n0=(()=>{class n{}return n.__NG_ELEMENT_ID__=mw,n})();function mw(){return R1(Oi(),Qt())}const _w=n0,M1=class extends _w{constructor(i,c,f){super(),this._lContainer=i,this._hostTNode=c,this._hostLView=f}get element(){return Yc(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const i=zi(this._hostTNode,this._hostLView);if(nr(i)){const c=xr(i,this._hostLView),f=Or(i);return new di(c[1].data[f+8],c)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const c=O1(this._lContainer);return null!==c&&c[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,c,f){let m,w;"number"==typeof f?m=f:null!=f&&(m=f.index,w=f.injector);const A=i.createEmbeddedView(c||{},w);return this.insert(A,m),A}createComponent(i,c,f,m,w){const A=i&&!function Fa(n){return"function"==typeof n}(i);let U;if(A)U=c;else{const Pe=c||{};U=Pe.index,f=Pe.injector,m=Pe.projectableNodes,w=Pe.environmentInjector||Pe.ngModuleRef}const z=A?i:new Ah(F(i)),te=f||this.parentInjector;if(!w&&null==z.ngModule){const st=(A?te:this.parentInjector).get(wc,null);st&&(w=st)}const be=z.create(te,m,void 0,w);return this.insert(be.hostView,U),be}insert(i,c){const f=i._lView,m=f[1];if(function Ms(n){return Ws(n[3])}(f)){const be=this.indexOf(i);if(-1!==be)this.detach(be);else{const Pe=f[3],st=new M1(Pe,Pe[6],Pe[3]);st.detach(st.indexOf(i))}}const w=this._adjustIndex(c),A=this._lContainer;!function _c(n,i,c,f){const m=10+f,w=c.length;f>0&&(c[m-1][4]=i),f<w-10?(i[4]=c[m],da(c,10+f,i)):(c.push(i),i[4]=null),i[3]=c;const A=i[17];null!==A&&c!==A&&function kl(n,i){const c=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===c?n[9]=[i]:c.push(i)}(A,i);const U=i[19];null!==U&&U.insertView(n),i[2]|=64}(m,f,A,w);const U=Jh(w,A),z=f[11],te=Yh(z,A[7]);return null!==te&&function Xn(n,i,c,f,m,w){f[0]=m,f[6]=i,xd(n,f,c,1,m,w)}(m,A[6],z,f,te,U),i.attachToViewContainerRef(),da(E0(A),w,i),i}move(i,c){return this.insert(i,c)}indexOf(i){const c=O1(this._lContainer);return null!==c?c.indexOf(i):-1}remove(i){const c=this._adjustIndex(i,-1),f=Ia(this._lContainer,c);f&&(tu(E0(this._lContainer),c),Fu(f[1],f))}detach(i){const c=this._adjustIndex(i,-1),f=Ia(this._lContainer,c);return f&&null!=tu(E0(this._lContainer),c)?new wf(f):null}_adjustIndex(i,c=0){return i??this.length+c}};function O1(n){return n[8]}function E0(n){return n[8]||(n[8]=[])}function R1(n,i){let c;const f=i[n.index];if(Ws(f))c=f;else{let m;if(8&n.type)m=mi(f);else{const w=i[11];m=w.createComment("");const A=Qi(n,i);Fl(w,Yh(w,A),m,function $g(n,i){return n.nextSibling(i)}(w,A),!1)}i[n.index]=c=Tm(f,i,m,n),Dm(i,c)}return new M1(c,n,i)}class T0{constructor(i){this.queryList=i,this.matches=null}clone(){return new T0(this.queryList)}setDirty(){this.queryList.setDirty()}}class D0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const c=i.queries;if(null!==c){const f=null!==i.contentQueries?i.contentQueries[0]:c.length,m=[];for(let w=0;w<f;w++){const A=c.getByIndex(w);m.push(this.queries[A.indexInDeclarationView].clone())}return new D0(m)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let c=0;c<this.queries.length;c++)null!==H1(i,c).matches&&this.queries[c].setDirty()}}class P1{constructor(i,c,f=null){this.predicate=i,this.flags=c,this.read=f}}class I0{constructor(i=[]){this.queries=i}elementStart(i,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(i,c)}elementEnd(i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(i)}embeddedTView(i){let c=null;for(let f=0;f<this.length;f++){const m=null!==c?c.length:0,w=this.getByIndex(f).embeddedTView(i,m);w&&(w.indexInDeclarationView=f,null!==c?c.push(w):c=[w])}return null!==c?new I0(c):null}template(i,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(i,c)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class C0{constructor(i,c=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(i,c){this.isApplyingToNode(c)&&this.matchTNode(i,c)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,c){this.elementStart(i,c)}embeddedTView(i,c){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,c),new C0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=i.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(i,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const w=f[m];this.matchTNodeWithReadOption(i,c,bw(c,w)),this.matchTNodeWithReadOption(i,c,cl(c,i,w,!1,!1))}else f===$v?4&c.type&&this.matchTNodeWithReadOption(i,c,-1):this.matchTNodeWithReadOption(i,c,cl(c,i,f,!1,!1))}matchTNodeWithReadOption(i,c,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===Vo||m===n0||m===$v&&4&c.type)this.addMatch(c.index,-2);else{const w=cl(c,i,m,!1,!1);null!==w&&this.addMatch(c.index,w)}else this.addMatch(c.index,f)}}addMatch(i,c){null===this.matches?this.matches=[i,c]:this.matches.push(i,c)}}function bw(n,i){const c=n.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===i)return c[f+1];return null}function Ew(n,i,c,f){return-1===c?function ww(n,i){return 11&n.type?Yc(n,i):4&n.type?t0(n,i):null}(i,n):-2===c?function Tw(n,i,c){return c===Vo?Yc(i,n):c===$v?t0(i,n):c===n0?R1(i,n):void 0}(n,i,f):ka(n,n[1],c,i)}function k1(n,i,c,f){const m=i[19].queries[f];if(null===m.matches){const w=n.data,A=c.matches,U=[];for(let z=0;z<A.length;z+=2){const te=A[z];U.push(te<0?null:Ew(i,w[te],A[z+1],c.metadata.read))}m.matches=U}return m.matches}function S0(n,i,c,f){const m=n.queries.getByIndex(c),w=m.matches;if(null!==w){const A=k1(n,i,m,c);for(let U=0;U<w.length;U+=2){const z=w[U];if(z>0)f.push(A[U/2]);else{const te=w[U+1],be=i[-z];for(let Pe=10;Pe<be.length;Pe++){const st=be[Pe];st[17]===st[3]&&S0(st[1],st,te,f)}if(null!==be[9]){const Pe=be[9];for(let st=0;st<Pe.length;st++){const St=Pe[st];S0(St[1],St,te,f)}}}}}return f}function F1(n){const i=Qt(),c=Dr(),f=Ga();Os(f+1);const m=H1(c,f);if(n.dirty&&function jl(n){return 4==(4&n[2])}(i)===(2==(2&m.metadata.flags))){if(null===m.matches)n.reset([]);else{const w=m.crossesNgTemplate?S0(c,i,f,[]):k1(c,i,m,f);n.reset(w,af),n.notifyOnChanges()}return!0}return!1}function L1(n,i,c){const f=Dr();f.firstCreatePass&&(j1(f,new P1(n,i,c),-1),2==(2&i)&&(f.staticViewQueries=!0)),V1(f,Qt(),i)}function U1(n,i,c,f){const m=Dr();if(m.firstCreatePass){const w=Oi();j1(m,new P1(i,c,f),w.index),function Iw(n,i){const c=n.contentQueries||(n.contentQueries=[]);i!==(c.length?c[c.length-1]:-1)&&c.push(n.queries.length-1,i)}(m,n),2==(2&c)&&(m.staticContentQueries=!0)}V1(m,Qt(),c)}function B1(){return function Dw(n,i){return n[19].queries[i].queryList}(Qt(),Ga())}function V1(n,i,c){const f=new w0(4==(4&c));gm(n,i,f,f.destroy),null===i[19]&&(i[19]=new D0),i[19].queries.push(new T0(f))}function j1(n,i,c){null===n.queries&&(n.queries=new I0),n.queries.track(new C0(i,c))}function H1(n,i){return n.queries.getByIndex(i)}function G1(n,i){return t0(n,i)}const zw=uc("Input",n=>({bindingPropertyName:n}));function s0(...n){}const lb=new Ar("Application Initializer");let o0=(()=>{class n{constructor(c){this.appInits=c,this.resolve=s0,this.reject=s0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const w=this.appInits[m]();if(W_(w))c.push(w);else if(Ny(w)){const A=new Promise((U,z)=>{w.subscribe({complete:U,error:z})});c.push(A)}}Promise.all(c).then(()=>{f()}).catch(m=>{this.reject(m)}),0===c.length&&f(),this.initialized=!0}}return n.\u0275fac=function(c){return new(c||n)(Cs(lb,8))},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cb=new Ar("AppId",{providedIn:"root",factory:function ub(){return`${O0()}${O0()}${O0()}`}});function O0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const db=new Ar("Platform Initializer"),Ww=new Ar("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hb=new Ar("appBootstrapListener"),Kw=new Ar("AnimationModuleType");let Yw=(()=>{class n{log(c){console.log(c)}warn(c){console.warn(c)}}return n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const a0=new Ar("LocaleId",{providedIn:"root",factory:()=>ks(a0,hn.Optional|hn.SkipSelf)||function Zw(){return typeof $localize<"u"&&$localize.locale||jh}()}),qw=new Ar("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Qw{constructor(i,c){this.ngModuleFactory=i,this.componentFactories=c}}let Jw=(()=>{class n{compileModuleSync(c){return new _0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),w=Fd(tt(c).declarations).reduce((A,U)=>{const z=F(U);return z&&A.push(new Ah(z)),A},[]);return new Qw(f,w)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tE=(()=>Promise.resolve(0))();function R0(n){typeof Zone>"u"?tE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Hh{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kp(!1),this.onMicrotaskEmpty=new kp(!1),this.onStable=new kp(!1),this.onError=new kp(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const m=this;if(m._nesting=0,m._outer=m._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const w=Zone.AsyncStackTaggingZoneSpec;m._inner=m._inner.fork(new w("Angular"))}Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&c,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function nE(){let n=Ot.requestAnimationFrame,i=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=i[Zone.__symbol__("OriginalDelegate")];f&&(i=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function sE(n){const i=()=>{!function iE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,k0(n),n.isCheckStableRunning=!0,P0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),k0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,m,w,A,U)=>{try{return gb(n),c.invokeTask(m,w,A,U)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||n.shouldCoalesceRunChangeDetection)&&i(),mb(n)}},onInvoke:(c,f,m,w,A,U,z)=>{try{return gb(n),c.invoke(m,w,A,U,z)}finally{n.shouldCoalesceRunChangeDetection&&i(),mb(n)}},onHasTask:(c,f,m,w)=>{c.hasTask(m,w),f===m&&("microTask"==w.change?(n._hasPendingMicrotasks=w.microTask,k0(n),P0(n)):"macroTask"==w.change&&(n.hasPendingMacrotasks=w.macroTask))},onHandleError:(c,f,m,w)=>(c.handleError(m,w),n.runOutsideAngular(()=>n.onError.emit(w)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hh.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(Hh.isInAngularZone())throw new Ne(909,!1)}run(i,c,f){return this._inner.run(i,c,f)}runTask(i,c,f,m){const w=this._inner,A=w.scheduleEventTask("NgZoneEvent: "+m,i,rE,s0,s0);try{return w.runTask(A,c,f)}finally{w.cancelTask(A)}}runGuarded(i,c,f){return this._inner.runGuarded(i,c,f)}runOutsideAngular(i){return this._outer.run(i)}}const rE={};function P0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function k0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mb(n){n._nesting--,P0(n)}class oE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kp,this.onMicrotaskEmpty=new kp,this.onStable=new kp,this.onError=new kp}run(i,c,f){return i.apply(c,f)}runGuarded(i,c,f){return i.apply(c,f)}runOutsideAngular(i){return i()}runTask(i,c,f,m){return i.apply(c,f)}}const _b=new Ar(""),yb=new Ar("");let F0,aE=(()=>{class n{constructor(c,f,m){this._ngZone=c,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,F0||(function lE(n){F0=n}(m),m.addToWindow(f)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hh.assertNotInAngularZone(),R0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())R0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,m){let w=-1;f&&f>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==w),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:w,updateCb:m})}whenStable(c,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,f,m){return[]}}return n.\u0275fac=function(c){return new(c||n)(Cs(Hh),Cs(vb),Cs(yb))},n.\u0275prov=Bt({token:n,factory:n.\u0275fac}),n})(),vb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){var m,w;return null!==(m=null===(w=F0)||void 0===w?void 0:w.findTestabilityInTree(this,c,f))&&void 0!==m?m:null}}return n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),t_=null;const bb=new Ar("AllowMultipleToken"),L0=new Ar("PlatformDestroyListeners");class dE{constructor(i,c){this.name=i,this.token=c}}function Eb(n,i,c=[]){const f=`Platform: ${i}`,m=new Ar(f);return(w=[])=>{let A=U0();if(!A||A.injector.get(bb,!1)){const U=[...c,...w,{provide:m,useValue:!0}];n?n(U):function hE(n){if(t_&&!t_.get(bb,!1))throw new Ne(400,!1);t_=n;const i=n.get(Db);(function wb(n){const i=n.get(db,null);i&&i.forEach(c=>c())})(n)}(function Tb(n=[],i){return pd.create({name:i,providers:[{provide:ec,useValue:"platform"},{provide:L0,useValue:new Set([()=>t_=null])},...n]})}(U,f))}return function pE(n){const i=U0();if(!i)throw new Ne(401,!1);return i}()}}function U0(){var n,i;return null!==(n=null===(i=t_)||void 0===i?void 0:i.get(Db))&&void 0!==n?n:null}let Db=(()=>{class n{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const m=function Cb(n,i){let c;return c="noop"===n?new oE:("zone.js"===n?void 0:n)||new Hh(i),c}(f?.ngZone,function Ib(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(f)),w=[{provide:Hh,useValue:m}];return m.run(()=>{const A=pd.create({providers:w,parent:this.injector,name:c.moduleType.name}),U=c.create(A),z=U.injector.get(_u,null);if(!z)throw new Ne(402,!1);return m.runOutsideAngular(()=>{const te=m.onError.subscribe({next:be=>{z.handleError(be)}});U.onDestroy(()=>{c0(this._modules,U),te.unsubscribe()})}),function Sb(n,i,c){try{const f=c();return W_(f)?f.catch(m=>{throw i.runOutsideAngular(()=>n.handleError(m)),m}):f}catch(f){throw i.runOutsideAngular(()=>n.handleError(f)),f}}(z,m,()=>{const te=U.injector.get(o0);return te.runInitializers(),te.donePromise.then(()=>(e_(U.injector.get(a0,jh)||jh),this._moduleDoBootstrap(U),U))})})}bootstrapModule(c,f=[]){const m=Ab({},f);return function cE(n,i,c){const f=new _0(c);return Promise.resolve(f)}(0,0,c).then(w=>this.bootstrapModuleFactory(w,m))}_moduleDoBootstrap(c){const f=c.injector.get(l0);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!c.instance.ngDoBootstrap)throw new Ne(403,!1);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(L0,null);c&&(c.forEach(f=>f()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(c){return new(c||n)(Cs(pd))},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ab(n,i){return Array.isArray(i)?i.reduce(Ab,n):{...n,...i}}let l0=(()=>{class n{constructor(c,f,m){this._zone=c,this._injector=f,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new B.y(U=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{U.next(this._stable),U.complete()})}),A=new B.y(U=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Hh.assertNotInAngularZone(),R0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,U.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{Hh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{U.next(!1)}))});return()=>{z.unsubscribe(),te.unsubscribe()}});this.isStable=(0,ce.T)(w,A.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,f){const m=c instanceof sf;if(!this._injector.get(o0).done)throw!m&&xe(c),new Ne(405,false);let A;A=m?c:this._injector.get(po).resolveComponentFactory(c),this.componentTypes.push(A.componentType);const U=function uE(n){return n.isBoundToModule}(A)?void 0:this._injector.get(rv),te=A.create(pd.NULL,[],f||A.selector,U),be=te.location.nativeElement,Pe=te.injector.get(_b,null);return Pe?.registerApplication(be),te.onDestroy(()=>{this.detachView(te.hostView),c0(this.components,te),Pe?.unregisterApplication(be)}),this._loadComponent(te),te}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;c0(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(hb,[]).concat(this._bootstrapListeners).forEach(m=>m(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>c0(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ne(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(c){return new(c||n)(Cs(Hh),Cs(wc),Cs(_u))},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c0(n,i){const c=n.indexOf(i);c>-1&&n.splice(c,1)}let Nb=!0,Mb=!1;function mE(){return Mb=!0,Nb}function _E(){if(Mb)throw new Error("Cannot enable prod mode after platform setup.");Nb=!1}let yE=(()=>{class n{}return n.__NG_ELEMENT_ID__=vE,n})();function vE(n){return function bE(n,i,c){if(Bi(n)&&!c){const f=os(n.index,i);return new wf(f,f)}return 47&n.type?new wf(i[16],i):null}(Oi(),Qt(),16==(16&n))}class kb{constructor(){}supports(i){return Sp(i)}create(i){return new CE(i)}}const IE=(n,i)=>i;class CE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||IE}forEachItem(i){let c;for(c=this._itHead;null!==c;c=c._next)i(c)}forEachOperation(i){let c=this._itHead,f=this._removalsHead,m=0,w=null;for(;c||f;){const A=!f||c&&c.currentIndex<Lb(f,m,w)?c:f,U=Lb(A,m,w),z=A.currentIndex;if(A===f)m--,f=f._nextRemoved;else if(c=c._next,null==A.previousIndex)m++;else{w||(w=[]);const te=U-m,be=z-m;if(te!=be){for(let st=0;st<te;st++){const St=st<w.length?w[st]:w[st]=0,tn=St+st;be<=tn&&tn<te&&(w[st]=St+1)}w[A.previousIndex]=be-te}}U!==z&&i(A,U,z)}}forEachPreviousItem(i){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)i(c)}forEachAddedItem(i){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)i(c)}forEachMovedItem(i){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)i(c)}forEachRemovedItem(i){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)i(c)}forEachIdentityChange(i){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)i(c)}diff(i){if(null==i&&(i=[]),!Sp(i))throw new Ne(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let m,w,A,c=this._itHead,f=!1;if(Array.isArray(i)){this.length=i.length;for(let U=0;U<this.length;U++)w=i[U],A=this._trackByFn(U,w),null!==c&&Object.is(c.trackById,A)?(f&&(c=this._verifyReinsertion(c,w,A,U)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,A,U),f=!0),c=c._next}else m=0,function qu(n,i){if(Array.isArray(n))for(let c=0;c<n.length;c++)i(n[c]);else{const c=n[Zu()]();let f;for(;!(f=c.next()).done;)i(f.value)}}(i,U=>{A=this._trackByFn(m,U),null!==c&&Object.is(c.trackById,A)?(f&&(c=this._verifyReinsertion(c,U,A,m)),Object.is(c.item,U)||this._addIdentityChange(c,U)):(c=this._mismatch(c,U,A,m),f=!0),c=c._next,m++}),this.length=m;return this._truncate(c),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,c,f,m){let w;return null===i?w=this._itTail:(w=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(i.item,c)||this._addIdentityChange(i,c),this._reinsertAfter(i,w,m)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(i.item,c)||this._addIdentityChange(i,c),this._moveAfter(i,w,m)):i=this._addAfter(new SE(c,f),w,m),i}_verifyReinsertion(i,c,f,m){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==w?i=this._reinsertAfter(w,i._prev,m):i.currentIndex!=m&&(i.currentIndex=m,this._addToMoves(i,m)),i}_truncate(i){for(;null!==i;){const c=i._next;this._addToRemovals(this._unlink(i)),i=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const m=i._prevRemoved,w=i._nextRemoved;return null===m?this._removalsHead=w:m._nextRemoved=w,null===w?this._removalsTail=m:w._prevRemoved=m,this._insertAfter(i,c,f),this._addToMoves(i,f),i}_moveAfter(i,c,f){return this._unlink(i),this._insertAfter(i,c,f),this._addToMoves(i,f),i}_addAfter(i,c,f){return this._insertAfter(i,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,c,f){const m=null===c?this._itHead:c._next;return i._next=m,i._prev=c,null===m?this._itTail=i:m._prev=i,null===c?this._itHead=i:c._next=i,null===this._linkedRecords&&(this._linkedRecords=new Fb),this._linkedRecords.put(i),i.currentIndex=f,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const c=i._prev,f=i._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,i}_addToMoves(i,c){return i.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,c){return i.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class SE{constructor(i,c){this.item=i,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,i))return f;return null}remove(i){const c=i._prevDup,f=i._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class Fb{constructor(){this.map=new Map}put(i){const c=i.trackById;let f=this.map.get(c);f||(f=new AE,this.map.set(c,f)),f.add(i)}get(i,c){const m=this.map.get(i);return m?m.get(i,c):null}remove(i){const c=i.trackById;return this.map.get(c).remove(i)&&this.map.delete(c),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lb(n,i,c){const f=n.previousIndex;if(null===f)return f;let m=0;return c&&f<c.length&&(m=c[f]),f+i+m}class Ub{constructor(){}supports(i){return i instanceof Map||bu(i)}create(){return new xE}}class xE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let c;for(c=this._mapHead;null!==c;c=c._next)i(c)}forEachPreviousItem(i){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)i(c)}forEachChangedItem(i){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)i(c)}forEachAddedItem(i){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)i(c)}forEachRemovedItem(i){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)i(c)}diff(i){if(i){if(!(i instanceof Map||bu(i)))throw new Ne(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(i,(f,m)=>{if(c&&c.key===m)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const w=this._getOrCreateRecordForKey(m,f);c=this._insertBeforeOrAppend(c,w)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,c){if(i){const f=i._prev;return c._next=i,c._prev=f,i._prev=c,f&&(f._next=c),i===this._mapHead&&(this._mapHead=c),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(i,c){if(this._records.has(i)){const m=this._records.get(i);this._maybeAddToChanges(m,c);const w=m._prev,A=m._next;return w&&(w._next=A),A&&(A._prev=w),m._next=null,m._prev=null,m}const f=new NE(i);return this._records.set(i,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,c){Object.is(c,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=c,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,c){i instanceof Map?i.forEach(c):Object.keys(i).forEach(f=>c(i[f],f))}}class NE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bb(){return new G0([new kb])}let G0=(()=>{class n{constructor(c){this.factories=c}static create(c,f){if(null!=f){const m=f.factories.slice();c=c.concat(m)}return new n(c)}static extend(c){return{provide:n,useFactory:f=>n.create(c,f||Bb()),deps:[[n,new An,new ft]]}}find(c){const f=this.factories.find(m=>m.supports(c));if(null!=f)return f;throw new Ne(901,!1)}}return n.\u0275prov=Bt({token:n,providedIn:"root",factory:Bb}),n})();function Vb(){return new $0([new Ub])}let $0=(()=>{class n{constructor(c){this.factories=c}static create(c,f){if(f){const m=f.factories.slice();c=c.concat(m)}return new n(c)}static extend(c){return{provide:n,useFactory:f=>n.create(c,f||Vb()),deps:[[n,new An,new ft]]}}find(c){const f=this.factories.find(m=>m.supports(c));if(f)return f;throw new Ne(901,!1)}}return n.\u0275prov=Bt({token:n,providedIn:"root",factory:Vb}),n})();const RE=Eb(null,"core",[]);let PE=(()=>{class n{constructor(c){}}return n.\u0275fac=function(c){return new(c||n)(Cs(l0))},n.\u0275mod=sr({type:n}),n.\u0275inj=xn({}),n})();function kE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function LE(n,i){const c=F(n),f=i.elementInjector||hd();return new Ah(c).create(f,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(nn,we,M)=>{"use strict";M.d(we,{ve:()=>Ft,Wl:()=>qe,Fj:()=>it,NI:()=>Bi,u:()=>rl,cw:()=>De,sg:()=>ma,u5:()=>ol,nD:()=>il,wO:()=>Lo,Cf:()=>dt,JU:()=>Ne,JJ:()=>Pt,JL:()=>Ze,F:()=>gi,On:()=>Kt,YN:()=>na,wV:()=>cr,c5:()=>uo,_:()=>Vs,UX:()=>ra,Q7:()=>ui,QS:()=>zo,kI:()=>Qe,_Y:()=>rn,Kr:()=>Ci});var a=M(4650),E=M(6895),B=M(8996),ce=M(9751),de=M(4742),pe=M(8421),Ee=M(3269),oe=M(5403),Ie=M(3268),ae=M(1810),ye=M(4004);let Be=(()=>{class J{constructor(H,me){this._renderer=H,this._elementRef=me,this.onChange=_t=>{},this.onTouched=()=>{}}setProperty(H,me){this._renderer.setProperty(this._elementRef.nativeElement,H,me)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(a.Qsj),a.Y36(a.SBq))},J.\u0275dir=a.lG2({type:J}),J})(),Me=(()=>{class J extends Be{}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,features:[a.qOj]}),J})();const Ne=new a.OlP("NgValueAccessor"),ot={provide:Ne,useExisting:(0,a.Gpc)(()=>qe),multi:!0};let qe=(()=>{class J extends Me{writeValue(H){this.setProperty("checked",H)}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(H,me){1&H&&a.NdJ("change",function(En){return me.onChange(En.target.checked)})("blur",function(){return me.onTouched()})},features:[a._Bn([ot]),a.qOj]}),J})();const nt={provide:Ne,useExisting:(0,a.Gpc)(()=>it),multi:!0},Ft=new a.OlP("CompositionEventMode");let it=(()=>{class J extends Be{constructor(H,me,_t){super(H,me),this._compositionMode=_t,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function We(){const J=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(J.toLowerCase())}())}writeValue(H){this.setProperty("value",H??"")}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ft,8))},J.\u0275dir=a.lG2({type:J,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,me){1&H&&a.NdJ("input",function(En){return me._handleInput(En.target.value)})("blur",function(){return me.onTouched()})("compositionstart",function(){return me._compositionStart()})("compositionend",function(En){return me._compositionEnd(En.target.value)})},features:[a._Bn([nt]),a.qOj]}),J})();function Xe(J){return null==J||("string"==typeof J||Array.isArray(J))&&0===J.length}function Ct(J){return null!=J&&"number"==typeof J.length}const dt=new a.OlP("NgValidators"),Te=new a.OlP("NgAsyncValidators"),Ge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qe{static min(Y){return function At(J){return Y=>{if(Xe(Y.value)||Xe(J))return null;const H=parseFloat(Y.value);return!isNaN(H)&&H<J?{min:{min:J,actual:Y.value}}:null}}(Y)}static max(Y){return function ln(J){return Y=>{if(Xe(Y.value)||Xe(J))return null;const H=parseFloat(Y.value);return!isNaN(H)&&H>J?{max:{max:J,actual:Y.value}}:null}}(Y)}static required(Y){return Lt(Y)}static requiredTrue(Y){return function pt(J){return!0===J.value?null:{required:!0}}(Y)}static email(Y){return function bt(J){return Xe(J.value)||Ge.test(J.value)?null:{email:!0}}(Y)}static minLength(Y){return It(Y)}static maxLength(Y){return $t(Y)}static pattern(Y){return jt(Y)}static nullValidator(Y){return null}static compose(Y){return Tn(Y)}static composeAsync(Y){return lr(Y)}}function Lt(J){return Xe(J.value)?{required:!0}:null}function It(J){return Y=>Xe(Y.value)||!Ct(Y.value)?null:Y.value.length<J?{minlength:{requiredLength:J,actualLength:Y.value.length}}:null}function $t(J){return Y=>Ct(Y.value)&&Y.value.length>J?{maxlength:{requiredLength:J,actualLength:Y.value.length}}:null}function jt(J){if(!J)return vt;let Y,H;return"string"==typeof J?(H="","^"!==J.charAt(0)&&(H+="^"),H+=J,"$"!==J.charAt(J.length-1)&&(H+="$"),Y=new RegExp(H)):(H=J.toString(),Y=J),me=>{if(Xe(me.value))return null;const _t=me.value;return Y.test(_t)?null:{pattern:{requiredPattern:H,actualValue:_t}}}}function vt(J){return null}function yn(J){return null!=J}function Jt(J){return(0,a.QGY)(J)?(0,B.D)(J):J}function Mn(J){let Y={};return J.forEach(H=>{Y=null!=H?{...Y,...H}:Y}),0===Object.keys(Y).length?null:Y}function Bt(J,Y){return Y.map(H=>H(J))}function xn(J){return J.map(Y=>function Pn(J){return!J.validate}(Y)?Y:H=>Y.validate(H))}function Tn(J){if(!J)return null;const Y=J.filter(yn);return 0==Y.length?null:function(H){return Mn(Bt(H,Y))}}function Wn(J){return null!=J?Tn(xn(J)):null}function lr(J){if(!J)return null;const Y=J.filter(yn);return 0==Y.length?null:function(H){return function le(...J){const Y=(0,Ee.jO)(J),{args:H,keys:me}=(0,de.D)(J),_t=new ce.y(En=>{const{length:Vr}=H;if(!Vr)return void En.complete();const Wo=new Array(Vr);let wo=Vr,Ko=Vr;for(let Bo=0;Bo<Vr;Bo++){let wa=!1;(0,pe.Xf)(H[Bo]).subscribe((0,oe.x)(En,sa=>{wa||(wa=!0,Ko--),Wo[Bo]=sa},()=>wo--,void 0,()=>{(!wo||!wa)&&(Ko||En.next(me?(0,ae.n)(me,Wo):Wo),En.complete())}))}});return Y?_t.pipe((0,Ie.Z)(Y)):_t}(Bt(H,Y).map(Jt)).pipe((0,ye.U)(Mn))}}function Yn(J){return null!=J?lr(xn(J)):null}function Cr(J,Y){return null===J?[Y]:Array.isArray(J)?[...J,Y]:[J,Y]}function dr(J){return J._rawValidators}function Gr(J){return J._rawAsyncValidators}function Jn(J){return J?Array.isArray(J)?J:[J]:[]}function tr(J,Y){return Array.isArray(J)?J.includes(Y):J===Y}function Nr(J,Y){const H=Jn(Y);return Jn(J).forEach(_t=>{tr(H,_t)||H.push(_t)}),H}function hn(J,Y){return Jn(Y).filter(H=>!tr(J,H))}class Fr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=Wn(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=Yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y){this.control&&this.control.reset(Y)}hasError(Y,H){return!!this.control&&this.control.hasError(Y,H)}getError(Y,H){return this.control?this.control.getError(Y,H):null}}class hr extends Fr{get formDirective(){return null}get path(){return null}}class gr extends Fr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ci{constructor(Y){this._cd=Y}get isTouched(){var Y,H;return!(null===(Y=this._cd)||void 0===Y||null===(H=Y.control)||void 0===H||!H.touched)}get isUntouched(){var Y,H;return!(null===(Y=this._cd)||void 0===Y||null===(H=Y.control)||void 0===H||!H.untouched)}get isPristine(){var Y,H;return!(null===(Y=this._cd)||void 0===Y||null===(H=Y.control)||void 0===H||!H.pristine)}get isDirty(){var Y,H;return!(null===(Y=this._cd)||void 0===Y||null===(H=Y.control)||void 0===H||!H.dirty)}get isValid(){var Y,H;return!(null===(Y=this._cd)||void 0===Y||null===(H=Y.control)||void 0===H||!H.valid)}get isInvalid(){var Y,H;return!(null===(Y=this._cd)||void 0===Y||null===(H=Y.control)||void 0===H||!H.invalid)}get isPending(){var Y,H;return!(null===(Y=this._cd)||void 0===Y||null===(H=Y.control)||void 0===H||!H.pending)}get isSubmitted(){var Y;return!(null===(Y=this._cd)||void 0===Y||!Y.submitted)}}let Pt=(()=>{class J extends ci{constructor(H){super(H)}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(gr,2))},J.\u0275dir=a.lG2({type:J,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,me){2&H&&a.ekj("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)},features:[a.qOj]}),J})(),Ze=(()=>{class J extends ci{constructor(H){super(H)}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(hr,10))},J.\u0275dir=a.lG2({type:J,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,me){2&H&&a.ekj("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)("ng-submitted",me.isSubmitted)},features:[a.qOj]}),J})();const sr="VALID",vr="INVALID",Ye="PENDING",Ve="DISABLED";function Se(J){return(xe(J)?J.validators:J)||null}function F(J){return Array.isArray(J)?Wn(J):J||null}function V(J,Y){return(xe(Y)?Y.asyncValidators:J)||null}function ne(J){return Array.isArray(J)?Yn(J):J||null}function xe(J){return null!=J&&!Array.isArray(J)&&"object"==typeof J}function tt(J,Y,H){const me=J.controls;if(!(Y?Object.keys(me):me).length)throw new a.vHH(1e3,"");if(!me[H])throw new a.vHH(1001,"")}function Nt(J,Y,H){J._forEachChild((me,_t)=>{if(void 0===H[_t])throw new a.vHH(1002,"")})}class ve{constructor(Y,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Y,this._rawAsyncValidators=H,this._composedValidatorFn=F(this._rawValidators),this._composedAsyncValidatorFn=ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===sr}get invalid(){return this.status===vr}get pending(){return this.status==Ye}get disabled(){return this.status===Ve}get enabled(){return this.status!==Ve}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._rawValidators=Y,this._composedValidatorFn=F(Y)}setAsyncValidators(Y){this._rawAsyncValidators=Y,this._composedAsyncValidatorFn=ne(Y)}addValidators(Y){this.setValidators(Nr(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Nr(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(hn(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(hn(Y,this._rawAsyncValidators))}hasValidator(Y){return tr(this._rawValidators,Y)}hasAsyncValidator(Y){return tr(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(H=>{H.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(H=>{H.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=Ye,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const H=this._parentMarkedDirty(Y.onlySelf);this.status=Ve,this.errors=null,this._forEachChild(me=>{me.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:H}),this._onDisabledChange.forEach(me=>me(!0))}enable(Y={}){const H=this._parentMarkedDirty(Y.onlySelf);this.status=sr,this._forEachChild(me=>{me.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:H}),this._onDisabledChange.forEach(me=>me(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sr||this.status===Ye)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ve:sr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=Ye,this._hasOwnPendingAsyncValidator=!0;const H=Jt(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(me=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(me,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,H={}){this.errors=Y,this._updateControlsErrors(!1!==H.emitEvent)}get(Y){let H=Y;return null==H||(Array.isArray(H)||(H=H.split(".")),0===H.length)?null:H.reduce((me,_t)=>me&&me._find(_t),this)}getError(Y,H){const me=H?this.get(H):this;return me&&me.errors?me.errors[Y]:null}hasError(Y,H){return!!this.getError(Y,H)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ve:this.errors?vr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ye)?Ye:this._anyControlsHaveStatus(vr)?vr:sr}_anyControlsHaveStatus(Y){return this._anyControls(H=>H.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){xe(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}}class De extends ve{constructor(Y,H,me){super(Se(H),V(me,H)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,H){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(Y,H,me={}){this.registerControl(Y,H),this.updateValueAndValidity({emitEvent:me.emitEvent}),this._onCollectionChange()}removeControl(Y,H={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(Y,H,me={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],H&&this.registerControl(Y,H),this.updateValueAndValidity({emitEvent:me.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,H={}){Nt(this,0,Y),Object.keys(Y).forEach(me=>{tt(this,!0,me),this.controls[me].setValue(Y[me],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(Y,H={}){null!=Y&&(Object.keys(Y).forEach(me=>{const _t=this.controls[me];_t&&_t.patchValue(Y[me],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(Y={},H={}){this._forEachChild((me,_t)=>{me.reset(Y[_t],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(Y,H,me)=>(Y[me]=H.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,(H,me)=>!!me._syncPendingControls()||H);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach(H=>{const me=this.controls[H];me&&Y(me,H)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[H,me]of Object.entries(this.controls))if(this.contains(H)&&Y(me))return!0;return!1}_reduceValue(){return this._reduceChildren({},(H,me,_t)=>((me.enabled||this.disabled)&&(H[_t]=me.value),H))}_reduceChildren(Y,H){let me=Y;return this._forEachChild((_t,En)=>{me=H(me,_t,En)}),me}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}class rt extends De{}function Un(J,Y){return[...Y.path,J]}function qn(J,Y){var H,me;pr(J,Y),Y.valueAccessor.writeValue(J.value),J.disabled&&(null===(H=(me=Y.valueAccessor).setDisabledState)||void 0===H||H.call(me,!0)),function Yi(J,Y){Y.valueAccessor.registerOnChange(H=>{J._pendingValue=H,J._pendingChange=!0,J._pendingDirty=!0,"change"===J.updateOn&&fi(J,Y)})}(J,Y),function $o(J,Y){const H=(me,_t)=>{Y.valueAccessor.writeValue(me),_t&&Y.viewToModelUpdate(me)};J.registerOnChange(H),Y._registerOnDestroy(()=>{J._unregisterOnChange(H)})}(J,Y),function Gi(J,Y){Y.valueAccessor.registerOnTouched(()=>{J._pendingTouched=!0,"blur"===J.updateOn&&J._pendingChange&&fi(J,Y),"submit"!==J.updateOn&&J.markAsTouched()})}(J,Y),function Rn(J,Y){if(Y.valueAccessor.setDisabledState){const H=me=>{Y.valueAccessor.setDisabledState(me)};J.registerOnDisabledChange(H),Y._registerOnDestroy(()=>{J._unregisterOnDisabledChange(H)})}}(J,Y)}function Cn(J,Y,H=!0){const me=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(me),Y.valueAccessor.registerOnTouched(me)),Tr(J,Y),J&&(Y._invokeOnDestroyCallbacks(),J._registerOnCollectionChange(()=>{}))}function Sr(J,Y){J.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(Y)})}function pr(J,Y){const H=dr(J);null!==Y.validator?J.setValidators(Cr(H,Y.validator)):"function"==typeof H&&J.setValidators([H]);const me=Gr(J);null!==Y.asyncValidator?J.setAsyncValidators(Cr(me,Y.asyncValidator)):"function"==typeof me&&J.setAsyncValidators([me]);const _t=()=>J.updateValueAndValidity();Sr(Y._rawValidators,_t),Sr(Y._rawAsyncValidators,_t)}function Tr(J,Y){let H=!1;if(null!==J){if(null!==Y.validator){const _t=dr(J);if(Array.isArray(_t)&&_t.length>0){const En=_t.filter(Vr=>Vr!==Y.validator);En.length!==_t.length&&(H=!0,J.setValidators(En))}}if(null!==Y.asyncValidator){const _t=Gr(J);if(Array.isArray(_t)&&_t.length>0){const En=_t.filter(Vr=>Vr!==Y.asyncValidator);En.length!==_t.length&&(H=!0,J.setAsyncValidators(En))}}}const me=()=>{};return Sr(Y._rawValidators,me),Sr(Y._rawAsyncValidators,me),H}function fi(J,Y){J._pendingDirty&&J.markAsDirty(),J.setValue(J._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(J._pendingValue),J._pendingChange=!1}function hs(J,Y){pr(J,Y)}function No(J,Y){if(!J.hasOwnProperty("model"))return!1;const H=J.model;return!!H.isFirstChange()||!Object.is(Y,H.currentValue)}function mo(J,Y){J._syncPendingControls(),Y.forEach(H=>{const me=H.control;"submit"===me.updateOn&&me._pendingChange&&(H.viewToModelUpdate(me._pendingValue),me._pendingChange=!1)})}function Ls(J,Y){if(!Y)return null;let H,me,_t;return Array.isArray(Y),Y.forEach(En=>{En.constructor===it?H=En:function oi(J){return Object.getPrototypeOf(J.constructor)===Me}(En)?me=En:_t=En}),_t||me||H||null}const pi={provide:hr,useExisting:(0,a.Gpc)(()=>gi)},ta=(()=>Promise.resolve())();let gi=(()=>{class J extends hr{constructor(H,me){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new De({},Wn(H),Yn(me))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(H){ta.then(()=>{const me=this._findContainer(H.path);H.control=me.registerControl(H.name,H.control),qn(H.control,H),H.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(H)})}getControl(H){return this.form.get(H.path)}removeControl(H){ta.then(()=>{const me=this._findContainer(H.path);me&&me.removeControl(H.name),this._directives.delete(H)})}addFormGroup(H){ta.then(()=>{const me=this._findContainer(H.path),_t=new De({});hs(_t,H),me.registerControl(H.name,_t),_t.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(H){ta.then(()=>{const me=this._findContainer(H.path);me&&me.removeControl(H.name)})}getFormGroup(H){return this.form.get(H.path)}updateModel(H,me){ta.then(()=>{this.form.get(H.path).setValue(me)})}setValue(H){this.control.setValue(H)}onSubmit(H){var me;return this.submitted=!0,mo(this.form,this._directives),this.ngSubmit.emit(H),"dialog"===(null==H||null===(me=H.target)||void 0===me?void 0:me.method)}onReset(){this.resetForm()}resetForm(H){this.form.reset(H),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(H){return H.pop(),H.length?this.form.get(H):this.form}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(dt,10),a.Y36(Te,10))},J.\u0275dir=a.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(H,me){1&H&&a.NdJ("submit",function(En){return me.onSubmit(En)})("reset",function(){return me.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([pi]),a.qOj]}),J})();function Ws(J,Y){const H=J.indexOf(Y);H>-1&&J.splice(H,1)}function oo(J){return"object"==typeof J&&null!==J&&2===Object.keys(J).length&&"value"in J&&"disabled"in J}const Bi=class extends ve{constructor(Y=null,H,me){super(Se(H),V(me,H)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xe(H)&&(H.nonNullable||H.initialValueIsDefault)&&(this.defaultValue=oo(Y)?Y.value:Y)}setValue(Y,H={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(me=>me(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(Y,H={}){this.setValue(Y,H)}reset(Y=this.defaultValue,H={}){this._applyFormState(Y),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){Ws(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){Ws(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){oo(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}},at={provide:gr,useExisting:(0,a.Gpc)(()=>Kt)},yt=(()=>Promise.resolve())();let Kt=(()=>{class J extends gr{constructor(H,me,_t,En,Vr){super(),this._changeDetectorRef=Vr,this.control=new Bi,this._registered=!1,this.update=new a.vpe,this._parent=H,this._setValidators(me),this._setAsyncValidators(_t),this.valueAccessor=Ls(0,En)}ngOnChanges(H){if(this._checkForErrors(),!this._registered||"name"in H){if(this._registered&&(this._checkName(),this.formDirective)){const me=H.name.previousValue;this.formDirective.removeControl({name:me,path:this._getPath(me)})}this._setUpControl()}"isDisabled"in H&&this._updateDisabled(H),No(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){yt.then(()=>{var me;this.control.setValue(H,{emitViewToModelChange:!1}),null===(me=this._changeDetectorRef)||void 0===me||me.markForCheck()})}_updateDisabled(H){const me=H.isDisabled.currentValue,_t=0!==me&&(0,a.D6c)(me);yt.then(()=>{var En;_t&&!this.control.disabled?this.control.disable():!_t&&this.control.disabled&&this.control.enable(),null===(En=this._changeDetectorRef)||void 0===En||En.markForCheck()})}_getPath(H){return this._parent?Un(H,this._parent):[H]}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(hr,9),a.Y36(dt,10),a.Y36(Te,10),a.Y36(Ne,10),a.Y36(a.sBO,8))},J.\u0275dir=a.lG2({type:J,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([at]),a.qOj,a.TTD]}),J})(),rn=(()=>{class J{}return J.\u0275fac=function(H){return new(H||J)},J.\u0275dir=a.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),J})();const Vn={provide:Ne,useExisting:(0,a.Gpc)(()=>cr),multi:!0};let cr=(()=>{class J extends Me{writeValue(H){this.setProperty("value",H??"")}registerOnChange(H){this.onChange=me=>{H(""==me?null:parseFloat(me))}}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(H,me){1&H&&a.NdJ("input",function(En){return me.onChange(En.target.value)})("blur",function(){return me.onTouched()})},features:[a._Bn([Vn]),a.qOj]}),J})();const Xr={provide:Ne,useExisting:(0,a.Gpc)(()=>Vs),multi:!0};let Mo=(()=>{class J{}return J.\u0275fac=function(H){return new(H||J)},J.\u0275mod=a.oAB({type:J}),J.\u0275inj=a.cJS({}),J})(),Bs=(()=>{class J{constructor(){this._accessors=[]}add(H,me){this._accessors.push([H,me])}remove(H){for(let me=this._accessors.length-1;me>=0;--me)if(this._accessors[me][1]===H)return void this._accessors.splice(me,1)}select(H){this._accessors.forEach(me=>{this._isSameGroup(me,H)&&me[1]!==H&&me[1].fireUncheck(H.value)})}_isSameGroup(H,me){return!!H[0].control&&H[0]._parent===me._control._parent&&H[1].name===me.name}}return J.\u0275fac=function(H){return new(H||J)},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac,providedIn:Mo}),J})(),Vs=(()=>{class J extends Me{constructor(H,me,_t,En){super(H,me),this._registry=_t,this._injector=En,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(gr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(H){this._state=H===this.value,this.setProperty("checked",this._state)}registerOnChange(H){this._fn=H,this.onChange=()=>{H(this.value),this._registry.select(this)}}fireUncheck(H){this.writeValue(H)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Bs),a.Y36(a.zs3))},J.\u0275dir=a.lG2({type:J,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(H,me){1&H&&a.NdJ("change",function(){return me.onChange()})("blur",function(){return me.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a._Bn([Xr]),a.qOj]}),J})();const fs=new a.OlP("NgModelWithFormControlWarning"),is={provide:hr,useExisting:(0,a.Gpc)(()=>ma)};let ma=(()=>{class J extends hr{constructor(H,me){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(H),this._setAsyncValidators(me)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const me=this.form.get(H.path);return qn(me,H),me.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),me}getControl(H){return this.form.get(H.path)}removeControl(H){Cn(H.control||null,H,!1),function vs(J,Y){const H=J.indexOf(Y);H>-1&&J.splice(H,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,me){this.form.get(H.path).setValue(me)}onSubmit(H){var me;return this.submitted=!0,mo(this.form,this.directives),this.ngSubmit.emit(H),"dialog"===(null==H||null===(me=H.target)||void 0===me?void 0:me.method)}onReset(){this.resetForm()}resetForm(H){this.form.reset(H),this.submitted=!1}_updateDomValue(){this.directives.forEach(H=>{const me=H.control,_t=this.form.get(H.path);me!==_t&&(Cn(me||null,H),(J=>J instanceof Bi)(_t)&&(qn(_t,H),H.control=_t))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const me=this.form.get(H.path);hs(me,H),me.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const me=this.form.get(H.path);me&&function so(J,Y){return Tr(J,Y)}(me,H)&&me.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pr(this.form,this),this._oldForm&&Tr(this._oldForm,this)}_checkFormPresent(){}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(dt,10),a.Y36(Te,10))},J.\u0275dir=a.lG2({type:J,selectors:[["","formGroup",""]],hostBindings:function(H,me){1&H&&a.NdJ("submit",function(En){return me.onSubmit(En)})("reset",function(){return me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([is]),a.qOj,a.TTD]}),J})();const ya={provide:gr,useExisting:(0,a.Gpc)(()=>rl)};let rl=(()=>{class J extends gr{constructor(H,me,_t,En,Vr){super(),this._ngModelWarningConfig=Vr,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(me),this._setAsyncValidators(_t),this.valueAccessor=Ls(0,En)}set isDisabled(H){}ngOnChanges(H){this._added||this._setUpControl(),No(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return Un(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return J._ngModelWarningSentOnce=!1,J.\u0275fac=function(H){return new(H||J)(a.Y36(hr,13),a.Y36(dt,10),a.Y36(Te,10),a.Y36(Ne,10),a.Y36(fs,8))},J.\u0275dir=a.lG2({type:J,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([ya]),a.qOj,a.TTD]}),J})();const lo={provide:Ne,useExisting:(0,a.Gpc)(()=>vo),multi:!0};function Is(J,Y){return null==J?`${Y}`:(Y&&"object"==typeof Y&&(Y="Object"),`${J}: ${Y}`.slice(0,50))}let vo=(()=>{class J extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(H){this._compareWith=H}writeValue(H){this.value=H;const _t=Is(this._getOptionId(H),H);this.setProperty("value",_t)}registerOnChange(H){this.onChange=me=>{this.value=this._getOptionValue(me),H(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(H){for(const me of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(me),H))return me;return null}_getOptionValue(H){const me=function js(J){return J.split(":")[0]}(H);return this._optionMap.has(me)?this._optionMap.get(me):H}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(H,me){1&H&&a.NdJ("change",function(En){return me.onChange(En.target.value)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([lo]),a.qOj]}),J})(),na=(()=>{class J{constructor(H,me,_t){this._element=H,this._renderer=me,this._select=_t,this._select&&(this.id=this._select._registerOption())}set ngValue(H){null!=this._select&&(this._select._optionMap.set(this.id,H),this._setElementValue(Is(this.id,H)),this._select.writeValue(this._select.value))}set value(H){this._setElementValue(H),this._select&&this._select.writeValue(this._select.value)}_setElementValue(H){this._renderer.setProperty(this._element.nativeElement,"value",H)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(vo,9))},J.\u0275dir=a.lG2({type:J,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),J})();const Oo={provide:Ne,useExisting:(0,a.Gpc)(()=>ss),multi:!0};function Ro(J,Y){return null==J?`${Y}`:("string"==typeof Y&&(Y=`'${Y}'`),Y&&"object"==typeof Y&&(Y="Object"),`${J}: ${Y}`.slice(0,50))}let ss=(()=>{class J extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(H){this._compareWith=H}writeValue(H){let me;if(this.value=H,Array.isArray(H)){const _t=H.map(En=>this._getOptionId(En));me=(En,Vr)=>{En._setSelected(_t.indexOf(Vr.toString())>-1)}}else me=(_t,En)=>{_t._setSelected(!1)};this._optionMap.forEach(me)}registerOnChange(H){this.onChange=me=>{const _t=[],En=me.selectedOptions;if(void 0!==En){const Vr=En;for(let Wo=0;Wo<Vr.length;Wo++){const Ko=this._getOptionValue(Vr[Wo].value);_t.push(Ko)}}else{const Vr=me.options;for(let Wo=0;Wo<Vr.length;Wo++){const wo=Vr[Wo];if(wo.selected){const Ko=this._getOptionValue(wo.value);_t.push(Ko)}}}this.value=_t,H(_t)}}_registerOption(H){const me=(this._idCounter++).toString();return this._optionMap.set(me,H),me}_getOptionId(H){for(const me of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(me)._value,H))return me;return null}_getOptionValue(H){const me=function co(J){return J.split(":")[0]}(H);return this._optionMap.has(me)?this._optionMap.get(me)._value:H}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(H,me){1&H&&a.NdJ("change",function(En){return me.onChange(En.target)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Oo]),a.qOj]}),J})(),Ci=(()=>{class J{constructor(H,me,_t){this._element=H,this._renderer=me,this._select=_t,this._select&&(this.id=this._select._registerOption(this))}set ngValue(H){null!=this._select&&(this._value=H,this._setElementValue(Ro(this.id,H)),this._select.writeValue(this._select.value))}set value(H){this._select?(this._value=H,this._setElementValue(Ro(this.id,H)),this._select.writeValue(this._select.value)):this._setElementValue(H)}_setElementValue(H){this._renderer.setProperty(this._element.nativeElement,"value",H)}_setSelected(H){this._renderer.setProperty(this._element.nativeElement,"selected",H)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return J.\u0275fac=function(H){return new(H||J)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(ss,9))},J.\u0275dir=a.lG2({type:J,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),J})();function ws(J){return"number"==typeof J?J:parseInt(J,10)}let Po=(()=>{class J{constructor(){this._validator=vt}ngOnChanges(H){if(this.inputName in H){const me=this.normalizeInput(H[this.inputName].currentValue);this._enabled=this.enabled(me),this._validator=this._enabled?this.createValidator(me):vt,this._onChange&&this._onChange()}}validate(H){return this._validator(H)}registerOnValidatorChange(H){this._onChange=H}enabled(H){return null!=H}}return J.\u0275fac=function(H){return new(H||J)},J.\u0275dir=a.lG2({type:J,features:[a.TTD]}),J})();const bo={provide:dt,useExisting:(0,a.Gpc)(()=>ui),multi:!0};let ui=(()=>{class J extends Po{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=H=>Lt}enabled(H){return H}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(H,me){2&H&&a.uIk("required",me._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([bo]),a.qOj]}),J})();const Ks={provide:dt,useExisting:(0,a.Gpc)(()=>Lo),multi:!0};let Lo=(()=>{class J extends Po{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=H=>ws(H),this.createValidator=H=>It(H)}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(H,me){2&H&&a.uIk("minlength",me._enabled?me.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([Ks]),a.qOj]}),J})();const Hl={provide:dt,useExisting:(0,a.Gpc)(()=>il),multi:!0};let il=(()=>{class J extends Po{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=H=>ws(H),this.createValidator=H=>$t(H)}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(H,me){2&H&&a.uIk("maxlength",me._enabled?me.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([Hl]),a.qOj]}),J})();const Uo={provide:dt,useExisting:(0,a.Gpc)(()=>uo),multi:!0};let uo=(()=>{class J extends Po{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=H=>H,this.createValidator=H=>jt(H)}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275dir=a.lG2({type:J,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(H,me){2&H&&a.uIk("pattern",me._enabled?me.pattern:null)},inputs:{pattern:"pattern"},features:[a._Bn([Uo]),a.qOj]}),J})(),Dr=(()=>{class J{}return J.\u0275fac=function(H){return new(H||J)},J.\u0275mod=a.oAB({type:J}),J.\u0275inj=a.cJS({imports:[Mo]}),J})(),ol=(()=>{class J{}return J.\u0275fac=function(H){return new(H||J)},J.\u0275mod=a.oAB({type:J}),J.\u0275inj=a.cJS({imports:[Dr]}),J})(),ra=(()=>{class J{static withConfig(H){return{ngModule:J,providers:[{provide:fs,useValue:H.warnOnNgModelWithFormControl}]}}}return J.\u0275fac=function(H){return new(H||J)},J.\u0275mod=a.oAB({type:J}),J.\u0275inj=a.cJS({imports:[Dr]}),J})();class Oi extends ve{constructor(Y,H,me){super(Se(H),V(me,H)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Y){return this.controls[this._adjustIndex(Y)]}push(Y,H={}){this.controls.push(Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}insert(Y,H,me={}){this.controls.splice(Y,0,H),this._registerControl(H),this.updateValueAndValidity({emitEvent:me.emitEvent})}removeAt(Y,H={}){let me=this._adjustIndex(Y);me<0&&(me=0),this.controls[me]&&this.controls[me]._registerOnCollectionChange(()=>{}),this.controls.splice(me,1),this.updateValueAndValidity({emitEvent:H.emitEvent})}setControl(Y,H,me={}){let _t=this._adjustIndex(Y);_t<0&&(_t=0),this.controls[_t]&&this.controls[_t]._registerOnCollectionChange(()=>{}),this.controls.splice(_t,1),H&&(this.controls.splice(_t,0,H),this._registerControl(H)),this.updateValueAndValidity({emitEvent:me.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Y,H={}){Nt(this,0,Y),Y.forEach((me,_t)=>{tt(this,!1,_t),this.at(_t).setValue(me,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(Y,H={}){null!=Y&&(Y.forEach((me,_t)=>{this.at(_t)&&this.at(_t).patchValue(me,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(Y=[],H={}){this._forEachChild((me,_t)=>{me.reset(Y[_t],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this.controls.map(Y=>Y.getRawValue())}clear(Y={}){this.controls.length<1||(this._forEachChild(H=>H._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Y.emitEvent}))}_adjustIndex(Y){return Y<0?Y+this.length:Y}_syncPendingControls(){let Y=this.controls.reduce((H,me)=>!!me._syncPendingControls()||H,!1);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){this.controls.forEach((H,me)=>{Y(H,me)})}_updateValue(){this.value=this.controls.filter(Y=>Y.enabled||this.disabled).map(Y=>Y.value)}_anyControls(Y){return this.controls.some(H=>H.enabled&&Y(H))}_setUpControls(){this._forEachChild(Y=>this._registerControl(Y))}_allControlsDisabled(){for(const Y of this.controls)if(Y.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Y){Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)}_find(Y){var H;return null!==(H=this.at(Y))&&void 0!==H?H:null}}function Zs(J){return!!J&&(void 0!==J.asyncValidators||void 0!==J.validators||void 0!==J.updateOn)}let ba=(()=>{class J{constructor(){this.useNonNullable=!1}get nonNullable(){const H=new J;return H.useNonNullable=!0,H}group(H,me=null){const _t=this._reduceControls(H);let En={};return Zs(me)?En=me:null!==me&&(En.validators=me.validator,En.asyncValidators=me.asyncValidator),new De(_t,En)}record(H,me=null){const _t=this._reduceControls(H);return new rt(_t,me)}control(H,me,_t){let En={};return this.useNonNullable?(Zs(me)?En=me:(En.validators=me,En.asyncValidators=_t),new Bi(H,{...En,nonNullable:!0})):new Bi(H,me,_t)}array(H,me,_t){const En=H.map(Vr=>this._createControl(Vr));return new Oi(En,me,_t)}_reduceControls(H){const me={};return Object.keys(H).forEach(_t=>{me[_t]=this._createControl(H[_t])}),me}_createControl(H){return H instanceof Bi||H instanceof ve?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}}return J.\u0275fac=function(H){return new(H||J)},J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac,providedIn:ra}),J})(),zo=(()=>{class J extends ba{group(H,me=null){return super.group(H,me)}control(H,me,_t){return super.control(H,me,_t)}array(H,me,_t){return super.array(H,me,_t)}}return J.\u0275fac=function(){let Y;return function(me){return(Y||(Y=a.n5z(J)))(me||J)}}(),J.\u0275prov=a.Yz7({token:J,factory:J.\u0275fac,providedIn:ra}),J})()},1481:(nn,we,M)=>{"use strict";M.d(we,{Dx:()=>Pt,H7:()=>ne,Qz:()=>Ne,b2:()=>hr,q6:()=>tr,se:()=>Lt});var a=M(6895),E=M(4650);class B extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends B{static makeCurrent(){(0,a.HT)(new ce)}onAndCancel(De,ue,$e){return De.addEventListener(ue,$e,!1),()=>{De.removeEventListener(ue,$e,!1)}}dispatchEvent(De,ue){De.dispatchEvent(ue)}remove(De){De.parentNode&&De.parentNode.removeChild(De)}createElement(De,ue){return(ue=ue||this.getDefaultDocument()).createElement(De)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(De){return De.nodeType===Node.ELEMENT_NODE}isShadowRoot(De){return De instanceof DocumentFragment}getGlobalEventTarget(De,ue){return"window"===ue?window:"document"===ue?De:"body"===ue?De.body:null}getBaseHref(De){const ue=function pe(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==ue?null:function oe(ve){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",ve);const De=Ee.pathname;return"/"===De.charAt(0)?De:`/${De}`}(ue)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(De){return(0,a.Mx)(document.cookie,De)}}let Ee,de=null;const Ie=new E.OlP("TRANSITION_ID"),le=[{provide:E.ip1,useFactory:function ae(ve,De,ue){return()=>{ue.get(E.CZH).donePromise.then(()=>{const $e=(0,a.q)(),rt=De.querySelectorAll(`style[ng-transition="${ve}"]`);for(let Zt=0;Zt<rt.length;Zt++)$e.remove(rt[Zt])})}},deps:[Ie,a.K0,E.zs3],multi:!0}];let Be=(()=>{class ve{build(){return new XMLHttpRequest}}return ve.\u0275fac=function(ue){return new(ue||ve)},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Me=new E.OlP("EventManagerPlugins");let Ne=(()=>{class ve{constructor(ue,$e){this._zone=$e,this._eventNameToPlugin=new Map,ue.forEach(rt=>rt.manager=this),this._plugins=ue.slice().reverse()}addEventListener(ue,$e,rt){return this._findPluginFor($e).addEventListener(ue,$e,rt)}addGlobalEventListener(ue,$e,rt){return this._findPluginFor($e).addGlobalEventListener(ue,$e,rt)}getZone(){return this._zone}_findPluginFor(ue){const $e=this._eventNameToPlugin.get(ue);if($e)return $e;const rt=this._plugins;for(let Zt=0;Zt<rt.length;Zt++){const Un=rt[Zt];if(Un.supports(ue))return this._eventNameToPlugin.set(ue,Un),Un}throw new Error(`No event manager plugin found for event ${ue}`)}}return ve.\u0275fac=function(ue){return new(ue||ve)(E.LFG(Me),E.LFG(E.R0b))},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class ot{constructor(De){this._doc=De}addGlobalEventListener(De,ue,$e){const rt=(0,a.q)().getGlobalEventTarget(this._doc,De);if(!rt)throw new Error(`Unsupported event target ${rt} for event ${ue}`);return this.addEventListener(rt,ue,$e)}}let qe=(()=>{class ve{constructor(){this._stylesSet=new Set}addStyles(ue){const $e=new Set;ue.forEach(rt=>{this._stylesSet.has(rt)||(this._stylesSet.add(rt),$e.add(rt))}),this.onStylesAdded($e)}onStylesAdded(ue){}getAllStyles(){return Array.from(this._stylesSet)}}return ve.\u0275fac=function(ue){return new(ue||ve)},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),nt=(()=>{class ve extends qe{constructor(ue){super(),this._doc=ue,this._hostNodes=new Map,this._hostNodes.set(ue.head,[])}_addStylesToHost(ue,$e,rt){ue.forEach(Zt=>{const Un=this._doc.createElement("style");Un.textContent=Zt,rt.push($e.appendChild(Un))})}addHost(ue){const $e=[];this._addStylesToHost(this._stylesSet,ue,$e),this._hostNodes.set(ue,$e)}removeHost(ue){const $e=this._hostNodes.get(ue);$e&&$e.forEach(We),this._hostNodes.delete(ue)}onStylesAdded(ue){this._hostNodes.forEach(($e,rt)=>{this._addStylesToHost(ue,rt,$e)})}ngOnDestroy(){this._hostNodes.forEach(ue=>ue.forEach(We))}}return ve.\u0275fac=function(ue){return new(ue||ve)(E.LFG(a.K0))},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac}),ve})();function We(ve){(0,a.q)().remove(ve)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g;function Qe(ve,De,ue){for(let $e=0;$e<De.length;$e++){let rt=De[$e];Array.isArray(rt)?Qe(ve,rt,ue):(rt=rt.replace(it,ve),ue.push(rt))}return ue}function At(ve){return De=>{if("__ngUnwrap__"===De)return ve;!1===ve(De)&&(De.preventDefault(),De.returnValue=!1)}}let Lt=(()=>{class ve{constructor(ue,$e,rt){this.eventManager=ue,this.sharedStylesHost=$e,this.appId=rt,this.rendererByCompId=new Map,this.defaultRenderer=new pt(ue)}createRenderer(ue,$e){if(!ue||!$e)return this.defaultRenderer;switch($e.encapsulation){case E.ifc.Emulated:{let rt=this.rendererByCompId.get($e.id);return rt||(rt=new jt(this.eventManager,this.sharedStylesHost,$e,this.appId),this.rendererByCompId.set($e.id,rt)),rt.applyToHost(ue),rt}case 1:case E.ifc.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,ue,$e);default:if(!this.rendererByCompId.has($e.id)){const rt=Qe($e.id,$e.styles,[]);this.sharedStylesHost.addStyles(rt),this.rendererByCompId.set($e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ve.\u0275fac=function(ue){return new(ue||ve)(E.LFG(Ne),E.LFG(nt),E.LFG(E.AFp))},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class pt{constructor(De){this.eventManager=De,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(De,ue){return ue?document.createElementNS(Ft[ue]||ue,De):document.createElement(De)}createComment(De){return document.createComment(De)}createText(De){return document.createTextNode(De)}appendChild(De,ue){($t(De)?De.content:De).appendChild(ue)}insertBefore(De,ue,$e){De&&($t(De)?De.content:De).insertBefore(ue,$e)}removeChild(De,ue){De&&De.removeChild(ue)}selectRootElement(De,ue){let $e="string"==typeof De?document.querySelector(De):De;if(!$e)throw new Error(`The selector "${De}" did not match any elements`);return ue||($e.textContent=""),$e}parentNode(De){return De.parentNode}nextSibling(De){return De.nextSibling}setAttribute(De,ue,$e,rt){if(rt){ue=rt+":"+ue;const Zt=Ft[rt];Zt?De.setAttributeNS(Zt,ue,$e):De.setAttribute(ue,$e)}else De.setAttribute(ue,$e)}removeAttribute(De,ue,$e){if($e){const rt=Ft[$e];rt?De.removeAttributeNS(rt,ue):De.removeAttribute(`${$e}:${ue}`)}else De.removeAttribute(ue)}addClass(De,ue){De.classList.add(ue)}removeClass(De,ue){De.classList.remove(ue)}setStyle(De,ue,$e,rt){rt&(E.JOm.DashCase|E.JOm.Important)?De.style.setProperty(ue,$e,rt&E.JOm.Important?"important":""):De.style[ue]=$e}removeStyle(De,ue,$e){$e&E.JOm.DashCase?De.style.removeProperty(ue):De.style[ue]=""}setProperty(De,ue,$e){De[ue]=$e}setValue(De,ue){De.nodeValue=ue}listen(De,ue,$e){return"string"==typeof De?this.eventManager.addGlobalEventListener(De,ue,At($e)):this.eventManager.addEventListener(De,ue,At($e))}}function $t(ve){return"TEMPLATE"===ve.tagName&&void 0!==ve.content}class jt extends pt{constructor(De,ue,$e,rt){super(De),this.component=$e;const Zt=Qe(rt+"-"+$e.id,$e.styles,[]);ue.addStyles(Zt),this.contentAttr=function Te(ve){return"_ngcontent-%COMP%".replace(it,ve)}(rt+"-"+$e.id),this.hostAttr=function Ge(ve){return"_nghost-%COMP%".replace(it,ve)}(rt+"-"+$e.id)}applyToHost(De){super.setAttribute(De,this.hostAttr,"")}createElement(De,ue){const $e=super.createElement(De,ue);return super.setAttribute($e,this.contentAttr,""),$e}}class vt extends pt{constructor(De,ue,$e,rt){super(De),this.sharedStylesHost=ue,this.hostEl=$e,this.shadowRoot=$e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=Qe(rt.id,rt.styles,[]);for(let Un=0;Un<Zt.length;Un++){const qn=document.createElement("style");qn.textContent=Zt[Un],this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(De){return De===this.hostEl?this.shadowRoot:De}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(De,ue){return super.appendChild(this.nodeOrShadowRoot(De),ue)}insertBefore(De,ue,$e){return super.insertBefore(this.nodeOrShadowRoot(De),ue,$e)}removeChild(De,ue){return super.removeChild(this.nodeOrShadowRoot(De),ue)}parentNode(De){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(De)))}}let yn=(()=>{class ve extends ot{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,$e,rt){return ue.addEventListener($e,rt,!1),()=>this.removeEventListener(ue,$e,rt)}removeEventListener(ue,$e,rt){return ue.removeEventListener($e,rt)}}return ve.\u0275fac=function(ue){return new(ue||ve)(E.LFG(a.K0))},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Jt=["alt","control","meta","shift"],Mn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bt={alt:ve=>ve.altKey,control:ve=>ve.ctrlKey,meta:ve=>ve.metaKey,shift:ve=>ve.shiftKey};let Pn=(()=>{class ve extends ot{constructor(ue){super(ue)}supports(ue){return null!=ve.parseEventName(ue)}addEventListener(ue,$e,rt){const Zt=ve.parseEventName($e),Un=ve.eventCallback(Zt.fullKey,rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(ue,Zt.domEventName,Un))}static parseEventName(ue){const $e=ue.toLowerCase().split("."),rt=$e.shift();if(0===$e.length||"keydown"!==rt&&"keyup"!==rt)return null;const Zt=ve._normalizeKey($e.pop());let Un="",qn=$e.indexOf("code");if(qn>-1&&($e.splice(qn,1),Un="code."),Jt.forEach(Sr=>{const Rn=$e.indexOf(Sr);Rn>-1&&($e.splice(Rn,1),Un+=Sr+".")}),Un+=Zt,0!=$e.length||0===Zt.length)return null;const Cn={};return Cn.domEventName=rt,Cn.fullKey=Un,Cn}static matchEventFullKeyCode(ue,$e){let rt=Mn[ue.key]||ue.key,Zt="";return $e.indexOf("code.")>-1&&(rt=ue.code,Zt="code."),!(null==rt||!rt)&&(rt=rt.toLowerCase()," "===rt?rt="space":"."===rt&&(rt="dot"),Jt.forEach(Un=>{Un!==rt&&(0,Bt[Un])(ue)&&(Zt+=Un+".")}),Zt+=rt,Zt===$e)}static eventCallback(ue,$e,rt){return Zt=>{ve.matchEventFullKeyCode(Zt,ue)&&rt.runGuarded(()=>$e(Zt))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}}return ve.\u0275fac=function(ue){return new(ue||ve)(E.LFG(a.K0))},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const tr=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:a.bD},{provide:E.g9A,useValue:function Cr(){ce.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function Gr(){return(0,E.RDi)(document),document},deps:[]}]),Nr=new E.OlP(""),hn=[{provide:E.rWj,useClass:class ye{addToWindow(De){E.dqk.getAngularTestability=($e,rt=!0)=>{const Zt=De.findTestabilityInTree($e,rt);if(null==Zt)throw new Error("Could not find testability for element.");return Zt},E.dqk.getAllAngularTestabilities=()=>De.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>De.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push($e=>{const rt=E.dqk.getAllAngularTestabilities();let Zt=rt.length,Un=!1;const qn=function(Cn){Un=Un||Cn,Zt--,0==Zt&&$e(Un)};rt.forEach(function(Cn){Cn.whenStable(qn)})})}findTestabilityInTree(De,ue,$e){return null==ue?null:De.getTestability(ue)??($e?(0,a.q)().isShadowRoot(ue)?this.findTestabilityInTree(De,ue.host,!0):this.findTestabilityInTree(De,ue.parentElement,!0):null)}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],Fr=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function dr(){return new E.qLn},deps:[]},{provide:Me,useClass:yn,multi:!0,deps:[a.K0,E.R0b,E.Lbi]},{provide:Me,useClass:Pn,multi:!0,deps:[a.K0]},{provide:Lt,useClass:Lt,deps:[Ne,nt,E.AFp]},{provide:E.FYo,useExisting:Lt},{provide:qe,useExisting:nt},{provide:nt,useClass:nt,deps:[a.K0]},{provide:Ne,useClass:Ne,deps:[Me,E.R0b]},{provide:a.JF,useClass:Be,deps:[]},[]];let hr=(()=>{class ve{constructor(ue){}static withServerTransition(ue){return{ngModule:ve,providers:[{provide:E.AFp,useValue:ue.appId},{provide:Ie,useExisting:E.AFp},le]}}}return ve.\u0275fac=function(ue){return new(ue||ve)(E.LFG(Nr,12))},ve.\u0275mod=E.oAB({type:ve}),ve.\u0275inj=E.cJS({providers:[...Fr,...hn],imports:[a.ez,E.hGG]}),ve})(),Pt=(()=>{class ve{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}}return ve.\u0275fac=function(ue){return new(ue||ve)(E.LFG(a.K0))},ve.\u0275prov=E.Yz7({token:ve,factory:function(ue){let $e=null;return $e=ue?new ue:function $r(){return new Pt((0,E.LFG)(a.K0))}(),$e},providedIn:"root"}),ve})();typeof window<"u"&&window;let ne=(()=>{class ve{}return ve.\u0275fac=function(ue){return new(ue||ve)},ve.\u0275prov=E.Yz7({token:ve,factory:function(ue){let $e=null;return $e=ue?new(ue||ve):E.LFG(tt),$e},providedIn:"root"}),ve})(),tt=(()=>{class ve extends ne{constructor(ue){super(),this._doc=ue}sanitize(ue,$e){if(null==$e)return null;switch(ue){case E.q3G.NONE:return $e;case E.q3G.HTML:return(0,E.qzn)($e,"HTML")?(0,E.z3N)($e):(0,E.EiD)(this._doc,String($e)).toString();case E.q3G.STYLE:return(0,E.qzn)($e,"Style")?(0,E.z3N)($e):$e;case E.q3G.SCRIPT:if((0,E.qzn)($e,"Script"))return(0,E.z3N)($e);throw new Error("unsafe value used in a script context");case E.q3G.URL:return(0,E.qzn)($e,"URL")?(0,E.z3N)($e):(0,E.mCW)(String($e));case E.q3G.RESOURCE_URL:if((0,E.qzn)($e,"ResourceURL"))return(0,E.z3N)($e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ue} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ue){return(0,E.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,E.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,E.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,E.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,E.pB0)(ue)}}return ve.\u0275fac=function(ue){return new(ue||ve)(E.LFG(a.K0))},ve.\u0275prov=E.Yz7({token:ve,factory:function(ue){let $e=null;return $e=ue?new ue:function xe(ve){return new tt(ve.get(a.K0))}(E.LFG(E.zs3)),$e},providedIn:"root"}),ve})()},5892:(nn,we,M)=>{"use strict";M.d(we,{gz:()=>Bs,m2:()=>pi,GH:()=>nl,xV:()=>_o,F0:()=>gs,Od:()=>ei,yS:()=>Wi,Bz:()=>ki,lC:()=>Oo});var a=M(4650),E=M(8996),B=M(9646),ce=M(1135),de=M(6805),pe=M(9841),Ee=M(7272),oe=M(9770),Ie=M(9635),ae=M(2843),le=M(9751),ye=M(515),Be=M(727),Me=M(4482),Ne=M(5403);function ot(){return(0,Me.e)((R,P)=>{let S=null;R._refCount++;const G=(0,Ne.x)(P,void 0,void 0,void 0,()=>{if(!R||R._refCount<=0||0<--R._refCount)return void(S=null);const q=R._connection,_e=S;S=null,q&&(!_e||q===_e)&&q.unsubscribe(),P.unsubscribe()});R.subscribe(G),G.closed||(S=R.connect())})}class qe extends le.y{constructor(P,S){super(),this.source=P,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,Me.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new Be.w0;const S=this.getSubject();P.add(this.source.subscribe((0,Ne.x)(S,void 0,()=>{this._teardown(),S.complete()},G=>{this._teardown(),S.error(G)},()=>this._teardown()))),P.closed&&(this._connection=null,P=Be.w0.EMPTY)}return P}refCount(){return ot()(this)}}var nt=M(7579),We=M(6895),Ft=M(4004),it=M(3900),Ke=M(5698),Xe=M(8675),Ct=M(9300),dt=M(5577),Te=M(590),Ge=M(4351),Qe=M(8505),At=M(262),ln=M(2940);function Lt(R){return R<=0?()=>ye.E:(0,Me.e)((P,S)=>{let G=[];P.subscribe((0,Ne.x)(S,q=>{G.push(q),R<G.length&&G.shift()},()=>{for(const q of G)S.next(q);S.complete()},void 0,()=>{G=null}))})}var pt=M(8068),bt=M(6590),It=M(4671);function $t(R,P){const S=arguments.length>=2;return G=>G.pipe(R?(0,Ct.h)((q,_e)=>R(q,_e,G)):It.y,Lt(1),S?(0,bt.d)(P):(0,pt.T)(()=>new de.K))}var vt=M(9718);function yn(R){return(0,Me.e)((P,S)=>{try{P.subscribe(S)}finally{S.add(R)}})}var Jt=M(8189),Mn=M(1481);const Bt="primary",Pn=Symbol("RouteTitle");class xn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const S=this.params[P];return Array.isArray(S)?S[0]:S}return null}getAll(P){if(this.has(P)){const S=this.params[P];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function Tn(R){return new xn(R)}function Wn(R,P,S){const G=S.path.split("/");if(G.length>R.length||"full"===S.pathMatch&&(P.hasChildren()||G.length<R.length))return null;const q={};for(let _e=0;_e<G.length;_e++){const ke=G[_e],Fe=R[_e];if(ke.startsWith(":"))q[ke.substring(1)]=Fe;else if(ke!==Fe.path)return null}return{consumed:R.slice(0,G.length),posParams:q}}function Yn(R,P){const S=R?Object.keys(R):void 0,G=P?Object.keys(P):void 0;if(!S||!G||S.length!=G.length)return!1;let q;for(let _e=0;_e<S.length;_e++)if(q=S[_e],!Cr(R[q],P[q]))return!1;return!0}function Cr(R,P){if(Array.isArray(R)&&Array.isArray(P)){if(R.length!==P.length)return!1;const S=[...R].sort(),G=[...P].sort();return S.every((q,_e)=>G[_e]===q)}return R===P}function dr(R){return Array.prototype.concat.apply([],R)}function Gr(R){return R.length>0?R[R.length-1]:null}function tr(R,P){for(const S in R)R.hasOwnProperty(S)&&P(R[S],S)}function Nr(R){return(0,a.CqO)(R)?R:(0,a.QGY)(R)?(0,E.D)(Promise.resolve(R)):(0,B.of)(R)}const hr={exact:function $r(R,P,S){if(!on(R.segments,P.segments)||!wt(R.segments,P.segments,S)||R.numberOfChildren!==P.numberOfChildren)return!1;for(const G in P.children)if(!R.children[G]||!$r(R.children[G],P.children[G],S))return!1;return!0},subset:Ze},gr={exact:function xs(R,P){return Yn(R,P)},subset:function Pt(R,P){return Object.keys(P).length<=Object.keys(R).length&&Object.keys(P).every(S=>Cr(R[S],P[S]))},ignored:()=>!0};function ci(R,P,S){return hr[S.paths](R.root,P.root,S.matrixParams)&&gr[S.queryParams](R.queryParams,P.queryParams)&&!("exact"===S.fragment&&R.fragment!==P.fragment)}function Ze(R,P,S){return Le(R,P,P.segments,S)}function Le(R,P,S,G){if(R.segments.length>S.length){const q=R.segments.slice(0,S.length);return!(!on(q,S)||P.hasChildren()||!wt(q,S,G))}if(R.segments.length===S.length){if(!on(R.segments,S)||!wt(R.segments,S,G))return!1;for(const q in P.children)if(!R.children[q]||!Ze(R.children[q],P.children[q],G))return!1;return!0}{const q=S.slice(0,R.segments.length),_e=S.slice(R.segments.length);return!!(on(R.segments,q)&&wt(R.segments,q,G)&&R.children[Bt])&&Le(R.children[Bt],P,_e,G)}}function wt(R,P,S){return P.every((G,q)=>gr[S](R[q].parameters,G.parameters))}class Ot{constructor(P,S,G){this.root=P,this.queryParams=S,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return er.serialize(this)}}class Wt{constructor(P,S){this.segments=P,this.children=S,this.parent=null,tr(S,(G,q)=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qn(this)}}class In{constructor(P,S){this.path=P,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=Tn(this.parameters)),this._parameterMap}toString(){return vr(this)}}function on(R,P){return R.length===P.length&&R.every((S,G)=>S.path===P[G].path)}let kn=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=a.Yz7({token:R,factory:function(){return new Br},providedIn:"root"}),R})();class Br{parse(P){const S=new Nt(P);return new Ot(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(P){const S=`/${Hn(P.root,!0)}`,G=function Ve(R){const P=Object.keys(R).map(S=>{const G=R[S];return Array.isArray(G)?G.map(q=>`${Ht(S)}=${Ht(q)}`).join("&"):`${Ht(S)}=${Ht(G)}`}).filter(S=>!!S);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${S}${G}${"string"==typeof P.fragment?`#${function sn(R){return encodeURI(R)}(P.fragment)}`:""}`}}const er=new Br;function Qn(R){return R.segments.map(P=>vr(P)).join("/")}function Hn(R,P){if(!R.hasChildren())return Qn(R);if(P){const S=R.children[Bt]?Hn(R.children[Bt],!1):"",G=[];return tr(R.children,(q,_e)=>{_e!==Bt&&G.push(`${_e}:${Hn(q,!1)}`)}),G.length>0?`${S}(${G.join("//")})`:S}{const S=function fr(R,P){let S=[];return tr(R.children,(G,q)=>{q===Bt&&(S=S.concat(P(G,q)))}),tr(R.children,(G,q)=>{q!==Bt&&(S=S.concat(P(G,q)))}),S}(R,(G,q)=>q===Bt?[Hn(R.children[Bt],!1)]:[`${q}:${Hn(G,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[Bt]?`${Qn(R)}/${S[0]}`:`${Qn(R)}/(${S.join("//")})`}}function en(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ht(R){return en(R).replace(/%3B/gi,";")}function Fn(R){return en(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function On(R){return decodeURIComponent(R)}function sr(R){return On(R.replace(/\+/g,"%20"))}function vr(R){return`${Fn(R.path)}${function Ye(R){return Object.keys(R).map(P=>`;${Fn(P)}=${Fn(R[P])}`).join("")}(R.parameters)}`}const Se=/^[^\/()?;=#]+/;function F(R){const P=R.match(Se);return P?P[0]:""}const V=/^[^=?&#]+/,xe=/^[^&#]+/;class Nt{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(P.length>0||Object.keys(S).length>0)&&(G[Bt]=new Wt(P,S)),G}parseSegment(){const P=F(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(P),new In(On(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const S=F(this.remaining);if(!S)return;this.capture(S);let G="";if(this.consumeOptional("=")){const q=F(this.remaining);q&&(G=q,this.capture(G))}P[On(S)]=On(G)}parseQueryParam(P){const S=function ne(R){const P=R.match(V);return P?P[0]:""}(this.remaining);if(!S)return;this.capture(S);let G="";if(this.consumeOptional("=")){const ke=function tt(R){const P=R.match(xe);return P?P[0]:""}(this.remaining);ke&&(G=ke,this.capture(G))}const q=sr(S),_e=sr(G);if(P.hasOwnProperty(q)){let ke=P[q];Array.isArray(ke)||(ke=[ke],P[q]=ke),ke.push(_e)}else P[q]=_e}parseParens(P){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=F(this.remaining),q=this.remaining[G.length];if("/"!==q&&")"!==q&&";"!==q)throw new a.vHH(4010,!1);let _e;G.indexOf(":")>-1?(_e=G.slice(0,G.indexOf(":")),this.capture(_e),this.capture(":")):P&&(_e=Bt);const ke=this.parseChildren();S[_e]=1===Object.keys(ke).length?ke[Bt]:new Wt([],ke),this.consumeOptional("//")}return S}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new a.vHH(4011,!1)}}function ve(R){return R.segments.length>0?new Wt([],{[Bt]:R}):R}function De(R){const P={};for(const G of Object.keys(R.children)){const _e=De(R.children[G]);(_e.segments.length>0||_e.hasChildren())&&(P[G]=_e)}return function ue(R){if(1===R.numberOfChildren&&R.children[Bt]){const P=R.children[Bt];return new Wt(R.segments.concat(P.segments),P.children)}return R}(new Wt(R.segments,P))}function $e(R){return R instanceof Ot}function Cn(R,P,S,G,q){var _e;if(0===S.length)return pr(P.root,P.root,P.root,G,q);const ke=function Gi(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new Yi(!0,0,R);let P=0,S=!1;const G=R.reduce((q,_e,ke)=>{if("object"==typeof _e&&null!=_e){if(_e.outlets){const Fe={};return tr(_e.outlets,(mt,an)=>{Fe[an]="string"==typeof mt?mt.split("/"):mt}),[...q,{outlets:Fe}]}if(_e.segmentPath)return[...q,_e.segmentPath]}return"string"!=typeof _e?[...q,_e]:0===ke?(_e.split("/").forEach((Fe,mt)=>{0==mt&&"."===Fe||(0==mt&&""===Fe?S=!0:".."===Fe?P++:""!=Fe&&q.push(Fe))}),q):[...q,_e]},[]);return new Yi(S,P,G)}(S);if(ke.toRoot())return pr(P.root,P.root,new Wt([],{}),G,q);const mt=function Fe(Bn){var un;const _r=function hs(R,P,S,G){if(R.isAbsolute)return new fi(P.root,!0,0);if(-1===G)return new fi(S,S===P.root,0);return function so(R,P,S){let G=R,q=P,_e=S;for(;_e>q;){if(_e-=q,G=G.parent,!G)throw new a.vHH(4005,!1);q=G.segments.length}return new fi(G,!1,q-_e)}(S,G+(Sr(R.commands[0])?0:1),R.numberOfDoubleDots)}(ke,P,null===(un=R.snapshot)||void 0===un?void 0:un._urlSegment,Bn),ti=_r.processChildren?Mr(_r.segmentGroup,_r.index,ke.commands):Ds(_r.segmentGroup,_r.index,ke.commands);return pr(P.root,_r.segmentGroup,ti,G,q)}(null===(_e=R.snapshot)||void 0===_e?void 0:_e._lastPathIndex);return mt}function Sr(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function Rn(R){return"object"==typeof R&&null!=R&&R.outlets}function pr(R,P,S,G,q){let ke,_e={};G&&tr(G,(mt,an)=>{_e[an]=Array.isArray(mt)?mt.map(Bn=>`${Bn}`):`${mt}`}),ke=R===P?S:Tr(R,P,S);const Fe=ve(De(ke));return new Ot(Fe,_e,q)}function Tr(R,P,S){const G={};return tr(R.children,(q,_e)=>{G[_e]=q===P?S:Tr(q,P,S)}),new Wt(R.segments,G)}class Yi{constructor(P,S,G){if(this.isAbsolute=P,this.numberOfDoubleDots=S,this.commands=G,P&&G.length>0&&Sr(G[0]))throw new a.vHH(4003,!1);const q=G.find(Rn);if(q&&q!==Gr(G))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fi{constructor(P,S,G){this.segmentGroup=P,this.processChildren=S,this.index=G}}function Ds(R,P,S){if(R||(R=new Wt([],{})),0===R.segments.length&&R.hasChildren())return Mr(R,P,S);const G=function ja(R,P,S){let G=0,q=P;const _e={match:!1,pathIndex:0,commandIndex:0};for(;q<R.segments.length;){if(G>=S.length)return _e;const ke=R.segments[q],Fe=S[G];if(Rn(Fe))break;const mt=`${Fe}`,an=G<S.length-1?S[G+1]:null;if(q>0&&void 0===mt)break;if(mt&&an&&"object"==typeof an&&void 0===an.outlets){if(!Ls(mt,an,ke))return _e;G+=2}else{if(!Ls(mt,{},ke))return _e;G++}q++}return{match:!0,pathIndex:q,commandIndex:G}}(R,P,S),q=S.slice(G.commandIndex);if(G.match&&G.pathIndex<R.segments.length){const _e=new Wt(R.segments.slice(0,G.pathIndex),{});return _e.children[Bt]=new Wt(R.segments.slice(G.pathIndex),R.children),Mr(_e,0,q)}return G.match&&0===q.length?new Wt(R.segments,{}):G.match&&!R.hasChildren()?No(R,P,S):G.match?Mr(R,0,q):No(R,P,S)}function Mr(R,P,S){if(0===S.length)return new Wt(R.segments,{});{const G=function Mi(R){return Rn(R[0])?R[0].outlets:{[Bt]:R}}(S),q={};return tr(G,(_e,ke)=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(q[ke]=Ds(R.children[ke],P,_e))}),tr(R.children,(_e,ke)=>{void 0===G[ke]&&(q[ke]=_e)}),new Wt(R.segments,q)}}function No(R,P,S){const G=R.segments.slice(0,P);let q=0;for(;q<S.length;){const _e=S[q];if(Rn(_e)){const mt=oi(_e.outlets);return new Wt(G,mt)}if(0===q&&Sr(S[0])){G.push(new In(R.segments[P].path,mo(S[0]))),q++;continue}const ke=Rn(_e)?_e.outlets[Bt]:`${_e}`,Fe=q<S.length-1?S[q+1]:null;ke&&Fe&&Sr(Fe)?(G.push(new In(ke,mo(Fe))),q+=2):(G.push(new In(ke,{})),q++)}return new Wt(G,{})}function oi(R){const P={};return tr(R,(S,G)=>{"string"==typeof S&&(S=[S]),null!==S&&(P[G]=No(new Wt([],{}),0,S))}),P}function mo(R){const P={};return tr(R,(S,G)=>P[G]=`${S}`),P}function Ls(R,P,S){return R==S.path&&Yn(P,S.parameters)}class vs{constructor(P,S){this.id=P,this.url=S}}class Us extends vs{constructor(P,S,G="imperative",q=null){super(P,S),this.type=0,this.navigationTrigger=G,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pi extends vs{constructor(P,S,G){super(P,S),this.urlAfterRedirects=G,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ta extends vs{constructor(P,S,G,q){super(P,S),this.reason=G,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gi extends vs{constructor(P,S,G,q){super(P,S),this.error=G,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ws extends vs{constructor(P,S,G,q){super(P,S),this.urlAfterRedirects=G,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends vs{constructor(P,S,G,q){super(P,S),this.urlAfterRedirects=G,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends vs{constructor(P,S,G,q,_e){super(P,S),this.urlAfterRedirects=G,this.state=q,this.shouldActivate=_e,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ga extends vs{constructor(P,S,G,q){super(P,S),this.urlAfterRedirects=G,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zi extends vs{constructor(P,S,G,q){super(P,S),this.urlAfterRedirects=G,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nl{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yl{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sc{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bs{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(P,S,G){this.routerEvent=P,this.position=S,this.anchor=G,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yt{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const S=this.pathFromRoot(P);return S.length>1?S[S.length-2]:null}children(P){const S=Kt(P,this._root);return S?S.children.map(G=>G.value):[]}firstChild(P){const S=Kt(P,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(P){const S=rn(P,this._root);return S.length<2?[]:S[S.length-2].children.map(q=>q.value).filter(q=>q!==P)}pathFromRoot(P){return rn(P,this._root).map(S=>S.value)}}function Kt(R,P){if(R===P.value)return P;for(const S of P.children){const G=Kt(R,S);if(G)return G}return null}function rn(R,P){if(R===P.value)return[P];for(const S of P.children){const G=rn(R,S);if(G.length)return G.unshift(P),G}return[]}class Vn{constructor(P,S){this.value=P,this.children=S}toString(){return`TreeNode(${this.value})`}}function cr(R){const P={};return R&&R.children.forEach(S=>P[S.value.outlet]=S),P}class Xr extends yt{constructor(P,S){super(P),this.snapshot=S,Oa(this,P)}toString(){return this.snapshot.toString()}}function ni(R,P){const S=function Mo(R,P){const ke=new ao([],{},{},"",{},Bt,P,null,R.root,-1,{});return new fs("",new Vn(ke,[]))}(R,P),G=new ce.X([new In("",{})]),q=new ce.X({}),_e=new ce.X({}),ke=new ce.X({}),Fe=new ce.X(""),mt=new Bs(G,q,ke,Fe,_e,Bt,P,S.root);return mt.snapshot=S.root,new Xr(new Vn(mt,[]),S)}class Bs{constructor(P,S,G,q,_e,ke,Fe,mt){var an,Bn;this.url=P,this.params=S,this.queryParams=G,this.fragment=q,this.data=_e,this.outlet=ke,this.component=Fe,this.title=null!==(an=null===(Bn=this.data)||void 0===Bn?void 0:Bn.pipe((0,Ft.U)(un=>un[Pn])))&&void 0!==an?an:(0,B.of)(void 0),this._futureSnapshot=mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.U)(P=>Tn(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.U)(P=>Tn(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vs(R,P="emptyOnly"){const S=R.pathFromRoot;let G=0;if("always"!==P)for(G=S.length-1;G>=1;){const q=S[G],_e=S[G-1];if(q.routeConfig&&""===q.routeConfig.path)G--;else{if(_e.component)break;G--}}return function vl(R){return R.reduce((P,S)=>{var G;return{params:{...P.params,...S.params},data:{...P.data,...S.data},resolve:{...S.data,...P.resolve,...null===(G=S.routeConfig)||void 0===G?void 0:G.data,...S._resolvedData}}},{params:{},data:{},resolve:{}})}(S.slice(G))}class ao{constructor(P,S,G,q,_e,ke,Fe,mt,an,Bn,un,_r){var ti;this.url=P,this.params=S,this.queryParams=G,this.fragment=q,this.data=_e,this.outlet=ke,this.component=Fe,this.title=null===(ti=this.data)||void 0===ti?void 0:ti[Pn],this.routeConfig=mt,this._urlSegment=an,this._lastPathIndex=Bn,this._correctedLastPathIndex=_r??Bn,this._resolve=un}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fs extends yt{constructor(P,S){super(S),this.url=P,Oa(this,S)}toString(){return bl(this._root)}}function Oa(R,P){P.value._routerState=R,P.children.forEach(S=>Oa(R,S))}function bl(R){const P=R.children.length>0?` { ${R.children.map(bl).join(", ")} } `:"";return`${R.value}${P}`}function is(R){if(R.snapshot){const P=R.snapshot,S=R._futureSnapshot;R.snapshot=S,Yn(P.queryParams,S.queryParams)||R.queryParams.next(S.queryParams),P.fragment!==S.fragment&&R.fragment.next(S.fragment),Yn(P.params,S.params)||R.params.next(S.params),function lr(R,P){if(R.length!==P.length)return!1;for(let S=0;S<R.length;++S)if(!Yn(R[S],P[S]))return!1;return!0}(P.url,S.url)||R.url.next(S.url),Yn(P.data,S.data)||R.data.next(S.data)}else R.snapshot=R._futureSnapshot,R.data.next(R._futureSnapshot.data)}function ma(R,P){const S=Yn(R.params,P.params)&&function Zn(R,P){return on(R,P)&&R.every((S,G)=>Yn(S.parameters,P[G].parameters))}(R.url,P.url);return S&&!(!R.parent!=!P.parent)&&(!R.parent||ma(R.parent,P.parent))}function yo(R,P,S){if(S&&R.shouldReuseRoute(P.value,S.value.snapshot)){const G=S.value;G._futureSnapshot=P.value;const q=function Pa(R,P,S){return P.children.map(G=>{for(const q of S.children)if(R.shouldReuseRoute(G.value,q.value.snapshot))return yo(R,G,q);return yo(R,G)})}(R,P,S);return new Vn(G,q)}{if(R.shouldAttach(P.value)){const _e=R.retrieve(P.value);if(null!==_e){const ke=_e.route;return ke.value._futureSnapshot=P.value,ke.children=P.children.map(Fe=>yo(R,Fe)),ke}}const G=function _a(R){return new Bs(new ce.X(R.url),new ce.X(R.params),new ce.X(R.queryParams),new ce.X(R.fragment),new ce.X(R.data),R.outlet,R.component,R)}(P.value),q=P.children.map(_e=>yo(R,_e));return new Vn(G,q)}}const Ns="ngNavigationCancelingError";function ya(R,P){const{redirectTo:S,navigationBehaviorOptions:G}=$e(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,q=rl(!1,0,P);return q.url=S,q.navigationBehaviorOptions=G,q}function rl(R,P,S){const G=new Error("NavigationCancelingError: "+(R||""));return G[Ns]=!0,G.cancellationCode=P,S&&(G.url=S),G}function lo(R){return Is(R)&&$e(R.url)}function Is(R){return R&&R[Ns]}class js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vo,this.attachRef=null}}let vo=(()=>{class R{constructor(){this.contexts=new Map}onChildOutletCreated(S,G){const q=this.getOrCreateContext(S);q.outlet=G,this.contexts.set(S,q)}onChildOutletDestroyed(S){const G=this.getContext(S);G&&(G.outlet=null,G.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let G=this.getContext(S);return G||(G=new js,this.contexts.set(S,G)),G}getContext(S){return this.contexts.get(S)||null}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const na=!1;let Oo=(()=>{class R{constructor(S,G,q,_e,ke){this.parentContexts=S,this.location=G,this.changeDetector=_e,this.environmentInjector=ke,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=q||Bt,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){var S;(null===(S=this.parentContexts.getContext(this.name))||void 0===S?void 0:S.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,na);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,na);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,na);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,G){this.activated=S,this._activatedRoute=G,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,G){if(this.isActivated)throw new a.vHH(4013,na);this._activatedRoute=S;const q=this.location,ke=S._futureSnapshot.component,Fe=this.parentContexts.getOrCreateContext(this.name).children,mt=new Ro(S,Fe,q.injector);if(G&&function co(R){return!!R.resolveComponentFactory}(G)){const an=G.resolveComponentFactory(ke);this.activated=q.createComponent(an,q.length,mt)}else this.activated=q.createComponent(ke,{index:q.length,injector:mt,environmentInjector:G??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(S){return new(S||R)(a.Y36(vo),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},R.\u0275dir=a.lG2({type:R,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),R})();class Ro{constructor(P,S,G){this.route=P,this.childContexts=S,this.parent=G}get(P,S){return P===Bs?this.route:P===vo?this.childContexts:this.parent.get(P,S)}}let mi=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275cmp=a.Xpm({type:R,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(S,G){1&S&&a._UZ(0,"router-outlet")},dependencies:[Oo],encapsulation:2}),R})();function ss(R,P){var S;return R.providers&&!R._injector&&(R._injector=(0,a.MMx)(R.providers,P,`Route: ${R.path}`)),null!==(S=R._injector)&&void 0!==S?S:P}function bo(R){const P=R.children&&R.children.map(bo),S=P?{...R,children:P}:{...R};return!S.component&&!S.loadComponent&&(P||S.loadChildren)&&S.outlet&&S.outlet!==Bt&&(S.component=mi),S}function Ms(R){return R.outlet||Bt}function ui(R,P){const S=R.filter(G=>Ms(G)===P);return S.push(...R.filter(G=>Ms(G)!==P)),S}function ps(R){var P;if(!R)return null;if(null!==(P=R.routeConfig)&&void 0!==P&&P._injector)return R.routeConfig._injector;for(let S=R.parent;S;S=S.parent){const G=S.routeConfig;if(null!=G&&G._loadedInjector)return G._loadedInjector;if(null!=G&&G._injector)return G._injector}return null}class zn{constructor(P,S,G,q){this.routeReuseStrategy=P,this.futureState=S,this.currState=G,this.forwardEvent=q}activate(P){const S=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,G,P),is(this.futureState.root),this.activateChildRoutes(S,G,P)}deactivateChildRoutes(P,S,G){const q=cr(S);P.children.forEach(_e=>{const ke=_e.value.outlet;this.deactivateRoutes(_e,q[ke],G),delete q[ke]}),tr(q,(_e,ke)=>{this.deactivateRouteAndItsChildren(_e,G)})}deactivateRoutes(P,S,G){const q=P.value,_e=S?S.value:null;if(q===_e)if(q.component){const ke=G.getContext(q.outlet);ke&&this.deactivateChildRoutes(P,S,ke.children)}else this.deactivateChildRoutes(P,S,G);else _e&&this.deactivateRouteAndItsChildren(S,G)}deactivateRouteAndItsChildren(P,S){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,S):this.deactivateRouteAndOutlet(P,S)}detachAndStoreRouteSubtree(P,S){const G=S.getContext(P.value.outlet),q=G&&P.value.component?G.children:S,_e=cr(P);for(const ke of Object.keys(_e))this.deactivateRouteAndItsChildren(_e[ke],q);if(G&&G.outlet){const ke=G.outlet.detach(),Fe=G.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:ke,route:P,contexts:Fe})}}deactivateRouteAndOutlet(P,S){const G=S.getContext(P.value.outlet),q=G&&P.value.component?G.children:S,_e=cr(P);for(const ke of Object.keys(_e))this.deactivateRouteAndItsChildren(_e[ke],q);G&&G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated(),G.attachRef=null,G.resolver=null,G.route=null)}activateChildRoutes(P,S,G){const q=cr(S);P.children.forEach(_e=>{this.activateRoutes(_e,q[_e.value.outlet],G),this.forwardEvent(new bs(_e.value.snapshot))}),P.children.length&&this.forwardEvent(new qi(P.value.snapshot))}activateRoutes(P,S,G){const q=P.value,_e=S?S.value:null;if(is(q),q===_e)if(q.component){const Fe=G.getOrCreateContext(q.outlet);this.activateChildRoutes(P,S,Fe.children)}else this.activateChildRoutes(P,S,G);else if(q.component){const Fe=G.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const mt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),Fe.children.onOutletReAttached(mt.contexts),Fe.attachRef=mt.componentRef,Fe.route=mt.route.value,Fe.outlet&&Fe.outlet.attach(mt.componentRef,mt.route.value),is(mt.route.value),this.activateChildRoutes(P,null,Fe.children)}else{var ke;const mt=ps(q.snapshot),an=null!==(ke=mt?.get(a._Vd))&&void 0!==ke?ke:null;Fe.attachRef=null,Fe.route=q,Fe.resolver=an,Fe.injector=mt,Fe.outlet&&Fe.outlet.activateWith(q,Fe.injector),this.activateChildRoutes(P,null,Fe.children)}}else this.activateChildRoutes(P,null,G)}}class Ks{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class Lo{constructor(P,S){this.component=P,this.route=S}}function Hl(R,P,S){const G=R._root;return uo(G,P?P._root:null,S,[G.value])}function Uo(R,P){const S=Symbol(),G=P.get(R,S);return G===S?"function"!=typeof R||(0,a.Z0I)(R)?P.get(R):R:G}function uo(R,P,S,G,q={canDeactivateChecks:[],canActivateChecks:[]}){const _e=cr(P);return R.children.forEach(ke=>{(function va(R,P,S,G,q={canDeactivateChecks:[],canActivateChecks:[]}){const _e=R.value,ke=P?P.value:null,Fe=S?S.getContext(R.value.outlet):null;if(ke&&_e.routeConfig===ke.routeConfig){const mt=function sl(R,P,S){if("function"==typeof S)return S(R,P);switch(S){case"pathParamsChange":return!on(R.url,P.url);case"pathParamsOrQueryParamsChange":return!on(R.url,P.url)||!Yn(R.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ma(R,P)||!Yn(R.queryParams,P.queryParams);default:return!ma(R,P)}}(ke,_e,_e.routeConfig.runGuardsAndResolvers);mt?q.canActivateChecks.push(new Ks(G)):(_e.data=ke.data,_e._resolvedData=ke._resolvedData),uo(R,P,_e.component?Fe?Fe.children:null:S,G,q),mt&&Fe&&Fe.outlet&&Fe.outlet.isActivated&&q.canDeactivateChecks.push(new Lo(Fe.outlet.component,ke))}else ke&&Qt(P,Fe,q),q.canActivateChecks.push(new Ks(G)),uo(R,null,_e.component?Fe?Fe.children:null:S,G,q)})(ke,_e[ke.value.outlet],S,G.concat([ke.value]),q),delete _e[ke.value.outlet]}),tr(_e,(ke,Fe)=>Qt(ke,S.getContext(Fe),q)),q}function Qt(R,P,S){const G=cr(R),q=R.value;tr(G,(_e,ke)=>{Qt(_e,q.component?P?P.children.getContext(ke):null:P,S)}),S.canDeactivateChecks.push(new Lo(q.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,q))}function Dr(R){return"function"==typeof R}function zo(R){return R instanceof de.K||"EmptyError"===R?.name}const _i=Symbol("INITIAL_VALUE");function J(){return(0,it.w)(R=>(0,pe.a)(R.map(P=>P.pipe((0,Ke.q)(1),(0,Xe.O)(_i)))).pipe((0,Ft.U)(P=>{for(const S of P)if(!0!==S){if(S===_i)return _i;if(!1===S||S instanceof Ot)return S}return!0}),(0,Ct.h)(P=>P!==_i),(0,Ke.q)(1)))}function Bo(R){return(0,Ie.z)((0,Qe.b)(P=>{if($e(P))throw ya(0,P)}),(0,Ft.U)(P=>!0===P))}const sa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ga(R,P,S,G,q){const _e=Os(R,P,S);return _e.matched?function wa(R,P,S,G){const q=P.canMatch;if(!q||0===q.length)return(0,B.of)(!0);const _e=q.map(ke=>{const Fe=Uo(ke,R);return Nr(function Zs(R){return R&&Dr(R.canMatch)}(Fe)?Fe.canMatch(P,S):R.runInContext(()=>Fe(P,S)))});return(0,B.of)(_e).pipe(J(),Bo())}(G=ss(P,G),P,S).pipe((0,Ft.U)(ke=>!0===ke?_e:{...sa})):(0,B.of)(_e)}function Os(R,P,S){var G;if(""===P.path)return"full"===P.pathMatch&&(R.hasChildren()||S.length>0)?{...sa}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const _e=(P.matcher||Wn)(S,R,P);if(!_e)return{...sa};const ke={};tr(_e.posParams,(mt,an)=>{ke[an]=mt.path});const Fe=_e.consumed.length>0?{...ke,..._e.consumed[_e.consumed.length-1].parameters}:ke;return{matched:!0,consumedSegments:_e.consumed,remainingSegments:S.slice(_e.consumed.length),parameters:Fe,positionalParamSegments:null!==(G=_e.posParams)&&void 0!==G?G:{}}}function Xi(R,P,S,G,q="corrected"){if(S.length>0&&function ho(R,P,S){return S.some(G=>wl(R,P,G)&&Ms(G)!==Bt)}(R,S,G)){const ke=new Wt(P,function oa(R,P,S,G){const q={};q[Bt]=G,G._sourceSegment=R,G._segmentIndexShift=P.length;for(const _e of S)if(""===_e.path&&Ms(_e)!==Bt){const ke=new Wt([],{});ke._sourceSegment=R,ke._segmentIndexShift=P.length,q[Ms(_e)]=ke}return q}(R,P,G,new Wt(S,R.children)));return ke._sourceSegment=R,ke._segmentIndexShift=P.length,{segmentGroup:ke,slicedSegments:[]}}if(0===S.length&&function oc(R,P,S){return S.some(G=>wl(R,P,G))}(R,S,G)){const ke=new Wt(R.segments,function al(R,P,S,G,q,_e){const ke={};for(const Fe of G)if(wl(R,S,Fe)&&!q[Ms(Fe)]){const mt=new Wt([],{});mt._sourceSegment=R,mt._segmentIndexShift="legacy"===_e?R.segments.length:P.length,ke[Ms(Fe)]=mt}return{...q,...ke}}(R,P,S,G,R.children,q));return ke._sourceSegment=R,ke._segmentIndexShift=P.length,{segmentGroup:ke,slicedSegments:S}}const _e=new Wt(R.segments,R.children);return _e._sourceSegment=R,_e._segmentIndexShift=P.length,{segmentGroup:_e,slicedSegments:S}}function wl(R,P,S){return(!(R.hasChildren()||P.length>0)||"full"!==S.pathMatch)&&""===S.path}function aa(R,P,S,G){return!!(Ms(R)===G||G!==Bt&&wl(P,S,R))&&("**"===R.path||Os(P,R,S).matched)}function la(R,P,S){return 0===P.length&&!R.children[S]}const ll=!1;class $a{constructor(P){this.segmentGroup=P||null}}class qs{constructor(P){this.urlTree=P}}function Hs(R){return(0,ae._)(new $a(R))}function $i(R){return(0,ae._)(new qs(R))}class Oc{constructor(P,S,G,q,_e){this.injector=P,this.configLoader=S,this.urlSerializer=G,this.urlTree=q,this.config=_e,this.allowRedirects=!0}apply(){const P=Xi(this.urlTree.root,[],[],this.config).segmentGroup,S=new Wt(P.segments,P.children);return this.expandSegmentGroup(this.injector,this.config,S,Bt).pipe((0,Ft.U)(_e=>this.createUrlTree(De(_e),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,At.K)(_e=>{if(_e instanceof qs)return this.allowRedirects=!1,this.match(_e.urlTree);throw _e instanceof $a?this.noMatchError(_e):_e}))}match(P){return this.expandSegmentGroup(this.injector,this.config,P.root,Bt).pipe((0,Ft.U)(q=>this.createUrlTree(De(q),P.queryParams,P.fragment))).pipe((0,At.K)(q=>{throw q instanceof $a?this.noMatchError(q):q}))}noMatchError(P){return new a.vHH(4002,ll)}createUrlTree(P,S,G){const q=ve(P);return new Ot(q,S,G)}expandSegmentGroup(P,S,G,q){return 0===G.segments.length&&G.hasChildren()?this.expandChildren(P,S,G).pipe((0,Ft.U)(_e=>new Wt([],_e))):this.expandSegment(P,G,S,G.segments,q,!0)}expandChildren(P,S,G){const q=[];for(const _e of Object.keys(G.children))"primary"===_e?q.unshift(_e):q.push(_e);return(0,E.D)(q).pipe((0,Ge.b)(_e=>{const ke=G.children[_e],Fe=ui(S,_e);return this.expandSegmentGroup(P,Fe,ke,_e).pipe((0,Ft.U)(mt=>({segment:mt,outlet:_e})))}),(0,ln.R)((_e,ke)=>(_e[ke.outlet]=ke.segment,_e),{}),$t())}expandSegment(P,S,G,q,_e,ke){return(0,E.D)(G).pipe((0,Ge.b)(Fe=>this.expandSegmentAgainstRoute(P,S,G,Fe,q,_e,ke).pipe((0,At.K)(an=>{if(an instanceof $a)return(0,B.of)(null);throw an}))),(0,Te.P)(Fe=>!!Fe),(0,At.K)((Fe,mt)=>{if(zo(Fe))return la(S,q,_e)?(0,B.of)(new Wt([],{})):Hs(S);throw Fe}))}expandSegmentAgainstRoute(P,S,G,q,_e,ke,Fe){return aa(q,S,_e,ke)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(P,S,q,_e,ke):Fe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,S,G,q,_e,ke):Hs(S):Hs(S)}expandSegmentAgainstRouteUsingRedirect(P,S,G,q,_e,ke){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,G,q,ke):this.expandRegularSegmentAgainstRouteUsingRedirect(P,S,G,q,_e,ke)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,S,G,q){const _e=this.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?$i(_e):this.lineralizeSegments(G,_e).pipe((0,dt.z)(ke=>{const Fe=new Wt(ke,{});return this.expandSegment(P,Fe,S,ke,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,S,G,q,_e,ke){const{matched:Fe,consumedSegments:mt,remainingSegments:an,positionalParamSegments:Bn}=Os(S,q,_e);if(!Fe)return Hs(S);const un=this.applyRedirectCommands(mt,q.redirectTo,Bn);return q.redirectTo.startsWith("/")?$i(un):this.lineralizeSegments(q,un).pipe((0,dt.z)(_r=>this.expandSegment(P,S,G,_r.concat(an),ke,!1)))}matchSegmentAgainstRoute(P,S,G,q,_e){return"**"===G.path?(P=ss(G,P),G.loadChildren?(G._loadedRoutes?(0,B.of)({routes:G._loadedRoutes,injector:G._loadedInjector}):this.configLoader.loadChildren(P,G)).pipe((0,Ft.U)(Fe=>(G._loadedRoutes=Fe.routes,G._loadedInjector=Fe.injector,new Wt(q,{})))):(0,B.of)(new Wt(q,{}))):Ga(S,G,q,P).pipe((0,it.w)(({matched:ke,consumedSegments:Fe,remainingSegments:mt})=>{var an;return ke?(P=null!==(an=G._injector)&&void 0!==an?an:P,this.getChildConfig(P,G,q).pipe((0,dt.z)(un=>{var _r;const ti=null!==(_r=un.injector)&&void 0!==_r?_r:P,Es=un.routes,{segmentGroup:fo,slicedSegments:Do}=Xi(S,Fe,mt,Es),dl=new Wt(fo.segments,fo.children);if(0===Do.length&&dl.hasChildren())return this.expandChildren(ti,Es,dl).pipe((0,Ft.U)(Js=>new Wt(Fe,Js)));if(0===Es.length&&0===Do.length)return(0,B.of)(new Wt(Fe,{}));const Ir=Ms(G)===_e;return this.expandSegment(ti,dl,Es,Do,Ir?Bt:_e,!0).pipe((0,Ft.U)(Io=>new Wt(Fe.concat(Io.segments),Io.children)))}))):Hs(S)}))}getChildConfig(P,S,G){return S.children?(0,B.of)({routes:S.children,injector:P}):S.loadChildren?void 0!==S._loadedRoutes?(0,B.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function Ko(R,P,S,G){const q=P.canLoad;if(void 0===q||0===q.length)return(0,B.of)(!0);const _e=q.map(ke=>{const Fe=Uo(ke,R);return Nr(function ra(R){return R&&Dr(R.canLoad)}(Fe)?Fe.canLoad(P,S):R.runInContext(()=>Fe(P,S)))});return(0,B.of)(_e).pipe(J(),Bo())}(P,S,G).pipe((0,dt.z)(q=>q?this.configLoader.loadChildren(P,S).pipe((0,Qe.b)(_e=>{S._loadedRoutes=_e.routes,S._loadedInjector=_e.injector})):function ac(R){return(0,ae._)(rl(ll,3))}())):(0,B.of)({routes:[],injector:P})}lineralizeSegments(P,S){let G=[],q=S.root;for(;;){if(G=G.concat(q.segments),0===q.numberOfChildren)return(0,B.of)(G);if(q.numberOfChildren>1||!q.children[Bt])return(0,ae._)(new a.vHH(4e3,ll));q=q.children[Bt]}}applyRedirectCommands(P,S,G){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),P,G)}applyRedirectCreateUrlTree(P,S,G,q){const _e=this.createSegmentGroup(P,S.root,G,q);return new Ot(_e,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(P,S){const G={};return tr(P,(q,_e)=>{if("string"==typeof q&&q.startsWith(":")){const Fe=q.substring(1);G[_e]=S[Fe]}else G[_e]=q}),G}createSegmentGroup(P,S,G,q){const _e=this.createSegments(P,S.segments,G,q);let ke={};return tr(S.children,(Fe,mt)=>{ke[mt]=this.createSegmentGroup(P,Fe,G,q)}),new Wt(_e,ke)}createSegments(P,S,G,q){return S.map(_e=>_e.path.startsWith(":")?this.findPosParam(P,_e,q):this.findOrReturn(_e,G))}findPosParam(P,S,G){const q=G[S.path.substring(1)];if(!q)throw new a.vHH(4001,ll);return q}findOrReturn(P,S){let G=0;for(const q of S){if(q.path===P.path)return S.splice(G),q;G++}return P}}class zl{}class eu{constructor(P,S,G,q,_e,ke,Fe,mt){this.injector=P,this.rootComponentType=S,this.config=G,this.urlTree=q,this.url=_e,this.paramsInheritanceStrategy=ke,this.relativeLinkResolution=Fe,this.urlSerializer=mt}recognize(){const P=Xi(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,P,Bt).pipe((0,Ft.U)(S=>{if(null===S)return null;const G=new ao([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new Vn(G,S),_e=new fs(this.url,q);return this.inheritParamsAndData(_e._root),_e}))}inheritParamsAndData(P){const S=P.value,G=Vs(S,this.paramsInheritanceStrategy);S.params=Object.freeze(G.params),S.data=Object.freeze(G.data),P.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(P,S,G,q){return 0===G.segments.length&&G.hasChildren()?this.processChildren(P,S,G):this.processSegment(P,S,G,G.segments,q)}processChildren(P,S,G){return(0,E.D)(Object.keys(G.children)).pipe((0,Ge.b)(q=>{const _e=G.children[q],ke=ui(S,q);return this.processSegmentGroup(P,ke,_e,q)}),(0,ln.R)((q,_e)=>q&&_e?(q.push(..._e),q):null),function jt(R,P=!1){return(0,Me.e)((S,G)=>{let q=0;S.subscribe((0,Ne.x)(G,_e=>{const ke=R(_e,q++);(ke||P)&&G.next(_e),!ke&&G.complete()}))})}(q=>null!==q),(0,bt.d)(null),$t(),(0,Ft.U)(q=>{if(null===q)return null;const _e=Qs(q);return function Wl(R){R.sort((P,S)=>P.value.outlet===Bt?-1:S.value.outlet===Bt?1:P.value.outlet.localeCompare(S.value.outlet))}(_e),_e}))}processSegment(P,S,G,q,_e){return(0,E.D)(S).pipe((0,Ge.b)(ke=>{var Fe;return this.processSegmentAgainstRoute(null!==(Fe=ke._injector)&&void 0!==Fe?Fe:P,ke,G,q,_e)}),(0,Te.P)(ke=>!!ke),(0,At.K)(ke=>{if(zo(ke))return la(G,q,_e)?(0,B.of)([]):(0,B.of)(null);throw ke}))}processSegmentAgainstRoute(P,S,G,q,_e){if(S.redirectTo||!aa(S,G,q,_e))return(0,B.of)(null);let ke;if("**"===S.path){var Fe,mt;const an=q.length>0?Gr(q).parameters:{},Bn=Si(G)+q.length,un=new ao(q,an,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Eo(S),Ms(S),null!==(Fe=null!==(mt=S.component)&&void 0!==mt?mt:S._loadedComponent)&&void 0!==Fe?Fe:null,S,Kl(G),Bn,$(S),Bn);ke=(0,B.of)({snapshot:un,consumedSegments:[],remainingSegments:[]})}else ke=Ga(G,S,q,P).pipe((0,Ft.U)(({matched:an,consumedSegments:Bn,remainingSegments:un,parameters:_r})=>{var ti,Es;if(!an)return null;const fo=Si(G)+Bn.length;return{snapshot:new ao(Bn,_r,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Eo(S),Ms(S),null!==(ti=null!==(Es=S.component)&&void 0!==Es?Es:S._loadedComponent)&&void 0!==ti?ti:null,S,Kl(G),fo,$(S),fo),consumedSegments:Bn,remainingSegments:un}}));return ke.pipe((0,it.w)(an=>{var Bn,un;if(null===an)return(0,B.of)(null);const{snapshot:_r,consumedSegments:ti,remainingSegments:Es}=an;P=null!==(Bn=S._injector)&&void 0!==Bn?Bn:P;const fo=null!==(un=S._loadedInjector)&&void 0!==un?un:P,Do=function Du(R){return R.children?R.children:R.loadChildren?R._loadedRoutes:[]}(S),{segmentGroup:dl,slicedSegments:Ir}=Xi(G,ti,Es,Do.filter(Io=>void 0===Io.redirectTo),this.relativeLinkResolution);if(0===Ir.length&&dl.hasChildren())return this.processChildren(fo,Do,dl).pipe((0,Ft.U)(Io=>null===Io?null:[new Vn(_r,Io)]));if(0===Do.length&&0===Ir.length)return(0,B.of)([new Vn(_r,[])]);const nu=Ms(S)===_e;return this.processSegment(fo,Do,dl,Ir,nu?Bt:_e).pipe((0,Ft.U)(Io=>null===Io?null:[new Vn(_r,Io)]))}))}}function Zo(R){const P=R.value.routeConfig;return P&&""===P.path&&void 0===P.redirectTo}function Qs(R){const P=[],S=new Set;for(const G of R){if(!Zo(G)){P.push(G);continue}const q=P.find(_e=>G.value.routeConfig===_e.value.routeConfig);void 0!==q?(q.children.push(...G.children),S.add(q)):P.push(G)}for(const G of S){const q=Qs(G.children);P.push(new Vn(G.value,q))}return P.filter(G=>!S.has(G))}function Kl(R){let P=R;for(;P._sourceSegment;)P=P._sourceSegment;return P}function Si(R){var P;let S=R,G=null!==(P=S._segmentIndexShift)&&void 0!==P?P:0;for(;S._sourceSegment;){var q;S=S._sourceSegment,G+=null!==(q=S._segmentIndexShift)&&void 0!==q?q:0}return G-1}function Eo(R){return R.data||{}}function $(R){return R.resolve||{}}function pn(R){return"string"==typeof R.title||null===R.title}function nr(R){return(0,it.w)(P=>{const S=R(P);return S?(0,E.D)(S).pipe((0,Ft.U)(()=>P)):(0,B.of)(P)})}let Or=(()=>{class R{buildTitle(S){let G,q=S.root;for(;void 0!==q;){var _e;G=null!==(_e=this.getResolvedTitleForRoute(q))&&void 0!==_e?_e:G,q=q.children.find(ke=>ke.outlet===Bt)}return G}getResolvedTitleForRoute(S){return S.data[Pn]}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=a.Yz7({token:R,factory:function(){return(0,a.f3M)(Lr)},providedIn:"root"}),R})(),Lr=(()=>{class R extends Or{constructor(S){super(),this.title=S}updateTitle(S){const G=this.buildTitle(S);void 0!==G&&this.title.setTitle(G)}}return R.\u0275fac=function(S){return new(S||R)(a.LFG(Mn.Dx))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();class Di{}class mr extends class zt{shouldDetach(P){return!1}store(P,S){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,S){return P.routeConfig===S.routeConfig}}{}const Rs=new a.OlP("",{providedIn:"root",factory:()=>({})}),bn=new a.OlP("ROUTES");let Dl=(()=>{class R{constructor(S,G){this.injector=S,this.compiler=G,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,B.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const G=Nr(S.loadComponent()).pipe((0,Qe.b)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=_e}),yn(()=>{this.componentLoaders.delete(S)})),q=new qe(G,()=>new nt.x).pipe(ot());return this.componentLoaders.set(S,q),q}loadChildren(S,G){if(this.childrenLoaders.get(G))return this.childrenLoaders.get(G);if(G._loadedRoutes)return(0,B.of)({routes:G._loadedRoutes,injector:G._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(G);const _e=this.loadModuleFactoryOrRoutes(G.loadChildren).pipe((0,Ft.U)(Fe=>{this.onLoadEndListener&&this.onLoadEndListener(G);let mt,an,Bn=!1;Array.isArray(Fe)?an=Fe:(mt=Fe.create(S).injector,an=dr(mt.get(bn,[],a.XFs.Self|a.XFs.Optional)));return{routes:an.map(bo),injector:mt}}),yn(()=>{this.childrenLoaders.delete(G)})),ke=new qe(_e,()=>new nt.x).pipe(ot());return this.childrenLoaders.set(G,ke),ke}loadModuleFactoryOrRoutes(S){return Nr(S()).pipe((0,dt.z)(G=>G instanceof a.YKP||Array.isArray(G)?(0,B.of)(G):(0,E.D)(this.compiler.compileModuleAsync(G))))}}return R.\u0275fac=function(S){return new(S||R)(a.LFG(a.zs3),a.LFG(a.Sil))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();class cn{}class Tt{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,S){return P}}function zi(R){throw R}function za(R,P,S){return P.parse("/")}const Wa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Pc(){var R,P;const S=(0,a.f3M)(kn),G=(0,a.f3M)(vo),q=(0,a.f3M)(We.Ye),_e=(0,a.f3M)(a.zs3),ke=(0,a.f3M)(a.Sil),Fe=null!==(R=(0,a.f3M)(bn,{optional:!0}))&&void 0!==R?R:[],mt=null!==(P=(0,a.f3M)(Rs,{optional:!0}))&&void 0!==P?P:{},an=(0,a.f3M)(Lr),Bn=(0,a.f3M)(Or,{optional:!0}),un=(0,a.f3M)(cn,{optional:!0}),_r=(0,a.f3M)(Di,{optional:!0}),ti=new gs(null,S,G,q,_e,ke,dr(Fe));return un&&(ti.urlHandlingStrategy=un),_r&&(ti.routeReuseStrategy=_r),ti.titleStrategy=Bn??an,function Il(R,P){R.errorHandler&&(P.errorHandler=R.errorHandler),R.malformedUriErrorHandler&&(P.malformedUriErrorHandler=R.malformedUriErrorHandler),R.onSameUrlNavigation&&(P.onSameUrlNavigation=R.onSameUrlNavigation),R.paramsInheritanceStrategy&&(P.paramsInheritanceStrategy=R.paramsInheritanceStrategy),R.relativeLinkResolution&&(P.relativeLinkResolution=R.relativeLinkResolution),R.urlUpdateStrategy&&(P.urlUpdateStrategy=R.urlUpdateStrategy),R.canceledNavigationResolution&&(P.canceledNavigationResolution=R.canceledNavigationResolution)}(mt,ti),ti}let gs=(()=>{class R{constructor(S,G,q,_e,ke,Fe,mt){this.rootComponentType=S,this.urlSerializer=G,this.rootContexts=q,this.location=_e,this.config=mt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nt.x,this.errorHandler=zi,this.malformedUriErrorHandler=za,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,B.of)(void 0),this.urlHandlingStrategy=new Tt,this.routeReuseStrategy=new mr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ke.get(Dl),this.configLoader.onLoadEndListener=_r=>this.triggerEvent(new nl(_r)),this.configLoader.onLoadStartListener=_r=>this.triggerEvent(new _o(_r)),this.ngModule=ke.get(a.h0i),this.console=ke.get(a.c2e);const un=ke.get(a.R0b);this.isNgZoneEnabled=un instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(mt),this.currentUrlTree=function Fr(){return new Ot(new Wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ni(this.currentUrlTree,this.rootComponentType),this.transitions=new ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var S;return null===(S=this.location.getState())||void 0===S?void 0:S.\u0275routerPageId}setupNavigations(S){const G=this.events;return S.pipe((0,Ct.h)(q=>0!==q.id),(0,Ft.U)(q=>({...q,extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,it.w)(q=>{let _e=!1,ke=!1;return(0,B.of)(q).pipe((0,Qe.b)(Fe=>{this.currentNavigation={id:Fe.id,initialUrl:Fe.rawUrl,extractedUrl:Fe.extractedUrl,trigger:Fe.source,extras:Fe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,it.w)(Fe=>{const mt=this.browserUrlTree.toString(),an=!this.navigated||Fe.extractedUrl.toString()!==mt||mt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||an)&&this.urlHandlingStrategy.shouldProcessUrl(Fe.rawUrl))return cl(Fe.source)&&(this.browserUrlTree=Fe.extractedUrl),(0,B.of)(Fe).pipe((0,it.w)(un=>{const _r=this.transitions.getValue();return G.next(new Us(un.id,this.serializeUrl(un.extractedUrl),un.source,un.restoredState)),_r!==this.transitions.getValue()?ye.E:Promise.resolve(un)}),function $l(R,P,S,G){return(0,it.w)(q=>function lc(R,P,S,G,q){return new Oc(R,P,S,G,q).apply()}(R,P,S,q.extractedUrl,G).pipe((0,Ft.U)(_e=>({...q,urlAfterRedirects:_e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qe.b)(un=>{this.currentNavigation={...this.currentNavigation,finalUrl:un.urlAfterRedirects},q.urlAfterRedirects=un.urlAfterRedirects}),function re(R,P,S,G,q,_e){return(0,dt.z)(ke=>function El(R,P,S,G,q,_e,ke="emptyOnly",Fe="legacy"){return new eu(R,P,S,G,q,ke,Fe,_e).recognize().pipe((0,it.w)(mt=>null===mt?function Yo(R){return new le.y(P=>P.error(R))}(new zl):(0,B.of)(mt)))}(R,P,S,ke.urlAfterRedirects,G.serialize(ke.urlAfterRedirects),G,q,_e).pipe((0,Ft.U)(Fe=>({...ke,targetSnapshot:Fe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qe.b)(un=>{if(q.targetSnapshot=un.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!un.extras.skipLocationChange){const ti=this.urlHandlingStrategy.merge(un.urlAfterRedirects,un.rawUrl);this.setBrowserUrl(ti,un)}this.browserUrlTree=un.urlAfterRedirects}const _r=new Ws(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);G.next(_r)}));if(an&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_r,extractedUrl:ti,source:Es,restoredState:fo,extras:Do}=Fe,dl=new Us(_r,this.serializeUrl(ti),Es,fo);G.next(dl);const Ir=ni(ti,this.rootComponentType).snapshot;return q={...Fe,targetSnapshot:Ir,urlAfterRedirects:ti,extras:{...Do,skipLocationChange:!1,replaceUrl:!1}},(0,B.of)(q)}return this.rawUrlTree=Fe.rawUrl,Fe.resolve(null),ye.E}),(0,Qe.b)(Fe=>{const mt=new oo(Fe.id,this.serializeUrl(Fe.extractedUrl),this.serializeUrl(Fe.urlAfterRedirects),Fe.targetSnapshot);this.triggerEvent(mt)}),(0,Ft.U)(Fe=>q={...Fe,guards:Hl(Fe.targetSnapshot,Fe.currentSnapshot,this.rootContexts)}),function Y(R,P){return(0,dt.z)(S=>{const{targetSnapshot:G,currentSnapshot:q,guards:{canActivateChecks:_e,canDeactivateChecks:ke}}=S;return 0===ke.length&&0===_e.length?(0,B.of)({...S,guardsResult:!0}):function H(R,P,S,G){return(0,E.D)(R).pipe((0,dt.z)(q=>function wo(R,P,S,G,q){const _e=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!_e||0===_e.length)return(0,B.of)(!0);const ke=_e.map(Fe=>{var mt;const an=null!==(mt=ps(P))&&void 0!==mt?mt:q,Bn=Uo(Fe,an);return Nr(function Ha(R){return R&&Dr(R.canDeactivate)}(Bn)?Bn.canDeactivate(R,P,S,G):an.runInContext(()=>Bn(R,P,S,G))).pipe((0,Te.P)())});return(0,B.of)(ke).pipe(J())}(q.component,q.route,S,P,G)),(0,Te.P)(q=>!0!==q,!0))}(ke,G,q,R).pipe((0,dt.z)(Fe=>Fe&&function ol(R){return"boolean"==typeof R}(Fe)?function me(R,P,S,G){return(0,E.D)(P).pipe((0,Ge.b)(q=>(0,Ee.z)(function En(R,P){return null!==R&&P&&P(new yl(R)),(0,B.of)(!0)}(q.route.parent,G),function _t(R,P){return null!==R&&P&&P(new sc(R)),(0,B.of)(!0)}(q.route,G),function Wo(R,P,S){const G=P[P.length-1],_e=P.slice(0,P.length-1).reverse().map(ke=>function il(R){const P=R.routeConfig?R.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:R,guards:P}:null}(ke)).filter(ke=>null!==ke).map(ke=>(0,oe.P)(()=>{const Fe=ke.guards.map(mt=>{var an;const Bn=null!==(an=ps(ke.node))&&void 0!==an?an:S,un=Uo(mt,Bn);return Nr(function Ys(R){return R&&Dr(R.canActivateChild)}(un)?un.canActivateChild(G,R):Bn.runInContext(()=>un(G,R))).pipe((0,Te.P)())});return(0,B.of)(Fe).pipe(J())}));return(0,B.of)(_e).pipe(J())}(R,q.path,S),function Vr(R,P,S){const G=P.routeConfig?P.routeConfig.canActivate:null;if(!G||0===G.length)return(0,B.of)(!0);const q=G.map(_e=>(0,oe.P)(()=>{var ke;const Fe=null!==(ke=ps(P))&&void 0!==ke?ke:S,mt=Uo(_e,Fe);return Nr(function Oi(R){return R&&Dr(R.canActivate)}(mt)?mt.canActivate(P,R):Fe.runInContext(()=>mt(P,R))).pipe((0,Te.P)())}));return(0,B.of)(q).pipe(J())}(R,q.route,S))),(0,Te.P)(q=>!0!==q,!0))}(G,_e,R,P):(0,B.of)(Fe)),(0,Ft.U)(Fe=>({...S,guardsResult:Fe})))})}(this.ngModule.injector,Fe=>this.triggerEvent(Fe)),(0,Qe.b)(Fe=>{if(q.guardsResult=Fe.guardsResult,$e(Fe.guardsResult))throw ya(0,Fe.guardsResult);const mt=new Bi(Fe.id,this.serializeUrl(Fe.extractedUrl),this.serializeUrl(Fe.urlAfterRedirects),Fe.targetSnapshot,!!Fe.guardsResult);this.triggerEvent(mt)}),(0,Ct.h)(Fe=>!!Fe.guardsResult||(this.restoreHistory(Fe),this.cancelNavigationTransition(Fe,"",3),!1)),nr(Fe=>{if(Fe.guards.canActivateChecks.length)return(0,B.of)(Fe).pipe((0,Qe.b)(mt=>{const an=new ga(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);this.triggerEvent(an)}),(0,it.w)(mt=>{let an=!1;return(0,B.of)(mt).pipe(function W(R,P){return(0,dt.z)(S=>{const{targetSnapshot:G,guards:{canActivateChecks:q}}=S;if(!q.length)return(0,B.of)(S);let _e=0;return(0,E.D)(q).pipe((0,Ge.b)(ke=>function ge(R,P,S,G){const q=R.routeConfig,_e=R._resolve;return void 0!==q?.title&&!pn(q)&&(_e[Pn]=q.title),function ze(R,P,S,G){const q=function Dt(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}(R);if(0===q.length)return(0,B.of)({});const _e={};return(0,E.D)(q).pipe((0,dt.z)(ke=>function Mt(R,P,S,G){var q;const _e=null!==(q=ps(P))&&void 0!==q?q:G,ke=Uo(R,_e);return Nr(ke.resolve?ke.resolve(P,S):_e.runInContext(()=>ke(P,S)))}(R[ke],P,S,G).pipe((0,Te.P)(),(0,Qe.b)(Fe=>{_e[ke]=Fe}))),Lt(1),(0,vt.h)(_e),(0,At.K)(ke=>zo(ke)?ye.E:(0,ae._)(ke)))}(_e,R,P,G).pipe((0,Ft.U)(ke=>(R._resolvedData=ke,R.data=Vs(R,S).resolve,q&&pn(q)&&(R.data[Pn]=q.title),null)))}(ke.route,G,R,P)),(0,Qe.b)(()=>_e++),Lt(1),(0,dt.z)(ke=>_e===q.length?(0,B.of)(S):ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qe.b)({next:()=>an=!0,complete:()=>{an||(this.restoreHistory(mt),this.cancelNavigationTransition(mt,"",2))}}))}),(0,Qe.b)(mt=>{const an=new Zi(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);this.triggerEvent(an)}))}),nr(Fe=>{const mt=an=>{var Bn;const un=[];null!==(Bn=an.routeConfig)&&void 0!==Bn&&Bn.loadComponent&&!an.routeConfig._loadedComponent&&un.push(this.configLoader.loadComponent(an.routeConfig).pipe((0,Qe.b)(_r=>{an.component=_r}),(0,Ft.U)(()=>{})));for(const _r of an.children)un.push(...mt(_r));return un};return(0,pe.a)(mt(Fe.targetSnapshot.root)).pipe((0,bt.d)(),(0,Ke.q)(1))}),nr(()=>this.afterPreactivation()),(0,Ft.U)(Fe=>{const mt=function Ra(R,P,S){const G=yo(R,P._root,S?S._root:void 0);return new Xr(G,P)}(this.routeReuseStrategy,Fe.targetSnapshot,Fe.currentRouterState);return q={...Fe,targetRouterState:mt}}),(0,Qe.b)(Fe=>{this.currentUrlTree=Fe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Fe.urlAfterRedirects,Fe.rawUrl),this.routerState=Fe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Fe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Fe),this.browserUrlTree=Fe.urlAfterRedirects)}),((R,P,S)=>(0,Ft.U)(G=>(new zn(P,G.targetRouterState,G.currentRouterState,S).activate(R),G)))(this.rootContexts,this.routeReuseStrategy,Fe=>this.triggerEvent(Fe)),(0,Qe.b)({next(){_e=!0},complete(){_e=!0}}),yn(()=>{var Fe;_e||ke||this.cancelNavigationTransition(q,"",1),(null===(Fe=this.currentNavigation)||void 0===Fe?void 0:Fe.id)===q.id&&(this.currentNavigation=null)}),(0,At.K)(Fe=>{if(ke=!0,Is(Fe)){lo(Fe)||(this.navigated=!0,this.restoreHistory(q,!0));const an=new ta(q.id,this.serializeUrl(q.extractedUrl),Fe.message,Fe.cancellationCode);if(G.next(an),lo(Fe)){const Bn=this.urlHandlingStrategy.merge(Fe.url,this.rawUrlTree),un={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cl(q.source)};this.scheduleNavigation(Bn,"imperative",null,un,{resolve:q.resolve,reject:q.reject,promise:q.promise})}else q.resolve(!1)}else{var mt;this.restoreHistory(q,!0);const an=new gi(q.id,this.serializeUrl(q.extractedUrl),Fe,null!==(mt=q.targetSnapshot)&&void 0!==mt?mt:void 0);G.next(an);try{q.resolve(this.errorHandler(Fe))}catch(Bn){q.reject(Bn)}}return ye.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}setTransition(S){this.transitions.next({...this.transitions.value,...S})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const G="popstate"===S.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{var q;const _e={replaceUrl:!0},ke=null!==(q=S.state)&&void 0!==q&&q.navigationId?S.state:null;if(ke){const mt={...ke};delete mt.navigationId,delete mt.\u0275routerPageId,0!==Object.keys(mt).length&&(_e.state=mt)}const Fe=this.parseUrl(S.url);this.scheduleNavigation(Fe,G,ke,_e)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){this.config=S.map(bo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,G={}){const{relativeTo:q,queryParams:_e,fragment:ke,queryParamsHandling:Fe,preserveFragment:mt}=G,an=q||this.routerState.root,Bn=mt?this.currentUrlTree.fragment:ke;let un=null;switch(Fe){case"merge":un={...this.currentUrlTree.queryParams,..._e};break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=_e||null}return null!==un&&(un=this.removeEmptyProps(un)),Cn(an,this.currentUrlTree,S,un,Bn??null)}navigateByUrl(S,G={skipLocationChange:!1}){const q=$e(S)?S:this.parseUrl(S),_e=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(_e,"imperative",null,G)}navigate(S,G={skipLocationChange:!1}){return function kc(R){for(let P=0;P<R.length;P++){if(null==R[P])throw new a.vHH(4008,false)}}(S),this.navigateByUrl(this.createUrlTree(S,G),G)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let G;try{G=this.urlSerializer.parse(S)}catch(q){G=this.malformedUriErrorHandler(q,this.urlSerializer,S)}return G}isActive(S,G){let q;if(q=!0===G?{...Wa}:!1===G?{...Oe}:G,$e(S))return ci(this.currentUrlTree,S,q);const _e=this.parseUrl(S);return ci(this.currentUrlTree,_e,q)}removeEmptyProps(S){return Object.keys(S).reduce((G,q)=>{const _e=S[q];return null!=_e&&(G[q]=_e),G},{})}processNavigations(){this.navigations.subscribe(S=>{var G;this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new pi(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(G=this.titleStrategy)||void 0===G||G.updateTitle(this.routerState.snapshot),S.resolve(!0)},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}scheduleNavigation(S,G,q,_e,ke){if(this.disposed)return Promise.resolve(!1);let Fe,mt,an;ke?(Fe=ke.resolve,mt=ke.reject,an=ke.promise):an=new Promise((Es,fo)=>{Fe=Es,mt=fo});const Bn=++this.navigationId;let un;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(q=this.location.getState()),q&&q.\u0275routerPageId)un=q.\u0275routerPageId;else if(_e.replaceUrl||_e.skipLocationChange){var _r;un=null!==(_r=this.browserPageId)&&void 0!==_r?_r:0}else{var ti;un=(null!==(ti=this.browserPageId)&&void 0!==ti?ti:0)+1}else un=0;return this.setTransition({id:Bn,targetPageId:un,source:G,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:_e,resolve:Fe,reject:mt,promise:an,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),an.catch(Es=>Promise.reject(Es))}setBrowserUrl(S,G){const q=this.urlSerializer.serialize(S),_e={...G.extras.state,...this.generateNgRouterState(G.id,G.targetPageId)};this.location.isCurrentPathEqualTo(q)||G.extras.replaceUrl?this.location.replaceState(q,"",_e):this.location.go(q,"",_e)}restoreHistory(S,G=!1){if("computed"===this.canceledNavigationResolution){var q,_e;const ke=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)||0===ke?this.currentUrlTree===(null===(_e=this.currentNavigation)||void 0===_e?void 0:_e.finalUrl)&&0===ke&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ke)}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,G,q){const _e=new ta(S.id,this.serializeUrl(S.extractedUrl),G,q);this.triggerEvent(_e),S.resolve(!1)}generateNgRouterState(S,G){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:G}:{navigationId:S}}}return R.\u0275fac=function(S){a.$Z()},R.\u0275prov=a.Yz7({token:R,factory:function(){return Pc()},providedIn:"root"}),R})();function cl(R){return"imperative"!==R}let ka=(()=>{class R{constructor(S,G,q,_e,ke){this.router=S,this.route=G,this.tabIndexAttribute=q,this.renderer=_e,this.el=ke,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new nt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(S){this._preserveFragment=(0,a.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,a.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,a.D6c)(S)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(S){if(null!=this.tabIndexAttribute)return;const G=this.renderer,q=this.el.nativeElement;null!==S?G.setAttribute(q,"tabindex",S):G.removeAttribute(q,"tabindex")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return R.\u0275fac=function(S){return new(S||R)(a.Y36(gs),a.Y36(Bs),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},R.\u0275dir=a.lG2({type:R,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,G){1&S&&a.NdJ("click",function(){return G.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),R})(),Wi=(()=>{class R{constructor(S,G,q){this.router=S,this.route=G,this.locationStrategy=q,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new nt.x,this.subscription=S.events.subscribe(_e=>{_e instanceof pi&&this.updateTargetUrlAndHref()})}set preserveFragment(S){this._preserveFragment=(0,a.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,a.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,a.D6c)(S)}get replaceUrl(){return this._replaceUrl}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:null}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,G,q,_e,ke){return!!(0!==S||G||q||_e||ke||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return R.\u0275fac=function(S){return new(S||R)(a.Y36(gs),a.Y36(Bs),a.Y36(We.S$))},R.\u0275dir=a.lG2({type:R,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,G){1&S&&a.NdJ("click",function(_e){return G.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&S&&a.uIk("target",G.target)("href",G.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),R})(),ei=(()=>{class R{constructor(S,G,q,_e,ke,Fe){this.router=S,this.element=G,this.renderer=q,this.cdr=_e,this.link=ke,this.linkWithHref=Fe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=S.events.subscribe(mt=>{mt instanceof pi&&this.update()})}ngAfterContentInit(){(0,B.of)(this.links.changes,this.linksWithHrefs.changes,(0,B.of)(null)).pipe((0,Jt.J)()).subscribe(S=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var S;null===(S=this.linkInputChangesSubscription)||void 0===S||S.unsubscribe();const G=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(q=>!!q).map(q=>q.onChanges);this.linkInputChangesSubscription=(0,E.D)(G).pipe((0,Jt.J)()).subscribe(q=>{this.isActive!==this.isLinkActive(this.router)(q)&&this.update()})}set routerLinkActive(S){const G=Array.isArray(S)?S:S.split(" ");this.classes=G.filter(q=>!!q)}ngOnChanges(S){this.update()}ngOnDestroy(){var S;this.routerEventsSubscription.unsubscribe(),null===(S=this.linkInputChangesSubscription)||void 0===S||S.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const S=this.hasActiveLinks();this.isActive!==S&&(this.isActive=S,this.cdr.markForCheck(),this.classes.forEach(G=>{S?this.renderer.addClass(this.element.nativeElement,G):this.renderer.removeClass(this.element.nativeElement,G)}),S&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(S))})}isLinkActive(S){const G=function br(R){return!!R.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&S.isActive(q.urlTree,G)}hasActiveLinks(){const S=this.isLinkActive(this.router);return this.link&&S(this.link)||this.linkWithHref&&S(this.linkWithHref)||this.links.some(S)||this.linksWithHrefs.some(S)}}return R.\u0275fac=function(S){return new(S||R)(a.Y36(gs),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(ka,8),a.Y36(Wi,8))},R.\u0275dir=a.lG2({type:R,selectors:[["","routerLinkActive",""]],contentQueries:function(S,G,q){if(1&S&&(a.Suo(q,ka,5),a.Suo(q,Wi,5)),2&S){let _e;a.iGM(_e=a.CRH())&&(G.links=_e),a.iGM(_e=a.CRH())&&(G.linksWithHrefs=_e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),R})();class di{}let rr=(()=>{class R{constructor(S,G,q,_e,ke){this.router=S,this.injector=q,this.preloadingStrategy=_e,this.loader=ke}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ct.h)(S=>S instanceof pi),(0,Ge.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,G){const q=[];for(const mt of G){var _e,ke;mt.providers&&!mt._injector&&(mt._injector=(0,a.MMx)(mt.providers,S,`Route: ${mt.path}`));const an=null!==(_e=mt._injector)&&void 0!==_e?_e:S,Bn=null!==(ke=mt._loadedInjector)&&void 0!==ke?ke:an;if(mt.loadChildren&&!mt._loadedRoutes&&void 0===mt.canLoad||mt.loadComponent&&!mt._loadedComponent)q.push(this.preloadConfig(an,mt));else if(mt.children||mt._loadedRoutes){var Fe;q.push(this.processRoutes(Bn,null!==(Fe=mt.children)&&void 0!==Fe?Fe:mt._loadedRoutes))}}return(0,E.D)(q).pipe((0,Jt.J)())}preloadConfig(S,G){return this.preloadingStrategy.preload(G,()=>{let q;q=G.loadChildren&&void 0===G.canLoad?this.loader.loadChildren(S,G):(0,B.of)(null);const _e=q.pipe((0,dt.z)(ke=>{var Fe;return null===ke?(0,B.of)(void 0):(G._loadedRoutes=ke.routes,G._loadedInjector=ke.injector,this.processRoutes(null!==(Fe=ke.injector)&&void 0!==Fe?Fe:S,ke.routes))}));if(G.loadComponent&&!G._loadedComponent){const ke=this.loader.loadComponent(G);return(0,E.D)([_e,ke]).pipe((0,Jt.J)())}return _e})}}return R.\u0275fac=function(S){return new(S||R)(a.LFG(gs),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(di),a.LFG(Dl))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const ul=new a.OlP("");let Wr=(()=>{class R{constructor(S,G,q={}){this.router=S,this.viewportScroller=G,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Us?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof pi&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof ht&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,G){this.router.triggerEvent(new ht(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return R.\u0275fac=function(S){a.$Z()},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac}),R})();function Pi(R,P){return{\u0275kind:R,\u0275providers:P}}function Cl(R){return[{provide:bn,multi:!0,useValue:R}]}function ca(){const R=(0,a.f3M)(a.zs3);return P=>{var S,G;const q=R.get(a.z2F);if(P!==q.components[0])return;const _e=R.get(gs),ke=R.get(uc);1===R.get(Sl)&&_e.initialNavigation(),null===(S=R.get(Ps,null,a.XFs.Optional))||void 0===S||S.setUpPreloading(),null===(G=R.get(ul,null,a.XFs.Optional))||void 0===G||G.init(),_e.resetRootComponentType(q.componentTypes[0]),ke.closed||(ke.next(),ke.unsubscribe())}}const uc=new a.OlP("",{factory:()=>new nt.x}),Sl=new a.OlP("",{providedIn:"root",factory:()=>1});const Ps=new a.OlP("");function Yl(R){return Pi(0,[{provide:Ps,useExisting:rr},{provide:di,useExisting:R}])}const To=new a.OlP("ROUTER_FORROOT_GUARD"),Rt=[We.Ye,{provide:kn,useClass:Br},{provide:gs,useFactory:Pc},vo,{provide:Bs,useFactory:function gn(R){return R.routerState.root},deps:[gs]},Dl];function ed(){return new a.PXZ("Router",gs)}let ki=(()=>{class R{constructor(S){}static forRoot(S,G){return{ngModule:R,providers:[Rt,[],Cl(S),{provide:To,useFactory:td,deps:[[gs,new a.FiY,new a.tp0]]},{provide:Rs,useValue:G||{}},null!=G&&G.useHash?{provide:We.S$,useClass:We.Do}:{provide:We.S$,useClass:We.b0},{provide:ul,useFactory:()=>{const R=(0,a.f3M)(gs),P=(0,a.f3M)(We.EM),S=(0,a.f3M)(Rs);return S.scrollOffset&&P.setOffset(S.scrollOffset),new Wr(R,P,S)}},null!=G&&G.preloadingStrategy?Yl(G.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:ed},null!=G&&G.initialNavigation?Fi(G):[],[{provide:ua,useFactory:ca},{provide:a.tb,multi:!0,useExisting:ua}]]}}static forChild(S){return{ngModule:R,providers:[Cl(S)]}}}return R.\u0275fac=function(S){return new(S||R)(a.LFG(To,8))},R.\u0275mod=a.oAB({type:R}),R.\u0275inj=a.cJS({imports:[mi]}),R})();function td(R){return"guarded"}function Fi(R){return["disabled"===R.initialNavigation?Pi(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const P=(0,a.f3M)(gs);return()=>{P.setUpLocationChangeListener()}}},{provide:Sl,useValue:2}]).\u0275providers:[],"enabledBlocking"===R.initialNavigation?Pi(2,[{provide:Sl,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:P=>{const S=P.get(We.V_,Promise.resolve());let G=!1;return()=>S.then(()=>new Promise(_e=>{const ke=P.get(gs),Fe=P.get(uc);(function q(_e){P.get(gs).events.pipe((0,Ct.h)(Fe=>Fe instanceof pi||Fe instanceof ta||Fe instanceof gi),(0,Ft.U)(Fe=>Fe instanceof pi||Fe instanceof ta&&(0===Fe.code||1===Fe.code)&&null),(0,Ct.h)(Fe=>null!==Fe),(0,Ke.q)(1)).subscribe(()=>{_e()})})(()=>{_e(!0),G=!0}),ke.afterPreactivation=()=>(_e(!0),G||Fe.closed?(0,B.of)(void 0):Fe),ke.initialNavigation()}))}}]).\u0275providers:[]]}const ua=new a.OlP("")},3942:(nn,we,M)=>{"use strict";M.d(we,{Z:()=>Ne});var a=M(2090),E=M(4859),B=M(9681),ce=M(1877);class de{constructor(qe,nt){this._delegate=qe,this.firebase=nt,(0,B._addComponent)(qe,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(qe,nt=B._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Ft=this._delegate.container.getProvider(qe);return!Ft.isInitialized()&&"EXPLICIT"===(null===(We=Ft.getComponent())||void 0===We?void 0:We.instantiationMode)&&Ft.initialize(),Ft.getImmediate({identifier:nt})}_removeServiceInstance(qe,nt=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(nt)}_addComponent(qe){(0,B._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,B._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Ie(){const ot=function oe(ot){const qe={},nt={__esModule:!0,initializeApp:function it(dt,Te={}){const Ge=B.initializeApp(dt,Te);if((0,a.r3)(qe,Ge.name))return qe[Ge.name];const Qe=new ot(Ge,nt);return qe[Ge.name]=Qe,Qe},app:Ft,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Xe(dt){const Te=dt.name,Ge=Te.replace("-compat","");if(B._registerComponent(dt)&&"PUBLIC"===dt.type){const Qe=(At=Ft())=>{if("function"!=typeof At[Ge])throw Ee.create("invalid-app-argument",{appName:Te});return At[Ge]()};void 0!==dt.serviceProps&&(0,a.ZB)(Qe,dt.serviceProps),nt[Ge]=Qe,ot.prototype[Ge]=function(...At){return this._getService.bind(this,Te).apply(this,dt.multipleInstances?At:[])}}return"PUBLIC"===dt.type?nt[Ge]:null},removeApp:function We(dt){delete qe[dt]},useAsService:function Ct(dt,Te){return"serverAuth"===Te?null:Te},modularAPIs:B}};function Ft(dt){if(!(0,a.r3)(qe,dt=dt||B._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:dt});return qe[dt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function Ke(){return Object.keys(qe).map(dt=>qe[dt])}}),Ft.App=ot,nt}(de);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function qe(nt){(0,a.ZB)(ot,nt)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ot}(),le=new ce.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=ae;!function Me(ot){(0,B.registerVersion)("@firebase/app-compat","0.2.8",ot)}()},9681:(nn,we,M)=>{"use strict";M.r(we),M.d(we,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>dr,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>Mn,_addOrOverwriteComponent:()=>Bt,_apps:()=>yn,_clearComponents:()=>Wn,_components:()=>Jt,_getProvider:()=>xn,_registerComponent:()=>Pn,_removeServiceInstance:()=>Tn,deleteApp:()=>Nr,getApp:()=>Jn,getApps:()=>tr,initializeApp:()=>Gr,onLog:()=>hr,registerVersion:()=>Fr,setLogLevel:()=>gr});var a=M(5861),E=M(4859),B=M(1877),ce=M(2090),de=M(8766);class pe{constructor(Ht){this.container=Ht}getPlatformInfoString(){return this.container.getProviders().map(sn=>{if(function Ee(en){return"VERSION"===en.getComponent()?.type}(sn)){const Fn=sn.getImmediate();return`${Fn.library}/${Fn.version}`}return null}).filter(sn=>sn).join(" ")}}const oe="@firebase/app",ae=new B.Yd("@firebase/app"),jt="[DEFAULT]",vt={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,Jt=new Map;function Mn(en,Ht){try{en.container.addComponent(Ht)}catch(sn){ae.debug(`Component ${Ht.name} failed to register with FirebaseApp ${en.name}`,sn)}}function Bt(en,Ht){en.container.addOrOverwriteComponent(Ht)}function Pn(en){const Ht=en.name;if(Jt.has(Ht))return ae.debug(`There were multiple attempts to register component ${Ht}.`),!1;Jt.set(Ht,en);for(const sn of yn.values())Mn(sn,en);return!0}function xn(en,Ht){const sn=en.container.getProvider("heartbeat").getImmediate({optional:!0});return sn&&sn.triggerHeartbeat(),en.container.getProvider(Ht)}function Tn(en,Ht,sn=jt){xn(en,Ht).clearInstance(sn)}function Wn(){Jt.clear()}const Yn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cr{constructor(Ht,sn,Fn){this._isDeleted=!1,this._options=Object.assign({},Ht),this._config=Object.assign({},sn),this._name=sn.name,this._automaticDataCollectionEnabled=sn.automaticDataCollectionEnabled,this._container=Fn,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ht){this._isDeleted=Ht}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const dr="9.20.0";function Gr(en,Ht={}){let sn=en;"object"!=typeof Ht&&(Ht={name:Ht});const Fn=Object.assign({name:jt,automaticDataCollectionEnabled:!1},Ht),On=Fn.name;if("string"!=typeof On||!On)throw Yn.create("bad-app-name",{appName:String(On)});if(sn||(sn=(0,ce.aH)()),!sn)throw Yn.create("no-options");const sr=yn.get(On);if(sr){if((0,ce.vZ)(sn,sr.options)&&(0,ce.vZ)(Fn,sr.config))return sr;throw Yn.create("duplicate-app",{appName:On})}const vr=new E.H0(On);for(const Ve of Jt.values())vr.addComponent(Ve);const Ye=new Cr(sn,Fn,vr);return yn.set(On,Ye),Ye}function Jn(en=jt){const Ht=yn.get(en);if(!Ht&&en===jt)return Gr();if(!Ht)throw Yn.create("no-app",{appName:en});return Ht}function tr(){return Array.from(yn.values())}function Nr(en){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(en){const Ht=en.name;yn.has(Ht)&&(yn.delete(Ht),yield Promise.all(en.container.getProviders().map(sn=>sn.delete())),en.isDeleted=!0)})).apply(this,arguments)}function Fr(en,Ht,sn){var Fn;let On=null!==(Fn=vt[en])&&void 0!==Fn?Fn:en;sn&&(On+=`-${sn}`);const sr=On.match(/\s|\//),vr=Ht.match(/\s|\//);if(sr||vr){const Ye=[`Unable to register library "${On}" with version "${Ht}":`];return sr&&Ye.push(`library name "${On}" contains illegal characters (whitespace or "/")`),sr&&vr&&Ye.push("and"),vr&&Ye.push(`version name "${Ht}" contains illegal characters (whitespace or "/")`),void ae.warn(Ye.join(" "))}Pn(new E.wA(`${On}-version`,()=>({library:On,version:Ht}),"VERSION"))}function hr(en,Ht){if(null!==en&&"function"!=typeof en)throw Yn.create("invalid-log-argument");(0,B.Am)(en,Ht)}function gr(en){(0,B.Ub)(en)}const $r="firebase-heartbeat-store";let Pt=null;function Ze(){return Pt||(Pt=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(en,Ht)=>{0===Ht&&en.createObjectStore($r)}}).catch(en=>{throw Yn.create("idb-open",{originalErrorMessage:en.message})})),Pt}function wt(){return(wt=(0,a.Z)(function*(en){try{return(yield Ze()).transaction($r).objectStore($r).get(In(en))}catch(Ht){if(Ht instanceof ce.ZR)ae.warn(Ht.message);else{const sn=Yn.create("idb-get",{originalErrorMessage:Ht?.message});ae.warn(sn.message)}}})).apply(this,arguments)}function Ot(en,Ht){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,a.Z)(function*(en,Ht){try{const Fn=(yield Ze()).transaction($r,"readwrite");return yield Fn.objectStore($r).put(Ht,In(en)),Fn.done}catch(sn){if(sn instanceof ce.ZR)ae.warn(sn.message);else{const Fn=Yn.create("idb-set",{originalErrorMessage:sn?.message});ae.warn(Fn.message)}}})).apply(this,arguments)}function In(en){return`${en.name}!${en.options.appId}`}class fr{constructor(Ht){this.container=Ht,this._heartbeatsCache=null;const sn=this.container.getProvider("app").getImmediate();this._storage=new er(sn),this._heartbeatsCachePromise=this._storage.read().then(Fn=>(this._heartbeatsCache=Fn,Fn))}triggerHeartbeat(){var Ht=this;return(0,a.Z)(function*(){const Fn=Ht.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),On=kn();if(null===Ht._heartbeatsCache&&(Ht._heartbeatsCache=yield Ht._heartbeatsCachePromise),Ht._heartbeatsCache.lastSentHeartbeatDate!==On&&!Ht._heartbeatsCache.heartbeats.some(sr=>sr.date===On))return Ht._heartbeatsCache.heartbeats.push({date:On,agent:Fn}),Ht._heartbeatsCache.heartbeats=Ht._heartbeatsCache.heartbeats.filter(sr=>{const vr=new Date(sr.date).valueOf();return Date.now()-vr<=2592e6}),Ht._storage.overwrite(Ht._heartbeatsCache)})()}getHeartbeatsHeader(){var Ht=this;return(0,a.Z)(function*(){if(null===Ht._heartbeatsCache&&(yield Ht._heartbeatsCachePromise),null===Ht._heartbeatsCache||0===Ht._heartbeatsCache.heartbeats.length)return"";const sn=kn(),{heartbeatsToSend:Fn,unsentEntries:On}=function Br(en,Ht=1024){const sn=[];let Fn=en.slice();for(const On of en){const sr=sn.find(vr=>vr.agent===On.agent);if(sr){if(sr.dates.push(On.date),Qn(sn)>Ht){sr.dates.pop();break}}else if(sn.push({agent:On.agent,dates:[On.date]}),Qn(sn)>Ht){sn.pop();break}Fn=Fn.slice(1)}return{heartbeatsToSend:sn,unsentEntries:Fn}}(Ht._heartbeatsCache.heartbeats),sr=(0,ce.L)(JSON.stringify({version:2,heartbeats:Fn}));return Ht._heartbeatsCache.lastSentHeartbeatDate=sn,On.length>0?(Ht._heartbeatsCache.heartbeats=On,yield Ht._storage.overwrite(Ht._heartbeatsCache)):(Ht._heartbeatsCache.heartbeats=[],Ht._storage.overwrite(Ht._heartbeatsCache)),sr})()}}function kn(){return(new Date).toISOString().substring(0,10)}class er{constructor(Ht){this.app=Ht,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ht=this;return(0,a.Z)(function*(){return(yield Ht._canUseIndexedDBPromise)&&(yield function Le(en){return wt.apply(this,arguments)}(Ht.app))||{heartbeats:[]}})()}overwrite(Ht){var sn=this;return(0,a.Z)(function*(){var Fn;if(yield sn._canUseIndexedDBPromise){const sr=yield sn.read();return Ot(sn.app,{lastSentHeartbeatDate:null!==(Fn=Ht.lastSentHeartbeatDate)&&void 0!==Fn?Fn:sr.lastSentHeartbeatDate,heartbeats:Ht.heartbeats})}})()}add(Ht){var sn=this;return(0,a.Z)(function*(){var Fn;if(yield sn._canUseIndexedDBPromise){const sr=yield sn.read();return Ot(sn.app,{lastSentHeartbeatDate:null!==(Fn=Ht.lastSentHeartbeatDate)&&void 0!==Fn?Fn:sr.lastSentHeartbeatDate,heartbeats:[...sr.heartbeats,...Ht.heartbeats]})}})()}}function Qn(en){return(0,ce.L)(JSON.stringify({version:2,heartbeats:en})).length}!function Hn(en){Pn(new E.wA("platform-logger",Ht=>new pe(Ht),"PRIVATE")),Pn(new E.wA("heartbeat",Ht=>new fr(Ht),"PRIVATE")),Fr(oe,"0.9.8",en),Fr(oe,"0.9.8","esm2017"),Fr("fire-js","")}("")},4859:(nn,we,M)=>{"use strict";M.d(we,{H0:()=>oe,wA:()=>B,zt:()=>de});var a=M(5861),E=M(2090);class B{constructor(ae,le,ye){this.name=ae,this.instanceFactory=le,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const ce="[DEFAULT]";class de{constructor(ae,le){this.name=ae,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const le=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(le)){const ye=new E.BH;if(this.instancesDeferred.set(le,ye),this.isInitialized(le)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:le});Be&&ye.resolve(Be)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ae){var le;const ye=this.normalizeInstanceIdentifier(ae?.identifier),Be=null!==(le=ae?.optional)&&void 0!==le&&le;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Me){if(Be)return null;throw Me}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Ee(Ie){return"EAGER"===Ie.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[le,ye]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(le);try{const Me=this.getOrInitializeService({instanceIdentifier:Be});ye.resolve(Me)}catch{}}}}clearInstance(ae=ce){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,a.Z)(function*(){const le=Array.from(ae.instances.values());yield Promise.all([...le.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...le.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=ce){return this.instances.has(ae)}getOptions(ae=ce){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:le={}}=ae,ye=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ye,options:le});for(const[Me,Ne]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Me)&&Ne.resolve(Be);return Be}onInit(ae,le){var ye;const Be=this.normalizeInstanceIdentifier(le),Me=null!==(ye=this.onInitCallbacks.get(Be))&&void 0!==ye?ye:new Set;Me.add(ae),this.onInitCallbacks.set(Be,Me);const Ne=this.instances.get(Be);return Ne&&ae(Ne,Be),()=>{Me.delete(ae)}}invokeOnInitCallbacks(ae,le){const ye=this.onInitCallbacks.get(le);if(ye)for(const Be of ye)try{Be(ae,le)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:le={}}){let ye=this.instances.get(ae);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ae,Ie===ce?void 0:Ie),options:le}),this.instances.set(ae,ye),this.instancesOptions.set(ae,le),this.invokeOnInitCallbacks(ye,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,ye)}catch{}var Ie;return ye||null}normalizeInstanceIdentifier(ae=ce){return this.component?this.component.multipleInstances?ae:ce:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const le=this.getProvider(ae.name);if(le.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);le.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const le=new de(ae,this);return this.providers.set(ae,le),le}getProviders(){return Array.from(this.providers.values())}}},1877:(nn,we,M)=>{"use strict";M.d(we,{Am:()=>Ie,Ub:()=>oe,Yd:()=>Ee,in:()=>E});const a=[];var E=(()=>{return(ae=E||(E={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",E;var ae})();const B={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},ce=E.INFO,de={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},pe=(ae,le,...ye)=>{if(le<ae.logLevel)return;const Be=(new Date).toISOString(),Me=de[le];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Me](`[${Be}]  ${ae.name}:`,...ye)};class Ee{constructor(le){this.name=le,this._logLevel=ce,this._logHandler=pe,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in E))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?B[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...le),this._logHandler(this,E.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...le),this._logHandler(this,E.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,E.INFO,...le),this._logHandler(this,E.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,E.WARN,...le),this._logHandler(this,E.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...le),this._logHandler(this,E.ERROR,...le)}}function oe(ae){a.forEach(le=>{le.setLogLevel(ae)})}function Ie(ae,le){for(const ye of a){let Be=null;le&&le.level&&(Be=B[le.level]),ye.userLogHandler=null===ae?null:(Me,Ne,...ot)=>{const qe=ot.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Ne>=(Be??Me.logLevel)&&ae({level:E[Ne].toLowerCase(),message:qe,args:ot,type:Me.name})}}}},3314:(nn,we,M)=>{"use strict";M.d(we,{gY:()=>ei,Gs:()=>Fc,xm:()=>ul,vL:()=>q,uo:()=>Ar,_D:()=>Jo,lQ:()=>dc,qj:()=>as,NG:()=>jn,VL:()=>Js,M:()=>ad,jt:()=>ku,TH:()=>Bc,Vi:()=>ch,XC:()=>N,iD:()=>mc,_h:()=>ud,J4:()=>ls,FF:()=>Kr,IJ:()=>Yp,Pz:()=>Jl,uN:()=>Ia,nv:()=>Fu,Vx:()=>Sd,Oz:()=>uu,tO:()=>Fl,M2:()=>Id,N9:()=>Vc,GZ:()=>Zh,LD:()=>Lu,ju:()=>du,Gk:()=>ka,gW:()=>cl,Cu:()=>kc,o8:()=>Hc,Ly:()=>Xl,OC:()=>Hp,xl:()=>Sl,Pm:()=>Co,_L:()=>Od,HK:()=>zp,dR:()=>Wp});var a=M(4650),E=M(6895),B=M(9751),ce=M(515),de=M(9646),pe=M(7579),Ee=M(4968),oe=M(5963),Ie=M(8421),ae=M(5797),le=M(5403);function ye(...g){return 1===(g=(0,ae.k)(g)).length?(0,Ie.Xf)(g[0]):new B.y(function Be(g){return I=>{let h=[];for(let y=0;h&&!I.closed&&y<g.length;y++)h.push((0,Ie.Xf)(g[y]).subscribe((0,le.x)(I,O=>{if(h){for(let Z=0;Z<h.length;Z++)Z!==y&&h[Z].unsubscribe();h=null}I.next(O)})))}}(g))}var Me=M(1135),Ne=M(9841),ot=M(5032);const qe=new B.y(ot.Z);var We=M(2557),Ft=M(6451),it=M(7272),Xe=M(2722),Ct=M(9300),dt=M(5698),Te=M(4004),Ge=M(8675),Qe=M(1884),At=M(3900),ln=M(8505),Lt=M(1365),pt=M(1005),bt=M(5577),It=M(5684),$t=M(3099),jt=M(433),vt={left:"right",right:"left",bottom:"top",top:"bottom"};function yn(g){return g.replace(/left|right|bottom|top/g,function(I){return vt[I]})}function Jt(g){return g.split("-")[0]}var Mn={start:"end",end:"start"};function Bt(g){return g.replace(/start|end/g,function(I){return Mn[I]})}var Pn="top",xn="bottom",Tn="right",Wn="left",lr="auto",Yn=[Pn,xn,Tn,Wn],Cr="start",dr="end",Jn="viewport",tr="popper",hn=Yn.reduce(function(g,I){return g.concat([I+"-"+Cr,I+"-"+dr])},[]),Fr=[].concat(Yn,[lr]).reduce(function(g,I){return g.concat([I,I+"-"+Cr,I+"-"+dr])},[]),Ot=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Wt(g){if(null==g)return window;if("[object Window]"!==g.toString()){var I=g.ownerDocument;return I&&I.defaultView||window}return g}function In(g){return g instanceof Wt(g).Element||g instanceof Element}function Zn(g){return g instanceof Wt(g).HTMLElement||g instanceof HTMLElement}function on(g){return!(typeof ShadowRoot>"u")&&(g instanceof Wt(g).ShadowRoot||g instanceof ShadowRoot)}function fr(g){return((In(g)?g.ownerDocument:g.document)||window.document).documentElement}var kn=Math.max,Br=Math.min,er=Math.round;function Qn(){var g=navigator.userAgentData;return null!=g&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(I){return I.brand+"/"+I.version}).join(" "):navigator.userAgent}function Hn(){return!/^((?!chrome|android).)*safari/i.test(Qn())}function en(g,I,h){void 0===I&&(I=!1),void 0===h&&(h=!1);var y=g.getBoundingClientRect(),O=1,Z=1;I&&Zn(g)&&(O=g.offsetWidth>0&&er(y.width)/g.offsetWidth||1,Z=g.offsetHeight>0&&er(y.height)/g.offsetHeight||1);var Ue=(In(g)?Wt(g):window).visualViewport,ut=!Hn()&&h,xt=(y.left+(ut&&Ue?Ue.offsetLeft:0))/O,kt=(y.top+(ut&&Ue?Ue.offsetTop:0))/Z,Dn=y.width/O,fn=y.height/Z;return{width:Dn,height:fn,top:kt,right:xt+Dn,bottom:kt+fn,left:xt,x:xt,y:kt}}function Ht(g){var I=Wt(g);return{scrollLeft:I.pageXOffset,scrollTop:I.pageYOffset}}function sn(g){return en(fr(g)).left+Ht(g).scrollLeft}function On(g){return Wt(g).getComputedStyle(g)}function vr(g){return g?(g.nodeName||"").toLowerCase():null}function Ye(g){return"html"===vr(g)?g:g.assignedSlot||g.parentNode||(on(g)?g.host:null)||fr(g)}function Ve(g){var I=On(g);return/auto|scroll|overlay|hidden/.test(I.overflow+I.overflowY+I.overflowX)}function Se(g){return["html","body","#document"].indexOf(vr(g))>=0?g.ownerDocument.body:Zn(g)&&Ve(g)?g:Se(Ye(g))}function F(g,I){var h;void 0===I&&(I=[]);var y=Se(g),O=y===(null==(h=g.ownerDocument)?void 0:h.body),Z=Wt(y),Re=O?[Z].concat(Z.visualViewport||[],Ve(y)?y:[]):y,Ue=I.concat(Re);return O?Ue:Ue.concat(F(Ye(Re)))}function V(g){return["table","td","th"].indexOf(vr(g))>=0}function ne(g){return Zn(g)&&"fixed"!==On(g).position?g.offsetParent:null}function tt(g){for(var I=Wt(g),h=ne(g);h&&V(h)&&"static"===On(h).position;)h=ne(h);return h&&("html"===vr(h)||"body"===vr(h)&&"static"===On(h).position)?I:h||function xe(g){var I=/firefox/i.test(Qn());if(/Trident/i.test(Qn())&&Zn(g)&&"fixed"===On(g).position)return null;var O=Ye(g);for(on(O)&&(O=O.host);Zn(O)&&["html","body"].indexOf(vr(O))<0;){var Z=On(O);if("none"!==Z.transform||"none"!==Z.perspective||"paint"===Z.contain||-1!==["transform","perspective"].indexOf(Z.willChange)||I&&"filter"===Z.willChange||I&&Z.filter&&"none"!==Z.filter)return O;O=O.parentNode}return null}(g)||I}function Nt(g,I){var h=I.getRootNode&&I.getRootNode();if(g.contains(I))return!0;if(h&&on(h)){var y=I;do{if(y&&g.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function ve(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function ue(g,I,h){return I===Jn?ve(function Fn(g,I){var h=Wt(g),y=fr(g),O=h.visualViewport,Z=y.clientWidth,Re=y.clientHeight,Ue=0,ut=0;if(O){Z=O.width,Re=O.height;var xt=Hn();(xt||!xt&&"fixed"===I)&&(Ue=O.offsetLeft,ut=O.offsetTop)}return{width:Z,height:Re,x:Ue+sn(g),y:ut}}(g,h)):In(I)?function De(g,I){var h=en(g,!1,"fixed"===I);return h.top=h.top+g.clientTop,h.left=h.left+g.clientLeft,h.bottom=h.top+g.clientHeight,h.right=h.left+g.clientWidth,h.width=g.clientWidth,h.height=g.clientHeight,h.x=h.left,h.y=h.top,h}(I,h):ve(function sr(g){var I,h=fr(g),y=Ht(g),O=null==(I=g.ownerDocument)?void 0:I.body,Z=kn(h.scrollWidth,h.clientWidth,O?O.scrollWidth:0,O?O.clientWidth:0),Re=kn(h.scrollHeight,h.clientHeight,O?O.scrollHeight:0,O?O.clientHeight:0),Ue=-y.scrollLeft+sn(g),ut=-y.scrollTop;return"rtl"===On(O||h).direction&&(Ue+=kn(h.clientWidth,O?O.clientWidth:0)-Z),{width:Z,height:Re,x:Ue,y:ut}}(fr(g)))}function Zt(g){return g.split("-")[1]}function Un(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function qn(g){var ut,I=g.reference,h=g.element,y=g.placement,O=y?Jt(y):null,Z=y?Zt(y):null,Re=I.x+I.width/2-h.width/2,Ue=I.y+I.height/2-h.height/2;switch(O){case Pn:ut={x:Re,y:I.y-h.height};break;case xn:ut={x:Re,y:I.y+I.height};break;case Tn:ut={x:I.x+I.width,y:Ue};break;case Wn:ut={x:I.x-h.width,y:Ue};break;default:ut={x:I.x,y:I.y}}var xt=O?Un(O):null;if(null!=xt){var kt="y"===xt?"height":"width";switch(Z){case Cr:ut[xt]=ut[xt]-(I[kt]/2-h[kt]/2);break;case dr:ut[xt]=ut[xt]+(I[kt]/2-h[kt]/2)}}return ut}function Sr(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function Rn(g,I){return I.reduce(function(h,y){return h[y]=g,h},{})}function pr(g,I){void 0===I&&(I={});var y=I.placement,O=void 0===y?g.placement:y,Z=I.strategy,Re=void 0===Z?g.strategy:Z,Ue=I.boundary,ut=void 0===Ue?"clippingParents":Ue,xt=I.rootBoundary,kt=void 0===xt?Jn:xt,Dn=I.elementContext,fn=void 0===Dn?tr:Dn,Nn=I.altBoundary,ri=void 0!==Nn&&Nn,wr=I.padding,Yr=void 0===wr?0:wr,ii=Sr("number"!=typeof Yr?Yr:Rn(Yr,Yn)),ms=g.rects.popper,qr=g.elements[ri?fn===tr?"reference":tr:fn],ai=function rt(g,I,h,y){var O="clippingParents"===I?function $e(g){var I=F(Ye(g)),y=["absolute","fixed"].indexOf(On(g).position)>=0&&Zn(g)?tt(g):g;return In(y)?I.filter(function(O){return In(O)&&Nt(O,y)&&"body"!==vr(O)}):[]}(g):[].concat(I),Z=[].concat(O,[h]),Ue=Z.reduce(function(ut,xt){var kt=ue(g,xt,y);return ut.top=kn(kt.top,ut.top),ut.right=Br(kt.right,ut.right),ut.bottom=Br(kt.bottom,ut.bottom),ut.left=kn(kt.left,ut.left),ut},ue(g,Z[0],y));return Ue.width=Ue.right-Ue.left,Ue.height=Ue.bottom-Ue.top,Ue.x=Ue.left,Ue.y=Ue.top,Ue}(In(qr)?qr:qr.contextElement||fr(g.elements.popper),ut,kt,Re),hi=en(g.elements.reference),ji=qn({reference:hi,element:ms,strategy:"absolute",placement:O}),Ti=ve(Object.assign({},ms,ji)),_s=fn===tr?Ti:hi,So={top:ai.top-_s.top+ii.top,bottom:_s.bottom-ai.bottom+ii.bottom,left:ai.left-_s.left+ii.left,right:_s.right-ai.right+ii.right},zs=g.modifiersData.offset;if(fn===tr&&zs){var bc=zs[O];Object.keys(So).forEach(function(Qa){var fu=[Tn,xn].indexOf(Qa)>=0?1:-1,pu=[Pn,xn].indexOf(Qa)>=0?"y":"x";So[Qa]+=bc[pu]*fu})}return So}const fi={name:"flip",enabled:!0,phase:"main",fn:function Gi(g){var I=g.state,h=g.options,y=g.name;if(!I.modifiersData[y]._skip){for(var O=h.mainAxis,Z=void 0===O||O,Re=h.altAxis,Ue=void 0===Re||Re,ut=h.fallbackPlacements,xt=h.padding,kt=h.boundary,Dn=h.rootBoundary,fn=h.altBoundary,Nn=h.flipVariations,ri=void 0===Nn||Nn,wr=h.allowedAutoPlacements,Yr=I.options.placement,ii=Jt(Yr),ms=ut||(ii!==Yr&&ri?function Yi(g){if(Jt(g)===lr)return[];var I=yn(g);return[Bt(g),I,Bt(I)]}(Yr):[yn(Yr)]),qr=[Yr].concat(ms).reduce(function(wc,gu){return wc.concat(Jt(gu)===lr?function Tr(g,I){void 0===I&&(I={});var O=I.boundary,Z=I.rootBoundary,Re=I.padding,Ue=I.flipVariations,ut=I.allowedAutoPlacements,xt=void 0===ut?Fr:ut,kt=Zt(I.placement),Dn=kt?Ue?hn:hn.filter(function(ri){return Zt(ri)===kt}):Yn,fn=Dn.filter(function(ri){return xt.indexOf(ri)>=0});0===fn.length&&(fn=Dn);var Nn=fn.reduce(function(ri,wr){return ri[wr]=pr(g,{placement:wr,boundary:O,rootBoundary:Z,padding:Re})[Jt(wr)],ri},{});return Object.keys(Nn).sort(function(ri,wr){return Nn[ri]-Nn[wr]})}(I,{placement:gu,boundary:kt,rootBoundary:Dn,padding:xt,flipVariations:ri,allowedAutoPlacements:wr}):gu)},[]),ai=I.rects.reference,hi=I.rects.popper,ji=new Map,Ti=!0,_s=qr[0],So=0;So<qr.length;So++){var zs=qr[So],bc=Jt(zs),Qa=Zt(zs)===Cr,fu=[Pn,xn].indexOf(bc)>=0,pu=fu?"width":"height",Ja=pr(I,{placement:zs,boundary:kt,rootBoundary:Dn,altBoundary:fn,padding:xt}),Sa=fu?Qa?Tn:Wn:Qa?xn:Pn;ai[pu]>hi[pu]&&(Sa=yn(Sa));var dd=yn(Sa),ec=[];if(Z&&ec.push(Ja[bc]<=0),Ue&&ec.push(Ja[Sa]<=0,Ja[dd]<=0),ec.every(function(wc){return wc})){_s=zs,Ti=!1;break}ji.set(zs,ec)}if(Ti)for(var ap=function(gu){var Ec=qr.find(function(Kc){var Ua=ji.get(Kc);if(Ua)return Ua.slice(0,gu).every(function(ph){return ph})});if(Ec)return _s=Ec,"break"},ju=ri?3:1;ju>0&&"break"!==ap(ju);ju--);I.placement!==_s&&(I.modifiersData[y]._skip=!0,I.placement=_s,I.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function hs(g,I,h){return kn(g,Br(I,h))}function Mi(g){var I=en(g),h=g.offsetWidth,y=g.offsetHeight;return Math.abs(I.width-h)<=1&&(h=I.width),Math.abs(I.height-y)<=1&&(y=I.height),{x:g.offsetLeft,y:g.offsetTop,width:h,height:y}}const Mr={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ds(g){var I=g.state,h=g.options,y=g.name,O=h.mainAxis,Z=void 0===O||O,Re=h.altAxis,Ue=void 0!==Re&&Re,fn=h.tether,Nn=void 0===fn||fn,ri=h.tetherOffset,wr=void 0===ri?0:ri,Yr=pr(I,{boundary:h.boundary,rootBoundary:h.rootBoundary,padding:h.padding,altBoundary:h.altBoundary}),ii=Jt(I.placement),Ei=Zt(I.placement),ms=!Ei,qr=Un(ii),ai=function $o(g){return"x"===g?"y":"x"}(qr),hi=I.modifiersData.popperOffsets,ji=I.rects.reference,Ti=I.rects.popper,_s="function"==typeof wr?wr(Object.assign({},I.rects,{placement:I.placement})):wr,So="number"==typeof _s?{mainAxis:_s,altAxis:_s}:Object.assign({mainAxis:0,altAxis:0},_s),zs=I.modifiersData.offset?I.modifiersData.offset[I.placement]:null,bc={x:0,y:0};if(hi){if(Z){var Qa,fu="y"===qr?Pn:Wn,pu="y"===qr?xn:Tn,Ja="y"===qr?"height":"width",Sa=hi[qr],dd=Sa+Yr[fu],ec=Sa-Yr[pu],Ll=Nn?-Ti[Ja]/2:0,ap=Ei===Cr?ji[Ja]:Ti[Ja],ju=Ei===Cr?-Ti[Ja]:-ji[Ja],hd=I.elements.arrow,wc=Nn&&hd?Mi(hd):{width:0,height:0},gu=I.modifiersData["arrow#persistent"]?I.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ec=gu[fu],Kc=gu[pu],Ua=hs(0,ji[Ja],wc[Ja]),ph=ms?ji[Ja]/2-Ll-Ua-Ec-So.mainAxis:ap-Ua-Ec-So.mainAxis,Pd=ms?-ji[Ja]/2+Ll+Ua+Kc+So.mainAxis:ju+Ua+Kc+So.mainAxis,Hi=I.elements.arrow&&tt(I.elements.arrow),si=null!=(Qa=zs?.[qr])?Qa:0,ds=Sa+Pd-si,gh=hs(Nn?Br(dd,Sa+ph-si-(Hi?"y"===qr?Hi.clientTop||0:Hi.clientLeft||0:0)):dd,Sa,Nn?kn(ec,ds):ec);hi[qr]=gh,bc[qr]=gh-Sa}if(Ue){var sf,ys=hi[ai],Qr="y"===ai?"height":"width",po=ys+Yr["x"===qr?Pn:Wn],qg=ys-Yr["x"===qr?xn:Tn],Yc=-1!==[Pn,Wn].indexOf(ii),Vo=null!=(sf=zs?.[ai])?sf:0,af=Yc?po:ys-ji[Qr]-Ti[Qr]-Vo+So.altAxis,lf=Yc?ys+ji[Qr]+Ti[Qr]-Vo-So.altAxis:qg,lp=Nn&&Yc?function so(g,I,h){var y=hs(g,I,h);return y>h?h:y}(af,ys,lf):hs(Nn?af:po,ys,Nn?lf:qg);hi[ai]=lp,bc[ai]=lp-ys}I.modifiersData[y]=bc}},requiresIfExists:["offset"]},mo={name:"arrow",enabled:!0,phase:"main",fn:function No(g){var I,h=g.state,y=g.name,O=g.options,Z=h.elements.arrow,Re=h.modifiersData.popperOffsets,Ue=Jt(h.placement),ut=Un(Ue),kt=[Wn,Tn].indexOf(Ue)>=0?"height":"width";if(Z&&Re){var Dn=function(I,h){return Sr("number"!=typeof(I="function"==typeof I?I(Object.assign({},h.rects,{placement:h.placement})):I)?I:Rn(I,Yn))}(O.padding,h),fn=Mi(Z),Nn="y"===ut?Pn:Wn,ri="y"===ut?xn:Tn,wr=h.rects.reference[kt]+h.rects.reference[ut]-Re[ut]-h.rects.popper[kt],Yr=Re[ut]-h.rects.reference[ut],ii=tt(Z),Ei=ii?"y"===ut?ii.clientHeight||0:ii.clientWidth||0:0,hi=Ei/2-fn[kt]/2+(wr/2-Yr/2),ji=hs(Dn[Nn],hi,Ei-fn[kt]-Dn[ri]);h.modifiersData[y]=((I={})[ut]=ji,I.centerOffset=ji-hi,I)}},effect:function oi(g){var I=g.state,y=g.options.element,O=void 0===y?"[data-popper-arrow]":y;null!=O&&("string"==typeof O&&!(O=I.elements.popper.querySelector(O))||!Nt(I.elements.popper,O)||(I.elements.arrow=O))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pi(g,I,h){void 0===h&&(h=!1);var y=Zn(I),O=Zn(I)&&function Us(g){var I=g.getBoundingClientRect(),h=er(I.width)/g.offsetWidth||1,y=er(I.height)/g.offsetHeight||1;return 1!==h||1!==y}(I),Z=fr(I),Re=en(g,O,h),Ue={scrollLeft:0,scrollTop:0},ut={x:0,y:0};return(y||!y&&!h)&&(("body"!==vr(I)||Ve(Z))&&(Ue=function vs(g){return g!==Wt(g)&&Zn(g)?function Ls(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}(g):Ht(g)}(I)),Zn(I)?((ut=en(I,!0)).x+=I.clientLeft,ut.y+=I.clientTop):Z&&(ut.x=sn(Z))),{x:Re.left+Ue.scrollLeft-ut.x,y:Re.top+Ue.scrollTop-ut.y,width:Re.width,height:Re.height}}function ta(g){var I=new Map,h=new Set,y=[];function O(Z){h.add(Z.name),[].concat(Z.requires||[],Z.requiresIfExists||[]).forEach(function(Ue){if(!h.has(Ue)){var ut=I.get(Ue);ut&&O(ut)}}),y.push(Z)}return g.forEach(function(Z){I.set(Z.name,Z)}),g.forEach(function(Z){h.has(Z.name)||O(Z)}),y}function Ws(g){var I;return function(){return I||(I=new Promise(function(h){Promise.resolve().then(function(){I=void 0,h(g())})})),I}}var Zi={placement:"bottom",modifiers:[],strategy:"absolute"};function _o(){for(var g=arguments.length,I=new Array(g),h=0;h<g;h++)I[h]=arguments[h];return!I.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function nl(g){void 0===g&&(g={});var h=g.defaultModifiers,y=void 0===h?[]:h,O=g.defaultOptions,Z=void 0===O?Zi:O;return function(Ue,ut,xt){void 0===xt&&(xt=Z);var kt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zi,Z),modifiersData:{},elements:{reference:Ue,popper:ut},attributes:{},styles:{}},Dn=[],fn=!1,Nn={state:kt,setOptions:function(ii){var Ei="function"==typeof ii?ii(kt.options):ii;wr(),kt.options=Object.assign({},Z,kt.options,Ei),kt.scrollParents={reference:In(Ue)?F(Ue):Ue.contextElement?F(Ue.contextElement):[],popper:F(ut)};var ms=function gi(g){var I=ta(g);return Ot.reduce(function(h,y){return h.concat(I.filter(function(O){return O.phase===y}))},[])}(function oo(g){var I=g.reduce(function(h,y){var O=h[y.name];return h[y.name]=O?Object.assign({},O,y,{options:Object.assign({},O.options,y.options),data:Object.assign({},O.data,y.data)}):y,h},{});return Object.keys(I).map(function(h){return I[h]})}([].concat(y,kt.options.modifiers)));return kt.orderedModifiers=ms.filter(function(zs){return zs.enabled}),function ri(){kt.orderedModifiers.forEach(function(Yr){var Ei=Yr.options,qr=Yr.effect;if("function"==typeof qr){var ai=qr({state:kt,name:Yr.name,instance:Nn,options:void 0===Ei?{}:Ei});Dn.push(ai||function(){})}})}(),Nn.update()},forceUpdate:function(){if(!fn){var ii=kt.elements,Ei=ii.reference,ms=ii.popper;if(_o(Ei,ms)){kt.rects={reference:pi(Ei,tt(ms),"fixed"===kt.options.strategy),popper:Mi(ms)},kt.reset=!1,kt.placement=kt.options.placement,kt.orderedModifiers.forEach(function(zs){return kt.modifiersData[zs.name]=Object.assign({},zs.data)});for(var ai=0;ai<kt.orderedModifiers.length;ai++)if(!0!==kt.reset){var hi=kt.orderedModifiers[ai],ji=hi.fn,Ti=hi.options;"function"==typeof ji&&(kt=ji({state:kt,options:void 0===Ti?{}:Ti,name:hi.name,instance:Nn})||kt)}else kt.reset=!1,ai=-1}}},update:Ws(function(){return new Promise(function(Yr){Nn.forceUpdate(),Yr(kt)})}),destroy:function(){wr(),fn=!0}};if(!_o(Ue,ut))return Nn;function wr(){Dn.forEach(function(Yr){return Yr()}),Dn=[]}return Nn.setOptions(xt).then(function(Yr){!fn&&xt.onFirstUpdate&&xt.onFirstUpdate(Yr)}),Nn}}var qi={passive:!0},yt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rn(g){var I,h=g.popper,y=g.popperRect,O=g.placement,Z=g.variation,Re=g.offsets,Ue=g.position,ut=g.gpuAcceleration,xt=g.adaptive,kt=g.roundOffsets,Dn=g.isFixed,fn=Re.x,Nn=void 0===fn?0:fn,ri=Re.y,wr=void 0===ri?0:ri,Yr="function"==typeof kt?kt({x:Nn,y:wr}):{x:Nn,y:wr};Nn=Yr.x,wr=Yr.y;var ii=Re.hasOwnProperty("x"),Ei=Re.hasOwnProperty("y"),ms=Wn,qr=Pn,ai=window;if(xt){var hi=tt(h),ji="clientHeight",Ti="clientWidth";hi===Wt(h)&&"static"!==On(hi=fr(h)).position&&"absolute"===Ue&&(ji="scrollHeight",Ti="scrollWidth"),(O===Pn||(O===Wn||O===Tn)&&Z===dr)&&(qr=xn,wr-=(Dn&&hi===ai&&ai.visualViewport?ai.visualViewport.height:hi[ji])-y.height,wr*=ut?1:-1),O!==Wn&&(O!==Pn&&O!==xn||Z!==dr)||(ms=Tn,Nn-=(Dn&&hi===ai&&ai.visualViewport?ai.visualViewport.width:hi[Ti])-y.width,Nn*=ut?1:-1)}var Qa,zs=Object.assign({position:Ue},xt&&yt),bc=!0===kt?function Kt(g,I){var y=g.y,O=I.devicePixelRatio||1;return{x:er(g.x*O)/O||0,y:er(y*O)/O||0}}({x:Nn,y:wr},Wt(h)):{x:Nn,y:wr};return Nn=bc.x,wr=bc.y,Object.assign({},zs,ut?((Qa={})[qr]=Ei?"0":"",Qa[ms]=ii?"0":"",Qa.transform=(ai.devicePixelRatio||1)<=1?"translate("+Nn+"px, "+wr+"px)":"translate3d("+Nn+"px, "+wr+"px, 0)",Qa):((I={})[qr]=Ei?wr+"px":"",I[ms]=ii?Nn+"px":"",I.transform="",I))}var Vs=nl({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function sc(g){var I=g.state,h=g.instance,y=g.options,O=y.scroll,Z=void 0===O||O,Re=y.resize,Ue=void 0===Re||Re,ut=Wt(I.elements.popper),xt=[].concat(I.scrollParents.reference,I.scrollParents.popper);return Z&&xt.forEach(function(kt){kt.addEventListener("scroll",h.update,qi)}),Ue&&ut.addEventListener("resize",h.update,qi),function(){Z&&xt.forEach(function(kt){kt.removeEventListener("scroll",h.update,qi)}),Ue&&ut.removeEventListener("resize",h.update,qi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function ht(g){var I=g.state;I.modifiersData[g.name]=qn({reference:I.rects.reference,element:I.rects.popper,strategy:"absolute",placement:I.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Vn(g){var I=g.state,h=g.options,y=h.gpuAcceleration,O=void 0===y||y,Z=h.adaptive,Re=void 0===Z||Z,Ue=h.roundOffsets,ut=void 0===Ue||Ue,kt={placement:Jt(I.placement),variation:Zt(I.placement),popper:I.elements.popper,popperRect:I.rects.popper,gpuAcceleration:O,isFixed:"fixed"===I.options.strategy};null!=I.modifiersData.popperOffsets&&(I.styles.popper=Object.assign({},I.styles.popper,rn(Object.assign({},kt,{offsets:I.modifiersData.popperOffsets,position:I.options.strategy,adaptive:Re,roundOffsets:ut})))),null!=I.modifiersData.arrow&&(I.styles.arrow=Object.assign({},I.styles.arrow,rn(Object.assign({},kt,{offsets:I.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ut})))),I.attributes.popper=Object.assign({},I.attributes.popper,{"data-popper-placement":I.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Xr(g){var I=g.state;Object.keys(I.elements).forEach(function(h){var y=I.styles[h]||{},O=I.attributes[h]||{},Z=I.elements[h];!Zn(Z)||!vr(Z)||(Object.assign(Z.style,y),Object.keys(O).forEach(function(Re){var Ue=O[Re];!1===Ue?Z.removeAttribute(Re):Z.setAttribute(Re,!0===Ue?"":Ue)}))})},effect:function ni(g){var I=g.state,h={popper:{position:I.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(I.elements.popper.style,h.popper),I.styles=h,I.elements.arrow&&Object.assign(I.elements.arrow.style,h.arrow),function(){Object.keys(I.elements).forEach(function(y){var O=I.elements[y],Z=I.attributes[y]||{},Ue=Object.keys(I.styles.hasOwnProperty(y)?I.styles[y]:h[y]).reduce(function(ut,xt){return ut[xt]="",ut},{});!Zn(O)||!vr(O)||(Object.assign(O.style,Ue),Object.keys(Z).forEach(function(ut){O.removeAttribute(ut)}))})}},requires:["computeStyles"]}]});const fs={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ao(g){var I=g.state,y=g.name,O=g.options.offset,Z=void 0===O?[0,0]:O,Re=Fr.reduce(function(kt,Dn){return kt[Dn]=function vl(g,I,h){var y=Jt(g),O=[Wn,Pn].indexOf(y)>=0?-1:1,Z="function"==typeof h?h(Object.assign({},I,{placement:g})):h,Re=Z[0],Ue=Z[1];return Re=Re||0,Ue=(Ue||0)*O,[Wn,Tn].indexOf(y)>=0?{x:Ue,y:Re}:{x:Re,y:Ue}}(Dn,I.rects,Z),kt},{}),Ue=Re[I.placement],xt=Ue.y;null!=I.modifiersData.popperOffsets&&(I.modifiersData.popperOffsets.x+=Ue.x,I.modifiersData.popperOffsets.y+=xt),I.modifiersData[y]=Re}};function Oa(g,I){}function bl(g,I){if(1&g&&(a.TgZ(0,"button",3),a._uU(1),a.YNc(2,Oa,0,0,"ng-template",4),a.qZA()),2&g){const h=I.$implicit;a.Q6J("ngbPanelToggle",h),a.xp6(1),a.hij(" ",h.title,""),a.xp6(1),a.Q6J("ngTemplateOutlet",null==h.titleTpl?null:h.titleTpl.templateRef)}}function is(g,I){}function ma(g,I){}function Ra(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"div",8),a.NdJ("ngbRef",function(O){a.CHM(h);const Z=a.oxw().$implicit;return a.KtG(Z.panelDiv=O)}),a.TgZ(1,"div",9),a.YNc(2,ma,0,0,"ng-template",4),a.qZA()()}if(2&g){const h=a.oxw().$implicit;a.s9C("id",h.id),a.uIk("aria-labelledby",h.id+"-header"),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==h.contentTpl?null:h.contentTpl.templateRef)||null)}}const yo=function(g,I){return{$implicit:g,opened:I}};function Pa(g,I){if(1&g&&(a.TgZ(0,"div")(1,"div",5),a.YNc(2,is,0,0,"ng-template",6),a.qZA(),a.YNc(3,Ra,3,3,"div",7),a.qZA()),2&g){const h=I.$implicit,y=a.oxw(),O=a.MAs(1);a.Tol("accordion-item "+(h.cardClass||"")),a.xp6(1),a.Tol("accordion-header "+(h.type?"bg-"+h.type:y.type?"bg-"+y.type:"")),a.MGl("id","",h.id,"-header"),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==h.headerTpl?null:h.headerTpl.templateRef)||O)("ngTemplateOutletContext",a.WLB(8,yo,h,h.isOpen)),a.xp6(1),a.Q6J("ngIf",!y.destroyOnHide||h.isOpen||h.transitionRunning)}}function _a(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",1),a.NdJ("click",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.close())}),a.qZA()}}const Ns=["*"];function ya(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){const Z=a.CHM(h).$implicit,Re=a.oxw();return Re.focus(),a.KtG(Re.select(Z.id,Re.NgbSlideEventSource.INDICATOR))}),a.qZA()}if(2&g){const h=I.$implicit,y=a.oxw();a.ekj("active",h.id===y.activeId),a.uIk("aria-labelledby","slide-"+h.id)("aria-controls","slide-"+h.id)("aria-selected",h.id===y.activeId)}}function rl(g,I){}function lo(g,I){if(1&g&&(a.TgZ(0,"div",7)(1,"span",8),a.SDv(2,9),a.qZA(),a.YNc(3,rl,0,0,"ng-template",10),a.qZA()),2&g){const h=I.$implicit,y=I.index,O=I.count;a.Q6J("id","slide-"+h.id),a.xp6(2),a.pQV(y+1)(O),a.QtT(2),a.xp6(1),a.Q6J("ngTemplateOutlet",h.tplRef)}}function Is(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.arrowLeft())}),a._UZ(1,"span",12),a.TgZ(2,"span",8),a.SDv(3,13),a.qZA()()}}function js(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.arrowRight())}),a._UZ(1,"span",15),a.TgZ(2,"span",8),a.SDv(3,16),a.qZA()()}}const vo=["month"],na=["year"];function Oo(g,I){if(1&g&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&g){const h=I.$implicit,y=a.oxw();a.Q6J("value",h),a.uIk("aria-label",y.i18n.getMonthFullName(h,y.date.year)),a.xp6(1),a.Oqu(y.i18n.getMonthShortName(h,y.date.year))}}function Ro(g,I){if(1&g&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&g){const h=I.$implicit,y=a.oxw();a.Q6J("value",h),a.xp6(1),a.Oqu(y.i18n.getYearNumerals(h))}}function co(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"ngb-datepicker-navigation-select",7),a.NdJ("select",function(O){a.CHM(h);const Z=a.oxw();return a.KtG(Z.select.emit(O))}),a.qZA()}if(2&g){const h=a.oxw();a.Q6J("date",h.date)("disabled",h.disabled)("months",h.selectBoxes.months)("years",h.selectBoxes.years)}}function mi(g,I){1&g&&a._UZ(0,"div",0)}function ss(g,I){1&g&&a._UZ(0,"div",0)}function Ci(g,I){if(1&g&&(a.YNc(0,mi,1,0,"div",9),a.TgZ(1,"div",10),a._uU(2),a.qZA(),a.YNc(3,ss,1,0,"div",9)),2&g){const h=I.$implicit,y=I.index,O=a.oxw(2);a.Q6J("ngIf",y>0),a.xp6(2),a.hij(" ",O.i18n.getMonthLabel(h.firstDate)," "),a.xp6(1),a.Q6J("ngIf",y!==O.months.length-1)}}function ws(g,I){if(1&g&&a.YNc(0,Ci,4,3,"ng-template",8),2&g){const h=a.oxw();a.Q6J("ngForOf",h.months)}}const Qi=["ngbDatepickerDayView",""],Po=["defaultDayTemplate"],ko=["content"];function Fo(g,I){if(1&g&&a._UZ(0,"div",7),2&g){const y=I.currentMonth,O=I.selected,Z=I.disabled,Re=I.focused;a.Q6J("date",I.date)("currentMonth",y)("selected",O)("disabled",Z)("focused",Re)}}function os(g,I){if(1&g&&(a.TgZ(0,"div",12),a._uU(1),a.qZA()),2&g){const h=a.oxw().$implicit,y=a.oxw(2);a.xp6(1),a.hij(" ",y.i18n.getMonthLabel(h.firstDate)," ")}}function jl(g,I){if(1&g&&(a.TgZ(0,"div",9),a.YNc(1,os,2,1,"div",10),a._UZ(2,"ngb-datepicker-month",11),a.qZA()),2&g){const h=I.$implicit,y=a.oxw(2);a.xp6(1),a.Q6J("ngIf","none"===y.navigation||y.displayMonths>1&&"select"===y.navigation),a.xp6(1),a.Q6J("month",h.firstDate)}}function bo(g,I){if(1&g&&a.YNc(0,jl,3,2,"div",8),2&g){const h=a.oxw();a.Q6J("ngForOf",h.model.months)}}function Ms(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"ngb-datepicker-navigation",13),a.NdJ("navigate",function(O){a.CHM(h);const Z=a.oxw();return a.KtG(Z.onNavigateEvent(O))})("select",function(O){a.CHM(h);const Z=a.oxw();return a.KtG(Z.onNavigateDateSelect(O))}),a.qZA()}if(2&g){const h=a.oxw();a.Q6J("date",h.model.firstDate)("months",h.model.months)("disabled",h.model.disabled)("showSelect","select"===h.model.navigation)("prevDisabled",h.model.prevDisabled)("nextDisabled",h.model.nextDisabled)("selectBoxes",h.model.selectBoxes)}}function ui(g,I){}function ps(g,I){}function Ji(g,I){if(1&g&&(a.TgZ(0,"div",5),a._uU(1),a.qZA()),2&g){const h=a.oxw(2);a.xp6(1),a.Oqu(h.i18n.getWeekLabel())}}function zn(g,I){if(1&g&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&g){const h=I.$implicit;a.xp6(1),a.Oqu(h)}}function Ks(g,I){if(1&g&&(a.TgZ(0,"div",2),a.YNc(1,Ji,2,1,"div",3),a.YNc(2,zn,2,1,"div",4),a.qZA()),2&g){const h=a.oxw();a.xp6(1),a.Q6J("ngIf",h.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",h.viewModel.weekdays)}}function Lo(g,I){if(1&g&&(a.TgZ(0,"div",11),a._uU(1),a.qZA()),2&g){const h=a.oxw(2).$implicit,y=a.oxw();a.xp6(1),a.Oqu(y.i18n.getWeekNumerals(h.number))}}function Hl(g,I){}function il(g,I){if(1&g&&a.YNc(0,Hl,0,0,"ng-template",14),2&g){const h=a.oxw().$implicit,y=a.oxw(3);a.Q6J("ngTemplateOutlet",y.datepicker.dayTemplate)("ngTemplateOutletContext",h.context)}}function Uo(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(O){const Re=a.CHM(h).$implicit;return a.oxw(3).doSelect(Re),a.KtG(O.preventDefault())}),a.YNc(1,il,1,2,"ng-template",13),a.qZA()}if(2&g){const h=I.$implicit;a.ekj("disabled",h.context.disabled)("hidden",h.hidden)("ngb-dp-today",h.context.today),a.Q6J("tabindex",h.tabindex),a.uIk("aria-label",h.ariaLabel),a.xp6(1),a.Q6J("ngIf",!h.hidden)}}function uo(g,I){if(1&g&&(a.TgZ(0,"div",8),a.YNc(1,Lo,2,1,"div",9),a.YNc(2,Uo,2,9,"div",10),a.qZA()),2&g){const h=a.oxw().$implicit,y=a.oxw();a.xp6(1),a.Q6J("ngIf",y.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",h.days)}}function va(g,I){1&g&&a.YNc(0,uo,3,2,"div",7),2&g&&a.Q6J("ngIf",!I.$implicit.collapsed)}const sl=["dialog"],Qt=["ngbNavOutlet",""];function Dr(g,I){}const ol=function(g){return{$implicit:g}};function ra(g,I){if(1&g&&(a.TgZ(0,"div",2),a.YNc(1,Dr,0,0,"ng-template",3),a.qZA()),2&g){const h=a.oxw().$implicit,y=a.oxw();a.Q6J("item",h)("nav",y.nav)("role",y.paneRole),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==h.contentTpl?null:h.contentTpl.templateRef)||null)("ngTemplateOutletContext",a.VKq(5,ol,h.active||y.isPanelTransitioning(h)))}}function Oi(g,I){if(1&g&&a.YNc(0,ra,2,7,"div",1),2&g){const h=I.$implicit,y=a.oxw();a.Q6J("ngIf",h.isPanelInDom()||y.isPanelTransitioning(h))}}function Ys(g,I){1&g&&(a.TgZ(0,"span",9),a.SDv(1,10),a.qZA())}function Ha(g,I){1&g&&(a.TgZ(0,"span",9),a.SDv(1,11),a.qZA())}function Zs(g,I){1&g&&(a.TgZ(0,"span",9),a.SDv(1,12),a.qZA())}function ba(g,I){1&g&&(a.TgZ(0,"span",9),a.SDv(1,13),a.qZA())}function ia(g,I){1&g&&a._uU(0,"...")}function zo(g,I){1&g&&(a.TgZ(0,"span",15),a._uU(1,"(current)"),a.qZA())}function _i(g,I){if(1&g&&(a._uU(0),a.YNc(1,zo,2,0,"span",14)),2&g){const h=I.$implicit,y=I.currentPage;a.hij(" ",h," "),a.xp6(1),a.Q6J("ngIf",h===y)}}function J(g,I){}const Y=function(g){return{disabled:!0,currentPage:g}};function H(g,I){if(1&g&&(a.TgZ(0,"a",20),a.YNc(1,J,0,0,"ng-template",8),a.qZA()),2&g){const h=a.oxw(2).$implicit,y=a.oxw(),O=a.MAs(9);a.xp6(1),a.Q6J("ngTemplateOutlet",(null==y.tplEllipsis?null:y.tplEllipsis.templateRef)||O)("ngTemplateOutletContext",a.VKq(2,Y,h))}}function me(g,I){}const _t=function(g,I,h){return{disabled:g,$implicit:I,currentPage:h}};function En(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"a",21),a.NdJ("click",function(O){a.CHM(h);const Z=a.oxw().$implicit;return a.oxw(2).selectPage(Z),a.KtG(O.preventDefault())}),a.YNc(1,me,0,0,"ng-template",8),a.qZA()}if(2&g){const h=a.oxw().$implicit,y=a.oxw(),O=y.disabled,Z=y.$implicit,Re=a.oxw(),Ue=a.MAs(11);a.uIk("tabindex",O?"-1":null)("aria-disabled",O?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==Re.tplNumber?null:Re.tplNumber.templateRef)||Ue)("ngTemplateOutletContext",a.kEZ(4,_t,O,h,Z))}}function Vr(g,I){if(1&g&&(a.TgZ(0,"li",17),a.YNc(1,H,2,4,"a",18),a.YNc(2,En,2,8,"a",19),a.qZA()),2&g){const h=I.$implicit,y=a.oxw(),O=y.$implicit,Z=y.disabled,Re=a.oxw();a.ekj("active",h===O)("disabled",Re.isEllipsis(h)||Z),a.uIk("aria-current",h===O?"page":null),a.xp6(1),a.Q6J("ngIf",Re.isEllipsis(h)),a.xp6(1),a.Q6J("ngIf",!Re.isEllipsis(h))}}function Wo(g,I){1&g&&a.YNc(0,Vr,3,7,"li",16),2&g&&a.Q6J("ngForOf",I.pages)}function wo(g,I){}const Ko=function(g,I){return{disabled:g,currentPage:I}};function Bo(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"li",17)(1,"a",22),a.NdJ("click",function(O){return a.CHM(h),a.oxw().selectPage(1),a.KtG(O.preventDefault())}),a.YNc(2,wo,0,0,"ng-template",8),a.qZA()()}if(2&g){const h=a.oxw(),y=a.MAs(1);a.ekj("disabled",h.previousDisabled()),a.xp6(1),a.uIk("tabindex",h.previousDisabled()?"-1":null)("aria-disabled",h.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==h.tplFirst?null:h.tplFirst.templateRef)||y)("ngTemplateOutletContext",a.WLB(6,Ko,h.previousDisabled(),h.page))}}function wa(g,I){}const sa=function(g){return{disabled:g}};function Ga(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"li",17)(1,"a",23),a.NdJ("click",function(O){a.CHM(h);const Z=a.oxw();return Z.selectPage(Z.page-1),a.KtG(O.preventDefault())}),a.YNc(2,wa,0,0,"ng-template",8),a.qZA()()}if(2&g){const h=a.oxw(),y=a.MAs(3);a.ekj("disabled",h.previousDisabled()),a.xp6(1),a.uIk("tabindex",h.previousDisabled()?"-1":null)("aria-disabled",h.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==h.tplPrevious?null:h.tplPrevious.templateRef)||y)("ngTemplateOutletContext",a.VKq(6,sa,h.previousDisabled()))}}function Os(g,I){}function Xi(g,I){}function al(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"li",17)(1,"a",24),a.NdJ("click",function(O){a.CHM(h);const Z=a.oxw();return Z.selectPage(Z.page+1),a.KtG(O.preventDefault())}),a.YNc(2,Xi,0,0,"ng-template",8),a.qZA()()}if(2&g){const h=a.oxw(),y=a.MAs(5);a.ekj("disabled",h.nextDisabled()),a.xp6(1),a.uIk("tabindex",h.nextDisabled()?"-1":null)("aria-disabled",h.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==h.tplNext?null:h.tplNext.templateRef)||y)("ngTemplateOutletContext",a.WLB(6,Ko,h.nextDisabled(),h.page))}}function oa(g,I){}function ho(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"li",17)(1,"a",25),a.NdJ("click",function(O){a.CHM(h);const Z=a.oxw();return Z.selectPage(Z.pageCount),a.KtG(O.preventDefault())}),a.YNc(2,oa,0,0,"ng-template",8),a.qZA()()}if(2&g){const h=a.oxw(),y=a.MAs(7);a.ekj("disabled",h.nextDisabled()),a.xp6(1),a.uIk("tabindex",h.nextDisabled()?"-1":null)("aria-disabled",h.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==h.tplLast?null:h.tplLast.templateRef)||y)("ngTemplateOutletContext",a.WLB(6,Ko,h.nextDisabled(),h.page))}}const oc=function(g,I,h){return{$implicit:g,pages:I,disabled:h}};function wl(g,I){if(1&g&&a._uU(0),2&g){const h=a.oxw(2);a.Oqu(h.title)}}function aa(g,I){}function la(g,I){if(1&g&&(a.TgZ(0,"h3",3),a.YNc(1,wl,1,1,"ng-template",null,4,a.W1O),a.YNc(3,aa,0,0,"ng-template",5),a.qZA()),2&g){const h=a.MAs(2),y=a.oxw();a.xp6(3),a.Q6J("ngTemplateOutlet",y.isTitleTemplate()?y.title:h)("ngTemplateOutletContext",y.context)}}function ll(g,I){if(1&g&&(a.TgZ(0,"span"),a.SDv(1,2),a.ALo(2,"percent"),a.qZA()),2&g){const h=a.oxw();a.xp6(2),a.pQV(a.lcZ(2,1,h.getValue()/h.max)),a.QtT(1)}}function $a(g,I){1&g&&a._uU(0),2&g&&a.Oqu(100===I.fill?"\u2605":"\u2606")}function qs(g,I){}function Hs(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"span",2),a._uU(1),a.qZA(),a.TgZ(2,"span",3),a.NdJ("mouseenter",function(){const Z=a.CHM(h).index,Re=a.oxw();return a.KtG(Re.enter(Z+1))})("click",function(){const Z=a.CHM(h).index,Re=a.oxw();return a.KtG(Re.handleClick(Z+1))}),a.YNc(3,qs,0,0,"ng-template",4),a.qZA()}if(2&g){const h=I.index,y=a.oxw(),O=a.MAs(1);a.xp6(1),a.hij("(",h<y.nextRate?"*":" ",")"),a.xp6(1),a.Udp("cursor",y.isInteractive()?"pointer":"default"),a.xp6(1),a.Q6J("ngTemplateOutlet",y.starTemplate||y.starTemplateFromContent||O)("ngTemplateOutletContext",y.contexts[h])}}function $i(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.changeHour(O.hourStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,14),a.qZA()()}if(2&g){const h=a.oxw();a.ekj("btn-sm",h.isSmallSize)("btn-lg",h.isLargeSize)("disabled",h.disabled),a.Q6J("disabled",h.disabled)}}function Gl(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.changeHour(-O.hourStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,16),a.qZA()()}if(2&g){const h=a.oxw();a.ekj("btn-sm",h.isSmallSize)("btn-lg",h.isLargeSize)("disabled",h.disabled),a.Q6J("disabled",h.disabled)}}function ac(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.changeMinute(O.minuteStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,17),a.qZA()()}if(2&g){const h=a.oxw();a.ekj("btn-sm",h.isSmallSize)("btn-lg",h.isLargeSize)("disabled",h.disabled),a.Q6J("disabled",h.disabled)}}function lc(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.changeMinute(-O.minuteStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,18),a.qZA()()}if(2&g){const h=a.oxw();a.ekj("btn-sm",h.isSmallSize)("btn-lg",h.isLargeSize)("disabled",h.disabled),a.Q6J("disabled",h.disabled)}}function Oc(g,I){1&g&&(a.TgZ(0,"div",5),a._uU(1,":"),a.qZA())}function $l(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(h);const O=a.oxw(2);return a.KtG(O.changeSecond(O.secondStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,21),a.qZA()()}if(2&g){const h=a.oxw(2);a.ekj("btn-sm",h.isSmallSize)("btn-lg",h.isLargeSize)("disabled",h.disabled),a.Q6J("disabled",h.disabled)}}function cc(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(h);const O=a.oxw(2);return a.KtG(O.changeSecond(-O.secondStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,22),a.qZA()()}if(2&g){const h=a.oxw(2);a.ekj("btn-sm",h.isSmallSize)("btn-lg",h.isLargeSize)("disabled",h.disabled),a.Q6J("disabled",h.disabled)}}function zl(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"div",19),a.YNc(1,$l,4,7,"button",3),a.TgZ(2,"input",20),a.NdJ("change",function(O){a.CHM(h);const Z=a.oxw();return a.KtG(Z.updateSecond(O.target.value))})("blur",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.handleBlur())})("input",function(O){a.CHM(h);const Z=a.oxw();return a.KtG(Z.formatInput(O.target))})("keydown.ArrowUp",function(O){a.CHM(h);const Z=a.oxw();return Z.changeSecond(Z.secondStep),a.KtG(O.preventDefault())})("keydown.ArrowDown",function(O){a.CHM(h);const Z=a.oxw();return Z.changeSecond(-Z.secondStep),a.KtG(O.preventDefault())}),a.qZA(),a.YNc(3,cc,4,7,"button",3),a.qZA()}if(2&g){const h=a.oxw();a.xp6(1),a.Q6J("ngIf",h.spinners),a.xp6(1),a.ekj("form-control-sm",h.isSmallSize)("form-control-lg",h.isLargeSize),a.Q6J("value",h.formatMinSec(null==h.model?null:h.model.second))("readOnly",h.readonlyInputs)("disabled",h.disabled),a.xp6(1),a.Q6J("ngIf",h.spinners)}}function Yo(g,I){1&g&&a._UZ(0,"div",5)}function El(g,I){if(1&g&&(a.ynx(0),a.SDv(1,27),a.BQk()),2&g){const h=a.oxw(2);a.xp6(1),a.pQV(h.i18n.getAfternoonPeriod()),a.QtT(1)}}function eu(g,I){if(1&g&&a.SDv(0,28),2&g){const h=a.oxw(2);a.pQV(h.i18n.getMorningPeriod()),a.QtT(0)}}function Wl(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"div",23)(1,"button",24),a.NdJ("click",function(){a.CHM(h);const O=a.oxw();return a.KtG(O.toggleMeridian())}),a.YNc(2,El,2,1,"ng-container",25),a.YNc(3,eu,1,1,"ng-template",null,26,a.W1O),a.qZA()()}if(2&g){const h=a.MAs(4),y=a.oxw();a.xp6(1),a.ekj("btn-sm",y.isSmallSize)("btn-lg",y.isLargeSize)("disabled",y.disabled),a.Q6J("disabled",y.disabled),a.xp6(1),a.Q6J("ngIf",y.model&&y.model.hour>=12)("ngIfElse",h)}}function Tl(g,I){if(1&g&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&g){const h=a.oxw().$implicit,y=a.oxw();a.Tol(y.highlightClass),a.xp6(1),a.Oqu(h)}}function Kl(g,I){if(1&g&&a._uU(0),2&g){const h=a.oxw().$implicit;a.Oqu(h)}}function Si(g,I){if(1&g&&(a.YNc(0,Tl,2,3,"span",1),a.YNc(1,Kl,1,1,"ng-template",null,2,a.W1O)),2&g){const h=I.odd,y=a.MAs(2);a.Q6J("ngIf",h)("ngIfElse",y)}}function Rc(g,I){if(1&g&&a._UZ(0,"ngb-highlight",2),2&g){const y=I.term;a.Q6J("result",(0,I.formatter)(I.result))("term",y)}}function Eo(g,I){}const $=function(g,I,h){return{result:g,term:I,formatter:h}};function re(g,I){if(1&g){const h=a.EpF();a.TgZ(0,"button",3),a.NdJ("mouseenter",function(){const Z=a.CHM(h).index,Re=a.oxw();return a.KtG(Re.markActive(Z))})("click",function(){const Z=a.CHM(h).$implicit,Re=a.oxw();return a.KtG(Re.select(Z))}),a.YNc(1,Eo,0,0,"ng-template",4),a.qZA()}if(2&g){const h=I.$implicit,y=I.index,O=a.oxw(),Z=a.MAs(1);a.ekj("active",y===O.activeIdx),a.Q6J("id",O.id+"-"+y),a.xp6(1),a.Q6J("ngTemplateOutlet",O.resultTemplate||Z)("ngTemplateOutletContext",a.kEZ(5,$,h,O.term,O.formatter))}}function W(g){return parseInt(`${g}`,10)}function ge(g){return null!=g?`${g}`:""}function ze(g,I,h=0){return Math.max(Math.min(g,I),h)}function Dt(g){return"string"==typeof g}function Mt(g){return!isNaN(W(g))}function pn(g){return"number"==typeof g&&isFinite(g)&&Math.floor(g)===g}function nr(g){return null!=g}function Lr(g){return Mt(g)?`0${g}`.slice(-2):""}function Di(g,I){return g&&g.className&&g.className.split&&g.className.split(/\s+/).indexOf(I)>=0}function mr(g){return(g||document.body).getBoundingClientRect()}function Rs(g){return g.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const bn={animation:!0,transitionTimerDelayMs:5},Dl=()=>{},{transitionTimerDelayMs:cn}=bn,Tt=new Map,Ut=(g,I,h,y)=>{let O=y.context||{};const Z=Tt.get(I);if(Z)switch(y.runningTransition){case"continue":return ce.E;case"stop":g.run(()=>Z.transition$.complete()),O=Object.assign(Z.context,O),Tt.delete(I)}const Re=h(I,y.animation,O)||Dl;if(!y.animation||"none"===window.getComputedStyle(I).transitionProperty)return g.run(()=>Re()),(0,de.of)(void 0).pipe(function Ri(g){return I=>new B.y(h=>I.subscribe({next:Re=>g.run(()=>h.next(Re)),error:Re=>g.run(()=>h.error(Re)),complete:()=>g.run(()=>h.complete())}))}(g));const Ue=new pe.x,ut=new pe.x,xt=Ue.pipe(function Ke(...g){return I=>(0,it.z)(I,(0,de.of)(...g))}(!0));Tt.set(I,{transition$:Ue,complete:()=>{ut.next(),ut.complete()},context:O});const kt=function Sn(g){const{transitionDelay:I,transitionDuration:h}=window.getComputedStyle(g);return 1e3*(parseFloat(I)+parseFloat(h))}(I);return g.runOutsideAngular(()=>{const Dn=(0,Ee.R)(I,"transitionend").pipe((0,Xe.R)(xt),(0,Ct.h)(({target:Nn})=>Nn===I));ye((0,oe.H)(kt+cn).pipe((0,Xe.R)(xt)),Dn,ut).pipe((0,Xe.R)(xt)).subscribe(()=>{Tt.delete(I),g.run(()=>{Re(),Ue.next(),Ue.complete()})})}),Ue.asObservable()},Wa=(g,I,h)=>{let{direction:y,maxSize:O,dimension:Z}=h;const{classList:Re}=g;function Ue(){Re.add("collapse"),"show"===y?Re.add("show"):Re.remove("show")}if(I)return O||(O=function za(g,I){if(typeof navigator>"u")return"0px";const{classList:h}=g,y=h.contains("show");y||h.add("show"),g.style[I]="";const O=g.getBoundingClientRect()[I]+"px";return y||h.remove("show"),O}(g,Z),h.maxSize=O,g.style[Z]="show"!==y?O:"0px",Re.remove("collapse"),Re.remove("collapsing"),Re.remove("show"),mr(g),Re.add("collapsing")),g.style[Z]="show"===y?O:"0px",()=>{Ue(),Re.remove("collapsing"),g.style[Z]=""};Ue()};let Oe=(()=>{class g{constructor(){this.animation=bn.animation}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Il=(()=>{class g{constructor(h){this._ngbConfig=h,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Oe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Pc=0,gs=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPanelHeader",""]]}),g})(),kc=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPanelTitle",""]]}),g})(),cl=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPanelContent",""]]}),g})(),ka=(()=>{class g{constructor(){this.disabled=!1,this.id="ngb-panel-"+Pc++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new a.vpe,this.hidden=new a.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275dir=a.lG2({type:g,selectors:[["ngb-panel"]],contentQueries:function(h,y,O){if(1&h&&(a.Suo(O,kc,4),a.Suo(O,gs,4),a.Suo(O,cl,4)),2&h){let Z;a.iGM(Z=a.CRH())&&(y.titleTpls=Z),a.iGM(Z=a.CRH())&&(y.headerTpls=Z),a.iGM(Z=a.CRH())&&(y.contentTpls=Z)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),g})(),Wi=(()=>{class g{constructor(h){this._El=h,this.ngbRef=new a.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),g})(),ei=(()=>{class g{constructor(h,y,O){this._ngZone=y,this._changeDetector=O,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=h.animation,this.type=h.type,this.closeOtherPanels=h.closeOthers}isExpanded(h){return this.activeIds.indexOf(h)>-1}expand(h){this._changeOpenState(this._findPanelById(h),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(h=>this._changeOpenState(h,!0))}collapse(h){this._changeOpenState(this._findPanelById(h),!1)}collapseAll(){this.panels.forEach(h=>{this._changeOpenState(h,!1)})}toggle(h){const y=this._findPanelById(h);y&&this._changeOpenState(y,!y.isOpen)}ngAfterContentChecked(){Dt(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(h=>{h.isOpen=!h.disabled&&this.activeIds.indexOf(h.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,dt.q)(1)).subscribe(()=>{this.panels.forEach(h=>{const y=h.panelDiv;y?h.initClassDone||(h.initClassDone=!0,Ut(this._ngZone,y,Wa,{animation:!1,runningTransition:"continue",context:{direction:h.isOpen?"show":"hide",dimension:"height"}})):h.initClassDone=!1})})}_changeOpenState(h,y){if(null!=h&&!h.disabled&&h.isOpen!==y){let O=!1;this.panelChange.emit({panelId:h.id,nextState:y,preventDefault:()=>{O=!0}}),O||(h.isOpen=y,h.transitionRunning=!0,y&&this.closeOtherPanels&&this._closeOthers(h.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(h,y=!0){this.panels.forEach(O=>{O.id!==h&&O.isOpen&&(O.isOpen=!1,O.transitionRunning=y)})}_findPanelById(h){return this.panels.find(y=>y.id===h)||null}_updateActiveIds(){this.activeIds=this.panels.filter(h=>h.isOpen&&!h.disabled).map(h=>h.id)}_runTransitions(h){this._changeDetector.detectChanges(),this.panels.forEach(y=>{y.transitionRunning&&Ut(this._ngZone,y.panelDiv,Wa,{animation:h,runningTransition:"stop",context:{direction:y.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{y.transitionRunning=!1;const{id:Z}=y;y.isOpen?(y.shown.emit(),this.shown.emit(Z)):(y.hidden.emit(),this.hidden.emit(Z))})})}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(Il),a.Y36(a.R0b),a.Y36(a.sBO))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-accordion"]],contentQueries:function(h,y,O){if(1&h&&a.Suo(O,ka,4),2&h){let Z;a.iGM(Z=a.CRH())&&(y.panels=Z)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(h,y){2&h&&a.uIk("aria-multiselectable",!y.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(h,y){1&h&&(a.YNc(0,bl,3,3,"ng-template",0,1,a.W1O),a.YNc(2,Pa,4,11,"ng-template",2)),2&h&&(a.xp6(2),a.Q6J("ngForOf",y.panels))},dependencies:function(){return[E.sg,E.O5,E.tP,Wi,gs,br]},encapsulation:2}),g})(),br=(()=>{class g{constructor(h,y){this.accordion=h,this.panel=y}set ngbPanelToggle(h){h&&(this.panel=h)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(ei),a.Y36(ka,9))},g.\u0275dir=a.lG2({type:g,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(h,y){1&h&&a.NdJ("click",function(){return y.accordion.toggle(y.panel.id)}),2&h&&(a.Ikx("disabled",y.panel.disabled),a.uIk("aria-expanded",y.panel.isOpen)("aria-controls",y.panel.id),a.ekj("collapsed",!y.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),g})(),Fc=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})();const Vi=({classList:g})=>{g.remove("show")};let rr=(()=>{class g{constructor(h){this._ngbConfig=h,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Oe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),ul=(()=>{class g{constructor(h,y,O,Z){this._renderer=y,this._element=O,this._zone=Z,this.closed=new a.vpe,this.dismissible=h.dismissible,this.type=h.type,this.animation=h.animation}close(){const h=Ut(this._zone,this._element.nativeElement,Vi,{animation:this.animation,runningTransition:"continue"});return h.subscribe(()=>this.closed.emit()),h}ngOnChanges(h){const y=h.type;y&&!y.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${y.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${y.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(rr),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(h,y){2&h&&a.ekj("fade",y.animation)("alert-dismissible",y.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],features:[a.TTD],ngContentSelectors:Ns,decls:2,vars:1,consts:function(){let I;return I=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",I,3,"click",4,"ngIf"],["type","button","aria-label",I,1,"btn-close",3,"click"]]},template:function(h,y){1&h&&(a.F$t(),a.Hsn(0),a.YNc(1,_a,1,0,"button",0)),2&h&&(a.xp6(1),a.Q6J("ngIf",y.dismissible))},dependencies:[E.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),g})(),Wr=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})();var qo=(()=>{return(g=qo||(qo={})).START="start",g.END="end",qo;var g})();const wi=({classList:g})=>g.contains("carousel-item-start")||g.contains("carousel-item-end"),gn=g=>{g.remove("carousel-item-start"),g.remove("carousel-item-end")},Pi=g=>{gn(g),g.remove("carousel-item-prev"),g.remove("carousel-item-next")},Cl=(g,I,{direction:h})=>{const{classList:y}=g;return I?(wi(g)?gn(y):(y.add("carousel-item-"+(h===qo.START?"next":"prev")),mr(g),y.add("carousel-item-"+h)),()=>{Pi(y),y.add("active")}):(gn(y),Pi(y),void y.add("active"))},Qo=(g,I,{direction:h})=>{const{classList:y}=g;return I?(wi(g)?gn(y):y.add("carousel-item-"+h),()=>{Pi(y),y.remove("active")}):(gn(y),Pi(y),void y.remove("active"))};let ca=(()=>{class g{constructor(h){this._ngbConfig=h,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Oe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),uc=0,Sl=(()=>{class g{constructor(h){this.tplRef=h,this.id="ngb-slide-"+uc++,this.slid=new a.vpe}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),g})(),Ar=(()=>{class g{constructor(h,y,O,Z,Re){this._platformId=y,this._ngZone=O,this._cd=Z,this._container=Re,this.NgbSlideEventSource=Ea,this._destroy$=new pe.x,this._interval$=new Me.X(0),this._mouseHover$=new Me.X(!1),this._focused$=new Me.X(!1),this._pauseOnHover$=new Me.X(!1),this._pauseOnFocus$=new Me.X(!1),this._pause$=new Me.X(!1),this._wrap$=new Me.X(!1),this.slide=new a.vpe,this.slid=new a.vpe,this._transitionIds=null,this.animation=h.animation,this.interval=h.interval,this.wrap=h.wrap,this.keyboard=h.keyboard,this.pauseOnHover=h.pauseOnHover,this.pauseOnFocus=h.pauseOnFocus,this.showNavigationArrows=h.showNavigationArrows,this.showNavigationIndicators=h.showNavigationIndicators}set interval(h){this._interval$.next(h)}get interval(){return this._interval$.value}set wrap(h){this._wrap$.next(h)}get wrap(){return this._wrap$.value}set pauseOnHover(h){this._pauseOnHover$.next(h)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(h){this._pauseOnFocus$.next(h)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(h){this._mouseHover$.next(h)}get mouseHover(){return this._mouseHover$.value}set focused(h){this._focused$.next(h)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Ea.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Ea.ARROW_RIGHT)}ngAfterContentInit(){(0,E.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const h=(0,Ne.a)([this.slide.pipe((0,Te.U)(y=>y.current),(0,Ge.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,Ge.O)(null))]).pipe((0,Te.U)(([y,O])=>{const Z=this.slides.toArray(),Re=this._getSlideIdxById(y);return O?Z.length>1:Re<Z.length-1}),(0,Qe.x)());(0,Ne.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,h]).pipe((0,Te.U)(([y,O,Z,Re,Ue,ut,xt])=>y||O&&Z||Re&&Ue||!xt?0:ut),(0,Qe.x)(),(0,At.w)(y=>y>0?(0,oe.H)(y,y):qe),(0,Xe.R)(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Ea.TIMER)))}),this.slides.changes.pipe((0,Xe.R)(this._destroy$)).subscribe(()=>{var h;null===(h=this._transitionIds)||void 0===h||h.forEach(y=>(g=>{var I;null===(I=Tt.get(g))||void 0===I||I.complete()})(this._getSlideElement(y))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,dt.q)(1)).subscribe(()=>{for(const{id:y}of this.slides){const O=this._getSlideElement(y);y===this.activeId?O.classList.add("active"):O.classList.remove("active")}})})}ngAfterContentChecked(){let h=this._getSlideById(this.activeId);this.activeId=h?h.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const h=this._getSlideElement(this.activeId);h&&h.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(h,y){this._cycleToSelected(h,this._getSlideEventDirection(this.activeId,h),y)}prev(h){this._cycleToSelected(this._getPrevSlide(this.activeId),qo.END,h)}next(h){this._cycleToSelected(this._getNextSlide(this.activeId),qo.START,h)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(h,y,O){const Z=this._transitionIds;if(Z&&(Z[0]!==h||Z[1]!==this.activeId))return;let Re=this._getSlideById(h);if(Re&&Re.id!==this.activeId){this._transitionIds=[this.activeId,h],this.slide.emit({prev:this.activeId,current:Re.id,direction:y,paused:this._pause$.value,source:O});const Ue={animation:this.animation,runningTransition:"stop",context:{direction:y}},ut=[],xt=this._getSlideById(this.activeId);if(xt){const Nn=Ut(this._ngZone,this._getSlideElement(xt.id),Qo,Ue);Nn.subscribe(()=>{xt.slid.emit({isShown:!1,direction:y,source:O})}),ut.push(Nn)}const kt=this.activeId;this.activeId=Re.id;const Dn=this._getSlideById(this.activeId),fn=Ut(this._ngZone,this._getSlideElement(Re.id),Cl,Ue);fn.subscribe(()=>{Dn?.slid.emit({isShown:!0,direction:y,source:O})}),ut.push(fn),(0,We.$)(...ut).pipe((0,dt.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:kt,current:Re.id,direction:y,paused:this._pause$.value,source:O})})}this._cd.markForCheck()}_getSlideEventDirection(h,y){return this._getSlideIdxById(h)>this._getSlideIdxById(y)?qo.END:qo.START}_getSlideById(h){return this.slides.find(y=>y.id===h)||null}_getSlideIdxById(h){const y=this._getSlideById(h);return null!=y?this.slides.toArray().indexOf(y):-1}_getNextSlide(h){const y=this.slides.toArray(),O=this._getSlideIdxById(h);return O===y.length-1?this.wrap?y[0].id:y[y.length-1].id:y[O+1].id}_getPrevSlide(h){const y=this.slides.toArray(),O=this._getSlideIdxById(h);return 0===O?this.wrap?y[y.length-1].id:y[0].id:y[O-1].id}_getSlideElement(h){return this._container.nativeElement.querySelector(`#slide-${h}`)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(ca),a.Y36(a.Lbi),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.SBq))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-carousel"]],contentQueries:function(h,y,O){if(1&h&&a.Suo(O,Sl,4),2&h){let Z;a.iGM(Z=a.CRH())&&(y.slides=Z)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(h,y){1&h&&a.NdJ("keydown.arrowLeft",function(){return y.keyboard&&y.arrowLeft()})("keydown.arrowRight",function(){return y.keyboard&&y.arrowRight()})("mouseenter",function(){return y.mouseHover=!0})("mouseleave",function(){return y.mouseHover=!1})("focusin",function(){return y.focused=!0})("focusout",function(){return y.focused=!1}),2&h&&(a.uIk("aria-activedescendant","slide-"+y.activeId),a.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let I,h,y;return I=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,h=$localize`:@@ngb.carousel.previous:Previous`,y=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],I,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],h,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],y]},template:function(h,y){1&h&&(a.TgZ(0,"div",0),a.YNc(1,ya,1,5,"button",1),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,lo,4,4,"div",3),a.qZA(),a.YNc(4,Is,4,0,"button",4),a.YNc(5,js,4,0,"button",5)),2&h&&(a.ekj("visually-hidden",!y.showNavigationIndicators),a.xp6(1),a.Q6J("ngForOf",y.slides),a.xp6(2),a.Q6J("ngForOf",y.slides),a.xp6(1),a.Q6J("ngIf",y.showNavigationArrows),a.xp6(1),a.Q6J("ngIf",y.showNavigationArrows))},dependencies:[E.sg,E.O5,E.tP],encapsulation:2,changeDetection:0}),g})();var Ea=(()=>{return(g=Ea||(Ea={})).TIMER="timer",g.ARROW_LEFT="arrowLeft",g.ARROW_RIGHT="arrowRight",g.INDICATOR="indicator",Ea;var g})();let Ps=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})(),Yl=(()=>{class g{constructor(h){this._ngbConfig=h,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Oe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Jo=(()=>{class g{constructor(h,y,O){this._element=h,this._zone=O,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=y.animation,this.horizontal=y.horizontal}set collapsed(h){this._isCollapsed!==h&&(this._isCollapsed=h,this._afterInit&&this._runTransitionWithEvents(h,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(h=this._isCollapsed){this.collapsed=!h,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(h,y){return Ut(this._zone,this._element.nativeElement,Wa,{animation:y,runningTransition:"stop",context:{direction:h?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(h,y){this._runTransition(h,y).subscribe(()=>{h?this.hidden.emit():this.shown.emit()})}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.SBq),a.Y36(Yl),a.Y36(a.R0b))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(h,y){2&h&&a.ekj("collapse-horizontal",y.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]}),g})(),dc=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({}),g})();class as{constructor(I,h,y){this.year=pn(I)?I:null,this.month=pn(h)?h:null,this.day=pn(y)?y:null}static from(I){return I instanceof as?I:I?new as(I.year,I.month,I.day):null}equals(I){return null!=I&&this.year===I.year&&this.month===I.month&&this.day===I.day}before(I){return!!I&&(this.year===I.year?this.month===I.month?this.day!==I.day&&this.day<I.day:this.month<I.month:this.year<I.year)}after(I){return!!I&&(this.year===I.year?this.month===I.month?this.day!==I.day&&this.day>I.day:this.month>I.month:this.year>I.year)}}function To(g,I){return!function ed(g,I){return!g&&!I||!!g&&!!I&&g.equals(I)}(g,I)}function Rt(g,I){return!(!g&&!I||g&&I&&g.year===I.year&&g.month===I.month)}function Al(g,I,h){return g&&I&&g.before(I)?I:g&&h&&g.after(h)?h:g||null}function Fa(g,I){const{minDate:h,maxDate:y,disabled:O,markDisabled:Z}=I;return!(null==g||O||Z&&Z(g,{year:g.year,month:g.month})||h&&g.before(h)||y&&g.after(y))}function P(g){return new as(g.getFullYear(),g.getMonth()+1,g.getDate())}function S(g){const I=new Date(g.year,g.month-1,g.day,12);return isNaN(I.getTime())||I.setFullYear(g.year),I}let q=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:function(){return function G(){return new _e}()},providedIn:"root"}),g})(),_e=(()=>{class g extends q{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(h,y="d",O=1){let Z=S(h),Re=!0,Ue=Z.getMonth();switch(y){case"y":Z.setFullYear(Z.getFullYear()+O);break;case"m":Ue+=O,Z.setMonth(Ue),Ue%=12,Ue<0&&(Ue+=12);break;case"d":Z.setDate(Z.getDate()+O),Re=!1;break;default:return h}return Re&&Z.getMonth()!==Ue&&Z.setDate(0),P(Z)}getPrev(h,y="d",O=1){return this.getNext(h,y,-O)}getWeekday(h){let O=S(h).getDay();return 0===O?7:O}getWeekNumber(h,y){7===y&&(y=0);const Re=S(h[(11-y)%7]);Re.setDate(Re.getDate()+4-(Re.getDay()||7));const Ue=Re.getTime();return Re.setMonth(0),Re.setDate(1),Math.floor(Math.round((Ue-Re.getTime())/864e5)/7)+1}getToday(){return P(new Date)}isValid(h){if(!(h&&pn(h.year)&&pn(h.month)&&pn(h.day)&&0!==h.year))return!1;const y=S(h);return!isNaN(y.getTime())&&y.getFullYear()===h.year&&y.getMonth()+1===h.month&&y.getDate()===h.day}}return g.\u0275fac=function(){let I;return function(y){return(I||(I=a.n5z(g)))(y||g)}}(),g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})(),Fe=(()=>{class g{getMonthLabel(h){return`${this.getMonthFullName(h.month,h.year)} ${this.getYearNumerals(h.year)}`}getDayNumerals(h){return`${h.day}`}getWeekNumerals(h){return`${h}`}getYearNumerals(h){return`${h}`}getWeekLabel(){return""}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:function(h){let y=null;return y=h?new h:function ke(g){return new mt(g)}(a.LFG(a.soG)),y},providedIn:"root"}),g})(),mt=(()=>{class g extends Fe{constructor(h){super(),this._locale=h,this._monthsShort=(0,E.UT)(h,E.x.Standalone,E.Tn.Abbreviated),this._monthsFull=(0,E.UT)(h,E.x.Standalone,E.Tn.Wide)}getWeekdayLabel(h,y){const O=(0,E.Mn)(this._locale,E.x.Standalone,void 0===y?E.Tn.Short:y);return O.map((Re,Ue)=>O[(Ue+1)%7])[h-1]||""}getMonthShortName(h){return this._monthsShort[h-1]||""}getMonthFullName(h){return this._monthsFull[h-1]||""}getDayAriaLabel(h){const y=new Date(h.year,h.month-1,h.day);return(0,E.p6)(y,"fullDate",this._locale)}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(a.soG))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})(),an=(()=>{class g{constructor(h,y){this._calendar=h,this._i18n=y,this._VALIDATORS={dayTemplateData:O=>{if(this._state.dayTemplateData!==O)return{dayTemplateData:O}},displayMonths:O=>{if(pn(O=W(O))&&O>0&&this._state.displayMonths!==O)return{displayMonths:O}},disabled:O=>{if(this._state.disabled!==O)return{disabled:O}},firstDayOfWeek:O=>{if(pn(O=W(O))&&O>=0&&this._state.firstDayOfWeek!==O)return{firstDayOfWeek:O}},focusVisible:O=>{if(this._state.focusVisible!==O&&!this._state.disabled)return{focusVisible:O}},markDisabled:O=>{if(this._state.markDisabled!==O)return{markDisabled:O}},maxDate:O=>{const Z=this.toValidDate(O,null);if(To(this._state.maxDate,Z))return{maxDate:Z}},minDate:O=>{const Z=this.toValidDate(O,null);if(To(this._state.minDate,Z))return{minDate:Z}},navigation:O=>{if(this._state.navigation!==O)return{navigation:O}},outsideDays:O=>{if(this._state.outsideDays!==O)return{outsideDays:O}},weekdays:O=>{const Z=!0===O||!1===O?E.Tn.Short:O,Re=!0!==O&&!1!==O||O;if(this._state.weekdayWidth!==Z||this._state.weekdaysVisible!==Re)return{weekdayWidth:Z,weekdaysVisible:Re}}},this._model$=new pe.x,this._dateSelect$=new pe.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:E.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,Ct.h)(h=>h.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,Ct.h)(h=>null!==h))}set(h){let y=Object.keys(h).map(O=>this._VALIDATORS[O](h[O])).reduce((O,Z)=>({...O,...Z}),{});Object.keys(y).length>0&&this._nextState(y)}focus(h){const y=this.toValidDate(h,null);null!=y&&!this._state.disabled&&To(this._state.focusDate,y)&&this._nextState({focusDate:h})}focusSelect(){Fa(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(h){const y=this.toValidDate(h,this._calendar.getToday());null!=y&&!this._state.disabled&&(!this._state.firstDate||Rt(this._state.firstDate,y))&&this._nextState({firstDate:y})}select(h,y={}){const O=this.toValidDate(h,null);null!=O&&!this._state.disabled&&(To(this._state.selectedDate,O)&&this._nextState({selectedDate:O}),y.emitEvent&&Fa(O,this._state)&&this._dateSelect$.next(O))}toValidDate(h,y){const O=as.from(h);return void 0===y&&(y=this._calendar.getToday()),this._calendar.isValid(O)?O:y}getMonth(h){for(let y of this._state.months)if(h.month===y.number&&h.year===y.year)return y;throw new Error(`month ${h.month} of year ${h.year} not found`)}_nextState(h){const y=this._updateState(h);this._patchContexts(y),this._state=y,this._model$.next(this._state)}_patchContexts(h){const{months:y,displayMonths:O,selectedDate:Z,focusDate:Re,focusVisible:Ue,disabled:ut,outsideDays:xt}=h;h.months.forEach(kt=>{kt.weeks.forEach(Dn=>{Dn.days.forEach(fn=>{Re&&(fn.context.focused=Re.equals(fn.date)&&Ue),fn.tabindex=!ut&&Re&&fn.date.equals(Re)&&Re.month===kt.number?0:-1,!0===ut&&(fn.context.disabled=!0),void 0!==Z&&(fn.context.selected=null!==Z&&Z.equals(fn.date)),kt.number!==fn.date.month&&(fn.hidden="hidden"===xt||"collapsed"===xt||O>1&&fn.date.after(y[0].firstDate)&&fn.date.before(y[O-1].lastDate))})})})}_updateState(h){const y=Object.assign({},this._state,h);let O=y.firstDate;if(("minDate"in h||"maxDate"in h)&&(function ki(g,I){if(I&&g&&I.before(g))throw new Error(`'maxDate' ${I} should be greater than 'minDate' ${g}`)}(y.minDate,y.maxDate),y.focusDate=Al(y.focusDate,y.minDate,y.maxDate),y.firstDate=Al(y.firstDate,y.minDate,y.maxDate),O=y.focusDate),"disabled"in h&&(y.focusVisible=!1),"selectedDate"in h&&0===this._state.months.length&&(O=y.selectedDate),"focusVisible"in h||"focusDate"in h&&(y.focusDate=Al(y.focusDate,y.minDate,y.maxDate),O=y.focusDate,0!==y.months.length&&y.focusDate&&!y.focusDate.before(y.firstDate)&&!y.focusDate.after(y.lastDate)))return y;if("firstDate"in h&&(y.firstDate=Al(y.firstDate,y.minDate,y.maxDate),O=y.firstDate),O){const Re=function da(g,I,h,y,O){const{displayMonths:Z,months:Re}=h,Ue=Re.splice(0,Re.length);return Array.from({length:Z},(xt,kt)=>{const Dn=Object.assign(g.getNext(I,"m",kt),{day:1});if(Re[kt]=null,!O){const fn=Ue.findIndex(Nn=>Nn.firstDate.equals(Dn));-1!==fn&&(Re[kt]=Ue.splice(fn,1)[0])}return Dn}).forEach((xt,kt)=>{null===Re[kt]&&(Re[kt]=function tu(g,I,h,y,O={}){const{dayTemplateData:Z,minDate:Re,maxDate:Ue,firstDayOfWeek:ut,markDisabled:xt,outsideDays:kt,weekdayWidth:Dn,weekdaysVisible:fn}=h,Nn=g.getToday();O.firstDate=null,O.lastDate=null,O.number=I.month,O.year=I.year,O.weeks=O.weeks||[],O.weekdays=O.weekdays||[],I=function R(g,I,h){const y=g.getDaysPerWeek(),O=new as(I.year,I.month,1),Z=g.getWeekday(O)%y;return g.getPrev(O,"d",(y+Z-h)%y)}(g,I,ut),fn||(O.weekdays.length=0);for(let ri=0;ri<g.getWeeksPerMonth();ri++){let wr=O.weeks[ri];wr||(wr=O.weeks[ri]={number:0,days:[],collapsed:!0});const Yr=wr.days;for(let ii=0;ii<g.getDaysPerWeek();ii++){0===ri&&fn&&(O.weekdays[ii]=y.getWeekdayLabel(g.getWeekday(I),Dn));const Ei=new as(I.year,I.month,I.day),ms=g.getNext(Ei),qr=y.getDayAriaLabel(Ei);let ai=!!(Re&&Ei.before(Re)||Ue&&Ei.after(Ue));!ai&&xt&&(ai=xt(Ei,{month:O.number,year:O.year}));let hi=Ei.equals(Nn),ji=Z?Z(Ei,{month:O.number,year:O.year}):void 0;null===O.firstDate&&Ei.month===O.number&&(O.firstDate=Ei),Ei.month===O.number&&ms.month!==O.number&&(O.lastDate=Ei);let Ti=Yr[ii];Ti||(Ti=Yr[ii]={}),Ti.date=Ei,Ti.context=Object.assign(Ti.context||{},{$implicit:Ei,date:Ei,data:ji,currentMonth:O.number,currentYear:O.year,disabled:ai,focused:!1,selected:!1,today:hi}),Ti.tabindex=-1,Ti.ariaLabel=qr,Ti.hidden=!1,I=ms}wr.number=g.getWeekNumber(Yr.map(ii=>ii.date),ut),wr.collapsed="collapsed"===kt&&Yr[0].date.month!==O.number&&Yr[Yr.length-1].date.month!==O.number}return O}(g,xt,h,y,Ue.shift()||{}))}),Re}(this._calendar,O,y,this._i18n,"dayTemplateData"in h||"firstDayOfWeek"in h||"markDisabled"in h||"minDate"in h||"maxDate"in h||"disabled"in h||"outsideDays"in h||"weekdaysVisible"in h);y.months=Re,y.firstDate=Re[0].firstDate,y.lastDate=Re[Re.length-1].lastDate,"selectedDate"in h&&!Fa(y.selectedDate,y)&&(y.selectedDate=null),"firstDate"in h&&(!y.focusDate||y.focusDate.before(y.firstDate)||y.focusDate.after(y.lastDate))&&(y.focusDate=O);const Ue=!this._state.firstDate||this._state.firstDate.year!==y.firstDate.year,ut=!this._state.firstDate||this._state.firstDate.month!==y.firstDate.month;"select"===y.navigation?(("minDate"in h||"maxDate"in h||0===y.selectBoxes.years.length||Ue)&&(y.selectBoxes.years=function td(g,I,h){if(!g)return[];const y=I?Math.max(I.year,g.year-500):g.year-10,Z=(h?Math.min(h.year,g.year+500):g.year+10)-y+1,Re=Array(Z);for(let Ue=0;Ue<Z;Ue++)Re[Ue]=y+Ue;return Re}(y.firstDate,y.minDate,y.maxDate)),("minDate"in h||"maxDate"in h||0===y.selectBoxes.months.length||Ue)&&(y.selectBoxes.months=function Ta(g,I,h,y){if(!I)return[];let O=g.getMonths(I.year);if(h&&I.year===h.year){const Z=O.findIndex(Re=>Re===h.month);O=O.slice(Z)}if(y&&I.year===y.year){const Z=O.findIndex(Re=>Re===y.month);O=O.slice(0,Z+1)}return O}(this._calendar,y.firstDate,y.minDate,y.maxDate))):y.selectBoxes={years:[],months:[]},("arrows"===y.navigation||"select"===y.navigation)&&(ut||Ue||"minDate"in h||"maxDate"in h||"disabled"in h)&&(y.prevDisabled=y.disabled||function ua(g,I,h){const y=Object.assign(g.getPrev(I,"m"),{day:1});return null!=h&&(y.year===h.year&&y.month<h.month||y.year<h.year&&1===h.month)}(this._calendar,y.firstDate,y.minDate),y.nextDisabled=y.disabled||function Fi(g,I,h){const y=Object.assign(g.getNext(I,"m"),{day:1});return null!=h&&y.after(h)}(this._calendar,y.lastDate,y.maxDate))}return y}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(q),a.LFG(Fe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})();var Bn=(()=>{return(g=Bn||(Bn={}))[g.PREV=0]="PREV",g[g.NEXT=1]="NEXT",Bn;var g})();let un=(()=>{class g{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=E.Tn.Short}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),ti=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:function(){return function _r(){return new Es}()},providedIn:"root"}),g})(),Es=(()=>{class g extends ti{fromModel(h){return h&&pn(h.year)&&pn(h.month)&&pn(h.day)?{year:h.year,month:h.month,day:h.day}:null}toModel(h){return h&&pn(h.year)&&pn(h.month)&&pn(h.day)?{year:h.year,month:h.month,day:h.day}:null}}return g.\u0275fac=function(){let I;return function(y){return(I||(I=a.n5z(g)))(y||g)}}(),g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})(),fo=(()=>{class g{constructor(h,y){this.i18n=h,this._renderer=y,this.select=new a.vpe,this._month=-1,this._year=-1}changeMonth(h){this.select.emit(new as(this.date.year,W(h),1))}changeYear(h){this.select.emit(new as(W(h),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(Fe),a.Y36(a.Qsj))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(h,y){if(1&h&&(a.Gf(vo,7,a.SBq),a.Gf(na,7,a.SBq)),2&h){let O;a.iGM(O=a.CRH())&&(y.monthSelect=O.first),a.iGM(O=a.CRH())&&(y.yearSelect=O.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){let I,h,y,O;return I=$localize`:@@ngb.datepicker.select-month:Select month`,h=$localize`:@@ngb.datepicker.select-month:Select month`,y=$localize`:@@ngb.datepicker.select-year:Select year`,O=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",I,"title",h,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",y,"title",O,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(h,y){1&h&&(a.TgZ(0,"select",0,1),a.NdJ("change",function(Z){return y.changeMonth(Z.target.value)}),a.YNc(2,Oo,2,3,"option",2),a.qZA(),a.TgZ(3,"select",3,4),a.NdJ("change",function(Z){return y.changeYear(Z.target.value)}),a.YNc(5,Ro,2,2,"option",2),a.qZA()),2&h&&(a.Q6J("disabled",y.disabled),a.xp6(2),a.Q6J("ngForOf",y.months),a.xp6(1),a.Q6J("disabled",y.disabled),a.xp6(2),a.Q6J("ngForOf",y.years))},dependencies:[E.sg,jt.YN,jt.Kr],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),g})(),Do=(()=>{class g{constructor(h){this.i18n=h,this.navigation=Bn,this.months=[],this.navigate=new a.vpe,this.select=new a.vpe}onClickPrev(h){h.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(h){h.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(Fe))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){let I,h,y,O;return I=$localize`:@@ngb.datepicker.previous-month:Previous month`,h=$localize`:@@ngb.datepicker.previous-month:Previous month`,y=$localize`:@@ngb.datepicker.next-month:Next month`,O=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",I,"title",h,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",y,"title",O,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(h,y){1&h&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(Z){return y.onClickPrev(Z)}),a._UZ(2,"span",2),a.qZA()(),a.YNc(3,co,1,4,"ngb-datepicker-navigation-select",3),a.YNc(4,ws,1,1,null,4),a.TgZ(5,"div",5)(6,"button",6),a.NdJ("click",function(Z){return y.onClickNext(Z)}),a._UZ(7,"span",2),a.qZA()()),2&h&&(a.xp6(1),a.Q6J("disabled",y.prevDisabled),a.xp6(2),a.Q6J("ngIf",y.showSelect),a.xp6(1),a.Q6J("ngIf",!y.showSelect),a.xp6(2),a.Q6J("disabled",y.nextDisabled))},dependencies:[E.sg,E.O5,fo],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),g})(),dl=(()=>{class g{constructor(h){this.i18n=h}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(Fe))},g.\u0275cmp=a.Xpm({type:g,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(h,y){2&h&&a.ekj("bg-primary",y.selected)("text-white",y.selected)("text-muted",y.isMuted())("outside",y.isMuted())("active",y.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Qi,decls:1,vars:1,template:function(h,y){1&h&&a._uU(0),2&h&&a.Oqu(y.i18n.getDayNumerals(y.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),g})();var Ir=(()=>{return(g=Ir||(Ir={}))[g.Tab=9]="Tab",g[g.Enter=13]="Enter",g[g.Escape=27]="Escape",g[g.Space=32]="Space",g[g.PageUp=33]="PageUp",g[g.PageDown=34]="PageDown",g[g.End=35]="End",g[g.Home=36]="Home",g[g.ArrowLeft=37]="ArrowLeft",g[g.ArrowUp=38]="ArrowUp",g[g.ArrowRight=39]="ArrowRight",g[g.ArrowDown=40]="ArrowDown",Ir;var g})();let nu=(()=>{class g{processKey(h,y){const{state:O,calendar:Z}=y;switch(h.which){case Ir.PageUp:y.focusDate(Z.getPrev(O.focusedDate,h.shiftKey?"y":"m",1));break;case Ir.PageDown:y.focusDate(Z.getNext(O.focusedDate,h.shiftKey?"y":"m",1));break;case Ir.End:y.focusDate(h.shiftKey?O.maxDate:O.lastDate);break;case Ir.Home:y.focusDate(h.shiftKey?O.minDate:O.firstDate);break;case Ir.ArrowLeft:y.focusDate(Z.getPrev(O.focusedDate,"d",1));break;case Ir.ArrowUp:y.focusDate(Z.getPrev(O.focusedDate,"d",Z.getDaysPerWeek()));break;case Ir.ArrowRight:y.focusDate(Z.getNext(O.focusedDate,"d",1));break;case Ir.ArrowDown:y.focusDate(Z.getNext(O.focusedDate,"d",Z.getDaysPerWeek()));break;case Ir.Enter:case Ir.Space:y.focusSelect();break;default:return}h.preventDefault(),h.stopPropagation()}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Io=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbDatepickerContent",""]]}),g})(),Js=(()=>{class g{constructor(h,y,O,Z,Re,Ue,ut,xt){this._service=h,this._calendar=y,this.i18n=O,this._elementRef=Ue,this._ngbDateAdapter=ut,this._ngZone=xt,this._controlValue=null,this._destroyed$=new pe.x,this._publicState={},this.navigate=new a.vpe,this.dateSelect=new a.vpe,this.onChange=kt=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(kt=>this[kt]=Z[kt]),h.dateSelect$.pipe((0,Xe.R)(this._destroyed$)).subscribe(kt=>{this.dateSelect.emit(kt)}),h.model$.pipe((0,Xe.R)(this._destroyed$)).subscribe(kt=>{const Dn=kt.firstDate,fn=this.model?this.model.firstDate:null;this._publicState={maxDate:kt.maxDate,minDate:kt.minDate,firstDate:kt.firstDate,lastDate:kt.lastDate,focusedDate:kt.focusDate,months:kt.months.map(ii=>ii.firstDate)};let Nn=!1;if(!Dn.equals(fn)&&(this.navigate.emit({current:fn?{year:fn.year,month:fn.month}:null,next:{year:Dn.year,month:Dn.month},preventDefault:()=>Nn=!0}),Nn&&null!==fn))return void this._service.open(fn);const ri=kt.selectedDate,wr=kt.focusDate,Yr=this.model?this.model.focusDate:null;this.model=kt,To(ri,this._controlValue)&&(this._controlValue=ri,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(ri))),To(wr,Yr)&&Yr&&kt.focusVisible&&this.focus(),Re.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(h){this._service.focus(as.from(h))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,dt.q)(1)).subscribe(()=>{const h=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');h&&h.focus()})}navigateTo(h){this._service.open(as.from(h?h.day?h:{...h,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const h=(0,Ee.R)(this._contentEl.nativeElement,"focusin"),y=(0,Ee.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:O}=this._elementRef;(0,Ft.T)(h,y).pipe((0,Ct.h)(({target:Z,relatedTarget:Re})=>!(Di(Z,"ngb-dp-day")&&Di(Re,"ngb-dp-day")&&O.contains(Z)&&O.contains(Re))),(0,Xe.R)(this._destroyed$)).subscribe(({type:Z})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Z})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const h={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(y=>h[y]=this[y]),this._service.set(h),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(h){const y={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(O=>O in h).forEach(O=>y[O]=this[O]),this._service.set(y),"startDate"in h){const{currentValue:O,previousValue:Z}=h.startDate;Rt(Z,O)&&this.navigateTo(this.startDate)}}onDateSelect(h){this._service.focus(h),this._service.select(h,{emitEvent:!0})}onNavigateDateSelect(h){this._service.open(h)}onNavigateEvent(h){switch(h){case Bn.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Bn.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(h){this.onChange=h}registerOnTouched(h){this.onTouched=h}setDisabledState(h){this._service.set({disabled:h})}writeValue(h){this._controlValue=as.from(this._ngbDateAdapter.fromModel(h)),this._service.select(this._controlValue)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(an),a.Y36(q),a.Y36(Fe),a.Y36(un),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(ti),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-datepicker"]],contentQueries:function(h,y,O){if(1&h&&a.Suo(O,Io,7),2&h){let Z;a.iGM(Z=a.CRH())&&(y.contentTemplate=Z.first)}},viewQuery:function(h,y){if(1&h&&(a.Gf(Po,7),a.Gf(ko,7)),2&h){let O;a.iGM(O=a.CRH())&&(y._defaultDayTemplate=O.first),a.iGM(O=a.CRH())&&(y._contentEl=O.first)}},hostVars:2,hostBindings:function(h,y){2&h&&a.ekj("disabled",y.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[a._Bn([{provide:jt.JU,useExisting:(0,a.Gpc)(()=>g),multi:!0},an]),a.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(h,y){if(1&h&&(a.YNc(0,Fo,1,5,"ng-template",null,0,a.W1O),a.YNc(2,bo,1,1,"ng-template",null,1,a.W1O),a.TgZ(4,"div",2),a.YNc(5,Ms,1,7,"ngb-datepicker-navigation",3),a.qZA(),a.TgZ(6,"div",4,5),a.YNc(8,ui,0,0,"ng-template",6),a.qZA(),a.YNc(9,ps,0,0,"ng-template",6)),2&h){const O=a.MAs(3);a.xp6(5),a.Q6J("ngIf","none"!==y.navigation),a.xp6(1),a.ekj("ngb-dp-months",!y.contentTemplate),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==y.contentTemplate?null:y.contentTemplate.templateRef)||O),a.xp6(1),a.Q6J("ngTemplateOutlet",y.footerTemplate)}},dependencies:function(){return[E.sg,E.O5,E.tP,xl,Do,dl]},styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),g})(),xl=(()=>{class g{constructor(h,y,O,Z){this.i18n=h,this.datepicker=y,this._keyboardService=O,this._service=Z}set month(h){this.viewModel=this._service.getMonth(h)}onKeyDown(h){this._keyboardService.processKey(h,this.datepicker)}doSelect(h){!h.context.disabled&&!h.hidden&&this.datepicker.onDateSelect(h.date)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(Fe),a.Y36(Js),a.Y36(nu),a.Y36(an))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(h,y){1&h&&a.NdJ("keydown",function(Z){return y.onKeyDown(Z)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(h,y){1&h&&(a.YNc(0,Ks,3,2,"div",0),a.YNc(1,va,1,1,"ng-template",1)),2&h&&(a.Q6J("ngIf",y.viewModel.weekdays.length>0),a.xp6(1),a.Q6J("ngForOf",y.viewModel.weeks))},dependencies:[E.sg,E.O5,E.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),g})();const hc=(g,I)=>!!I&&I.some(h=>h.contains(g)),th=(g,I)=>!I||null!=function zt(g,I){return!I||typeof g.closest>"u"?null:g.closest(I)}(g,I),nd=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Gs(g,I,h,y,O,Z,Re,Ue){h&&g.runOutsideAngular((g=>nd?()=>setTimeout(()=>g(),100):g)(()=>{const xt=(0,Ee.R)(I,"keydown").pipe((0,Xe.R)(O),(0,Ct.h)(fn=>fn.which===Ir.Escape),(0,ln.b)(fn=>fn.preventDefault())),kt=(0,Ee.R)(I,"mousedown").pipe((0,Te.U)(fn=>{const Nn=fn.target;return 2!==fn.button&&!hc(Nn,Re)&&("inside"===h?hc(Nn,Z)&&th(Nn,Ue):"outside"===h?!hc(Nn,Z):th(Nn,Ue)||!hc(Nn,Z))}),(0,Xe.R)(O)),Dn=(0,Ee.R)(I,"mouseup").pipe((0,Lt.M)(kt),(0,Ct.h)(([fn,Nn])=>Nn),(0,pt.g)(0),(0,Xe.R)(O));ye([xt.pipe((0,Te.U)(fn=>0)),Dn.pipe((0,Te.U)(fn=>1))]).subscribe(fn=>g.run(()=>y(fn)))}))}const ha=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Nl(g){const I=Array.from(g.querySelectorAll(ha)).filter(h=>-1!==h.tabIndex);return[I[0],I[I.length-1]]}const ru=(g,I,h,y=!1)=>{g.runOutsideAngular(()=>{const O=(0,Ee.R)(I,"focusin").pipe((0,Xe.R)(h),(0,Te.U)(Z=>Z.target));(0,Ee.R)(I,"keydown").pipe((0,Xe.R)(h),(0,Ct.h)(Z=>Z.which===Ir.Tab),(0,Lt.M)(O)).subscribe(([Z,Re])=>{const[Ue,ut]=Nl(I);(Re===Ue||Re===I)&&Z.shiftKey&&(ut.focus(),Z.preventDefault()),Re===ut&&!Z.shiftKey&&(Ue.focus(),Z.preventDefault())}),y&&(0,Ee.R)(I,"click").pipe((0,Xe.R)(h),(0,Lt.M)(O),(0,Te.U)(Z=>Z[1])).subscribe(Z=>Z.focus())})},Cs=/\s+/,rd=/  +/gi,ks={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},K=/^left/,X=/^right/,fe=/^start/,He=/^end/;function ft({placement:g,baseClass:I},h){let y=Array.isArray(g)?g:g.split(Cs),Z=y.findIndex(xt=>"auto"===xt);Z>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(xt){null==y.find(kt=>-1!==kt.search("^"+xt))&&y.splice(Z++,1,xt)});const Re=y.map(xt=>function Iu(g,I){const[h,y]=ks[g];return I&&y||h}(xt,h.isRTL()));return{placement:Re.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!I,phase:"write",fn({state:xt}){const kt=new RegExp(I+"(-[a-z]+)*","gi"),Dn=xt.elements.popper,fn=xt.placement;let Nn=Dn.className;Nn=Nn.replace(kt,""),Nn+=` ${function lt(g,I){let[h,y]=I.split("-");const O=h.replace(K,"start").replace(X,"end");let Z=[O];if(y){let Re=y;("left"===h||"right"===h)&&(Re=Re.replace(fe,"top").replace(He,"bottom")),Z.push(`${O}-${Re}`)}return g&&(Z=Z.map(Re=>`${g}-${Re}`)),Z.join(" ")}(I,fn)}`,Nn=Nn.trim().replace(rd," "),Dn.className=Nn}},fi,Mr,mo,{enabled:!0,name:"flip",options:{fallbackPlacements:Re}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Xt(g){return g}function An(g){let I=null;return{createPopper(h){if(!I){let O=(h.updatePopperOptions||Xt)(ft(h,g));I=Vs(h.hostElement,h.targetElement,O)}},update(){I&&I.update()},setOptions(h){if(I){let O=(h.updatePopperOptions||Xt)(ft(h,g));I.setOptions(O)}},destroy(){I&&(I.destroy(),I=null)}}}let Gn=(()=>{class g extends un{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=h=>h,this.restoreFocus=!0}}return g.\u0275fac=function(){let I;return function(y){return(I||(I=a.n5z(g)))(y||g)}}(),g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function or(g){return I=>(I.modifiers.push(fs,{name:"offset",options:{offset:()=>g}}),I)}let jn=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:function(){return function Rr(){return new Da}()},providedIn:"root"}),g})(),Da=(()=>{class g extends jn{parse(h){if(null!=h){const y=h.trim().split("-");if(1===y.length&&Mt(y[0]))return{year:W(y[0]),month:null,day:null};if(2===y.length&&Mt(y[0])&&Mt(y[1]))return{year:W(y[0]),month:W(y[1]),day:null};if(3===y.length&&Mt(y[0])&&Mt(y[1])&&Mt(y[2]))return{year:W(y[0]),month:W(y[1]),day:W(y[2])}}return null}format(h){return h?`${h.year}-${Mt(h.month)?Lr(h.month):""}-${Mt(h.day)?Lr(h.day):""}`:""}}return g.\u0275fac=function(){let I;return function(y){return(I||(I=a.n5z(g)))(y||g)}}(),g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})(),Li=(()=>{class g{constructor(h){this._element=h.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(E.K0))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),ls=(()=>{class g{constructor(h,y,O,Z,Re,Ue,ut,xt,kt,Dn,fn){this._parserFormatter=h,this._elRef=y,this._vcRef=O,this._renderer=Z,this._ngZone=Re,this._calendar=Ue,this._dateAdapter=ut,this._document=kt,this._changeDetector=Dn,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._destroyCloseHandlers$=new pe.x,this.dateSelect=new a.vpe,this.navigate=new a.vpe,this.closed=new a.vpe,this._onChange=Nn=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement","popperOptions"].forEach(Nn=>this[Nn]=fn[Nn]),this._positioning=An(xt)}get disabled(){return this._disabled}set disabled(h){this._disabled=""===h||h&&"false"!==h,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(h){this._onChange=h}registerOnTouched(h){this._onTouched=h}registerOnValidatorChange(h){this._validatorChange=h}setDisabledState(h){this.disabled=h}validate(h){const{value:y}=h;if(null!=y){const O=this._fromDateStruct(this._dateAdapter.fromModel(y));if(!O)return{ngbDate:{invalid:y}};if(this.minDate&&O.before(as.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:y}}};if(this.maxDate&&O.after(as.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:y}}}}return null}writeValue(h){this._model=this._fromDateStruct(this._dateAdapter.fromModel(h)),this._writeModelValue(this._model)}manualDateChange(h,y=!1){const O=h!==this._inputValue;O&&(this._inputValue=h,this._model=this._fromDateStruct(this._parserFormatter.parse(h))),(O||!y)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===h?null:h),y&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let h;if(this._cRef=this._vcRef.createComponent(Js),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(y=>{this.writeValue(y),this._onChange(y),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,ru(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>{var y;return null===(y=this._cRef)||void 0===y?void 0:y.instance.focus()}),h=Dt(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.runOutsideAngular(()=>{this._cRef&&(this._positioning.createPopper({hostElement:h,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:y=>this.popperOptions(or([0,2])(y))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this.positionTarget&&!h)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){var h;this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),null===(h=this._zoneSubscription)||void 0===h||h.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let y=this._elWithFocus;Dt(this.restoreFocus)?y=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(y=this.restoreFocus),y&&y.focus?y.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(h){this.isOpen()&&this._cRef.instance.navigateTo(h)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(h){if((h.minDate||h.maxDate)&&(this._validatorChange(),this.isOpen()&&(h.minDate&&(this._cRef.instance.minDate=this.minDate),h.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(h))),h.datepickerClass){const{currentValue:y,previousValue:O}=h.datepickerClass;this._applyPopupClass(y,O)}h.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(h){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(y=>{void 0!==this[y]&&h.setInput(y,this[y])}),h.setInput("startDate",this.startDate||this._model)}_applyPopupClass(h,y){var O;const Z=null===(O=this._cRef)||void 0===O?void 0:O.location.nativeElement;Z&&(h&&this._renderer.addClass(Z,h),y&&this._renderer.removeClass(Z,y))}_applyPopupStyling(h){this._renderer.addClass(h,"dropdown-menu"),this._renderer.addClass(h,"show"),"body"===this.container&&this._renderer.addClass(h,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(h){h.navigate.subscribe(y=>this.navigate.emit(y)),h.dateSelect.subscribe(y=>{this.dateSelect.emit(y),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(h){const y=this._parserFormatter.format(h);this._inputValue=y,this._renderer.setProperty(this._elRef.nativeElement,"value",y),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(h)),this._onTouched())}_fromDateStruct(h){const y=h?new as(h.year,h.month,h.day):null;return this._calendar.isValid(y)?y:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Gs(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(jn),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(a.Qsj),a.Y36(a.R0b),a.Y36(q),a.Y36(ti),a.Y36(Li),a.Y36(E.K0),a.Y36(a.sBO),a.Y36(Gn))},g.\u0275dir=a.lG2({type:g,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(h,y){1&h&&a.NdJ("input",function(Z){return y.manualDateChange(Z.target.value)})("change",function(Z){return y.manualDateChange(Z.target.value,!0)})("focus",function(){return y.onFocus()})("blur",function(){return y.onBlur()}),2&h&&a.Ikx("disabled",y.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[a._Bn([{provide:jt.JU,useExisting:(0,a.Gpc)(()=>g),multi:!0},{provide:jt.Cf,useExisting:(0,a.Gpc)(()=>g),multi:!0},{provide:un,useExisting:Gn}]),a.TTD]}),g})();new Date(1882,10,12),new Date(2174,10,25);let ad=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez,jt.u5]}),g})(),Ql=(()=>{class g{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=h=>h}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Id=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275dir=a.lG2({type:g,selectors:[["",8,"navbar"]]}),g})(),Bc=(()=>{class g{constructor(h,y){this.elementRef=h,this._renderer=y,this._disabled=!1}set disabled(h){this._disabled=""===h||!0===h,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.SBq),a.Y36(a.Qsj))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(h,y){2&h&&(a.Ikx("tabIndex",y.disabled?-1:0),a.ekj("disabled",y.disabled))},inputs:{disabled:"disabled"}}),g})(),ch=(()=>{class g{constructor(h,y){this.dropdown=h,this.placement="bottom",this.isOpen=!1,this.nativeElement=y.nativeElement}}return g.\u0275fac=function(h){return new(h||g)(a.Y36((0,a.Gpc)(()=>ku)),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(h,y,O){if(1&h&&a.Suo(O,Bc,4),2&h){let Z;a.iGM(Z=a.CRH())&&(y.menuItems=Z)}},hostVars:4,hostBindings:function(h,y){1&h&&a.NdJ("keydown.ArrowUp",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.ArrowDown",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.Home",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.End",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.Enter",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.Space",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.Tab",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.Shift.Tab",function(Z){return y.dropdown.onKeyDown(Z)}),2&h&&a.ekj("dropdown-menu",!0)("show",y.dropdown.isOpen())}}),g})(),Cd=(()=>{class g{constructor(h,y){this.dropdown=h,this.nativeElement=y.nativeElement}}return g.\u0275fac=function(h){return new(h||g)(a.Y36((0,a.Gpc)(()=>ku)),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(h,y){2&h&&a.uIk("aria-expanded",y.dropdown.isOpen())}}),g})(),mc=(()=>{class g extends Cd{constructor(h,y){super(h,y)}}return g.\u0275fac=function(h){return new(h||g)(a.Y36((0,a.Gpc)(()=>ku)),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(h,y){1&h&&a.NdJ("click",function(){return y.dropdown.toggle()})("keydown.ArrowUp",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.ArrowDown",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.Home",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.End",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.Tab",function(Z){return y.dropdown.onKeyDown(Z)})("keydown.Shift.Tab",function(Z){return y.dropdown.onKeyDown(Z)}),2&h&&a.uIk("aria-expanded",y.dropdown.isOpen())},features:[a._Bn([{provide:Cd,useExisting:(0,a.Gpc)(()=>g)}]),a.qOj]}),g})(),ku=(()=>{class g{constructor(h,y,O,Z,Re,Ue,ut,xt){this._changeDetector=h,this._document=Z,this._ngZone=Re,this._elementRef=Ue,this._renderer=ut,this._destroyCloseHandlers$=new pe.x,this._bodyContainer=null,this._open=!1,this.openChange=new a.vpe,this.placement=O.placement,this.popperOptions=O.popperOptions,this.container=O.container,this.autoClose=O.autoClose,this._positioning=An(y),this.display=xt?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,dt.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(h){if(h.container&&this._open&&this._applyContainer(this.container),h.placement&&!h.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),h.dropdownClass){const{currentValue:y,previousValue:O}=h.dropdownClass;this._applyCustomDropdownClass(y,O)}h.autoClose&&this._open&&(this.autoClose=h.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:h=>this.popperOptions(or([0,2])(h))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Gs(this._ngZone,this._document,this.autoClose,h=>{this.close(),0===h&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){var h;this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),null===(h=this._zoneSubscription)||void 0===h||h.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(h){const y=h.which,O=this._getMenuElements();let Z=-1,Re=null;const Ue=this._isEventFromToggle(h);if(!Ue&&O.length&&O.forEach((ut,xt)=>{ut.contains(h.target)&&(Re=ut),ut===this._document.activeElement&&(Z=xt)}),y!==Ir.Space&&y!==Ir.Enter){if(y!==Ir.Tab){if(Ue||Re){if(this.open(),O.length){switch(y){case Ir.ArrowDown:Z=Math.min(Z+1,O.length-1);break;case Ir.ArrowUp:if(this._isDropup()&&-1===Z){Z=O.length-1;break}Z=Math.max(Z-1,0);break;case Ir.Home:Z=0;break;case Ir.End:Z=O.length-1}O[Z].focus()}h.preventDefault()}}else if(h.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===h.target)return void("body"!==this.container||h.shiftKey?h.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const ut=this._menu.nativeElement.querySelectorAll(ha);h.shiftKey&&h.target===ut[0]?(this._anchor.nativeElement.focus(),h.preventDefault()):!h.shiftKey&&h.target===ut[ut.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,Ee.R)(h.target,"focusout").pipe((0,dt.q)(1)).subscribe(({relatedTarget:ut})=>{this._elementRef.nativeElement.contains(ut)||this.close()})}}else Re&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,Ee.R)(Re,"click").pipe((0,dt.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(h){return this._anchor.nativeElement.contains(h.target)}_getMenuElements(){const h=this._menu;return null==h?[]:h.menuItems.filter(y=>!y.disabled).map(y=>y.elementRef.nativeElement)}_positionMenu(){const h=this._menu;this.isOpen()&&h&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(h){return Array.isArray(h)?h[0]:h.split(" ")[0]}_resetContainer(){const h=this._renderer;this._menu&&h.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(h.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(h=null){if(this._resetContainer(),"body"===h){const y=this._renderer,O=this._menu.nativeElement,Z=this._bodyContainer=this._bodyContainer||y.createElement("div");y.setStyle(Z,"position","absolute"),y.setStyle(O,"position","static"),y.setStyle(Z,"z-index","1055"),y.appendChild(Z,O),y.appendChild(this._document.body,Z)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(h,y){const O="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;O&&(y&&this._renderer.removeClass(O,y),h&&this._renderer.addClass(O,h))}_applyPlacementClasses(h){const y=this._menu;if(y){h||(h=this._getFirstPlacement(this.placement));const O=this._renderer,Z=this._elementRef.nativeElement;O.removeClass(Z,"dropup"),O.removeClass(Z,"dropdown");const{nativeElement:Re}=y;"static"===this.display?(y.placement=null,O.setAttribute(Re,"data-bs-popper","static")):(y.placement=h,O.removeAttribute(Re,"data-bs-popper"));const Ue=-1!==h.search("^top")?"dropup":"dropdown";O.addClass(Z,Ue);const ut=this._bodyContainer;ut&&(O.removeClass(ut,"dropup"),O.removeClass(ut,"dropdown"),O.addClass(ut,Ue))}}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(Li),a.Y36(Ql),a.Y36(E.K0),a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Id,8))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbDropdown",""]],contentQueries:function(h,y,O){if(1&h&&(a.Suo(O,ch,5),a.Suo(O,Cd,5)),2&h){let Z;a.iGM(Z=a.CRH())&&(y._menu=Z.first),a.iGM(Z=a.CRH())&&(y._anchor=Z.first)}},hostVars:2,hostBindings:function(h,y){2&h&&a.ekj("show",y.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[a.TTD]}),g})(),N=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({}),g})();class b{constructor(I,h,y){this.nodes=I,this.viewRef=h,this.componentRef=y}}class D{constructor(I,h,y,O,Z,Re){this._componentType=I,this._injector=h,this._viewContainerRef=y,this._renderer=O,this._ngZone=Z,this._applicationRef=Re,this._windowRef=null,this._contentRef=null}open(I,h,y=!1){this._windowRef||(this._contentRef=this._getContentRef(I,h),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:O}=this._windowRef.location,Z=this._ngZone.onStable.pipe((0,dt.q)(1),(0,bt.z)(()=>Ut(this._ngZone,O,({classList:Re})=>Re.add("show"),{animation:y,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Z}}close(I=!1){return this._windowRef?Ut(this._ngZone,this._windowRef.location.nativeElement,({classList:h})=>h.remove("show"),{animation:I,runningTransition:"stop"}).pipe((0,ln.b)(()=>{var h;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),null!==(h=this._contentRef)&&void 0!==h&&h.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,de.of)(void 0)}_getContentRef(I,h){if(I){if(I instanceof a.Rgc){const y=I.createEmbeddedView(h);return this._applicationRef.attachView(y),new b([y.rootNodes],y)}return new b([[this._renderer.createText(`${I}`)]])}return new b([])}}let k=(()=>{class g{constructor(h,y){this._el=h,this._zone=y}ngOnInit(){this._zone.onStable.asObservable().pipe((0,dt.q)(1)).subscribe(()=>{Ut(this._zone,this._el.nativeElement,(h,y)=>{y&&mr(h),h.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ut(this._zone,this._el.nativeElement,({classList:h})=>h.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(h,y){2&h&&(a.Tol("modal-backdrop"+(y.backdropClass?" "+y.backdropClass:"")),a.ekj("show",!y.animation)("fade",y.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(h,y){},encapsulation:2}),g})();class se{close(I){}dismiss(I){}}class Ae{constructor(I,h,y,O){this._windowCmptRef=I,this._contentRef=h,this._backdropCmptRef=y,this._beforeDismiss=O,this._closed=new pe.x,this._dismissed=new pe.x,this._hidden=new pe.x,I.instance.dismissEvent.subscribe(Z=>{this.dismiss(Z)}),this.result=new Promise((Z,Re)=>{this._resolve=Z,this._reject=Re}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Xe.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Xe.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(I){this._windowCmptRef&&(this._closed.next(I),this._resolve(I),this._removeModalElements())}_dismiss(I){this._dismissed.next(I),this._reject(I),this._removeModalElements()}dismiss(I){if(this._windowCmptRef)if(this._beforeDismiss){const h=this._beforeDismiss();!function Or(g){return g&&g.then}(h)?!1!==h&&this._dismiss(I):h.then(y=>{!1!==y&&this._dismiss(I)},()=>{})}else this._dismiss(I)}_removeModalElements(){const I=this._windowCmptRef.instance.hide(),h=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,de.of)(void 0);I.subscribe(()=>{const{nativeElement:y}=this._windowCmptRef.location;y.parentNode.removeChild(y),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),h.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:y}=this._backdropCmptRef.location;y.parentNode.removeChild(y),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,We.$)(I,h).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ct=(()=>{return(g=ct||(ct={}))[g.BACKDROP_CLICK=0]="BACKDROP_CLICK",g[g.ESC=1]="ESC",ct;var g})();let Vt=(()=>{class g{constructor(h,y,O){this._document=h,this._elRef=y,this._zone=O,this._closed$=new pe.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new pe.x,this.hidden=new pe.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Dt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(h){this.dismissEvent.emit(h)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,dt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:h}=this._elRef,y={animation:this.animation,runningTransition:"stop"},O=Ut(this._zone,h,()=>h.classList.remove("show"),y),Z=Ut(this._zone,this._dialogEl.nativeElement,()=>{},y),Re=(0,We.$)(O,Z);return Re.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Re}_show(){const h={animation:this.animation,runningTransition:"continue"},y=Ut(this._zone,this._elRef.nativeElement,(Z,Re)=>{Re&&mr(Z),Z.classList.add("show")},h),O=Ut(this._zone,this._dialogEl.nativeElement,()=>{},h);(0,We.$)(y,O).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:h}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Ee.R)(h,"keydown").pipe((0,Xe.R)(this._closed$),(0,Ct.h)(O=>O.which===Ir.Escape)).subscribe(O=>{this.keyboard?requestAnimationFrame(()=>{O.defaultPrevented||this._zone.run(()=>this.dismiss(ct.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let y=!1;(0,Ee.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Xe.R)(this._closed$),(0,ln.b)(()=>y=!1),(0,At.w)(()=>(0,Ee.R)(h,"mouseup").pipe((0,Xe.R)(this._closed$),(0,dt.q)(1))),(0,Ct.h)(({target:O})=>h===O)).subscribe(()=>{y=!0}),(0,Ee.R)(h,"click").pipe((0,Xe.R)(this._closed$)).subscribe(({target:O})=>{h===O&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!y&&this._zone.run(()=>this.dismiss(ct.BACKDROP_CLICK))),y=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:h}=this._elRef;if(!h.contains(document.activeElement)){const y=h.querySelector("[ngbAutofocus]"),O=Nl(h)[0];(y||O||h).focus()}}_restoreFocus(){const h=this._document.body,y=this._elWithFocus;let O;O=y&&y.focus&&h.contains(y)?y:h,this._zone.runOutsideAngular(()=>{setTimeout(()=>O.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ut(this._zone,this._elRef.nativeElement,({classList:h})=>(h.add("modal-static"),()=>h.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(E.K0),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-modal-window"]],viewQuery:function(h,y){if(1&h&&a.Gf(sl,7),2&h){let O;a.iGM(O=a.CRH())&&(y._dialogEl=O.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(h,y){2&h&&(a.uIk("aria-modal",!0)("aria-labelledby",y.ariaLabelledBy)("aria-describedby",y.ariaDescribedBy),a.Tol("modal d-block"+(y.windowClass?" "+y.windowClass:"")),a.ekj("fade",y.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ns,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(h,y){1&h&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&h&&a.Tol("modal-dialog"+(y.size?" modal-"+y.size:"")+(y.centered?" modal-dialog-centered":"")+y.fullscreenClass+(y.scrollable?" modal-dialog-scrollable":"")+(y.modalDialogClass?" "+y.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),g})(),_n=(()=>{class g{constructor(h){this._document=h}hide(){const h=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),y=this._document.body,O=y.style,{overflow:Z,paddingRight:Re}=O;if(h>0){const Ue=parseFloat(window.getComputedStyle(y).paddingRight);O.paddingRight=`${Ue+h}px`}return O.overflow="hidden",()=>{h>0&&(O.paddingRight=Re),O.overflow=Z}}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(E.K0))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Ln=(()=>{class g{constructor(h,y,O,Z,Re,Ue){this._applicationRef=h,this._injector=y,this._document=O,this._scrollBar=Z,this._rendererFactory=Re,this._ngZone=Ue,this._activeWindowCmptHasChanged=new pe.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ut=this._windowCmpts[this._windowCmpts.length-1];ru(this._ngZone,ut.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ut.location.nativeElement)}})}_restoreScrollBar(){const h=this._scrollBarRestoreFn;h&&(this._scrollBarRestoreFn=null,h())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(h,y,O){const Z=O.container instanceof HTMLElement?O.container:nr(O.container)?this._document.querySelector(O.container):this._document.body,Re=this._rendererFactory.createRenderer(null,null);if(!Z)throw new Error(`The specified modal container "${O.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ue=new se,ut=this._getContentRef(O.injector||h,y,Ue,O);let xt=!1!==O.backdrop?this._attachBackdrop(Z):void 0,kt=this._attachWindowComponent(Z,ut.nodes),Dn=new Ae(kt,ut,xt,O.beforeDismiss);return this._registerModalRef(Dn),this._registerWindowCmpt(kt),Dn.hidden.pipe((0,dt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Re.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ue.close=fn=>{Dn.close(fn)},Ue.dismiss=fn=>{Dn.dismiss(fn)},this._applyWindowOptions(kt.instance,O),1===this._modalRefs.length&&Re.addClass(this._document.body,"modal-open"),xt&&xt.instance&&(this._applyBackdropOptions(xt.instance,O),xt.changeDetectorRef.detectChanges()),kt.changeDetectorRef.detectChanges(),Dn}get activeInstances(){return this._activeInstances}dismissAll(h){this._modalRefs.forEach(y=>y.dismiss(h))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(h){let y=(0,a.LMc)(k,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(y.hostView),h.appendChild(y.location.nativeElement),y}_attachWindowComponent(h,y){let O=(0,a.LMc)(Vt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:y});return this._applicationRef.attachView(O.hostView),h.appendChild(O.location.nativeElement),O}_applyWindowOptions(h,y){this._windowAttributes.forEach(O=>{nr(y[O])&&(h[O]=y[O])})}_applyBackdropOptions(h,y){this._backdropAttributes.forEach(O=>{nr(y[O])&&(h[O]=y[O])})}_getContentRef(h,y,O,Z){return y?y instanceof a.Rgc?this._createFromTemplateRef(y,O):Dt(y)?this._createFromString(y):this._createFromComponent(h,y,O,Z):new b([])}_createFromTemplateRef(h,y){const Z=h.createEmbeddedView({$implicit:y,close(Re){y.close(Re)},dismiss(Re){y.dismiss(Re)}});return this._applicationRef.attachView(Z),new b([Z.rootNodes],Z)}_createFromString(h){const y=this._document.createTextNode(`${h}`);return new b([[y]])}_createFromComponent(h,y,O,Z){const Re=a.zs3.create({providers:[{provide:se,useValue:O}],parent:h}),Ue=(0,a.LMc)(y,{environmentInjector:this._applicationRef.injector,elementInjector:Re}),ut=Ue.location.nativeElement;return Z.scrollable&&ut.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ue.hostView),new b([[ut]],Ue.hostView,Ue)}_setAriaHidden(h){const y=h.parentElement;y&&h!==this._document.body&&(Array.from(y.children).forEach(O=>{O!==h&&"SCRIPT"!==O.nodeName&&(this._ariaHiddenValues.set(O,O.getAttribute("aria-hidden")),O.setAttribute("aria-hidden","true"))}),this._setAriaHidden(y))}_revertAriaHidden(){this._ariaHiddenValues.forEach((h,y)=>{h?y.setAttribute("aria-hidden",h):y.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(h){const y=()=>{const O=this._modalRefs.indexOf(h);O>-1&&(this._modalRefs.splice(O,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(h),this._activeInstances.emit(this._modalRefs),h.result.then(y,y)}_registerWindowCmpt(h){this._windowCmpts.push(h),this._activeWindowCmptHasChanged.next(),h.onDestroy(()=>{const y=this._windowCmpts.indexOf(h);y>-1&&(this._windowCmpts.splice(y,1),this._activeWindowCmptHasChanged.next())})}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(E.K0),a.LFG(_n),a.LFG(a.FYo),a.LFG(a.R0b))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Xn=(()=>{class g{constructor(h){this._ngbConfig=h,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Oe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Kr=(()=>{class g{constructor(h,y,O){this._injector=h,this._modalStack=y,this._config=O}open(h,y={}){const O={...this._config,animation:this._config.animation,...y};return this._modalStack.open(this._injector,h,O)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(h){this._modalStack.dismissAll(h)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(a.zs3),a.LFG(Ln),a.LFG(Xn))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),cs=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({providers:[Kr]}),g})(),_c=(()=>{class g{constructor(h){this._ngbConfig=h,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Oe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const kl=g=>nr(g)&&""!==g;let uh=0,Ia=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbNavContent",""]]}),g})(),Fu=(()=>{class g{constructor(h,y){this._nav=h,this.elementRef=y,this.disabled=!1,this.shown=new a.vpe,this.hidden=new a.vpe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){nr(this.domId)||(this.domId="ngb-nav-"+uh++)}get active(){return this._nav.activeId===this.id}get id(){return kl(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(nr(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return g.\u0275fac=function(h){return new(h||g)(a.Y36((0,a.Gpc)(()=>Jl)),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbNavItem",""]],contentQueries:function(h,y,O){if(1&h&&a.Suo(O,Ia,4),2&h){let Z;a.iGM(Z=a.CRH())&&(y.contentTpls=Z)}},hostVars:2,hostBindings:function(h,y){2&h&&a.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),g})(),Jl=(()=>{class g{constructor(h,y,O,Z){this.role=h,this._cd=O,this._document=Z,this.activeIdChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.destroy$=new pe.x,this.navItemChange$=new pe.x,this.navChange=new a.vpe,this.animation=y.animation,this.destroyOnHide=y.destroyOnHide,this.orientation=y.orientation,this.roles=y.roles,this.keyboard=y.keyboard}click(h){h.disabled||this._updateActiveId(h.id)}onKeyDown(h){if("tablist"!==this.roles||!this.keyboard)return;const y=h.which,O=this.links.filter(Ue=>!Ue.navItem.disabled),{length:Z}=O;let Re=-1;if(O.forEach((Ue,ut)=>{Ue.elRef.nativeElement===this._document.activeElement&&(Re=ut)}),Z){switch(y){case Ir.ArrowLeft:if("vertical"===this.orientation)return;Re=(Re-1+Z)%Z;break;case Ir.ArrowRight:if("vertical"===this.orientation)return;Re=(Re+1)%Z;break;case Ir.ArrowDown:if("horizontal"===this.orientation)return;Re=(Re+1)%Z;break;case Ir.ArrowUp:if("horizontal"===this.orientation)return;Re=(Re-1+Z)%Z;break;case Ir.Home:Re=0;break;case Ir.End:Re=Z-1}"changeWithArrows"===this.keyboard&&this.select(O[Re].navItem.id),O[Re].elRef.nativeElement.focus(),h.preventDefault()}}select(h){this._updateActiveId(h,!1)}ngAfterContentInit(){if(!nr(this.activeId)){const h=this.items.first?this.items.first.id:null;kl(h)&&(this._updateActiveId(h,!1),this._cd.detectChanges())}this.items.changes.pipe((0,Xe.R)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:h}){h&&!h.firstChange&&this._notifyItemChanged(h.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(h,y=!0){if(this.activeId!==h){let O=!1;y&&this.navChange.emit({activeId:this.activeId,nextId:h,preventDefault:()=>{O=!0}}),O||(this.activeId=h,this.activeIdChange.emit(h),this._notifyItemChanged(h))}}_notifyItemChanged(h){this.navItemChange$.next(this._getItemById(h))}_getItemById(h){return this.items&&this.items.find(y=>y.id===h)||null}}return g.\u0275fac=function(h){return new(h||g)(a.$8M("role"),a.Y36(_c),a.Y36(a.sBO),a.Y36(E.K0))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbNav",""]],contentQueries:function(h,y,O){if(1&h&&(a.Suo(O,Fu,4),a.Suo(O,Sd,5)),2&h){let Z;a.iGM(Z=a.CRH())&&(y.items=Z),a.iGM(Z=a.CRH())&&(y.links=Z)}},hostVars:6,hostBindings:function(h,y){1&h&&a.NdJ("keydown.arrowLeft",function(Z){return y.onKeyDown(Z)})("keydown.arrowRight",function(Z){return y.onKeyDown(Z)})("keydown.arrowDown",function(Z){return y.onKeyDown(Z)})("keydown.arrowUp",function(Z){return y.onKeyDown(Z)})("keydown.Home",function(Z){return y.onKeyDown(Z)})("keydown.End",function(Z){return y.onKeyDown(Z)}),2&h&&(a.uIk("aria-orientation","vertical"===y.orientation&&"tablist"===y.roles?"vertical":void 0)("role",y.role?y.role:y.roles?"tablist":void 0),a.ekj("nav",!0)("flex-column","vertical"===y.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[a.TTD]}),g})(),Sd=(()=>{class g{constructor(h,y,O,Z){this.role=h,this.navItem=y,this.nav=O,this.elRef=Z}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return g.\u0275fac=function(h){return new(h||g)(a.$8M("role"),a.Y36(Fu),a.Y36(Jl),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(h,y){1&h&&a.NdJ("click",function(Z){return y.nav.click(y.navItem),Z.preventDefault()}),2&h&&(a.Ikx("id",y.navItem.domId),a.uIk("role",y.role?y.role:y.nav.roles?"tab":void 0)("tabindex",y.navItem.disabled?-1:void 0)("aria-controls",y.navItem.isPanelInDom()?y.navItem.panelDomId:null)("aria-selected",y.navItem.active)("aria-disabled",y.navItem.disabled),a.ekj("nav-link",!0)("nav-item",y.hasNavItemClass())("active",y.navItem.active)("disabled",y.navItem.disabled))}}),g})();const Up=({classList:g})=>(g.remove("show"),()=>g.remove("active")),zr=(g,I)=>{I&&mr(g),g.classList.add("show")};let ld=(()=>{class g{constructor(h){this.elRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(h,y){2&h&&(a.Ikx("id",y.item.panelDomId),a.uIk("role",y.role?y.role:y.nav.roles?"tabpanel":void 0)("aria-labelledby",y.item.domId),a.ekj("fade",y.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),g})(),Fl=(()=>{class g{constructor(h,y){this._cd=h,this._ngZone=y,this._activePane=null}isPanelTransitioning(h){var y;return(null===(y=this._activePane)||void 0===y?void 0:y.item)===h}ngAfterViewInit(){var h;this._updateActivePane(),this.nav.navItemChange$.pipe((0,Xe.R)(this.nav.destroy$),(0,Ge.O)((null===(h=this._activePane)||void 0===h?void 0:h.item)||null),(0,Qe.x)(),(0,It.T)(1)).subscribe(y=>{const O={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Ut(this._ngZone,this._activePane.elRef.nativeElement,Up,O).subscribe(()=>{var Z;const Re=null===(Z=this._activePane)||void 0===Z?void 0:Z.item;this._activePane=this._getPaneForItem(y),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Ut(this._ngZone,this._activePane.elRef.nativeElement,zr,O).subscribe(()=>{y&&(y.shown.emit(),this.nav.shown.emit(y.id))})),Re&&(Re.hidden.emit(),this.nav.hidden.emit(Re.id))}):this._updateActivePane()})}_updateActivePane(){var h,y;this._activePane=this._getActivePane(),null===(h=this._activePane)||void 0===h||h.elRef.nativeElement.classList.add("show"),null===(y=this._activePane)||void 0===y||y.elRef.nativeElement.classList.add("active")}_getPaneForItem(h){return this._panes&&this._panes.find(y=>y.item===h)||null}_getActivePane(){return this._panes&&this._panes.find(h=>h.item.active)||null}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.sBO),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["","ngbNavOutlet",""]],viewQuery:function(h,y){if(1&h&&a.Gf(ld,5),2&h){let O;a.iGM(O=a.CRH())&&(y._panes=O)}},hostVars:2,hostBindings:function(h,y){2&h&&a.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:Qt,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(h,y){1&h&&a.YNc(0,Oi,1,1,"ng-template",0),2&h&&a.Q6J("ngForOf",y.nav.items)},dependencies:[E.sg,E.O5,E.tP,ld],encapsulation:2,changeDetection:0}),g})(),uu=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})(),ep=(()=>{class g{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Kh=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),g})(),Yh=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPaginationFirst",""]]}),g})(),$g=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPaginationLast",""]]}),g})(),Zh=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPaginationNext",""]]}),g})(),Lu=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPaginationNumber",""]]}),g})(),du=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPaginationPrevious",""]]}),g})(),tp=(()=>{class g{constructor(h){this.templateRef=h}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.Rgc))},g.\u0275dir=a.lG2({type:g,selectors:[["ng-template","ngbPaginationPages",""]]}),g})(),Vc=(()=>{class g{constructor(h){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new a.vpe(!0),this.disabled=h.disabled,this.boundaryLinks=h.boundaryLinks,this.directionLinks=h.directionLinks,this.ellipses=h.ellipses,this.maxSize=h.maxSize,this.pageSize=h.pageSize,this.rotate=h.rotate,this.size=h.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(h){this._updatePages(h)}ngOnChanges(h){this._updatePages(this.page)}isEllipsis(h){return-1===h}_applyEllipses(h,y){this.ellipses&&(h>0&&(h>2?this.pages.unshift(-1):2===h&&this.pages.unshift(2),this.pages.unshift(1)),y<this.pageCount&&(y<this.pageCount-2?this.pages.push(-1):y===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let h=0,y=this.pageCount,O=Math.floor(this.maxSize/2);return this.page<=O?y=this.maxSize:this.pageCount-this.page<O?h=this.pageCount-this.maxSize:(h=this.page-O-1,y=this.page+(this.maxSize%2==0?O-1:O)),[h,y]}_applyPagination(){let y=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[y,y+this.maxSize]}_setPageInRange(h){const y=this.page;this.page=ze(h,this.pageCount,1),this.page!==y&&Mt(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(h){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Mt(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let y=1;y<=this.pageCount;y++)this.pages.push(y);if(this._setPageInRange(h),this.maxSize>0&&this.pageCount>this.maxSize){let y=0,O=this.pageCount;[y,O]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(y,O),this._applyEllipses(y,O)}}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(ep))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-pagination"]],contentQueries:function(h,y,O){if(1&h&&(a.Suo(O,Kh,5),a.Suo(O,Yh,5),a.Suo(O,$g,5),a.Suo(O,Zh,5),a.Suo(O,Lu,5),a.Suo(O,du,5),a.Suo(O,tp,5)),2&h){let Z;a.iGM(Z=a.CRH())&&(y.tplEllipsis=Z.first),a.iGM(Z=a.CRH())&&(y.tplFirst=Z.first),a.iGM(Z=a.CRH())&&(y.tplLast=Z.first),a.iGM(Z=a.CRH())&&(y.tplNext=Z.first),a.iGM(Z=a.CRH())&&(y.tplNumber=Z.first),a.iGM(Z=a.CRH())&&(y.tplPrevious=Z.first),a.iGM(Z=a.CRH())&&(y.tplPages=Z.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[a.TTD],decls:20,vars:12,consts:function(){let I,h,y,O,Z,Re,Ue,ut;return I=$localize`:@@ngb.pagination.first:`,h=$localize`:@@ngb.pagination.previous:`,y=$localize`:@@ngb.pagination.next:`,O=$localize`:@@ngb.pagination.last:`,Z=$localize`:@@ngb.pagination.first-aria:First`,Re=$localize`:@@ngb.pagination.previous-aria:Previous`,Ue=$localize`:@@ngb.pagination.next-aria:Next`,ut=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],I,h,y,O,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Z,"href","",1,"page-link",3,"click"],["aria-label",Re,"href","",1,"page-link",3,"click"],["aria-label",Ue,"href","",1,"page-link",3,"click"],["aria-label",ut,"href","",1,"page-link",3,"click"]]},template:function(h,y){if(1&h&&(a.YNc(0,Ys,2,0,"ng-template",null,0,a.W1O),a.YNc(2,Ha,2,0,"ng-template",null,1,a.W1O),a.YNc(4,Zs,2,0,"ng-template",null,2,a.W1O),a.YNc(6,ba,2,0,"ng-template",null,3,a.W1O),a.YNc(8,ia,1,0,"ng-template",null,4,a.W1O),a.YNc(10,_i,2,2,"ng-template",null,5,a.W1O),a.YNc(12,Wo,1,1,"ng-template",null,6,a.W1O),a.TgZ(14,"ul"),a.YNc(15,Bo,3,9,"li",7),a.YNc(16,Ga,3,8,"li",7),a.YNc(17,Os,0,0,"ng-template",8),a.YNc(18,al,3,9,"li",7),a.YNc(19,ho,3,9,"li",7),a.qZA()),2&h){const O=a.MAs(13);a.xp6(14),a.Tol("pagination"+(y.size?" pagination-"+y.size:"")),a.xp6(1),a.Q6J("ngIf",y.boundaryLinks),a.xp6(1),a.Q6J("ngIf",y.directionLinks),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==y.tplPages?null:y.tplPages.templateRef)||O)("ngTemplateOutletContext",a.kEZ(8,oc,y.page,y.pages,y.disabled)),a.xp6(1),a.Q6J("ngIf",y.directionLinks),a.xp6(1),a.Q6J("ngIf",y.boundaryLinks)}},dependencies:[E.sg,E.O5,E.tP],encapsulation:2,changeDetection:0}),g})(),jc=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})();class Qh{constructor(I,h){this.open=I,this.close=h,h||(this.close=I)}isManual(){return"manual"===this.open||"manual"===this.close}}const Jh={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},xd=g=>g>0?(0,pt.g)(g):I=>I;function cd(g,I,h,y,O,Z,Re=0,Ue=0){const ut=function Ad(g,I=Jh){const h=(g||"").trim();if(0===h.length)return[];const y=h.split(/\s+/).map(Z=>Z.split(":")).map(Z=>{let Re=I[Z[0]]||Z;return new Qh(Re[0],Re[1])}),O=y.filter(Z=>Z.isManual());if(O.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===O.length&&y.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return y}(h);if(1===ut.length&&ut[0].isManual())return()=>{};const xt=function Bp(g,I,h,y){return new B.y(O=>{const Z=[],Re=()=>O.next(!0),Ue=()=>O.next(!1),ut=()=>O.next(!y());return h.forEach(xt=>{xt.open===xt.close?Z.push(g.listen(I,xt.open,ut)):Z.push(g.listen(I,xt.open,Re),g.listen(I,xt.close,Ue))}),()=>{Z.forEach(xt=>xt())}})}(g,I,ut,y).pipe(function us(g,I,h){return y=>{let O=null;const Z=y.pipe((0,Te.U)(ut=>({open:ut})),(0,Ct.h)(ut=>{const xt=h();return xt===ut.open||O&&O.open!==xt?(O&&O.open!==ut.open&&(O=null),!1):(O=ut,!0)}),(0,$t.B)()),Re=Z.pipe((0,Ct.h)(ut=>ut.open),xd(g)),Ue=Z.pipe((0,Ct.h)(ut=>!ut.open),xd(I));return(0,Ft.T)(Re,Ue).pipe((0,Ct.h)(ut=>ut===O&&(O=null,ut.open!==h())),(0,Te.U)(ut=>ut.open))}}(Re,Ue,y)).subscribe(kt=>kt?O():Z());return()=>xt.unsubscribe()}let Uu=(()=>{class g{constructor(h){this._ngbConfig=h,this.autoClose=!0,this.placement="auto",this.popperOptions=y=>y,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Oe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Vp=0,jp=(()=>{class g{isTitleTemplate(){return this.title instanceof a.Rgc}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(h,y){2&h&&(a.Ikx("id",y.id),a.Tol("popover"+(y.popoverClass?" "+y.popoverClass:"")),a.ekj("fade",y.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:Ns,decls:4,vars:1,consts:[["data-popper-arrow","",1,"popover-arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(h,y){1&h&&(a.F$t(),a._UZ(0,"div",0),a.YNc(1,la,4,2,"h3",1),a.TgZ(2,"div",2),a.Hsn(3),a.qZA()),2&h&&(a.xp6(1),a.Q6J("ngIf",y.title))},dependencies:[E.O5,E.tP],encapsulation:2,changeDetection:0}),g})(),Hc=(()=>{class g{constructor(h,y,O,Z,Re,Ue,ut,xt,kt,Dn){this._elementRef=h,this._renderer=O,this._ngZone=ut,this._document=xt,this._changeDetector=kt,this.shown=new a.vpe,this.hidden=new a.vpe,this._ngbPopoverWindowId="ngb-popover-"+Vp++,this._windowRef=null,this.animation=Ue.animation,this.autoClose=Ue.autoClose,this.placement=Ue.placement,this.popperOptions=Ue.popperOptions,this.triggers=Ue.triggers,this.container=Ue.container,this.disablePopover=Ue.disablePopover,this.popoverClass=Ue.popoverClass,this.openDelay=Ue.openDelay,this.closeDelay=Ue.closeDelay,this._positioning=An(y),this._popupService=new D(jp,Z,Re,O,this._ngZone,Dn)}_isDisabled(){return!(!this.disablePopover&&(this.ngbPopover||this.popoverTitle))}open(h){if(!this._windowRef&&!this._isDisabled()){const{windowRef:y,transition$:O}=this._popupService.open(this.ngbPopover,h,this.animation);this._windowRef=y,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",h),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-popover",updatePopperOptions:Z=>this.popperOptions(or([0,8])(Z))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),Gs(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),O.subscribe(()=>this.shown.emit())}}close(h=this.animation){this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(h).subscribe(()=>{var y;this._windowRef=null,this._positioning.destroy(),null===(y=this._zoneSubscription)||void 0===y||y.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=cd(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:h,popoverTitle:y,disablePopover:O,popoverClass:Z}){Z&&this.isOpen()&&(this._windowRef.instance.popoverClass=Z.currentValue),(h||y||O)&&this._isDisabled()&&this.close()}ngOnDestroy(){var h;this.close(!1),null===(h=this._unregisterListenersFn)||void 0===h||h.call(this)}_getPositionTargetElement(){return(Dt(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.SBq),a.Y36(Li),a.Y36(a.Qsj),a.Y36(a.zs3),a.Y36(a.s_b),a.Y36(Uu),a.Y36(a.R0b),a.Y36(E.K0),a.Y36(a.sBO),a.Y36(a.z2F))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[a.TTD]}),g})(),Gc=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})(),Xh=(()=>{class g{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Xl=(()=>{class g{constructor(h){this.value=0,this.max=h.max,this.animated=h.animated,this.ariaLabel=h.ariaLabel,this.striped=h.striped,this.textType=h.textType,this.type=h.type,this.showValue=h.showValue,this.height=h.height}set max(h){this._max=!Mt(h)||h<=0?100:h}get max(){return this._max}getValue(){return ze(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(Xh))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-progressbar"]],hostAttrs:[1,"progress"],hostVars:2,hostBindings:function(h,y){2&h&&a.Udp("height",y.height)},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},ngContentSelectors:Ns,decls:3,vars:12,consts:function(){let I;return I=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["role","progressbar","aria-valuemin","0"],[4,"ngIf"],I]},template:function(h,y){1&h&&(a.F$t(),a.TgZ(0,"div",0),a.YNc(1,ll,3,3,"span",1),a.Hsn(2),a.qZA()),2&h&&(a.DjV("progress-bar",y.type?" bg-"+y.type:"","",y.textType?" text-"+y.textType:"","\n    ",y.animated?" progress-bar-animated":"","",y.striped?" progress-bar-striped":"",""),a.Udp("width",y.getPercentValue(),"%"),a.uIk("aria-valuenow",y.getValue())("aria-valuemax",y.max)("aria-label",y.ariaLabel),a.xp6(1),a.Q6J("ngIf",y.showValue))},dependencies:[E.O5,E.Zx],encapsulation:2,changeDetection:0}),g})(),Ss=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})(),dh=(()=>{class g{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Hp=(()=>{class g{constructor(h,y){this._changeDetectorRef=y,this.contexts=[],this.disabled=!1,this.hover=new a.vpe,this.leave=new a.vpe,this.rateChange=new a.vpe(!0),this.onChange=O=>{},this.onTouched=()=>{},this.max=h.max,this.readonly=h.readonly,this.tabindex=h.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(h){this.isInteractive()&&this._updateState(h),this.hover.emit(h)}handleBlur(){this.onTouched()}handleClick(h){this.isInteractive()&&this.update(this.resettable&&this.rate===h?0:h)}handleKeyDown(h){switch(h.which){case Ir.ArrowDown:case Ir.ArrowLeft:this.update(this.rate-1);break;case Ir.ArrowUp:case Ir.ArrowRight:this.update(this.rate+1);break;case Ir.Home:this.update(0);break;case Ir.End:this.update(this.max);break;default:return}h.preventDefault()}ngOnChanges(h){h.rate&&this.update(this.rate),h.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(h){this.onChange=h}registerOnTouched(h){this.onTouched=h}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(h){this.disabled=h}update(h,y=!0){const O=ze(h,this.max,0);this.isInteractive()&&this.rate!==O&&(this.rate=O,this.rateChange.emit(this.rate)),y&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(h){this.update(h,!1),this._changeDetectorRef.markForCheck()}_updateState(h){this.nextRate=h,this.contexts.forEach((y,O)=>y.fill=Math.round(100*ze(h-O,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(h,y)=>({fill:0,index:y}))}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(dh),a.Y36(a.sBO))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-rating"]],contentQueries:function(h,y,O){if(1&h&&a.Suo(O,a.Rgc,5),2&h){let Z;a.iGM(Z=a.CRH())&&(y.starTemplateFromContent=Z.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(h,y){1&h&&a.NdJ("blur",function(){return y.handleBlur()})("keydown",function(Z){return y.handleKeyDown(Z)})("mouseleave",function(){return y.reset()}),2&h&&(a.Ikx("tabindex",y.disabled?-1:y.tabindex),a.uIk("aria-valuemax",y.max)("aria-valuenow",y.nextRate)("aria-valuetext",y.ariaValueText())("aria-disabled",!!y.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[a._Bn([{provide:jt.JU,useExisting:(0,a.Gpc)(()=>g),multi:!0}]),a.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(h,y){1&h&&(a.YNc(0,$a,1,1,"ng-template",null,0,a.W1O),a.YNc(2,Hs,4,5,"ng-template",1)),2&h&&(a.xp6(2),a.Q6J("ngForOf",y.contexts))},dependencies:[E.sg,E.tP],encapsulation:2,changeDetection:0}),g})(),yc=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})();class eo{constructor(I,h,y){this.hour=W(I),this.minute=W(h),this.second=W(y)}changeHour(I=1){this.updateHour((isNaN(this.hour)?0:this.hour)+I)}updateHour(I){this.hour=Mt(I)?(I<0?24+I:I)%24:NaN}changeMinute(I=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+I)}updateMinute(I){Mt(I)?(this.minute=I%60<0?60+I%60:I%60,this.changeHour(Math.floor(I/60))):this.minute=NaN}changeSecond(I=1){this.updateSecond((isNaN(this.second)?0:this.second)+I)}updateSecond(I){Mt(I)?(this.second=I<0?60+I%60:I%60,this.changeMinute(Math.floor(I/60))):this.second=NaN}isValid(I=!0){return Mt(this.hour)&&Mt(this.minute)&&(!I||Mt(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Gp=(()=>{class g{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Md=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:function(){return function Nd(){return new vc}()},providedIn:"root"}),g})(),vc=(()=>{class g extends Md{fromModel(h){return h&&pn(h.hour)&&pn(h.minute)?{hour:h.hour,minute:h.minute,second:pn(h.second)?h.second:null}:null}toModel(h){return h&&pn(h.hour)&&pn(h.minute)?{hour:h.hour,minute:h.minute,second:pn(h.second)?h.second:null}:null}}return g.\u0275fac=function(){let I;return function(y){return(I||(I=a.n5z(g)))(y||g)}}(),g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})(),$c=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:function(h){let y=null;return y=h?new h:function hu(g){return new zg(g)}(a.LFG(a.soG)),y},providedIn:"root"}),g})(),zg=(()=>{class g extends $c{constructor(h){super(),this._periods=(0,E.ol)(h,E.x.Standalone,E.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(a.soG))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})();const zc=/[^0-9]/g;let Co=(()=>{class g{constructor(h,y,O,Z){this._config=h,this._ngbTimeAdapter=y,this._cd=O,this.i18n=Z,this.onChange=Re=>{},this.onTouched=()=>{},this.meridian=h.meridian,this.spinners=h.spinners,this.seconds=h.seconds,this.hourStep=h.hourStep,this.minuteStep=h.minuteStep,this.secondStep=h.secondStep,this.disabled=h.disabled,this.readonlyInputs=h.readonlyInputs,this.size=h.size}set hourStep(h){this._hourStep=pn(h)?h:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(h){this._minuteStep=pn(h)?h:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(h){this._secondStep=pn(h)?h:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(h){const y=this._ngbTimeAdapter.fromModel(h);this.model=y?new eo(y.hour,y.minute,y.second):new eo,!this.seconds&&(!y||!Mt(y.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(h){this.onChange=h}registerOnTouched(h){this.onTouched=h}setDisabledState(h){this.disabled=h}changeHour(h){var y;null===(y=this.model)||void 0===y||y.changeHour(h),this.propagateModelChange()}changeMinute(h){var y;null===(y=this.model)||void 0===y||y.changeMinute(h),this.propagateModelChange()}changeSecond(h){var y;null===(y=this.model)||void 0===y||y.changeSecond(h),this.propagateModelChange()}updateHour(h){const y=!!this.model&&this.model.hour>=12,O=W(h);var Z,Re;this.meridian&&(y&&O<12||!y&&12===O)?null===(Z=this.model)||void 0===Z||Z.updateHour(O+12):null===(Re=this.model)||void 0===Re||Re.updateHour(O),this.propagateModelChange()}updateMinute(h){var y;null===(y=this.model)||void 0===y||y.updateMinute(W(h)),this.propagateModelChange()}updateSecond(h){var y;null===(y=this.model)||void 0===y||y.updateSecond(W(h)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(h){h.value=h.value.replace(zc,"")}formatHour(h){return Mt(h)?Lr(this.meridian?h%12==0?12:h%12:h%24):Lr(NaN)}formatMinSec(h){return Lr(Mt(h)?h:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(h){h.seconds&&!this.seconds&&this.model&&!Mt(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(h=!0){var y;h&&this.onTouched(),null!==(y=this.model)&&void 0!==y&&y.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(Gp),a.Y36(Md),a.Y36(a.sBO),a.Y36($c))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],features:[a._Bn([{provide:jt.JU,useExisting:(0,a.Gpc)(()=>g),multi:!0}]),a.TTD],decls:16,vars:25,consts:function(){let I,h,y,O,Z,Re,Ue,ut,xt,kt,Dn,fn,Nn,ri;return I=$localize`:@@ngb.timepicker.HH:HH`,h=$localize`:@@ngb.timepicker.hours:Hours`,y=$localize`:@@ngb.timepicker.MM:MM`,O=$localize`:@@ngb.timepicker.minutes:Minutes`,Z=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,Re=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,Ue=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,ut=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,xt=$localize`:@@ngb.timepicker.SS:SS`,kt=$localize`:@@ngb.timepicker.seconds:Seconds`,Dn=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,fn=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Nn=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,ri=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",I,"aria-label",h,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",y,"aria-label",O,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],Z,[1,"chevron","ngb-tp-chevron","bottom"],Re,Ue,ut,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",xt,"aria-label",kt,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],Dn,fn,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],Nn,ri]},template:function(h,y){1&h&&(a.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),a.YNc(3,$i,4,7,"button",3),a.TgZ(4,"input",4),a.NdJ("change",function(Z){return y.updateHour(Z.target.value)})("blur",function(){return y.handleBlur()})("input",function(Z){return y.formatInput(Z.target)})("keydown.ArrowUp",function(Z){return y.changeHour(y.hourStep),Z.preventDefault()})("keydown.ArrowDown",function(Z){return y.changeHour(-y.hourStep),Z.preventDefault()}),a.qZA(),a.YNc(5,Gl,4,7,"button",3),a.qZA(),a.TgZ(6,"div",5),a._uU(7,":"),a.qZA(),a.TgZ(8,"div",6),a.YNc(9,ac,4,7,"button",3),a.TgZ(10,"input",7),a.NdJ("change",function(Z){return y.updateMinute(Z.target.value)})("blur",function(){return y.handleBlur()})("input",function(Z){return y.formatInput(Z.target)})("keydown.ArrowUp",function(Z){return y.changeMinute(y.minuteStep),Z.preventDefault()})("keydown.ArrowDown",function(Z){return y.changeMinute(-y.minuteStep),Z.preventDefault()}),a.qZA(),a.YNc(11,lc,4,7,"button",3),a.qZA(),a.YNc(12,Oc,2,0,"div",8),a.YNc(13,zl,4,9,"div",9),a.YNc(14,Yo,1,0,"div",8),a.YNc(15,Wl,5,9,"div",10),a.qZA()()),2&h&&(a.ekj("disabled",y.disabled),a.Q6J("disabled",y.disabled),a.xp6(3),a.Q6J("ngIf",y.spinners),a.xp6(1),a.ekj("form-control-sm",y.isSmallSize)("form-control-lg",y.isLargeSize),a.Q6J("value",y.formatHour(null==y.model?null:y.model.hour))("readOnly",y.readonlyInputs)("disabled",y.disabled),a.xp6(1),a.Q6J("ngIf",y.spinners),a.xp6(4),a.Q6J("ngIf",y.spinners),a.xp6(1),a.ekj("form-control-sm",y.isSmallSize)("form-control-lg",y.isLargeSize),a.Q6J("value",y.formatMinSec(null==y.model?null:y.model.minute))("readOnly",y.readonlyInputs)("disabled",y.disabled),a.xp6(1),a.Q6J("ngIf",y.spinners),a.xp6(1),a.Q6J("ngIf",y.seconds),a.xp6(1),a.Q6J("ngIf",y.seconds),a.xp6(1),a.Q6J("ngIf",y.meridian),a.xp6(1),a.Q6J("ngIf",y.meridian))},dependencies:[E.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),g})(),Ii=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})(),hh=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})(),np=(()=>{class g{constructor(h){this._ngbConfig=h,this.autoClose=!0,this.placement="auto",this.popperOptions=y=>y,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(h){this._animation=h}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(Oe))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Yg=0,$p=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(h,y){2&h&&(a.Ikx("id",y.id),a.Tol("tooltip"+(y.tooltipClass?" "+y.tooltipClass:"")),a.ekj("fade",y.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:Ns,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(h,y){1&h&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA())},encapsulation:2,changeDetection:0}),g})(),Od=(()=>{class g{constructor(h,y,O,Z,Re,Ue,ut,xt,kt,Dn){this._elementRef=h,this._renderer=O,this._ngZone=ut,this._document=xt,this._changeDetector=kt,this.shown=new a.vpe,this.hidden=new a.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+Yg++,this._windowRef=null,this.animation=Ue.animation,this.autoClose=Ue.autoClose,this.placement=Ue.placement,this.popperOptions=Ue.popperOptions,this.triggers=Ue.triggers,this.container=Ue.container,this.disableTooltip=Ue.disableTooltip,this.tooltipClass=Ue.tooltipClass,this.openDelay=Ue.openDelay,this.closeDelay=Ue.closeDelay,this._popupService=new D($p,Z,Re,O,this._ngZone,Dn),this._positioning=An(y)}set ngbTooltip(h){this._ngbTooltip=h,!h&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(h){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:y,transition$:O}=this._popupService.open(this._ngbTooltip,h,this.animation);this._windowRef=y,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:Z=>this.popperOptions(Z)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),Gs(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),O.subscribe(()=>this.shown.emit())}}close(h=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(h).subscribe(()=>{var y;this._windowRef=null,this._positioning.destroy(),null===(y=this._zoneSubscription)||void 0===y||y.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=cd(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:h}){h&&this.isOpen()&&(this._windowRef.instance.tooltipClass=h.currentValue)}ngOnDestroy(){var h;this.close(!1),null===(h=this._unregisterListenersFn)||void 0===h||h.call(this)}_getPositionTargetElement(){return(Dt(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.SBq),a.Y36(Li),a.Y36(a.Qsj),a.Y36(a.zs3),a.Y36(a.s_b),a.Y36(np),a.Y36(a.R0b),a.Y36(E.K0),a.Y36(a.sBO),a.Y36(a.z2F))},g.\u0275dir=a.lG2({type:g,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[a.TTD]}),g})(),zp=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({}),g})(),ud=(()=>{class g{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(h){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const y=ge(this.result),O=Array.isArray(this.term)?this.term:[this.term],Z=xt=>this.accentSensitive?xt:Rs(xt),Re=O.map(xt=>function xr(g){return g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Z(ge(xt)))).filter(xt=>xt),Ue=this.accentSensitive?y:Rs(y),ut=Re.length?Ue.split(new RegExp(`(${Re.join("|")})`,"gmi")):[y];if(this.accentSensitive)this.parts=ut;else{let xt=0;this.parts=ut.map(kt=>y.substring(xt,xt+=kt.length))}}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[a.TTD],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(h,y){1&h&&a.YNc(0,Si,3,2,"ng-template",0),2&h&&a.Q6J("ngForOf",y.parts)},dependencies:[E.sg,E.O5],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),g})(),Zg=(()=>{class g{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=ge,this.selectEvent=new a.vpe,this.activeChangeEvent=new a.vpe}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(h){this.activeIdx=h,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(h){this.selectEvent.emit(h)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275cmp=a.Xpm({type:g,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(h,y){1&h&&a.NdJ("mousedown",function(Z){return Z.preventDefault()}),2&h&&(a.Ikx("id",y.id),a.Tol("dropdown-menu show"+(y.popupClass?" "+y.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(h,y){1&h&&(a.YNc(0,Rc,1,2,"ng-template",null,0,a.W1O),a.YNc(2,re,2,9,"ng-template",1)),2&h&&(a.xp6(2),a.Q6J("ngForOf",y.results))},dependencies:[E.sg,E.tP,ud],encapsulation:2}),g})(),r_=(()=>{class g{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=h=>h}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const ef=new a.OlP("live announcer delay",{providedIn:"root",factory:function rp(){return 100}});function fh(g,I=!1){let h=g.body.querySelector("#ngb-live");return null==h&&I&&(h=g.createElement("div"),h.setAttribute("id","ngb-live"),h.setAttribute("aria-live","polite"),h.setAttribute("aria-atomic","true"),h.classList.add("visually-hidden"),g.body.appendChild(h)),h}let fl=(()=>{class g{constructor(h,y){this._document=h,this._delay=y}ngOnDestroy(){const h=fh(this._document);h&&h.parentElement.removeChild(h)}say(h){const y=fh(this._document,!0),O=this._delay;if(null!=y){y.textContent="";const Z=()=>y.textContent=h;null===O?Z():setTimeout(Z,O)}}}return g.\u0275fac=function(h){return new(h||g)(a.LFG(E.K0),a.LFG(ef))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Rd=0,Wp=(()=>{class g{constructor(h,y,O,Z,Re,Ue,ut,xt,kt,Dn,fn,Nn){this._elementRef=h,this._renderer=Z,this._live=xt,this._document=kt,this._ngZone=Dn,this._changeDetector=fn,this._subscription=null,this._closed$=new pe.x,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-start",this.selectItem=new a.vpe,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Rd++,this._onTouched=()=>{},this._onChange=ri=>{},this.container=Ue.container,this.editable=Ue.editable,this.focusFirst=Ue.focusFirst,this.showHint=Ue.showHint,this.placement=Ue.placement,this.popperOptions=Ue.popperOptions,this._valueChanges=(0,Ee.R)(h.nativeElement,"input").pipe((0,Te.U)(ri=>ri.target.value)),this._resubscribeTypeahead=new Me.X(null),this._popupService=new D(Zg,Re,O,Z,this._ngZone,Nn),this._positioning=An(y)}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:h}){h&&!h.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(h){this._onChange=h}registerOnTouched(h){this._onTouched=h}writeValue(h){this._writeInputValue(this._formatItemForInput(h)),this.showHint&&(this._inputValueBackup=h)}setDisabledState(h){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",h)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(h){if(this.isPopupOpen())switch(h.which){case Ir.ArrowDown:h.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Ir.ArrowUp:h.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Ir.Enter:case Ir.Tab:{const y=this._windowRef.instance.getActive();nr(y)&&(h.preventDefault(),h.stopPropagation(),this._selectResult(y)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:h}=this._popupService.open();this._windowRef=h,this._windowRef.setInput("id",this.popupId),this._windowRef.setInput("popupClass",this.popupClass),this._windowRef.instance.selectEvent.subscribe(y=>this._selectResultClosePopup(y)),this._windowRef.instance.activeChangeEvent.subscribe(y=>this.activeDescendant=y),"body"===this.container&&(this._renderer.setStyle(this._windowRef.location.nativeElement,"z-index","1055"),this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:y=>this.popperOptions(or([0,2])(y))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),Gs(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{var h;this._positioning.destroy(),null===(h=this._zoneSubscription)||void 0===h||h.unsubscribe(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(h){let y=!1;this.selectItem.emit({item:h,preventDefault:()=>{y=!0}}),this._resubscribeTypeahead.next(null),y||(this.writeValue(h),this._onChange(h))}_selectResultClosePopup(h){this._selectResult(h),this._closePopup()}_showHint(){var h;if(this.showHint&&null!==(h=this._windowRef)&&void 0!==h&&h.instance.hasActive()&&null!=this._inputValueBackup){const y=this._inputValueBackup.toLowerCase(),O=this._formatItemForInput(this._windowRef.instance.getActive());y===O.substring(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+O.substring(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,O.length])):this._writeInputValue(O)}}_formatItemForInput(h){return null!=h&&this.inputFormatter?this.inputFormatter(h):ge(h)}_writeInputValue(h){this._renderer.setProperty(this._elementRef.nativeElement,"value",ge(h))}_subscribeToUserInput(){const h=this._valueChanges.pipe((0,ln.b)(y=>{this._inputValueBackup=this.showHint?y:null,this._onChange(this.editable?y:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,de.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,At.w)(()=>h)).subscribe(y=>{y&&0!==y.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=y,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const O=y?y.length:0;this._live.say(0===O?"No results available":`${O} result${1===O?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return g.\u0275fac=function(h){return new(h||g)(a.Y36(a.SBq),a.Y36(Li),a.Y36(a.s_b),a.Y36(a.Qsj),a.Y36(a.zs3),a.Y36(r_),a.Y36(a.R0b),a.Y36(fl),a.Y36(E.K0),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.z2F))},g.\u0275dir=a.lG2({type:g,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox"],hostVars:7,hostBindings:function(h,y){1&h&&a.NdJ("blur",function(){return y.handleBlur()})("keydown",function(Z){return y.handleKeyDown(Z)}),2&h&&(a.Ikx("autocomplete",y.autocomplete),a.uIk("aria-autocomplete",y.showHint?"both":"list")("aria-activedescendant",y.activeDescendant)("aria-owns",y.isPopupOpen()?y.popupId:null)("aria-expanded",y.isPopupOpen()),a.ekj("open",y.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popperOptions:"popperOptions",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[a._Bn([{provide:jt.JU,useExisting:(0,a.Gpc)(()=>g),multi:!0}]),a.TTD]}),g})(),to=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[E.ez]}),g})(),sp=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({}),g})();const op=[Fc,Wr,Ps,dc,ad,N,cs,uu,sp,jc,Gc,Ss,yc,Ii,hh,zp,to];let Yp=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({imports:[op,Fc,Wr,Ps,dc,ad,N,cs,uu,sp,jc,Gc,Ss,yc,Ii,hh,zp,to]}),g})()},259:(nn,we,M)=>{"use strict";M.d(we,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=M(9681);(0,a.registerVersion)("firebase","9.20.0","app")},9260:(nn,we,M)=>{"use strict";M.d(we,{Z:()=>a.Z});var a=M(3942);a.Z.registerVersion("firebase","9.20.0","app-compat")},9568:(nn,we,M)=>{"use strict";M.r(we);var a=M(5861),E=M(3942),B=M(8277),ce=M(2090),Ee=(M(9681),M(1877),M(4859));function oe(){return window}function le(){return(le=(0,a.Z)(function*(Se,F,V){var ne;const{BuildInfo:xe}=oe();(0,B.as)(F.sessionId,"AuthEvent did not contain a session ID");const tt=yield nt(F.sessionId),Nt={};return(0,B.at)()?Nt.ibi=xe.packageName:(0,B.au)()?Nt.apn=xe.packageName:(0,B.av)(Se,"operation-not-supported-in-this-environment"),xe.displayName&&(Nt.appDisplayName=xe.displayName),Nt.sessionId=tt,(0,B.aw)(Se,V,F.type,void 0,null!==(ne=F.eventId)&&void 0!==ne?ne:void 0,Nt)})).apply(this,arguments)}function Be(){return(Be=(0,a.Z)(function*(Se){const{BuildInfo:F}=oe(),V={};(0,B.at)()?V.iosBundleId=F.packageName:(0,B.au)()?V.androidPackageName=F.packageName:(0,B.av)(Se,"operation-not-supported-in-this-environment"),yield(0,B.ax)(Se,V)})).apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(Se,F,V){const{cordova:ne}=oe();let xe=()=>{};try{yield new Promise((tt,Nt)=>{let ve=null;function De(){var rt;tt();const Zt=null===(rt=ne.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Zt&&Zt(),"function"==typeof V?.close&&V.close()}function ue(){ve||(ve=window.setTimeout(()=>{Nt((0,B.az)(Se,"redirect-cancelled-by-user"))},2e3))}function $e(){"visible"===document?.visibilityState&&ue()}F.addPassiveListener(De),document.addEventListener("resume",ue,!1),(0,B.au)()&&document.addEventListener("visibilitychange",$e,!1),xe=()=>{F.removePassiveListener(De),document.removeEventListener("resume",ue,!1),document.removeEventListener("visibilitychange",$e,!1),ve&&window.clearTimeout(ve)}})}finally{xe()}})).apply(this,arguments)}function nt(Se){return We.apply(this,arguments)}function We(){return(We=(0,a.Z)(function*(Se){const F=Ft(Se),V=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(V)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ft(Se){if((0,B.as)(/[0-9a-zA-Z]+/.test(Se),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Se);const F=new ArrayBuffer(Se.length),V=new Uint8Array(F);for(let ne=0;ne<Se.length;ne++)V[ne]=Se.charCodeAt(ne);return V}class Ke extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(F)),super.onEvent(F)}initialized(){var F=this;return(0,a.Z)(function*(){yield F.initPromise})()}}function dt(Se){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(Se){const F=yield At()._get(ln(Se));return F&&(yield At()._remove(ln(Se))),F})).apply(this,arguments)}function Qe(){const Se=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const ne=Math.floor(Math.random()*F.length);Se.push(F.charAt(ne))}return Se.join("")}function At(){return(0,B.aC)(B.b)}function ln(Se){return(0,B.aD)("authEvent",Se.config.apiKey,Se.name)}function bt(Se){if(!Se?.includes("?"))return{};const[F,...V]=Se.split("?");return(0,ce.zd)(V.join("?"))}function vt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function Pn(){var Se;return(null===(Se=self?.location)||void 0===Se?void 0:Se.protocol)||null}function Tn(Se=(0,ce.z$)()){return!("file:"!==Pn()&&"ionic:"!==Pn()&&"capacitor:"!==Pn()||!Se.toLowerCase().match(/iphone|ipad|ipod|android/))}function dr(){try{const Se=self.localStorage,F=B.aL();if(Se)return Se.setItem(F,"1"),Se.removeItem(F),!function Cr(Se=(0,ce.z$)()){return function lr(){return(0,ce.w1)()&&11===document?.documentMode}()||function Yn(Se=(0,ce.z$)()){return/Edge\/\d+/.test(Se)}(Se)}()||(0,ce.hl)()}catch{return Gr()&&(0,ce.hl)()}return!1}function Gr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jn(){return(function xn(){return"http:"===Pn()||"https:"===Pn()}()||(0,ce.ru)()||Tn())&&!function Wn(){return(0,ce.b$)()||(0,ce.UG)()}()&&dr()&&!Gr()}function tr(){return Tn()&&typeof document<"u"}function hn(){return(hn=(0,a.Z)(function*(){return!!tr()&&new Promise(Se=>{const F=setTimeout(()=>{Se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),Se(!0)})})})).apply(this,arguments)}const hr={LOCAL:"local",NONE:"none",SESSION:"session"},gr=B.aA,ci="persistence";function $r(Se){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(Se){yield Se._initializationPromise;const F=Le(),V=B.aD(ci,Se.config.apiKey,Se.name);F&&F.setItem(V,Se._getPersistence())})).apply(this,arguments)}function Le(){var Se;try{return(null===(Se=function Fr(){return typeof window<"u"?window:null}())||void 0===Se?void 0:Se.sessionStorage)||null}catch{return null}}const wt=B.aA;class Ot{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(class $t{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(F){var V=this;return(0,a.Z)(function*(){const ne=F._key();let xe=V.eventManagers.get(ne);return xe||(xe=new Ke(F),V.eventManagers.set(ne,xe),V.attachCallbackListeners(F,xe)),xe})()}_openPopup(F){(0,B.av)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,V,ne,xe){var tt=this;return(0,a.Z)(function*(){!function qe(Se){var F,V,ne,xe,tt,Nt,ve,De,ue,$e;const rt=oe();(0,B.aA)("function"==typeof(null===(F=rt?.universalLinks)||void 0===F?void 0:F.subscribe),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(V=rt?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(tt=null===(xe=null===(ne=rt?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===tt?void 0:tt.openUrl),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(De=null===(ve=null===(Nt=rt?.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===De?void 0:De.isAvailable),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===($e=null===(ue=rt?.cordova)||void 0===ue?void 0:ue.InAppBrowser)||void 0===$e?void 0:$e.open),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const Nt=yield tt._initialize(F);yield Nt.initialized(),Nt.resetRedirect(),(0,B.aG)(),yield tt._originValidation(F);const ve=function Xe(Se,F,V=null){return{type:F,eventId:V,urlResponse:null,sessionId:Qe(),postBody:null,tenantId:Se.tenantId,error:(0,B.az)(Se,"no-auth-event")}}(F,ne,xe);yield function Ct(Se,F){return At()._set(ln(Se),F)}(F,ve);const De=yield function ae(Se,F,V){return le.apply(this,arguments)}(F,ve,V),ue=yield function Me(Se){const{cordova:F}=oe();return new Promise(V=>{F.plugins.browsertab.isAvailable(ne=>{let xe=null;ne?F.plugins.browsertab.openUrl(Se):xe=F.InAppBrowser.open(Se,(0,B.ay)()?"_blank":"_system","location=yes"),V(xe)})})}(De);return function Ne(Se,F,V){return ot.apply(this,arguments)}(F,Nt,ue)})()}_isIframeWebStorageSupported(F,V){throw new Error("Method not implemented.")}_originValidation(F){const V=F._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function ye(Se){return Be.apply(this,arguments)}(F)),this.originValidationPromises[V]}attachCallbackListeners(F,V){const{universalLinks:ne,handleOpenURL:xe,BuildInfo:tt}=oe(),Nt=setTimeout((0,a.Z)(function*(){yield dt(F),V.onEvent(vt())}),500),ve=function(){var $e=(0,a.Z)(function*(rt){clearTimeout(Nt);const Zt=yield dt(F);let Un=null;Zt&&rt?.url&&(Un=function Ge(Se,F){var V,ne;const xe=function pt(Se){const F=bt(Se),V=F.link?decodeURIComponent(F.link):void 0,ne=bt(V).link,xe=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return bt(xe).link||xe||ne||V||Se}(F);if(xe.includes("/__/auth/callback")){const tt=bt(xe),Nt=tt.firebaseError?function Lt(Se){try{return JSON.parse(Se)}catch{return null}}(decodeURIComponent(tt.firebaseError)):null,ve=null===(ne=null===(V=Nt?.code)||void 0===V?void 0:V.split("auth/"))||void 0===ne?void 0:ne[1],De=ve?(0,B.az)(ve):null;return De?{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,sessionId:Se.sessionId,urlResponse:xe,postBody:null}}return null}(Zt,rt.url)),V.onEvent(Un||vt())});return function(Zt){return $e.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,ve);const De=xe,ue=`${tt.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var $e=(0,a.Z)(function*(rt){if(rt.toLowerCase().startsWith(ue)&&ve({url:rt}),"function"==typeof De)try{De(rt)}catch(Zt){console.error(Zt)}});return function(rt){return $e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(F){var V=this;return(0,a.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,V,ne,xe){var tt=this;return(0,a.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openPopup(F,V,ne,xe)})()}_openRedirect(F,V,ne,xe){var tt=this;return(0,a.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openRedirect(F,V,ne,xe)})()}_isIframeWebStorageSupported(F,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,V)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return tr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,a.Z)(function*(){if(F.underlyingResolver)return;const V=yield function Nr(){return hn.apply(this,arguments)}();F.underlyingResolver=V?F.cordovaResolver:F.browserResolver})()}}function Wt(Se){return Se.unwrap()}function Zn(Se){return fr(Se)}function fr(Se){const{_tokenResponse:F}=Se instanceof ce.ZR?Se.customData:Se;if(!F)return null;if(!(Se instanceof ce.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return B.P.credentialFromResult(Se);const V=F.providerId;if(!V||V===B.p.PASSWORD)return null;let ne;switch(V){case B.p.GOOGLE:ne=B.V;break;case B.p.FACEBOOK:ne=B.U;break;case B.p.GITHUB:ne=B.W;break;case B.p.TWITTER:ne=B.Z;break;default:const{oauthIdToken:xe,oauthAccessToken:tt,oauthTokenSecret:Nt,pendingToken:ve,nonce:De}=F;return tt||Nt||xe||ve?ve?V.startsWith("saml.")?B.aO._create(V,ve):B.L._fromParams({providerId:V,signInMethod:V,pendingToken:ve,idToken:xe,accessToken:tt}):new B.X(V).credential({idToken:xe,accessToken:tt,rawNonce:De}):null}return Se instanceof ce.ZR?ne.credentialFromError(Se):ne.credentialFromResult(Se)}function kn(Se,F){return F.catch(V=>{throw V instanceof ce.ZR&&function on(Se,F){var V;const ne=null===(V=F.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Qn(Se,B.aq(Se,F));else if(ne){const xe=fr(F),tt=F;xe&&(tt.credential=xe,tt.tenantId=ne.tenantId||void 0,tt.email=ne.email||void 0,tt.phoneNumber=ne.phoneNumber||void 0)}}(Se,V),V}).then(V=>{const xe=V.user;return{operationType:V.operationType,credential:Zn(V),additionalUserInfo:B.ao(V),user:Hn.getOrCreate(xe)}})}function Br(Se,F){return er.apply(this,arguments)}function er(){return(er=(0,a.Z)(function*(Se,F){const V=yield F;return{verificationId:V.verificationId,confirm:ne=>kn(Se,V.confirm(ne))}})).apply(this,arguments)}class Qn{constructor(F,V){this.resolver=V,this.auth=function In(Se){return Se.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return kn(Wt(this.auth),this.resolver.resolveSignIn(F))}}class Hn{constructor(F){this._delegate=F,this.multiFactor=B.ar(F)}static getOrCreate(F){return Hn.USER_MAP.has(F)||Hn.USER_MAP.set(F,new Hn(F)),Hn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var V=this;return(0,a.Z)(function*(){return kn(V.auth,B.a0(V._delegate,F))})()}linkWithPhoneNumber(F,V){var ne=this;return(0,a.Z)(function*(){return Br(ne.auth,B.l(ne._delegate,F,V))})()}linkWithPopup(F){var V=this;return(0,a.Z)(function*(){return kn(V.auth,B.d(V._delegate,F,Ot))})()}linkWithRedirect(F){var V=this;return(0,a.Z)(function*(){return yield $r(B.aH(V.auth)),B.g(V._delegate,F,Ot)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var V=this;return(0,a.Z)(function*(){return kn(V.auth,B.a1(V._delegate,F))})()}reauthenticateWithPhoneNumber(F,V){return Br(this.auth,B.r(this._delegate,F,V))}reauthenticateWithPopup(F){return kn(this.auth,B.e(this._delegate,F,Ot))}reauthenticateWithRedirect(F){var V=this;return(0,a.Z)(function*(){return yield $r(B.aH(V.auth)),B.h(V._delegate,F,Ot)})()}sendEmailVerification(F){return B.ae(this._delegate,F)}unlink(F){var V=this;return(0,a.Z)(function*(){return yield B.an(V._delegate,F),V})()}updateEmail(F){return B.aj(this._delegate,F)}updatePassword(F){return B.ak(this._delegate,F)}updatePhoneNumber(F){return B.u(this._delegate,F)}updateProfile(F){return B.ai(this._delegate,F)}verifyBeforeUpdateEmail(F,V){return B.af(this._delegate,F,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hn.USER_MAP=new WeakMap;const en=B.aA;let Ht=(()=>{class Se{constructor(V,ne){if(this.app=V,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=V.options;en(xe,"invalid-api-key",{appName:V.name}),en(xe,"invalid-api-key",{appName:V.name});const tt=typeof window<"u"?Ot:void 0;this._delegate=ne.initialize({options:{persistence:Fn(xe,V.name),popupRedirectResolver:tt}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,ne){B.I(this._delegate,V,ne)}applyActionCode(V){return B.a5(this._delegate,V)}checkActionCode(V){return B.a6(this._delegate,V)}confirmPasswordReset(V,ne){return B.a4(this._delegate,V,ne)}createUserWithEmailAndPassword(V,ne){var xe=this;return(0,a.Z)(function*(){return kn(xe._delegate,B.a8(xe._delegate,V,ne))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return B.ad(this._delegate,V)}isSignInWithEmailLink(V){return B.ab(this._delegate,V)}getRedirectResult(){var V=this;return(0,a.Z)(function*(){en(Jn(),V._delegate,"operation-not-supported-in-this-environment");const ne=yield B.j(V._delegate,Ot);return ne?kn(V._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function yn(Se,F){(0,B.aH)(Se)._logFramework(F)}(this._delegate,V)}onAuthStateChanged(V,ne,xe){const{next:tt,error:Nt,complete:ve}=sn(V,ne,xe);return this._delegate.onAuthStateChanged(tt,Nt,ve)}onIdTokenChanged(V,ne,xe){const{next:tt,error:Nt,complete:ve}=sn(V,ne,xe);return this._delegate.onIdTokenChanged(tt,Nt,ve)}sendSignInLinkToEmail(V,ne){return B.aa(this._delegate,V,ne)}sendPasswordResetEmail(V,ne){return B.a3(this._delegate,V,ne||void 0)}setPersistence(V){var ne=this;return(0,a.Z)(function*(){let xe;switch(function xs(Se,F){gr(Object.values(hr).includes(F),Se,"invalid-persistence-type"),(0,ce.b$)()?gr(F!==hr.SESSION,Se,"unsupported-persistence-type"):(0,ce.UG)()?gr(F===hr.NONE,Se,"unsupported-persistence-type"):Gr()?gr(F===hr.NONE||F===hr.LOCAL&&(0,ce.hl)(),Se,"unsupported-persistence-type"):gr(F===hr.NONE||dr(),Se,"unsupported-persistence-type")}(ne._delegate,V),V){case hr.SESSION:xe=B.a;break;case hr.LOCAL:xe=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case hr.NONE:xe=B.N;break;default:return B.av("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return kn(this._delegate,B._(this._delegate))}signInWithCredential(V){return kn(this._delegate,B.$(this._delegate,V))}signInWithCustomToken(V){return kn(this._delegate,B.a2(this._delegate,V))}signInWithEmailAndPassword(V,ne){return kn(this._delegate,B.a9(this._delegate,V,ne))}signInWithEmailLink(V,ne){return kn(this._delegate,B.ac(this._delegate,V,ne))}signInWithPhoneNumber(V,ne){return Br(this._delegate,B.s(this._delegate,V,ne))}signInWithPopup(V){var ne=this;return(0,a.Z)(function*(){return en(Jn(),ne._delegate,"operation-not-supported-in-this-environment"),kn(ne._delegate,B.c(ne._delegate,V,Ot))})()}signInWithRedirect(V){var ne=this;return(0,a.Z)(function*(){return en(Jn(),ne._delegate,"operation-not-supported-in-this-environment"),yield $r(ne._delegate),B.f(ne._delegate,V,Ot)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return B.a7(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Se.Persistence=hr,Se})();function sn(Se,F,V){let ne=Se;"function"!=typeof Se&&({next:ne,error:F,complete:V}=Se);const xe=ne;return{next:Nt=>xe(Nt&&Hn.getOrCreate(Nt)),error:F,complete:V}}function Fn(Se,F){const V=function Ze(Se,F){const V=Le();if(!V)return[];const ne=B.aD(ci,Se,F);switch(V.getItem(ne)){case hr.NONE:return[B.N];case hr.LOCAL:return[B.i,B.a];case hr.SESSION:return[B.a];default:return[]}}(Se,F);if(typeof self<"u"&&!V.includes(B.i)&&V.push(B.i),typeof window<"u")for(const ne of[B.b,B.a])V.includes(ne)||V.push(ne);return V.includes(B.N)||V.push(B.N),V}class On{constructor(){this.providerId="phone",this._delegate=new B.P(Wt(E.Z.auth()))}static credential(F,V){return B.P.credential(F,V)}verifyPhoneNumber(F,V){return this._delegate.verifyPhoneNumber(F,V)}unwrap(){return this._delegate}}On.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,On.PROVIDER_ID=B.P.PROVIDER_ID;const sr=B.aA;class vr{constructor(F,V,ne=E.Z.app()){var xe;sr(null===(xe=ne.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new B.R(F,V,ne.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ve(Se){Se.INTERNAL.registerComponent(new Ee.wA("auth-compat",F=>{const V=F.getProvider("app-compat").getImmediate(),ne=F.getProvider("auth");return new Ht(V,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:On,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:vr,TwitterAuthProvider:B.Z,Auth:Ht,AuthCredential:B.J,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Se.registerVersion("@firebase/auth-compat","0.4.0")}(E.Z)},8766:(nn,we,M)=>{"use strict";M.d(we,{Lj:()=>it,X3:()=>Ft});var a=M(5861);let B,ce;const Ee=new WeakMap,oe=new WeakMap,Ie=new WeakMap,ae=new WeakMap,le=new WeakMap;let Me={get(Te,Ge,Qe){if(Te instanceof IDBTransaction){if("done"===Ge)return oe.get(Te);if("objectStoreNames"===Ge)return Te.objectStoreNames||Ie.get(Te);if("store"===Ge)return Qe.objectStoreNames[1]?void 0:Qe.objectStore(Qe.objectStoreNames[0])}return nt(Te[Ge])},set:(Te,Ge,Qe)=>(Te[Ge]=Qe,!0),has:(Te,Ge)=>Te instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in Te};function qe(Te){return"function"==typeof Te?function ot(Te){return Te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Te)?function(...Ge){return Te.apply(We(this),Ge),nt(Ee.get(this))}:function(...Ge){return nt(Te.apply(We(this),Ge))}:function(Ge,...Qe){const At=Te.call(We(this),Ge,...Qe);return Ie.set(At,Ge.sort?Ge.sort():[Ge]),nt(At)}}(Te):(Te instanceof IDBTransaction&&function Be(Te){if(oe.has(Te))return;const Ge=new Promise((Qe,At)=>{const ln=()=>{Te.removeEventListener("complete",Lt),Te.removeEventListener("error",pt),Te.removeEventListener("abort",pt)},Lt=()=>{Qe(),ln()},pt=()=>{At(Te.error||new DOMException("AbortError","AbortError")),ln()};Te.addEventListener("complete",Lt),Te.addEventListener("error",pt),Te.addEventListener("abort",pt)});oe.set(Te,Ge)}(Te),((Te,Ge)=>Ge.some(Qe=>Te instanceof Qe))(Te,function de(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Te,Me):Te)}function nt(Te){if(Te instanceof IDBRequest)return function ye(Te){const Ge=new Promise((Qe,At)=>{const ln=()=>{Te.removeEventListener("success",Lt),Te.removeEventListener("error",pt)},Lt=()=>{Qe(nt(Te.result)),ln()},pt=()=>{At(Te.error),ln()};Te.addEventListener("success",Lt),Te.addEventListener("error",pt)});return Ge.then(Qe=>{Qe instanceof IDBCursor&&Ee.set(Qe,Te)}).catch(()=>{}),le.set(Ge,Te),Ge}(Te);if(ae.has(Te))return ae.get(Te);const Ge=qe(Te);return Ge!==Te&&(ae.set(Te,Ge),le.set(Ge,Te)),Ge}const We=Te=>le.get(Te);function Ft(Te,Ge,{blocked:Qe,upgrade:At,blocking:ln,terminated:Lt}={}){const pt=indexedDB.open(Te,Ge),bt=nt(pt);return At&&pt.addEventListener("upgradeneeded",It=>{At(nt(pt.result),It.oldVersion,It.newVersion,nt(pt.transaction))}),Qe&&pt.addEventListener("blocked",()=>Qe()),bt.then(It=>{Lt&&It.addEventListener("close",()=>Lt()),ln&&It.addEventListener("versionchange",()=>ln())}).catch(()=>{}),bt}function it(Te,{blocked:Ge}={}){const Qe=indexedDB.deleteDatabase(Te);return Ge&&Qe.addEventListener("blocked",()=>Ge()),nt(Qe).then(()=>{})}const Ke=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Ct=new Map;function dt(Te,Ge){if(!(Te instanceof IDBDatabase)||Ge in Te||"string"!=typeof Ge)return;if(Ct.get(Ge))return Ct.get(Ge);const Qe=Ge.replace(/FromIndex$/,""),At=Ge!==Qe,ln=Xe.includes(Qe);if(!(Qe in(At?IDBIndex:IDBObjectStore).prototype)||!ln&&!Ke.includes(Qe))return;const Lt=function(){var pt=(0,a.Z)(function*(bt,...It){const $t=this.transaction(bt,ln?"readwrite":"readonly");let jt=$t.store;return At&&(jt=jt.index(It.shift())),(yield Promise.all([jt[Qe](...It),ln&&$t.done]))[0]});return function(It){return pt.apply(this,arguments)}}();return Ct.set(Ge,Lt),Lt}!function Ne(Te){Me=Te(Me)}(Te=>({...Te,get:(Ge,Qe,At)=>dt(Ge,Qe)||Te.get(Ge,Qe,At),has:(Ge,Qe)=>!!dt(Ge,Qe)||Te.has(Ge,Qe)}))},9832:(nn,we,M)=>{"use strict";M.d(we,{_l:()=>Ct,rN:()=>ot,y$:()=>Xe});var a=M(4650),E=M(1135),B=M(515),ce=M(2843),de=M(2557),pe=M(8996),Ee=M(6406),oe=M(9300),Ie=M(4004),ae=M(5698),le=M(3900),ye=M(8505),Be=M(262),Me=M(6895),Ne=M(1481);const ot=new a.OlP("HIGHLIGHT_OPTIONS");let qe;let Ft=(()=>{class dt{constructor(Ge,Qe,At){var ln;this.doc=Ge,this._options=At,this._ready=new E.X(null),this.ready=this._ready.asObservable().pipe((0,oe.h)(Lt=>!!Lt),(0,Ie.U)(Lt=>Lt),(0,ae.q)(1)),(0,Me.NF)(Qe)&&(Ge.defaultView.hljs?this._ready.next(Ge.defaultView.hljs):this._loadLibrary().pipe((0,le.w)(Lt=>this._options&&this._options.lineNumbersLoader?(Ge.defaultView.hljs=Lt,this.loadLineNumbers().pipe((0,ye.b)(()=>this._ready.next(Lt)))):(this._ready.next(Lt),B.E)),(0,Be.K)(Lt=>(console.error("[HLJS] ",Lt),B.E))).subscribe(),null!==(ln=this._options)&&void 0!==ln&&ln.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return(0,ce._)(()=>"The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return(0,ce._)(()=>"The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return(0,ce._)(()=>"The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return(0,ce._)(()=>"The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe((0,le.w)(Ge=>this._loadLanguages(Ge)))}return(0,ce._)(()=>"Highlight.js library was not imported!")}_loadLanguages(Ge){const Qe=Object.entries(this._options.languages).map(([At,ln])=>it(ln()).pipe((0,ye.b)(Lt=>Ge.registerLanguage(At,Lt))));return(0,de.$)(...Qe).pipe((0,Ie.U)(()=>Ge))}loadCoreLibrary(){return it(this._options.coreLibraryLoader())}loadFullLibrary(){return it(this._options.fullLibraryLoader())}loadLineNumbers(){return it(this._options.lineNumbersLoader())}setTheme(Ge){this._themeLinkElement.href=Ge}loadTheme(Ge){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=Ge,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return dt.\u0275fac=function(Ge){return new(Ge||dt)(a.LFG(Me.K0),a.LFG(a.Lbi),a.LFG(ot,8))},dt.\u0275prov=a.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})();const it=dt=>(0,pe.D)(dt).pipe((0,oe.h)(Te=>!!Te&&!!Te.default),(0,Ie.U)(Te=>Te.default));let Ke=(()=>{class dt{constructor(Ge,Qe){this._loader=Ge,this._hljs=null,Ge.ready.subscribe(At=>{this._hljs=At,Qe&&Qe.config&&(At.configure(Qe.config),At.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(Ge,{language:Qe,ignoreIllegals:At}){return this._loader.ready.pipe((0,Ie.U)(ln=>ln.highlight(Ge,{language:Qe,ignoreIllegals:At})))}highlightAuto(Ge,Qe){return this._loader.ready.pipe((0,Ie.U)(At=>At.highlightAuto(Ge,Qe)))}highlightElement(Ge){return this._loader.ready.pipe((0,Ie.U)(Qe=>Qe.highlightElement(Ge)))}highlightAll(){return this._loader.ready.pipe((0,Ie.U)(Ge=>Ge.highlightAll()))}configure(Ge){return this._loader.ready.pipe((0,Ie.U)(Qe=>Qe.configure(Ge)))}registerLanguage(Ge,Qe){return this._loader.ready.pipe((0,ye.b)(At=>At.registerLanguage(Ge,Qe)))}unregisterLanguage(Ge){return this._loader.ready.pipe((0,ye.b)(Qe=>Qe.unregisterLanguage(Ge)))}registerAliases(Ge,{languageName:Qe}){return this._loader.ready.pipe((0,ye.b)(At=>At.registerAliases(Ge,{languageName:Qe})))}listLanguages(){return this._loader.ready.pipe((0,Ie.U)(Ge=>Ge.listLanguages()))}getLanguage(Ge){return this._loader.ready.pipe((0,Ie.U)(Qe=>Qe.getLanguage(Ge)))}safeMode(){return this._loader.ready.pipe((0,Ie.U)(Ge=>Ge.safeMode()))}debugMode(){return this._loader.ready.pipe((0,Ie.U)(Ge=>Ge.debugMode()))}lineNumbersBlock(Ge){return this._loader.ready.pipe((0,oe.h)(Qe=>!!Qe.lineNumbersBlock),(0,ye.b)(Qe=>Qe.lineNumbersBlock(Ge)))}}return dt.\u0275fac=function(Ge){return new(Ge||dt)(a.LFG(Ft),a.LFG(ot,8))},dt.\u0275prov=a.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),Xe=(()=>{class dt{constructor(Ge,Qe,At,ln){this._hljs=Qe,this._sanitizer=At,this._options=ln,this.highlighted=new a.vpe,this._nativeElement=Ge.nativeElement}ngOnChanges(Ge){var Qe;null!==(null==Ge||null===(Qe=Ge.code)||void 0===Qe?void 0:Qe.currentValue)&&Ge.code.currentValue!==Ge.code.previousValue&&(this.code?this.highlightElement(this.code,this.languages):this.setTextContent(""))}highlightElement(Ge,Qe){this.setTextContent(Ge),this._hljs.highlightAuto(Ge,Qe).subscribe(At=>{this.setInnerHTML(At?.value),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(At)})}addLineNumbers(){this.destroyLineNumbersObserver(),Ee.Z.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(Ge){Ee.Z.schedule(()=>this._nativeElement.textContent=Ge)}setInnerHTML(Ge){Ee.Z.schedule(()=>this._nativeElement.innerHTML=function We(dt){var Te;return(null===(Te=function nt(){if(!qe)try{var dt,Te;qe=null===(dt=window)||void 0===dt||null===(Te=dt.trustedTypes)||void 0===Te?void 0:Te.createPolicy("ngx-highlightjs",{createHTML:Ge=>Ge})}catch{}return qe}())||void 0===Te?void 0:Te.createHTML(dt))||dt}(this._sanitizer.sanitize(a.q3G.HTML,Ge)||""))}}return dt.\u0275fac=function(Ge){return new(Ge||dt)(a.Y36(a.SBq),a.Y36(Ke),a.Y36(Ne.H7),a.Y36(ot,8))},dt.\u0275dir=a.lG2({type:dt,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(Ge,Qe){2&Ge&&a.ekj("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[a.TTD]}),dt})(),Ct=(()=>{class dt{}return dt.\u0275fac=function(Ge){return new(Ge||dt)},dt.\u0275mod=a.oAB({type:dt}),dt.\u0275inj=a.cJS({}),dt})()},5861:(nn,we,M)=>{"use strict";function a(B,ce,de,pe,Ee,oe,Ie){try{var ae=B[oe](Ie),le=ae.value}catch(ye){return void de(ye)}ae.done?ce(le):Promise.resolve(le).then(pe,Ee)}function E(B){return function(){var ce=this,de=arguments;return new Promise(function(pe,Ee){var oe=B.apply(ce,de);function Ie(le){a(oe,pe,Ee,Ie,ae,"next",le)}function ae(le){a(oe,pe,Ee,Ie,ae,"throw",le)}Ie(void 0)})}}M.d(we,{Z:()=>E})}},nn=>{nn(nn.s=6972)}]);